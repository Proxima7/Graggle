var JO=Object.defineProperty;var QO=(t,o,n)=>o in t?JO(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;var ty=(t,o,n)=>(QO(t,typeof o!="symbol"?o+"":o,n),n);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerpolicy&&(h.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?h.credentials="include":u.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=n(u);fetch(u.href,h)}})();function Ru(t,o){const n=Object.create(null),a=t.split(",");for(let u=0;u<a.length;u++)n[a[u]]=!0;return o?u=>!!n[u.toLowerCase()]:u=>!!n[u]}const $O="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",ek=Ru($O);function po(t){if(lt(t)){const o={};for(let n=0;n<t.length;n++){const a=t[n],u=un(a)?rk(a):po(a);if(u)for(const h in u)o[h]=u[h]}return o}else{if(un(t))return t;if(tn(t))return t}}const tk=/;(?![^(]*\))/g,nk=/:([^]+)/,ik=/\/\*.*?\*\//gs;function rk(t){const o={};return t.replace(ik,"").split(tk).forEach(n=>{if(n){const a=n.split(nk);a.length>1&&(o[a[0].trim()]=a[1].trim())}}),o}function Dn(t){let o="";if(un(t))o=t;else if(lt(t))for(let n=0;n<t.length;n++){const a=Dn(t[n]);a&&(o+=a+" ")}else if(tn(t))for(const n in t)t[n]&&(o+=n+" ");return o.trim()}function ok(t){if(!t)return null;let{class:o,style:n}=t;return o&&!un(o)&&(t.class=Dn(o)),n&&(t.style=po(n)),t}const sk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ak=Ru(sk);function B1(t){return!!t||t===""}function lk(t,o){if(t.length!==o.length)return!1;let n=!0;for(let a=0;n&&a<t.length;a++)n=Er(t[a],o[a]);return n}function Er(t,o){if(t===o)return!0;let n=ny(t),a=ny(o);if(n||a)return n&&a?t.getTime()===o.getTime():!1;if(n=ea(t),a=ea(o),n||a)return t===o;if(n=lt(t),a=lt(o),n||a)return n&&a?lk(t,o):!1;if(n=tn(t),a=tn(o),n||a){if(!n||!a)return!1;const u=Object.keys(t).length,h=Object.keys(o).length;if(u!==h)return!1;for(const f in t){const d=t.hasOwnProperty(f),g=o.hasOwnProperty(f);if(d&&!g||!d&&g||!Er(t[f],o[f]))return!1}}return String(t)===String(o)}function Ou(t,o){return t.findIndex(n=>Er(n,o))}const Dt=t=>un(t)?t:t==null?"":lt(t)||tn(t)&&(t.toString===N1||!xt(t.toString))?JSON.stringify(t,I1,2):String(t),I1=(t,o)=>o&&o.__v_isRef?I1(t,o.value):Zo(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((n,[a,u])=>(n[`${a} =>`]=u,n),{})}:go(o)?{[`Set(${o.size})`]:[...o.values()]}:tn(o)&&!lt(o)&&!F1(o)?String(o):o,en={},Xo=[],Si=()=>{},uk=()=>!1,ck=/^on[^a-z]/,ga=t=>ck.test(t),ef=t=>t.startsWith("onUpdate:"),bn=Object.assign,tf=(t,o)=>{const n=t.indexOf(o);n>-1&&t.splice(n,1)},hk=Object.prototype.hasOwnProperty,Ht=(t,o)=>hk.call(t,o),lt=Array.isArray,Zo=t=>ls(t)==="[object Map]",go=t=>ls(t)==="[object Set]",ny=t=>ls(t)==="[object Date]",dk=t=>ls(t)==="[object RegExp]",xt=t=>typeof t=="function",un=t=>typeof t=="string",ea=t=>typeof t=="symbol",tn=t=>t!==null&&typeof t=="object",nf=t=>tn(t)&&xt(t.then)&&xt(t.catch),N1=Object.prototype.toString,ls=t=>N1.call(t),fk=t=>ls(t).slice(8,-1),F1=t=>ls(t)==="[object Object]",rf=t=>un(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Us=Ru(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ku=t=>{const o=Object.create(null);return n=>o[n]||(o[n]=t(n))},pk=/-(\w)/g,Qn=ku(t=>t.replace(pk,(o,n)=>n?n.toUpperCase():"")),gk=/\B([A-Z])/g,vi=ku(t=>t.replace(gk,"-$1").toLowerCase()),ma=ku(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vs=ku(t=>t?`on${ma(t)}`:""),es=(t,o)=>!Object.is(t,o),Yo=(t,o)=>{for(let n=0;n<t.length;n++)t[n](o)},pu=(t,o,n)=>{Object.defineProperty(t,o,{configurable:!0,enumerable:!1,value:n})},gu=t=>{const o=parseFloat(t);return isNaN(o)?t:o},mu=t=>{const o=un(t)?Number(t):NaN;return isNaN(o)?t:o};let iy;const mk=()=>iy||(iy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ui;class of{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ui,!o&&ui&&(this.index=(ui.scopes||(ui.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const n=ui;try{return ui=this,o()}finally{ui=n}}}on(){ui=this}off(){ui=this.parent}stop(o){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!o){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function sf(t){return new of(t)}function L1(t,o=ui){o&&o.active&&o.effects.push(t)}function af(){return ui}function H1(t){ui&&ui.cleanups.push(t)}const lf=t=>{const o=new Set(t);return o.w=0,o.n=0,o},z1=t=>(t.w&Sr)>0,j1=t=>(t.n&Sr)>0,vk=({deps:t})=>{if(t.length)for(let o=0;o<t.length;o++)t[o].w|=Sr},yk=t=>{const{deps:o}=t;if(o.length){let n=0;for(let a=0;a<o.length;a++){const u=o[a];z1(u)&&!j1(u)?u.delete(t):o[n++]=u,u.w&=~Sr,u.n&=~Sr}o.length=n}},vu=new WeakMap;let Hs=0,Sr=1;const vd=30;let wi;const $r=Symbol(""),yd=Symbol("");class va{constructor(o,n=null,a){this.fn=o,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,L1(this,a)}run(){if(!this.active)return this.fn();let o=wi,n=_r;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=wi,wi=this,_r=!0,Sr=1<<++Hs,Hs<=vd?vk(this):ry(this),this.fn()}finally{Hs<=vd&&yk(this),Sr=1<<--Hs,wi=this.parent,_r=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){wi===this?this.deferStop=!0:this.active&&(ry(this),this.onStop&&this.onStop(),this.active=!1)}}function ry(t){const{deps:o}=t;if(o.length){for(let n=0;n<o.length;n++)o[n].delete(t);o.length=0}}function bk(t,o){t.effect&&(t=t.effect.fn);const n=new va(t);o&&(bn(n,o),o.scope&&L1(n,o.scope)),(!o||!o.lazy)&&n.run();const a=n.run.bind(n);return a.effect=n,a}function wk(t){t.effect.stop()}let _r=!0;const U1=[];function us(){U1.push(_r),_r=!1}function cs(){const t=U1.pop();_r=t===void 0?!0:t}function $n(t,o,n){if(_r&&wi){let a=vu.get(t);a||vu.set(t,a=new Map);let u=a.get(n);u||a.set(n,u=lf()),V1(u)}}function V1(t,o){let n=!1;Hs<=vd?j1(t)||(t.n|=Sr,n=!z1(t)):n=!t.has(wi),n&&(t.add(wi),wi.deps.push(t))}function Zi(t,o,n,a,u,h){const f=vu.get(t);if(!f)return;let d=[];if(o==="clear")d=[...f.values()];else if(n==="length"&&lt(t)){const g=Number(a);f.forEach((v,_)=>{(_==="length"||_>=g)&&d.push(v)})}else switch(n!==void 0&&d.push(f.get(n)),o){case"add":lt(t)?rf(n)&&d.push(f.get("length")):(d.push(f.get($r)),Zo(t)&&d.push(f.get(yd)));break;case"delete":lt(t)||(d.push(f.get($r)),Zo(t)&&d.push(f.get(yd)));break;case"set":Zo(t)&&d.push(f.get($r));break}if(d.length===1)d[0]&&bd(d[0]);else{const g=[];for(const v of d)v&&g.push(...v);bd(lf(g))}}function bd(t,o){const n=lt(t)?t:[...t];for(const a of n)a.computed&&oy(a);for(const a of n)a.computed||oy(a)}function oy(t,o){(t!==wi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function _k(t,o){var n;return(n=vu.get(t))===null||n===void 0?void 0:n.get(o)}const xk=Ru("__proto__,__v_isRef,__isVue"),W1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ea)),Ek=Du(),Sk=Du(!1,!0),Tk=Du(!0),Ck=Du(!0,!0),sy=Pk();function Pk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(o=>{t[o]=function(...n){const a=Mt(this);for(let h=0,f=this.length;h<f;h++)$n(a,"get",h+"");const u=a[o](...n);return u===-1||u===!1?a[o](...n.map(Mt)):u}}),["push","pop","shift","unshift","splice"].forEach(o=>{t[o]=function(...n){us();const a=Mt(this)[o].apply(this,n);return cs(),a}}),t}function Ak(t){const o=Mt(this);return $n(o,"has",t),o.hasOwnProperty(t)}function Du(t=!1,o=!1){return function(a,u,h){if(u==="__v_isReactive")return!t;if(u==="__v_isReadonly")return t;if(u==="__v_isShallow")return o;if(u==="__v_raw"&&h===(t?o?J1:K1:o?Y1:Z1).get(a))return a;const f=lt(a);if(!t){if(f&&Ht(sy,u))return Reflect.get(sy,u,h);if(u==="hasOwnProperty")return Ak}const d=Reflect.get(a,u,h);return(ea(u)?W1.has(u):xk(u))||(t||$n(a,"get",u),o)?d:yn(d)?f&&rf(u)?d:d.value:tn(d)?t?cf(d):ya(d):d}}const Rk=G1(),Ok=G1(!0);function G1(t=!1){return function(n,a,u,h){let f=n[a];if(so(f)&&yn(f)&&!yn(u))return!1;if(!t&&(!ta(u)&&!so(u)&&(f=Mt(f),u=Mt(u)),!lt(n)&&yn(f)&&!yn(u)))return f.value=u,!0;const d=lt(n)&&rf(a)?Number(a)<n.length:Ht(n,a),g=Reflect.set(n,a,u,h);return n===Mt(h)&&(d?es(u,f)&&Zi(n,"set",a,u):Zi(n,"add",a,u)),g}}function kk(t,o){const n=Ht(t,o);t[o];const a=Reflect.deleteProperty(t,o);return a&&n&&Zi(t,"delete",o,void 0),a}function Dk(t,o){const n=Reflect.has(t,o);return(!ea(o)||!W1.has(o))&&$n(t,"has",o),n}function Mk(t){return $n(t,"iterate",lt(t)?"length":$r),Reflect.ownKeys(t)}const q1={get:Ek,set:Rk,deleteProperty:kk,has:Dk,ownKeys:Mk},X1={get:Tk,set(t,o){return!0},deleteProperty(t,o){return!0}},Bk=bn({},q1,{get:Sk,set:Ok}),Ik=bn({},X1,{get:Ck}),uf=t=>t,Mu=t=>Reflect.getPrototypeOf(t);function Hl(t,o,n=!1,a=!1){t=t.__v_raw;const u=Mt(t),h=Mt(o);n||(o!==h&&$n(u,"get",o),$n(u,"get",h));const{has:f}=Mu(u),d=a?uf:n?df:na;if(f.call(u,o))return d(t.get(o));if(f.call(u,h))return d(t.get(h));t!==u&&t.get(o)}function zl(t,o=!1){const n=this.__v_raw,a=Mt(n),u=Mt(t);return o||(t!==u&&$n(a,"has",t),$n(a,"has",u)),t===u?n.has(t):n.has(t)||n.has(u)}function jl(t,o=!1){return t=t.__v_raw,!o&&$n(Mt(t),"iterate",$r),Reflect.get(t,"size",t)}function ay(t){t=Mt(t);const o=Mt(this);return Mu(o).has.call(o,t)||(o.add(t),Zi(o,"add",t,t)),this}function ly(t,o){o=Mt(o);const n=Mt(this),{has:a,get:u}=Mu(n);let h=a.call(n,t);h||(t=Mt(t),h=a.call(n,t));const f=u.call(n,t);return n.set(t,o),h?es(o,f)&&Zi(n,"set",t,o):Zi(n,"add",t,o),this}function uy(t){const o=Mt(this),{has:n,get:a}=Mu(o);let u=n.call(o,t);u||(t=Mt(t),u=n.call(o,t)),a&&a.call(o,t);const h=o.delete(t);return u&&Zi(o,"delete",t,void 0),h}function cy(){const t=Mt(this),o=t.size!==0,n=t.clear();return o&&Zi(t,"clear",void 0,void 0),n}function Ul(t,o){return function(a,u){const h=this,f=h.__v_raw,d=Mt(f),g=o?uf:t?df:na;return!t&&$n(d,"iterate",$r),f.forEach((v,_)=>a.call(u,g(v),g(_),h))}}function Vl(t,o,n){return function(...a){const u=this.__v_raw,h=Mt(u),f=Zo(h),d=t==="entries"||t===Symbol.iterator&&f,g=t==="keys"&&f,v=u[t](...a),_=n?uf:o?df:na;return!o&&$n(h,"iterate",g?yd:$r),{next(){const{value:x,done:T}=v.next();return T?{value:x,done:T}:{value:d?[_(x[0]),_(x[1])]:_(x),done:T}},[Symbol.iterator](){return this}}}}function dr(t){return function(...o){return t==="delete"?!1:this}}function Nk(){const t={get(h){return Hl(this,h)},get size(){return jl(this)},has:zl,add:ay,set:ly,delete:uy,clear:cy,forEach:Ul(!1,!1)},o={get(h){return Hl(this,h,!1,!0)},get size(){return jl(this)},has:zl,add:ay,set:ly,delete:uy,clear:cy,forEach:Ul(!1,!0)},n={get(h){return Hl(this,h,!0)},get size(){return jl(this,!0)},has(h){return zl.call(this,h,!0)},add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear"),forEach:Ul(!0,!1)},a={get(h){return Hl(this,h,!0,!0)},get size(){return jl(this,!0)},has(h){return zl.call(this,h,!0)},add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear"),forEach:Ul(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{t[h]=Vl(h,!1,!1),n[h]=Vl(h,!0,!1),o[h]=Vl(h,!1,!0),a[h]=Vl(h,!0,!0)}),[t,n,o,a]}const[Fk,Lk,Hk,zk]=Nk();function Bu(t,o){const n=o?t?zk:Hk:t?Lk:Fk;return(a,u,h)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?a:Reflect.get(Ht(n,u)&&u in a?n:a,u,h)}const jk={get:Bu(!1,!1)},Uk={get:Bu(!1,!0)},Vk={get:Bu(!0,!1)},Wk={get:Bu(!0,!0)},Z1=new WeakMap,Y1=new WeakMap,K1=new WeakMap,J1=new WeakMap;function Gk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qk(t){return t.__v_skip||!Object.isExtensible(t)?0:Gk(fk(t))}function ya(t){return so(t)?t:Iu(t,!1,q1,jk,Z1)}function Q1(t){return Iu(t,!1,Bk,Uk,Y1)}function cf(t){return Iu(t,!0,X1,Vk,K1)}function Xk(t){return Iu(t,!0,Ik,Wk,J1)}function Iu(t,o,n,a,u){if(!tn(t)||t.__v_raw&&!(o&&t.__v_isReactive))return t;const h=u.get(t);if(h)return h;const f=qk(t);if(f===0)return t;const d=new Proxy(t,f===2?a:n);return u.set(t,d),d}function Gi(t){return so(t)?Gi(t.__v_raw):!!(t&&t.__v_isReactive)}function so(t){return!!(t&&t.__v_isReadonly)}function ta(t){return!!(t&&t.__v_isShallow)}function hf(t){return Gi(t)||so(t)}function Mt(t){const o=t&&t.__v_raw;return o?Mt(o):t}function ao(t){return pu(t,"__v_skip",!0),t}const na=t=>tn(t)?ya(t):t,df=t=>tn(t)?cf(t):t;function ff(t){_r&&wi&&(t=Mt(t),V1(t.dep||(t.dep=lf())))}function Nu(t,o){t=Mt(t);const n=t.dep;n&&bd(n)}function yn(t){return!!(t&&t.__v_isRef===!0)}function eo(t){return $1(t,!1)}function Zk(t){return $1(t,!0)}function $1(t,o){return yn(t)?t:new Yk(t,o)}class Yk{constructor(o,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?o:Mt(o),this._value=n?o:na(o)}get value(){return ff(this),this._value}set value(o){const n=this.__v_isShallow||ta(o)||so(o);o=n?o:Mt(o),es(o,this._rawValue)&&(this._rawValue=o,this._value=n?o:na(o),Nu(this))}}function Kk(t){Nu(t)}function eb(t){return yn(t)?t.value:t}const Jk={get:(t,o,n)=>eb(Reflect.get(t,o,n)),set:(t,o,n,a)=>{const u=t[o];return yn(u)&&!yn(n)?(u.value=n,!0):Reflect.set(t,o,n,a)}};function pf(t){return Gi(t)?t:new Proxy(t,Jk)}class Qk{constructor(o){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:a}=o(()=>ff(this),()=>Nu(this));this._get=n,this._set=a}get value(){return this._get()}set value(o){this._set(o)}}function $k(t){return new Qk(t)}function tb(t){const o=lt(t)?new Array(t.length):{};for(const n in t)o[n]=nb(t,n);return o}class eD{constructor(o,n,a){this._object=o,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const o=this._object[this._key];return o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return _k(Mt(this._object),this._key)}}function nb(t,o,n){const a=t[o];return yn(a)?a:new eD(t,o,n)}var ib;class tD{constructor(o,n,a,u){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ib]=!1,this._dirty=!0,this.effect=new va(o,()=>{this._dirty||(this._dirty=!0,Nu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=a}get value(){const o=Mt(this);return ff(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}ib="__v_isReadonly";function nD(t,o,n=!1){let a,u;const h=xt(t);return h?(a=t,u=Si):(a=t.get,u=t.set),new tD(a,u,h||!u,n)}function iD(t,...o){}function rD(t,o){}function qi(t,o,n,a){let u;try{u=a?t(...a):t()}catch(h){mo(h,o,n)}return u}function di(t,o,n,a){if(xt(t)){const h=qi(t,o,n,a);return h&&nf(h)&&h.catch(f=>{mo(f,o,n)}),h}const u=[];for(let h=0;h<t.length;h++)u.push(di(t[h],o,n,a));return u}function mo(t,o,n,a=!0){const u=o?o.vnode:null;if(o){let h=o.parent;const f=o.proxy,d=n;for(;h;){const v=h.ec;if(v){for(let _=0;_<v.length;_++)if(v[_](t,f,d)===!1)return}h=h.parent}const g=o.appContext.config.errorHandler;if(g){qi(g,null,10,[t,f,d]);return}}oD(t,n,u,a)}function oD(t,o,n,a=!0){console.error(t)}let ia=!1,wd=!1;const zn=[];let Bi=0;const Ko=[];let Vi=null,Xr=0;const rb=Promise.resolve();let gf=null;function Fu(t){const o=gf||rb;return t?o.then(this?t.bind(this):t):o}function sD(t){let o=Bi+1,n=zn.length;for(;o<n;){const a=o+n>>>1;ra(zn[a])<t?o=a+1:n=a}return o}function Lu(t){(!zn.length||!zn.includes(t,ia&&t.allowRecurse?Bi+1:Bi))&&(t.id==null?zn.push(t):zn.splice(sD(t.id),0,t),ob())}function ob(){!ia&&!wd&&(wd=!0,gf=rb.then(sb))}function aD(t){const o=zn.indexOf(t);o>Bi&&zn.splice(o,1)}function mf(t){lt(t)?Ko.push(...t):(!Vi||!Vi.includes(t,t.allowRecurse?Xr+1:Xr))&&Ko.push(t),ob()}function hy(t,o=ia?Bi+1:0){for(;o<zn.length;o++){const n=zn[o];n&&n.pre&&(zn.splice(o,1),o--,n())}}function yu(t){if(Ko.length){const o=[...new Set(Ko)];if(Ko.length=0,Vi){Vi.push(...o);return}for(Vi=o,Vi.sort((n,a)=>ra(n)-ra(a)),Xr=0;Xr<Vi.length;Xr++)Vi[Xr]();Vi=null,Xr=0}}const ra=t=>t.id==null?1/0:t.id,lD=(t,o)=>{const n=ra(t)-ra(o);if(n===0){if(t.pre&&!o.pre)return-1;if(o.pre&&!t.pre)return 1}return n};function sb(t){wd=!1,ia=!0,zn.sort(lD);const o=Si;try{for(Bi=0;Bi<zn.length;Bi++){const n=zn[Bi];n&&n.active!==!1&&qi(n,null,14)}}finally{Bi=0,zn.length=0,yu(),ia=!1,gf=null,(zn.length||Ko.length)&&sb()}}let Wo,Wl=[];function ab(t,o){var n,a;Wo=t,Wo?(Wo.enabled=!0,Wl.forEach(({event:u,args:h})=>Wo.emit(u,...h)),Wl=[]):typeof window<"u"&&window.HTMLElement&&!(!((a=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||a===void 0)&&a.includes("jsdom"))?((o.__VUE_DEVTOOLS_HOOK_REPLAY__=o.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(h=>{ab(h,o)}),setTimeout(()=>{Wo||(o.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wl=[])},3e3)):Wl=[]}function uD(t,o,...n){if(t.isUnmounted)return;const a=t.vnode.props||en;let u=n;const h=o.startsWith("update:"),f=h&&o.slice(7);if(f&&f in a){const _=`${f==="modelValue"?"model":f}Modifiers`,{number:x,trim:T}=a[_]||en;T&&(u=n.map(B=>un(B)?B.trim():B)),x&&(u=n.map(gu))}let d,g=a[d=Vs(o)]||a[d=Vs(Qn(o))];!g&&h&&(g=a[d=Vs(vi(o))]),g&&di(g,t,6,u);const v=a[d+"Once"];if(v){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,di(v,t,6,u)}}function lb(t,o,n=!1){const a=o.emitsCache,u=a.get(t);if(u!==void 0)return u;const h=t.emits;let f={},d=!1;if(!xt(t)){const g=v=>{const _=lb(v,o,!0);_&&(d=!0,bn(f,_))};!n&&o.mixins.length&&o.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}return!h&&!d?(tn(t)&&a.set(t,null),null):(lt(h)?h.forEach(g=>f[g]=null):bn(f,h),tn(t)&&a.set(t,f),f)}function Hu(t,o){return!t||!ga(o)?!1:(o=o.slice(2).replace(/Once$/,""),Ht(t,o[0].toLowerCase()+o.slice(1))||Ht(t,vi(o))||Ht(t,o))}let Mn=null,zu=null;function oa(t){const o=Mn;return Mn=t,zu=t&&t.type.__scopeId||null,o}function ub(t){zu=t}function cb(){zu=null}const cD=t=>Di;function Di(t,o=Mn,n){if(!o||t._n)return t;const a=(...u)=>{a._d&&Pd(-1);const h=oa(o);let f;try{f=t(...u)}finally{oa(h),a._d&&Pd(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function su(t){const{type:o,vnode:n,proxy:a,withProxy:u,props:h,propsOptions:[f],slots:d,attrs:g,emit:v,render:_,renderCache:x,data:T,setupState:B,ctx:M,inheritAttrs:j}=t;let V,F;const L=oa(t);try{if(n.shapeFlag&4){const ce=u||a;V=ci(_.call(ce,ce,x,h,B,T,M)),F=g}else{const ce=o;V=ci(ce.length>1?ce(h,{attrs:g,slots:d,emit:v}):ce(h,null)),F=o.props?g:dD(g)}}catch(ce){qs.length=0,mo(ce,t,1),V=Je(Un)}let Y=V;if(F&&j!==!1){const ce=Object.keys(F),{shapeFlag:pe}=Y;ce.length&&pe&7&&(f&&ce.some(ef)&&(F=fD(F,f)),Y=Fi(Y,F))}return n.dirs&&(Y=Fi(Y),Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&(Y.transition=n.transition),V=Y,oa(L),V}function hD(t){let o;for(let n=0;n<t.length;n++){const a=t[n];if(Tr(a)){if(a.type!==Un||a.children==="v-if"){if(o)return;o=a}}else return}return o}const dD=t=>{let o;for(const n in t)(n==="class"||n==="style"||ga(n))&&((o||(o={}))[n]=t[n]);return o},fD=(t,o)=>{const n={};for(const a in t)(!ef(a)||!(a.slice(9)in o))&&(n[a]=t[a]);return n};function pD(t,o,n){const{props:a,children:u,component:h}=t,{props:f,children:d,patchFlag:g}=o,v=h.emitsOptions;if(o.dirs||o.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return a?dy(a,f,v):!!f;if(g&8){const _=o.dynamicProps;for(let x=0;x<_.length;x++){const T=_[x];if(f[T]!==a[T]&&!Hu(v,T))return!0}}}else return(u||d)&&(!d||!d.$stable)?!0:a===f?!1:a?f?dy(a,f,v):!0:!!f;return!1}function dy(t,o,n){const a=Object.keys(o);if(a.length!==Object.keys(t).length)return!0;for(let u=0;u<a.length;u++){const h=a[u];if(o[h]!==t[h]&&!Hu(n,h))return!0}return!1}function vf({vnode:t,parent:o},n){for(;o&&o.subTree===t;)(t=o.vnode).el=n,o=o.parent}const hb=t=>t.__isSuspense,gD={name:"Suspense",__isSuspense:!0,process(t,o,n,a,u,h,f,d,g,v){t==null?vD(o,n,a,u,h,f,d,g,v):yD(t,o,n,a,u,f,d,g,v)},hydrate:bD,create:yf,normalize:wD},mD=gD;function sa(t,o){const n=t.props&&t.props[o];xt(n)&&n()}function vD(t,o,n,a,u,h,f,d,g){const{p:v,o:{createElement:_}}=g,x=_("div"),T=t.suspense=yf(t,u,a,o,x,n,h,f,d,g);v(null,T.pendingBranch=t.ssContent,x,null,a,T,h,f),T.deps>0?(sa(t,"onPending"),sa(t,"onFallback"),v(null,t.ssFallback,o,n,a,null,h,f),Jo(T,t.ssFallback)):T.resolve()}function yD(t,o,n,a,u,h,f,d,{p:g,um:v,o:{createElement:_}}){const x=o.suspense=t.suspense;x.vnode=o,o.el=t.el;const T=o.ssContent,B=o.ssFallback,{activeBranch:M,pendingBranch:j,isInFallback:V,isHydrating:F}=x;if(j)x.pendingBranch=T,_i(T,j)?(g(j,T,x.hiddenContainer,null,u,x,h,f,d),x.deps<=0?x.resolve():V&&(g(M,B,n,a,u,null,h,f,d),Jo(x,B))):(x.pendingId++,F?(x.isHydrating=!1,x.activeBranch=j):v(j,u,x),x.deps=0,x.effects.length=0,x.hiddenContainer=_("div"),V?(g(null,T,x.hiddenContainer,null,u,x,h,f,d),x.deps<=0?x.resolve():(g(M,B,n,a,u,null,h,f,d),Jo(x,B))):M&&_i(T,M)?(g(M,T,n,a,u,x,h,f,d),x.resolve(!0)):(g(null,T,x.hiddenContainer,null,u,x,h,f,d),x.deps<=0&&x.resolve()));else if(M&&_i(T,M))g(M,T,n,a,u,x,h,f,d),Jo(x,T);else if(sa(o,"onPending"),x.pendingBranch=T,x.pendingId++,g(null,T,x.hiddenContainer,null,u,x,h,f,d),x.deps<=0)x.resolve();else{const{timeout:L,pendingId:Y}=x;L>0?setTimeout(()=>{x.pendingId===Y&&x.fallback(B)},L):L===0&&x.fallback(B)}}function yf(t,o,n,a,u,h,f,d,g,v,_=!1){const{p:x,m:T,um:B,n:M,o:{parentNode:j,remove:V}}=v,F=t.props?mu(t.props.timeout):void 0,L={vnode:t,parent:o,parentComponent:n,isSVG:f,container:a,hiddenContainer:u,anchor:h,deps:0,pendingId:0,timeout:typeof F=="number"?F:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:_,isUnmounted:!1,effects:[],resolve(Y=!1){const{vnode:ce,activeBranch:pe,pendingBranch:me,pendingId:ve,effects:le,parentComponent:_e,container:He}=L;if(L.isHydrating)L.isHydrating=!1;else if(!Y){const be=pe&&me.transition&&me.transition.mode==="out-in";be&&(pe.transition.afterLeave=()=>{ve===L.pendingId&&T(me,He,Se,0)});let{anchor:Se}=L;pe&&(Se=M(pe),B(pe,_e,L,!0)),be||T(me,He,Se,0)}Jo(L,me),L.pendingBranch=null,L.isInFallback=!1;let K=L.parent,ue=!1;for(;K;){if(K.pendingBranch){K.effects.push(...le),ue=!0;break}K=K.parent}ue||mf(le),L.effects=[],sa(ce,"onResolve")},fallback(Y){if(!L.pendingBranch)return;const{vnode:ce,activeBranch:pe,parentComponent:me,container:ve,isSVG:le}=L;sa(ce,"onFallback");const _e=M(pe),He=()=>{!L.isInFallback||(x(null,Y,ve,_e,me,null,le,d,g),Jo(L,Y))},K=Y.transition&&Y.transition.mode==="out-in";K&&(pe.transition.afterLeave=He),L.isInFallback=!0,B(pe,me,null,!0),K||He()},move(Y,ce,pe){L.activeBranch&&T(L.activeBranch,Y,ce,pe),L.container=Y},next(){return L.activeBranch&&M(L.activeBranch)},registerDep(Y,ce){const pe=!!L.pendingBranch;pe&&L.deps++;const me=Y.vnode.el;Y.asyncDep.catch(ve=>{mo(ve,Y,0)}).then(ve=>{if(Y.isUnmounted||L.isUnmounted||L.pendingId!==Y.suspenseId)return;Y.asyncResolved=!0;const{vnode:le}=Y;Ad(Y,ve,!1),me&&(le.el=me);const _e=!me&&Y.subTree.el;ce(Y,le,j(me||Y.subTree.el),me?null:M(Y.subTree),L,f,g),_e&&V(_e),vf(Y,le.el),pe&&--L.deps===0&&L.resolve()})},unmount(Y,ce){L.isUnmounted=!0,L.activeBranch&&B(L.activeBranch,n,Y,ce),L.pendingBranch&&B(L.pendingBranch,n,Y,ce)}};return L}function bD(t,o,n,a,u,h,f,d,g){const v=o.suspense=yf(o,a,n,t.parentNode,document.createElement("div"),null,u,h,f,d,!0),_=g(t,v.pendingBranch=o.ssContent,n,v,h,f);return v.deps===0&&v.resolve(),_}function wD(t){const{shapeFlag:o,children:n}=t,a=o&32;t.ssContent=fy(a?n.default:n),t.ssFallback=a?fy(n.fallback):Je(Un)}function fy(t){let o;if(xt(t)){const n=co&&t._c;n&&(t._d=!1,Ue()),t=t(),n&&(t._d=!0,o=Kn,jb())}return lt(t)&&(t=hD(t)),t=ci(t),o&&!t.dynamicChildren&&(t.dynamicChildren=o.filter(n=>n!==t)),t}function db(t,o){o&&o.pendingBranch?lt(t)?o.effects.push(...t):o.effects.push(t):mf(t)}function Jo(t,o){t.activeBranch=o;const{vnode:n,parentComponent:a}=t,u=n.el=o.el;a&&a.subTree===n&&(a.vnode.el=u,vf(a,u))}function fb(t,o){if(vn){let n=vn.provides;const a=vn.parent&&vn.parent.provides;a===n&&(n=vn.provides=Object.create(a)),n[t]=o}}function Qo(t,o,n=!1){const a=vn||Mn;if(a){const u=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(u&&t in u)return u[t];if(arguments.length>1)return n&&xt(o)?o.call(a.proxy):o}}function _D(t,o){return ba(t,null,o)}function pb(t,o){return ba(t,null,{flush:"post"})}function xD(t,o){return ba(t,null,{flush:"sync"})}const Gl={};function jn(t,o,n){return ba(t,o,n)}function ba(t,o,{immediate:n,deep:a,flush:u,onTrack:h,onTrigger:f}=en){const d=af()===(vn==null?void 0:vn.scope)?vn:null;let g,v=!1,_=!1;if(yn(t)?(g=()=>t.value,v=ta(t)):Gi(t)?(g=()=>t,a=!0):lt(t)?(_=!0,v=t.some(Y=>Gi(Y)||ta(Y)),g=()=>t.map(Y=>{if(yn(Y))return Y.value;if(Gi(Y))return Kr(Y);if(xt(Y))return qi(Y,d,2)})):xt(t)?o?g=()=>qi(t,d,2):g=()=>{if(!(d&&d.isUnmounted))return x&&x(),di(t,d,3,[T])}:g=Si,o&&a){const Y=g;g=()=>Kr(Y())}let x,T=Y=>{x=F.onStop=()=>{qi(Y,d,4)}},B;if(ns)if(T=Si,o?n&&di(o,d,3,[g(),_?[]:void 0,T]):g(),u==="sync"){const Y=$b();B=Y.__watcherHandles||(Y.__watcherHandles=[])}else return Si;let M=_?new Array(t.length).fill(Gl):Gl;const j=()=>{if(!!F.active)if(o){const Y=F.run();(a||v||(_?Y.some((ce,pe)=>es(ce,M[pe])):es(Y,M)))&&(x&&x(),di(o,d,3,[Y,M===Gl?void 0:_&&M[0]===Gl?[]:M,T]),M=Y)}else F.run()};j.allowRecurse=!!o;let V;u==="sync"?V=j:u==="post"?V=()=>kn(j,d&&d.suspense):(j.pre=!0,d&&(j.id=d.uid),V=()=>Lu(j));const F=new va(g,V);o?n?j():M=F.run():u==="post"?kn(F.run.bind(F),d&&d.suspense):F.run();const L=()=>{F.stop(),d&&d.scope&&tf(d.scope.effects,F)};return B&&B.push(L),L}function ED(t,o,n){const a=this.proxy,u=un(t)?t.includes(".")?gb(a,t):()=>a[t]:t.bind(a,a);let h;xt(o)?h=o:(h=o.handler,n=o);const f=vn;Cr(this);const d=ba(u,h.bind(a),n);return f?Cr(f):xr(),d}function gb(t,o){const n=o.split(".");return()=>{let a=t;for(let u=0;u<n.length&&a;u++)a=a[n[u]];return a}}function Kr(t,o){if(!tn(t)||t.__v_skip||(o=o||new Set,o.has(t)))return t;if(o.add(t),yn(t))Kr(t.value,o);else if(lt(t))for(let n=0;n<t.length;n++)Kr(t[n],o);else if(go(t)||Zo(t))t.forEach(n=>{Kr(n,o)});else if(F1(t))for(const n in t)Kr(t[n],o);return t}function bf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _a(()=>{t.isMounted=!0}),Wu(()=>{t.isUnmounting=!0}),t}const mi=[Function,Array],SD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mi,onEnter:mi,onAfterEnter:mi,onEnterCancelled:mi,onBeforeLeave:mi,onLeave:mi,onAfterLeave:mi,onLeaveCancelled:mi,onBeforeAppear:mi,onAppear:mi,onAfterAppear:mi,onAppearCancelled:mi},setup(t,{slots:o}){const n=$i(),a=bf();let u;return()=>{const h=o.default&&ju(o.default(),!0);if(!h||!h.length)return;let f=h[0];if(h.length>1){for(const j of h)if(j.type!==Un){f=j;break}}const d=Mt(t),{mode:g}=d;if(a.isLeaving)return ed(f);const v=py(f);if(!v)return ed(f);const _=ts(v,d,a,n);lo(v,_);const x=n.subTree,T=x&&py(x);let B=!1;const{getTransitionKey:M}=v.type;if(M){const j=M();u===void 0?u=j:j!==u&&(u=j,B=!0)}if(T&&T.type!==Un&&(!_i(v,T)||B)){const j=ts(T,d,a,n);if(lo(T,j),g==="out-in")return a.isLeaving=!0,j.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},ed(f);g==="in-out"&&v.type!==Un&&(j.delayLeave=(V,F,L)=>{const Y=mb(a,T);Y[String(T.key)]=T,V._leaveCb=()=>{F(),V._leaveCb=void 0,delete _.delayedLeave},_.delayedLeave=L})}return f}}},wf=SD;function mb(t,o){const{leavingVNodes:n}=t;let a=n.get(o.type);return a||(a=Object.create(null),n.set(o.type,a)),a}function ts(t,o,n,a){const{appear:u,mode:h,persisted:f=!1,onBeforeEnter:d,onEnter:g,onAfterEnter:v,onEnterCancelled:_,onBeforeLeave:x,onLeave:T,onAfterLeave:B,onLeaveCancelled:M,onBeforeAppear:j,onAppear:V,onAfterAppear:F,onAppearCancelled:L}=o,Y=String(t.key),ce=mb(n,t),pe=(le,_e)=>{le&&di(le,a,9,_e)},me=(le,_e)=>{const He=_e[1];pe(le,_e),lt(le)?le.every(K=>K.length<=1)&&He():le.length<=1&&He()},ve={mode:h,persisted:f,beforeEnter(le){let _e=d;if(!n.isMounted)if(u)_e=j||d;else return;le._leaveCb&&le._leaveCb(!0);const He=ce[Y];He&&_i(t,He)&&He.el._leaveCb&&He.el._leaveCb(),pe(_e,[le])},enter(le){let _e=g,He=v,K=_;if(!n.isMounted)if(u)_e=V||g,He=F||v,K=L||_;else return;let ue=!1;const be=le._enterCb=Se=>{ue||(ue=!0,Se?pe(K,[le]):pe(He,[le]),ve.delayedLeave&&ve.delayedLeave(),le._enterCb=void 0)};_e?me(_e,[le,be]):be()},leave(le,_e){const He=String(t.key);if(le._enterCb&&le._enterCb(!0),n.isUnmounting)return _e();pe(x,[le]);let K=!1;const ue=le._leaveCb=be=>{K||(K=!0,_e(),be?pe(M,[le]):pe(B,[le]),le._leaveCb=void 0,ce[He]===t&&delete ce[He])};ce[He]=t,T?me(T,[le,ue]):ue()},clone(le){return ts(le,o,n,a)}};return ve}function ed(t){if(wa(t))return t=Fi(t),t.children=null,t}function py(t){return wa(t)?t.children?t.children[0]:void 0:t}function lo(t,o){t.shapeFlag&6&&t.component?lo(t.component.subTree,o):t.shapeFlag&128?(t.ssContent.transition=o.clone(t.ssContent),t.ssFallback.transition=o.clone(t.ssFallback)):t.transition=o}function ju(t,o=!1,n){let a=[],u=0;for(let h=0;h<t.length;h++){let f=t[h];const d=n==null?f.key:String(n)+String(f.key!=null?f.key:h);f.type===Gt?(f.patchFlag&128&&u++,a=a.concat(ju(f.children,o,d))):(o||f.type!==Un)&&a.push(d!=null?Fi(f,{key:d}):f)}if(u>1)for(let h=0;h<a.length;h++)a[h].patchFlag=-2;return a}function vo(t){return xt(t)?{setup:t,name:t.name}:t}const to=t=>!!t.type.__asyncLoader;function TD(t){xt(t)&&(t={loader:t});const{loader:o,loadingComponent:n,errorComponent:a,delay:u=200,timeout:h,suspensible:f=!0,onError:d}=t;let g=null,v,_=0;const x=()=>(_++,g=null,T()),T=()=>{let B;return g||(B=g=o().catch(M=>{if(M=M instanceof Error?M:new Error(String(M)),d)return new Promise((j,V)=>{d(M,()=>j(x()),()=>V(M),_+1)});throw M}).then(M=>B!==g&&g?g:(M&&(M.__esModule||M[Symbol.toStringTag]==="Module")&&(M=M.default),v=M,M)))};return vo({name:"AsyncComponentWrapper",__asyncLoader:T,get __asyncResolved(){return v},setup(){const B=vn;if(v)return()=>td(v,B);const M=L=>{g=null,mo(L,B,13,!a)};if(f&&B.suspense||ns)return T().then(L=>()=>td(L,B)).catch(L=>(M(L),()=>a?Je(a,{error:L}):null));const j=eo(!1),V=eo(),F=eo(!!u);return u&&setTimeout(()=>{F.value=!1},u),h!=null&&setTimeout(()=>{if(!j.value&&!V.value){const L=new Error(`Async component timed out after ${h}ms.`);M(L),V.value=L}},h),T().then(()=>{j.value=!0,B.parent&&wa(B.parent.vnode)&&Lu(B.parent.update)}).catch(L=>{M(L),V.value=L}),()=>{if(j.value&&v)return td(v,B);if(V.value&&a)return Je(a,{error:V.value});if(n&&!F.value)return Je(n)}}})}function td(t,o){const{ref:n,props:a,children:u,ce:h}=o.vnode,f=Je(t,a,u);return f.ref=n,f.ce=h,delete o.vnode.ce,f}const wa=t=>t.type.__isKeepAlive,CD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:o}){const n=$i(),a=n.ctx;if(!a.renderer)return()=>{const L=o.default&&o.default();return L&&L.length===1?L[0]:L};const u=new Map,h=new Set;let f=null;const d=n.suspense,{renderer:{p:g,m:v,um:_,o:{createElement:x}}}=a,T=x("div");a.activate=(L,Y,ce,pe,me)=>{const ve=L.component;v(L,Y,ce,0,d),g(ve.vnode,L,Y,ce,ve,d,pe,L.slotScopeIds,me),kn(()=>{ve.isDeactivated=!1,ve.a&&Yo(ve.a);const le=L.props&&L.props.onVnodeMounted;le&&Yn(le,ve.parent,L)},d)},a.deactivate=L=>{const Y=L.component;v(L,T,null,1,d),kn(()=>{Y.da&&Yo(Y.da);const ce=L.props&&L.props.onVnodeUnmounted;ce&&Yn(ce,Y.parent,L),Y.isDeactivated=!0},d)};function B(L){nd(L),_(L,n,d,!0)}function M(L){u.forEach((Y,ce)=>{const pe=Od(Y.type);pe&&(!L||!L(pe))&&j(ce)})}function j(L){const Y=u.get(L);!f||!_i(Y,f)?B(Y):f&&nd(f),u.delete(L),h.delete(L)}jn(()=>[t.include,t.exclude],([L,Y])=>{L&&M(ce=>zs(L,ce)),Y&&M(ce=>!zs(Y,ce))},{flush:"post",deep:!0});let V=null;const F=()=>{V!=null&&u.set(V,id(n.subTree))};return _a(F),Vu(F),Wu(()=>{u.forEach(L=>{const{subTree:Y,suspense:ce}=n,pe=id(Y);if(L.type===pe.type&&L.key===pe.key){nd(pe);const me=pe.component.da;me&&kn(me,ce);return}B(L)})}),()=>{if(V=null,!o.default)return null;const L=o.default(),Y=L[0];if(L.length>1)return f=null,L;if(!Tr(Y)||!(Y.shapeFlag&4)&&!(Y.shapeFlag&128))return f=null,Y;let ce=id(Y);const pe=ce.type,me=Od(to(ce)?ce.type.__asyncResolved||{}:pe),{include:ve,exclude:le,max:_e}=t;if(ve&&(!me||!zs(ve,me))||le&&me&&zs(le,me))return f=ce,Y;const He=ce.key==null?pe:ce.key,K=u.get(He);return ce.el&&(ce=Fi(ce),Y.shapeFlag&128&&(Y.ssContent=ce)),V=He,K?(ce.el=K.el,ce.component=K.component,ce.transition&&lo(ce,ce.transition),ce.shapeFlag|=512,h.delete(He),h.add(He)):(h.add(He),_e&&h.size>parseInt(_e,10)&&j(h.values().next().value)),ce.shapeFlag|=256,f=ce,hb(Y.type)?Y:ce}}},PD=CD;function zs(t,o){return lt(t)?t.some(n=>zs(n,o)):un(t)?t.split(",").includes(o):dk(t)?t.test(o):!1}function vb(t,o){bb(t,"a",o)}function yb(t,o){bb(t,"da",o)}function bb(t,o,n=vn){const a=t.__wdc||(t.__wdc=()=>{let u=n;for(;u;){if(u.isDeactivated)return;u=u.parent}return t()});if(Uu(o,a,n),n){let u=n.parent;for(;u&&u.parent;)wa(u.parent.vnode)&&AD(a,o,n,u),u=u.parent}}function AD(t,o,n,a){const u=Uu(o,t,a,!0);Gu(()=>{tf(a[o],u)},n)}function nd(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function id(t){return t.shapeFlag&128?t.ssContent:t}function Uu(t,o,n=vn,a=!1){if(n){const u=n[t]||(n[t]=[]),h=o.__weh||(o.__weh=(...f)=>{if(n.isUnmounted)return;us(),Cr(n);const d=di(o,n,t,f);return xr(),cs(),d});return a?u.unshift(h):u.push(h),h}}const Qi=t=>(o,n=vn)=>(!ns||t==="sp")&&Uu(t,(...a)=>o(...a),n),wb=Qi("bm"),_a=Qi("m"),_b=Qi("bu"),Vu=Qi("u"),Wu=Qi("bum"),Gu=Qi("um"),xb=Qi("sp"),Eb=Qi("rtg"),Sb=Qi("rtc");function Tb(t,o=vn){Uu("ec",t,o)}function hi(t,o){const n=Mn;if(n===null)return t;const a=Zu(n)||n.proxy,u=t.dirs||(t.dirs=[]);for(let h=0;h<o.length;h++){let[f,d,g,v=en]=o[h];f&&(xt(f)&&(f={mounted:f,updated:f}),f.deep&&Kr(d),u.push({dir:f,instance:a,value:d,oldValue:void 0,arg:g,modifiers:v}))}return t}function Mi(t,o,n,a){const u=t.dirs,h=o&&o.dirs;for(let f=0;f<u.length;f++){const d=u[f];h&&(d.oldValue=h[f].value);let g=d.dir[a];g&&(us(),di(g,n,8,[t.el,d,t,o]),cs())}}const _f="components",RD="directives";function Nt(t,o){return xf(_f,t,!0,o)||t}const Cb=Symbol();function Pb(t){return un(t)?xf(_f,t,!1)||t:t||Cb}function OD(t){return xf(RD,t)}function xf(t,o,n=!0,a=!1){const u=Mn||vn;if(u){const h=u.type;if(t===_f){const d=Od(h,!1);if(d&&(d===o||d===Qn(o)||d===ma(Qn(o))))return h}const f=gy(u[t]||h[t],o)||gy(u.appContext[t],o);return!f&&a?h:f}}function gy(t,o){return t&&(t[o]||t[Qn(o)]||t[ma(Qn(o))])}function ei(t,o,n,a){let u;const h=n&&n[a];if(lt(t)||un(t)){u=new Array(t.length);for(let f=0,d=t.length;f<d;f++)u[f]=o(t[f],f,void 0,h&&h[f])}else if(typeof t=="number"){u=new Array(t);for(let f=0;f<t;f++)u[f]=o(f+1,f,void 0,h&&h[f])}else if(tn(t))if(t[Symbol.iterator])u=Array.from(t,(f,d)=>o(f,d,void 0,h&&h[d]));else{const f=Object.keys(t);u=new Array(f.length);for(let d=0,g=f.length;d<g;d++){const v=f[d];u[d]=o(t[v],v,d,h&&h[d])}}else u=[];return n&&(n[a]=u),u}function kD(t,o){for(let n=0;n<o.length;n++){const a=o[n];if(lt(a))for(let u=0;u<a.length;u++)t[a[u].name]=a[u].fn;else a&&(t[a.name]=a.key?(...u)=>{const h=a.fn(...u);return h&&(h.key=a.key),h}:a.fn)}return t}function Ab(t,o,n={},a,u){if(Mn.isCE||Mn.parent&&to(Mn.parent)&&Mn.parent.isCE)return o!=="default"&&(n.name=o),Je("slot",n,a&&a());let h=t[o];h&&h._c&&(h._d=!1),Ue();const f=h&&Rb(h(n)),d=yi(Gt,{key:n.key||f&&f.key||`_${o}`},f||(a?a():[]),f&&t._===1?64:-2);return!u&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),h&&h._c&&(h._d=!0),d}function Rb(t){return t.some(o=>Tr(o)?!(o.type===Un||o.type===Gt&&!Rb(o.children)):!0)?t:null}function DD(t,o){const n={};for(const a in t)n[o&&/[A-Z]/.test(a)?`on:${a}`:Vs(a)]=t[a];return n}const _d=t=>t?Xb(t)?Zu(t)||t.proxy:_d(t.parent):null,Ws=bn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_d(t.parent),$root:t=>_d(t.root),$emit:t=>t.emit,$options:t=>Ef(t),$forceUpdate:t=>t.f||(t.f=()=>Lu(t.update)),$nextTick:t=>t.n||(t.n=Fu.bind(t.proxy)),$watch:t=>ED.bind(t)}),rd=(t,o)=>t!==en&&!t.__isScriptSetup&&Ht(t,o),xd={get({_:t},o){const{ctx:n,setupState:a,data:u,props:h,accessCache:f,type:d,appContext:g}=t;let v;if(o[0]!=="$"){const B=f[o];if(B!==void 0)switch(B){case 1:return a[o];case 2:return u[o];case 4:return n[o];case 3:return h[o]}else{if(rd(a,o))return f[o]=1,a[o];if(u!==en&&Ht(u,o))return f[o]=2,u[o];if((v=t.propsOptions[0])&&Ht(v,o))return f[o]=3,h[o];if(n!==en&&Ht(n,o))return f[o]=4,n[o];Ed&&(f[o]=0)}}const _=Ws[o];let x,T;if(_)return o==="$attrs"&&$n(t,"get",o),_(t);if((x=d.__cssModules)&&(x=x[o]))return x;if(n!==en&&Ht(n,o))return f[o]=4,n[o];if(T=g.config.globalProperties,Ht(T,o))return T[o]},set({_:t},o,n){const{data:a,setupState:u,ctx:h}=t;return rd(u,o)?(u[o]=n,!0):a!==en&&Ht(a,o)?(a[o]=n,!0):Ht(t.props,o)||o[0]==="$"&&o.slice(1)in t?!1:(h[o]=n,!0)},has({_:{data:t,setupState:o,accessCache:n,ctx:a,appContext:u,propsOptions:h}},f){let d;return!!n[f]||t!==en&&Ht(t,f)||rd(o,f)||(d=h[0])&&Ht(d,f)||Ht(a,f)||Ht(Ws,f)||Ht(u.config.globalProperties,f)},defineProperty(t,o,n){return n.get!=null?t._.accessCache[o]=0:Ht(n,"value")&&this.set(t,o,n.value,null),Reflect.defineProperty(t,o,n)}},MD=bn({},xd,{get(t,o){if(o!==Symbol.unscopables)return xd.get(t,o,t)},has(t,o){return o[0]!=="_"&&!ek(o)}});let Ed=!0;function BD(t){const o=Ef(t),n=t.proxy,a=t.ctx;Ed=!1,o.beforeCreate&&my(o.beforeCreate,t,"bc");const{data:u,computed:h,methods:f,watch:d,provide:g,inject:v,created:_,beforeMount:x,mounted:T,beforeUpdate:B,updated:M,activated:j,deactivated:V,beforeDestroy:F,beforeUnmount:L,destroyed:Y,unmounted:ce,render:pe,renderTracked:me,renderTriggered:ve,errorCaptured:le,serverPrefetch:_e,expose:He,inheritAttrs:K,components:ue,directives:be,filters:Se}=o;if(v&&ID(v,a,null,t.appContext.config.unwrapInjectedRef),f)for(const xe in f){const Ce=f[xe];xt(Ce)&&(a[xe]=Ce.bind(n))}if(u){const xe=u.call(n,n);tn(xe)&&(t.data=ya(xe))}if(Ed=!0,h)for(const xe in h){const Ce=h[xe],nt=xt(Ce)?Ce.bind(n,n):xt(Ce.get)?Ce.get.bind(n,n):Si,Ne=!xt(Ce)&&xt(Ce.set)?Ce.set.bind(n):Si,wt=Pn({get:nt,set:Ne});Object.defineProperty(a,xe,{enumerable:!0,configurable:!0,get:()=>wt.value,set:Pt=>wt.value=Pt})}if(d)for(const xe in d)Ob(d[xe],a,n,xe);if(g){const xe=xt(g)?g.call(n):g;Reflect.ownKeys(xe).forEach(Ce=>{fb(Ce,xe[Ce])})}_&&my(_,t,"c");function at(xe,Ce){lt(Ce)?Ce.forEach(nt=>xe(nt.bind(n))):Ce&&xe(Ce.bind(n))}if(at(wb,x),at(_a,T),at(_b,B),at(Vu,M),at(vb,j),at(yb,V),at(Tb,le),at(Sb,me),at(Eb,ve),at(Wu,L),at(Gu,ce),at(xb,_e),lt(He))if(He.length){const xe=t.exposed||(t.exposed={});He.forEach(Ce=>{Object.defineProperty(xe,Ce,{get:()=>n[Ce],set:nt=>n[Ce]=nt})})}else t.exposed||(t.exposed={});pe&&t.render===Si&&(t.render=pe),K!=null&&(t.inheritAttrs=K),ue&&(t.components=ue),be&&(t.directives=be)}function ID(t,o,n=Si,a=!1){lt(t)&&(t=Sd(t));for(const u in t){const h=t[u];let f;tn(h)?"default"in h?f=Qo(h.from||u,h.default,!0):f=Qo(h.from||u):f=Qo(h),yn(f)&&a?Object.defineProperty(o,u,{enumerable:!0,configurable:!0,get:()=>f.value,set:d=>f.value=d}):o[u]=f}}function my(t,o,n){di(lt(t)?t.map(a=>a.bind(o.proxy)):t.bind(o.proxy),o,n)}function Ob(t,o,n,a){const u=a.includes(".")?gb(n,a):()=>n[a];if(un(t)){const h=o[t];xt(h)&&jn(u,h)}else if(xt(t))jn(u,t.bind(n));else if(tn(t))if(lt(t))t.forEach(h=>Ob(h,o,n,a));else{const h=xt(t.handler)?t.handler.bind(n):o[t.handler];xt(h)&&jn(u,h,t)}}function Ef(t){const o=t.type,{mixins:n,extends:a}=o,{mixins:u,optionsCache:h,config:{optionMergeStrategies:f}}=t.appContext,d=h.get(o);let g;return d?g=d:!u.length&&!n&&!a?g=o:(g={},u.length&&u.forEach(v=>bu(g,v,f,!0)),bu(g,o,f)),tn(o)&&h.set(o,g),g}function bu(t,o,n,a=!1){const{mixins:u,extends:h}=o;h&&bu(t,h,n,!0),u&&u.forEach(f=>bu(t,f,n,!0));for(const f in o)if(!(a&&f==="expose")){const d=ND[f]||n&&n[f];t[f]=d?d(t[f],o[f]):o[f]}return t}const ND={data:vy,props:qr,emits:qr,methods:qr,computed:qr,beforeCreate:Wn,created:Wn,beforeMount:Wn,mounted:Wn,beforeUpdate:Wn,updated:Wn,beforeDestroy:Wn,beforeUnmount:Wn,destroyed:Wn,unmounted:Wn,activated:Wn,deactivated:Wn,errorCaptured:Wn,serverPrefetch:Wn,components:qr,directives:qr,watch:LD,provide:vy,inject:FD};function vy(t,o){return o?t?function(){return bn(xt(t)?t.call(this,this):t,xt(o)?o.call(this,this):o)}:o:t}function FD(t,o){return qr(Sd(t),Sd(o))}function Sd(t){if(lt(t)){const o={};for(let n=0;n<t.length;n++)o[t[n]]=t[n];return o}return t}function Wn(t,o){return t?[...new Set([].concat(t,o))]:o}function qr(t,o){return t?bn(bn(Object.create(null),t),o):o}function LD(t,o){if(!t)return o;if(!o)return t;const n=bn(Object.create(null),t);for(const a in o)n[a]=Wn(t[a],o[a]);return n}function HD(t,o,n,a=!1){const u={},h={};pu(h,qu,1),t.propsDefaults=Object.create(null),kb(t,o,u,h);for(const f in t.propsOptions[0])f in u||(u[f]=void 0);n?t.props=a?u:Q1(u):t.type.props?t.props=u:t.props=h,t.attrs=h}function zD(t,o,n,a){const{props:u,attrs:h,vnode:{patchFlag:f}}=t,d=Mt(u),[g]=t.propsOptions;let v=!1;if((a||f>0)&&!(f&16)){if(f&8){const _=t.vnode.dynamicProps;for(let x=0;x<_.length;x++){let T=_[x];if(Hu(t.emitsOptions,T))continue;const B=o[T];if(g)if(Ht(h,T))B!==h[T]&&(h[T]=B,v=!0);else{const M=Qn(T);u[M]=Td(g,d,M,B,t,!1)}else B!==h[T]&&(h[T]=B,v=!0)}}}else{kb(t,o,u,h)&&(v=!0);let _;for(const x in d)(!o||!Ht(o,x)&&((_=vi(x))===x||!Ht(o,_)))&&(g?n&&(n[x]!==void 0||n[_]!==void 0)&&(u[x]=Td(g,d,x,void 0,t,!0)):delete u[x]);if(h!==d)for(const x in h)(!o||!Ht(o,x)&&!0)&&(delete h[x],v=!0)}v&&Zi(t,"set","$attrs")}function kb(t,o,n,a){const[u,h]=t.propsOptions;let f=!1,d;if(o)for(let g in o){if(Us(g))continue;const v=o[g];let _;u&&Ht(u,_=Qn(g))?!h||!h.includes(_)?n[_]=v:(d||(d={}))[_]=v:Hu(t.emitsOptions,g)||(!(g in a)||v!==a[g])&&(a[g]=v,f=!0)}if(h){const g=Mt(n),v=d||en;for(let _=0;_<h.length;_++){const x=h[_];n[x]=Td(u,g,x,v[x],t,!Ht(v,x))}}return f}function Td(t,o,n,a,u,h){const f=t[n];if(f!=null){const d=Ht(f,"default");if(d&&a===void 0){const g=f.default;if(f.type!==Function&&xt(g)){const{propsDefaults:v}=u;n in v?a=v[n]:(Cr(u),a=v[n]=g.call(null,o),xr())}else a=g}f[0]&&(h&&!d?a=!1:f[1]&&(a===""||a===vi(n))&&(a=!0))}return a}function Db(t,o,n=!1){const a=o.propsCache,u=a.get(t);if(u)return u;const h=t.props,f={},d=[];let g=!1;if(!xt(t)){const _=x=>{g=!0;const[T,B]=Db(x,o,!0);bn(f,T),B&&d.push(...B)};!n&&o.mixins.length&&o.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!h&&!g)return tn(t)&&a.set(t,Xo),Xo;if(lt(h))for(let _=0;_<h.length;_++){const x=Qn(h[_]);yy(x)&&(f[x]=en)}else if(h)for(const _ in h){const x=Qn(_);if(yy(x)){const T=h[_],B=f[x]=lt(T)||xt(T)?{type:T}:Object.assign({},T);if(B){const M=_y(Boolean,B.type),j=_y(String,B.type);B[0]=M>-1,B[1]=j<0||M<j,(M>-1||Ht(B,"default"))&&d.push(x)}}}const v=[f,d];return tn(t)&&a.set(t,v),v}function yy(t){return t[0]!=="$"}function by(t){const o=t&&t.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:t===null?"null":""}function wy(t,o){return by(t)===by(o)}function _y(t,o){return lt(o)?o.findIndex(n=>wy(n,t)):xt(o)&&wy(o,t)?0:-1}const Mb=t=>t[0]==="_"||t==="$stable",Sf=t=>lt(t)?t.map(ci):[ci(t)],jD=(t,o,n)=>{if(o._n)return o;const a=Di((...u)=>Sf(o(...u)),n);return a._c=!1,a},Bb=(t,o,n)=>{const a=t._ctx;for(const u in t){if(Mb(u))continue;const h=t[u];if(xt(h))o[u]=jD(u,h,a);else if(h!=null){const f=Sf(h);o[u]=()=>f}}},Ib=(t,o)=>{const n=Sf(o);t.slots.default=()=>n},UD=(t,o)=>{if(t.vnode.shapeFlag&32){const n=o._;n?(t.slots=Mt(o),pu(o,"_",n)):Bb(o,t.slots={})}else t.slots={},o&&Ib(t,o);pu(t.slots,qu,1)},VD=(t,o,n)=>{const{vnode:a,slots:u}=t;let h=!0,f=en;if(a.shapeFlag&32){const d=o._;d?n&&d===1?h=!1:(bn(u,o),!n&&d===1&&delete u._):(h=!o.$stable,Bb(o,u)),f=o}else o&&(Ib(t,o),f={default:1});if(h)for(const d in u)!Mb(d)&&!(d in f)&&delete u[d]};function Nb(){return{app:null,config:{isNativeTag:uk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WD=0;function GD(t,o){return function(a,u=null){xt(a)||(a=Object.assign({},a)),u!=null&&!tn(u)&&(u=null);const h=Nb(),f=new Set;let d=!1;const g=h.app={_uid:WD++,_component:a,_props:u,_container:null,_context:h,_instance:null,version:tw,get config(){return h.config},set config(v){},use(v,..._){return f.has(v)||(v&&xt(v.install)?(f.add(v),v.install(g,..._)):xt(v)&&(f.add(v),v(g,..._))),g},mixin(v){return h.mixins.includes(v)||h.mixins.push(v),g},component(v,_){return _?(h.components[v]=_,g):h.components[v]},directive(v,_){return _?(h.directives[v]=_,g):h.directives[v]},mount(v,_,x){if(!d){const T=Je(a,u);return T.appContext=h,_&&o?o(T,v):t(T,v,x),d=!0,g._container=v,v.__vue_app__=g,Zu(T.component)||T.component.proxy}},unmount(){d&&(t(null,g._container),delete g._container.__vue_app__)},provide(v,_){return h.provides[v]=_,g}};return g}}function wu(t,o,n,a,u=!1){if(lt(t)){t.forEach((T,B)=>wu(T,o&&(lt(o)?o[B]:o),n,a,u));return}if(to(a)&&!u)return;const h=a.shapeFlag&4?Zu(a.component)||a.component.proxy:a.el,f=u?null:h,{i:d,r:g}=t,v=o&&o.r,_=d.refs===en?d.refs={}:d.refs,x=d.setupState;if(v!=null&&v!==g&&(un(v)?(_[v]=null,Ht(x,v)&&(x[v]=null)):yn(v)&&(v.value=null)),xt(g))qi(g,d,12,[f,_]);else{const T=un(g),B=yn(g);if(T||B){const M=()=>{if(t.f){const j=T?Ht(x,g)?x[g]:_[g]:g.value;u?lt(j)&&tf(j,h):lt(j)?j.includes(h)||j.push(h):T?(_[g]=[h],Ht(x,g)&&(x[g]=_[g])):(g.value=[h],t.k&&(_[t.k]=g.value))}else T?(_[g]=f,Ht(x,g)&&(x[g]=f)):B&&(g.value=f,t.k&&(_[t.k]=f))};f?(M.id=-1,kn(M,n)):M()}}}let fr=!1;const ql=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Xl=t=>t.nodeType===8;function qD(t){const{mt:o,p:n,o:{patchProp:a,createText:u,nextSibling:h,parentNode:f,remove:d,insert:g,createComment:v}}=t,_=(F,L)=>{if(!L.hasChildNodes()){n(null,F,L),yu(),L._vnode=F;return}fr=!1,x(L.firstChild,F,null,null,null),yu(),L._vnode=F,fr&&console.error("Hydration completed but contains mismatches.")},x=(F,L,Y,ce,pe,me=!1)=>{const ve=Xl(F)&&F.data==="[",le=()=>j(F,L,Y,ce,pe,ve),{type:_e,ref:He,shapeFlag:K,patchFlag:ue}=L;let be=F.nodeType;L.el=F,ue===-2&&(me=!1,L.dynamicChildren=null);let Se=null;switch(_e){case uo:be!==3?L.children===""?(g(L.el=u(""),f(F),F),Se=F):Se=le():(F.data!==L.children&&(fr=!0,F.data=L.children),Se=h(F));break;case Un:be!==8||ve?Se=le():Se=h(F);break;case no:if(ve&&(F=h(F),be=F.nodeType),be===1||be===3){Se=F;const ut=!L.children.length;for(let at=0;at<L.staticCount;at++)ut&&(L.children+=Se.nodeType===1?Se.outerHTML:Se.data),at===L.staticCount-1&&(L.anchor=Se),Se=h(Se);return ve?h(Se):Se}else le();break;case Gt:ve?Se=M(F,L,Y,ce,pe,me):Se=le();break;default:if(K&1)be!==1||L.type.toLowerCase()!==F.tagName.toLowerCase()?Se=le():Se=T(F,L,Y,ce,pe,me);else if(K&6){L.slotScopeIds=pe;const ut=f(F);if(o(L,ut,null,Y,ce,ql(ut),me),Se=ve?V(F):h(F),Se&&Xl(Se)&&Se.data==="teleport end"&&(Se=h(Se)),to(L)){let at;ve?(at=Je(Gt),at.anchor=Se?Se.previousSibling:ut.lastChild):at=F.nodeType===3?sn(""):Je("div"),at.el=F,L.component.subTree=at}}else K&64?be!==8?Se=le():Se=L.type.hydrate(F,L,Y,ce,pe,me,t,B):K&128&&(Se=L.type.hydrate(F,L,Y,ce,ql(f(F)),pe,me,t,x))}return He!=null&&wu(He,null,ce,L),Se},T=(F,L,Y,ce,pe,me)=>{me=me||!!L.dynamicChildren;const{type:ve,props:le,patchFlag:_e,shapeFlag:He,dirs:K}=L,ue=ve==="input"&&K||ve==="option";if(ue||_e!==-1){if(K&&Mi(L,null,Y,"created"),le)if(ue||!me||_e&48)for(const Se in le)(ue&&Se.endsWith("value")||ga(Se)&&!Us(Se))&&a(F,Se,null,le[Se],!1,void 0,Y);else le.onClick&&a(F,"onClick",null,le.onClick,!1,void 0,Y);let be;if((be=le&&le.onVnodeBeforeMount)&&Yn(be,Y,L),K&&Mi(L,null,Y,"beforeMount"),((be=le&&le.onVnodeMounted)||K)&&db(()=>{be&&Yn(be,Y,L),K&&Mi(L,null,Y,"mounted")},ce),He&16&&!(le&&(le.innerHTML||le.textContent))){let Se=B(F.firstChild,L,F,Y,ce,pe,me);for(;Se;){fr=!0;const ut=Se;Se=Se.nextSibling,d(ut)}}else He&8&&F.textContent!==L.children&&(fr=!0,F.textContent=L.children)}return F.nextSibling},B=(F,L,Y,ce,pe,me,ve)=>{ve=ve||!!L.dynamicChildren;const le=L.children,_e=le.length;for(let He=0;He<_e;He++){const K=ve?le[He]:le[He]=ci(le[He]);if(F)F=x(F,K,ce,pe,me,ve);else{if(K.type===uo&&!K.children)continue;fr=!0,n(null,K,Y,null,ce,pe,ql(Y),me)}}return F},M=(F,L,Y,ce,pe,me)=>{const{slotScopeIds:ve}=L;ve&&(pe=pe?pe.concat(ve):ve);const le=f(F),_e=B(h(F),L,le,Y,ce,pe,me);return _e&&Xl(_e)&&_e.data==="]"?h(L.anchor=_e):(fr=!0,g(L.anchor=v("]"),le,_e),_e)},j=(F,L,Y,ce,pe,me)=>{if(fr=!0,L.el=null,me){const _e=V(F);for(;;){const He=h(F);if(He&&He!==_e)d(He);else break}}const ve=h(F),le=f(F);return d(F),n(null,L,le,ve,Y,ce,ql(le),pe),ve},V=F=>{let L=0;for(;F;)if(F=h(F),F&&Xl(F)&&(F.data==="["&&L++,F.data==="]")){if(L===0)return h(F);L--}return F};return[_,x]}const kn=db;function Fb(t){return Hb(t)}function Lb(t){return Hb(t,qD)}function Hb(t,o){const n=mk();n.__VUE__=!0;const{insert:a,remove:u,patchProp:h,createElement:f,createText:d,createComment:g,setText:v,setElementText:_,parentNode:x,nextSibling:T,setScopeId:B=Si,insertStaticContent:M}=t,j=(X,ne,E,N=null,Q=null,ae=null,se=!1,ie=null,fe=!!ne.dynamicChildren)=>{if(X===ne)return;X&&!_i(X,ne)&&(N=dn(X),Pt(X,Q,ae,!0),X=null),ne.patchFlag===-2&&(fe=!1,ne.dynamicChildren=null);const{type:de,ref:Ae,shapeFlag:Me}=ne;switch(de){case uo:V(X,ne,E,N);break;case Un:F(X,ne,E,N);break;case no:X==null&&L(ne,E,N,se);break;case Gt:ue(X,ne,E,N,Q,ae,se,ie,fe);break;default:Me&1?pe(X,ne,E,N,Q,ae,se,ie,fe):Me&6?be(X,ne,E,N,Q,ae,se,ie,fe):(Me&64||Me&128)&&de.process(X,ne,E,N,Q,ae,se,ie,fe,Et)}Ae!=null&&Q&&wu(Ae,X&&X.ref,ae,ne||X,!ne)},V=(X,ne,E,N)=>{if(X==null)a(ne.el=d(ne.children),E,N);else{const Q=ne.el=X.el;ne.children!==X.children&&v(Q,ne.children)}},F=(X,ne,E,N)=>{X==null?a(ne.el=g(ne.children||""),E,N):ne.el=X.el},L=(X,ne,E,N)=>{[X.el,X.anchor]=M(X.children,ne,E,N,X.el,X.anchor)},Y=({el:X,anchor:ne},E,N)=>{let Q;for(;X&&X!==ne;)Q=T(X),a(X,E,N),X=Q;a(ne,E,N)},ce=({el:X,anchor:ne})=>{let E;for(;X&&X!==ne;)E=T(X),u(X),X=E;u(ne)},pe=(X,ne,E,N,Q,ae,se,ie,fe)=>{se=se||ne.type==="svg",X==null?me(ne,E,N,Q,ae,se,ie,fe):_e(X,ne,Q,ae,se,ie,fe)},me=(X,ne,E,N,Q,ae,se,ie)=>{let fe,de;const{type:Ae,props:Me,shapeFlag:Pe,transition:Ze,dirs:Ve}=X;if(fe=X.el=f(X.type,ae,Me&&Me.is,Me),Pe&8?_(fe,X.children):Pe&16&&le(X.children,fe,null,N,Q,ae&&Ae!=="foreignObject",se,ie),Ve&&Mi(X,null,N,"created"),ve(fe,X,X.scopeId,se,N),Me){for(const Be in Me)Be!=="value"&&!Us(Be)&&h(fe,Be,null,Me[Be],ae,X.children,N,Q,Rt);"value"in Me&&h(fe,"value",null,Me.value),(de=Me.onVnodeBeforeMount)&&Yn(de,N,X)}Ve&&Mi(X,null,N,"beforeMount");const Te=(!Q||Q&&!Q.pendingBranch)&&Ze&&!Ze.persisted;Te&&Ze.beforeEnter(fe),a(fe,ne,E),((de=Me&&Me.onVnodeMounted)||Te||Ve)&&kn(()=>{de&&Yn(de,N,X),Te&&Ze.enter(fe),Ve&&Mi(X,null,N,"mounted")},Q)},ve=(X,ne,E,N,Q)=>{if(E&&B(X,E),N)for(let ae=0;ae<N.length;ae++)B(X,N[ae]);if(Q){let ae=Q.subTree;if(ne===ae){const se=Q.vnode;ve(X,se,se.scopeId,se.slotScopeIds,Q.parent)}}},le=(X,ne,E,N,Q,ae,se,ie,fe=0)=>{for(let de=fe;de<X.length;de++){const Ae=X[de]=ie?br(X[de]):ci(X[de]);j(null,Ae,ne,E,N,Q,ae,se,ie)}},_e=(X,ne,E,N,Q,ae,se)=>{const ie=ne.el=X.el;let{patchFlag:fe,dynamicChildren:de,dirs:Ae}=ne;fe|=X.patchFlag&16;const Me=X.props||en,Pe=ne.props||en;let Ze;E&&Wr(E,!1),(Ze=Pe.onVnodeBeforeUpdate)&&Yn(Ze,E,ne,X),Ae&&Mi(ne,X,E,"beforeUpdate"),E&&Wr(E,!0);const Ve=Q&&ne.type!=="foreignObject";if(de?He(X.dynamicChildren,de,ie,E,N,Ve,ae):se||Ce(X,ne,ie,null,E,N,Ve,ae,!1),fe>0){if(fe&16)K(ie,ne,Me,Pe,E,N,Q);else if(fe&2&&Me.class!==Pe.class&&h(ie,"class",null,Pe.class,Q),fe&4&&h(ie,"style",Me.style,Pe.style,Q),fe&8){const Te=ne.dynamicProps;for(let Be=0;Be<Te.length;Be++){const O=Te[Be],R=Me[O],z=Pe[O];(z!==R||O==="value")&&h(ie,O,R,z,Q,X.children,E,N,Rt)}}fe&1&&X.children!==ne.children&&_(ie,ne.children)}else!se&&de==null&&K(ie,ne,Me,Pe,E,N,Q);((Ze=Pe.onVnodeUpdated)||Ae)&&kn(()=>{Ze&&Yn(Ze,E,ne,X),Ae&&Mi(ne,X,E,"updated")},N)},He=(X,ne,E,N,Q,ae,se)=>{for(let ie=0;ie<ne.length;ie++){const fe=X[ie],de=ne[ie],Ae=fe.el&&(fe.type===Gt||!_i(fe,de)||fe.shapeFlag&70)?x(fe.el):E;j(fe,de,Ae,null,N,Q,ae,se,!0)}},K=(X,ne,E,N,Q,ae,se)=>{if(E!==N){if(E!==en)for(const ie in E)!Us(ie)&&!(ie in N)&&h(X,ie,E[ie],null,se,ne.children,Q,ae,Rt);for(const ie in N){if(Us(ie))continue;const fe=N[ie],de=E[ie];fe!==de&&ie!=="value"&&h(X,ie,de,fe,se,ne.children,Q,ae,Rt)}"value"in N&&h(X,"value",E.value,N.value)}},ue=(X,ne,E,N,Q,ae,se,ie,fe)=>{const de=ne.el=X?X.el:d(""),Ae=ne.anchor=X?X.anchor:d("");let{patchFlag:Me,dynamicChildren:Pe,slotScopeIds:Ze}=ne;Ze&&(ie=ie?ie.concat(Ze):Ze),X==null?(a(de,E,N),a(Ae,E,N),le(ne.children,E,Ae,Q,ae,se,ie,fe)):Me>0&&Me&64&&Pe&&X.dynamicChildren?(He(X.dynamicChildren,Pe,E,Q,ae,se,ie),(ne.key!=null||Q&&ne===Q.subTree)&&Tf(X,ne,!0)):Ce(X,ne,E,Ae,Q,ae,se,ie,fe)},be=(X,ne,E,N,Q,ae,se,ie,fe)=>{ne.slotScopeIds=ie,X==null?ne.shapeFlag&512?Q.ctx.activate(ne,E,N,se,fe):Se(ne,E,N,Q,ae,se,fe):ut(X,ne,fe)},Se=(X,ne,E,N,Q,ae,se)=>{const ie=X.component=qb(X,N,Q);if(wa(X)&&(ie.ctx.renderer=Et),Zb(ie),ie.asyncDep){if(Q&&Q.registerDep(ie,at),!X.el){const fe=ie.subTree=Je(Un);F(null,fe,ne,E)}return}at(ie,X,ne,E,Q,ae,se)},ut=(X,ne,E)=>{const N=ne.component=X.component;if(pD(X,ne,E))if(N.asyncDep&&!N.asyncResolved){xe(N,ne,E);return}else N.next=ne,aD(N.update),N.update();else ne.el=X.el,N.vnode=ne},at=(X,ne,E,N,Q,ae,se)=>{const ie=()=>{if(X.isMounted){let{next:Ae,bu:Me,u:Pe,parent:Ze,vnode:Ve}=X,Te=Ae,Be;Wr(X,!1),Ae?(Ae.el=Ve.el,xe(X,Ae,se)):Ae=Ve,Me&&Yo(Me),(Be=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Yn(Be,Ze,Ae,Ve),Wr(X,!0);const O=su(X),R=X.subTree;X.subTree=O,j(R,O,x(R.el),dn(R),X,Q,ae),Ae.el=O.el,Te===null&&vf(X,O.el),Pe&&kn(Pe,Q),(Be=Ae.props&&Ae.props.onVnodeUpdated)&&kn(()=>Yn(Be,Ze,Ae,Ve),Q)}else{let Ae;const{el:Me,props:Pe}=ne,{bm:Ze,m:Ve,parent:Te}=X,Be=to(ne);if(Wr(X,!1),Ze&&Yo(Ze),!Be&&(Ae=Pe&&Pe.onVnodeBeforeMount)&&Yn(Ae,Te,ne),Wr(X,!0),Me&&ot){const O=()=>{X.subTree=su(X),ot(Me,X.subTree,X,Q,null)};Be?ne.type.__asyncLoader().then(()=>!X.isUnmounted&&O()):O()}else{const O=X.subTree=su(X);j(null,O,E,N,X,Q,ae),ne.el=O.el}if(Ve&&kn(Ve,Q),!Be&&(Ae=Pe&&Pe.onVnodeMounted)){const O=ne;kn(()=>Yn(Ae,Te,O),Q)}(ne.shapeFlag&256||Te&&to(Te.vnode)&&Te.vnode.shapeFlag&256)&&X.a&&kn(X.a,Q),X.isMounted=!0,ne=E=N=null}},fe=X.effect=new va(ie,()=>Lu(de),X.scope),de=X.update=()=>fe.run();de.id=X.uid,Wr(X,!0),de()},xe=(X,ne,E)=>{ne.component=X;const N=X.vnode.props;X.vnode=ne,X.next=null,zD(X,ne.props,N,E),VD(X,ne.children,E),us(),hy(),cs()},Ce=(X,ne,E,N,Q,ae,se,ie,fe=!1)=>{const de=X&&X.children,Ae=X?X.shapeFlag:0,Me=ne.children,{patchFlag:Pe,shapeFlag:Ze}=ne;if(Pe>0){if(Pe&128){Ne(de,Me,E,N,Q,ae,se,ie,fe);return}else if(Pe&256){nt(de,Me,E,N,Q,ae,se,ie,fe);return}}Ze&8?(Ae&16&&Rt(de,Q,ae),Me!==de&&_(E,Me)):Ae&16?Ze&16?Ne(de,Me,E,N,Q,ae,se,ie,fe):Rt(de,Q,ae,!0):(Ae&8&&_(E,""),Ze&16&&le(Me,E,N,Q,ae,se,ie,fe))},nt=(X,ne,E,N,Q,ae,se,ie,fe)=>{X=X||Xo,ne=ne||Xo;const de=X.length,Ae=ne.length,Me=Math.min(de,Ae);let Pe;for(Pe=0;Pe<Me;Pe++){const Ze=ne[Pe]=fe?br(ne[Pe]):ci(ne[Pe]);j(X[Pe],Ze,E,null,Q,ae,se,ie,fe)}de>Ae?Rt(X,Q,ae,!0,!1,Me):le(ne,E,N,Q,ae,se,ie,fe,Me)},Ne=(X,ne,E,N,Q,ae,se,ie,fe)=>{let de=0;const Ae=ne.length;let Me=X.length-1,Pe=Ae-1;for(;de<=Me&&de<=Pe;){const Ze=X[de],Ve=ne[de]=fe?br(ne[de]):ci(ne[de]);if(_i(Ze,Ve))j(Ze,Ve,E,null,Q,ae,se,ie,fe);else break;de++}for(;de<=Me&&de<=Pe;){const Ze=X[Me],Ve=ne[Pe]=fe?br(ne[Pe]):ci(ne[Pe]);if(_i(Ze,Ve))j(Ze,Ve,E,null,Q,ae,se,ie,fe);else break;Me--,Pe--}if(de>Me){if(de<=Pe){const Ze=Pe+1,Ve=Ze<Ae?ne[Ze].el:N;for(;de<=Pe;)j(null,ne[de]=fe?br(ne[de]):ci(ne[de]),E,Ve,Q,ae,se,ie,fe),de++}}else if(de>Pe)for(;de<=Me;)Pt(X[de],Q,ae,!0),de++;else{const Ze=de,Ve=de,Te=new Map;for(de=Ve;de<=Pe;de++){const it=ne[de]=fe?br(ne[de]):ci(ne[de]);it.key!=null&&Te.set(it.key,de)}let Be,O=0;const R=Pe-Ve+1;let z=!1,W=0;const ye=new Array(R);for(de=0;de<R;de++)ye[de]=0;for(de=Ze;de<=Me;de++){const it=X[de];if(O>=R){Pt(it,Q,ae,!0);continue}let St;if(it.key!=null)St=Te.get(it.key);else for(Be=Ve;Be<=Pe;Be++)if(ye[Be-Ve]===0&&_i(it,ne[Be])){St=Be;break}St===void 0?Pt(it,Q,ae,!0):(ye[St-Ve]=de+1,St>=W?W=St:z=!0,j(it,ne[St],E,null,Q,ae,se,ie,fe),O++)}const Fe=z?XD(ye):Xo;for(Be=Fe.length-1,de=R-1;de>=0;de--){const it=Ve+de,St=ne[it],dt=it+1<Ae?ne[it+1].el:N;ye[de]===0?j(null,St,E,dt,Q,ae,se,ie,fe):z&&(Be<0||de!==Fe[Be]?wt(St,E,dt,2):Be--)}}},wt=(X,ne,E,N,Q=null)=>{const{el:ae,type:se,transition:ie,children:fe,shapeFlag:de}=X;if(de&6){wt(X.component.subTree,ne,E,N);return}if(de&128){X.suspense.move(ne,E,N);return}if(de&64){se.move(X,ne,E,Et);return}if(se===Gt){a(ae,ne,E);for(let Me=0;Me<fe.length;Me++)wt(fe[Me],ne,E,N);a(X.anchor,ne,E);return}if(se===no){Y(X,ne,E);return}if(N!==2&&de&1&&ie)if(N===0)ie.beforeEnter(ae),a(ae,ne,E),kn(()=>ie.enter(ae),Q);else{const{leave:Me,delayLeave:Pe,afterLeave:Ze}=ie,Ve=()=>a(ae,ne,E),Te=()=>{Me(ae,()=>{Ve(),Ze&&Ze()})};Pe?Pe(ae,Ve,Te):Te()}else a(ae,ne,E)},Pt=(X,ne,E,N=!1,Q=!1)=>{const{type:ae,props:se,ref:ie,children:fe,dynamicChildren:de,shapeFlag:Ae,patchFlag:Me,dirs:Pe}=X;if(ie!=null&&wu(ie,null,E,X,!0),Ae&256){ne.ctx.deactivate(X);return}const Ze=Ae&1&&Pe,Ve=!to(X);let Te;if(Ve&&(Te=se&&se.onVnodeBeforeUnmount)&&Yn(Te,ne,X),Ae&6)$t(X.component,E,N);else{if(Ae&128){X.suspense.unmount(E,N);return}Ze&&Mi(X,null,ne,"beforeUnmount"),Ae&64?X.type.remove(X,ne,E,Q,Et,N):de&&(ae!==Gt||Me>0&&Me&64)?Rt(de,ne,E,!1,!0):(ae===Gt&&Me&384||!Q&&Ae&16)&&Rt(fe,ne,E),N&&qt(X)}(Ve&&(Te=se&&se.onVnodeUnmounted)||Ze)&&kn(()=>{Te&&Yn(Te,ne,X),Ze&&Mi(X,null,ne,"unmounted")},E)},qt=X=>{const{type:ne,el:E,anchor:N,transition:Q}=X;if(ne===Gt){cn(E,N);return}if(ne===no){ce(X);return}const ae=()=>{u(E),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(X.shapeFlag&1&&Q&&!Q.persisted){const{leave:se,delayLeave:ie}=Q,fe=()=>se(E,ae);ie?ie(X.el,ae,fe):fe()}else ae()},cn=(X,ne)=>{let E;for(;X!==ne;)E=T(X),u(X),X=E;u(ne)},$t=(X,ne,E)=>{const{bum:N,scope:Q,update:ae,subTree:se,um:ie}=X;N&&Yo(N),Q.stop(),ae&&(ae.active=!1,Pt(se,X,ne,E)),ie&&kn(ie,ne),kn(()=>{X.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Rt=(X,ne,E,N=!1,Q=!1,ae=0)=>{for(let se=ae;se<X.length;se++)Pt(X[se],ne,E,N,Q)},dn=X=>X.shapeFlag&6?dn(X.component.subTree):X.shapeFlag&128?X.suspense.next():T(X.anchor||X.el),nn=(X,ne,E)=>{X==null?ne._vnode&&Pt(ne._vnode,null,null,!0):j(ne._vnode||null,X,ne,null,null,null,E),hy(),yu(),ne._vnode=X},Et={p:j,um:Pt,m:wt,r:qt,mt:Se,mc:le,pc:Ce,pbc:He,n:dn,o:t};let qe,ot;return o&&([qe,ot]=o(Et)),{render:nn,hydrate:qe,createApp:GD(nn,qe)}}function Wr({effect:t,update:o},n){t.allowRecurse=o.allowRecurse=n}function Tf(t,o,n=!1){const a=t.children,u=o.children;if(lt(a)&&lt(u))for(let h=0;h<a.length;h++){const f=a[h];let d=u[h];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=u[h]=br(u[h]),d.el=f.el),n||Tf(f,d)),d.type===uo&&(d.el=f.el)}}function XD(t){const o=t.slice(),n=[0];let a,u,h,f,d;const g=t.length;for(a=0;a<g;a++){const v=t[a];if(v!==0){if(u=n[n.length-1],t[u]<v){o[a]=u,n.push(a);continue}for(h=0,f=n.length-1;h<f;)d=h+f>>1,t[n[d]]<v?h=d+1:f=d;v<t[n[h]]&&(h>0&&(o[a]=n[h-1]),n[h]=a)}}for(h=n.length,f=n[h-1];h-- >0;)n[h]=f,f=o[f];return n}const ZD=t=>t.__isTeleport,Gs=t=>t&&(t.disabled||t.disabled===""),xy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Cd=(t,o)=>{const n=t&&t.to;return un(n)?o?o(n):null:n},YD={__isTeleport:!0,process(t,o,n,a,u,h,f,d,g,v){const{mc:_,pc:x,pbc:T,o:{insert:B,querySelector:M,createText:j,createComment:V}}=v,F=Gs(o.props);let{shapeFlag:L,children:Y,dynamicChildren:ce}=o;if(t==null){const pe=o.el=j(""),me=o.anchor=j("");B(pe,n,a),B(me,n,a);const ve=o.target=Cd(o.props,M),le=o.targetAnchor=j("");ve&&(B(le,ve),f=f||xy(ve));const _e=(He,K)=>{L&16&&_(Y,He,K,u,h,f,d,g)};F?_e(n,me):ve&&_e(ve,le)}else{o.el=t.el;const pe=o.anchor=t.anchor,me=o.target=t.target,ve=o.targetAnchor=t.targetAnchor,le=Gs(t.props),_e=le?n:me,He=le?pe:ve;if(f=f||xy(me),ce?(T(t.dynamicChildren,ce,_e,u,h,f,d),Tf(t,o,!0)):g||x(t,o,_e,He,u,h,f,d,!1),F)le||Zl(o,n,pe,v,1);else if((o.props&&o.props.to)!==(t.props&&t.props.to)){const K=o.target=Cd(o.props,M);K&&Zl(o,K,null,v,0)}else le&&Zl(o,me,ve,v,1)}zb(o)},remove(t,o,n,a,{um:u,o:{remove:h}},f){const{shapeFlag:d,children:g,anchor:v,targetAnchor:_,target:x,props:T}=t;if(x&&h(_),(f||!Gs(T))&&(h(v),d&16))for(let B=0;B<g.length;B++){const M=g[B];u(M,o,n,!0,!!M.dynamicChildren)}},move:Zl,hydrate:KD};function Zl(t,o,n,{o:{insert:a},m:u},h=2){h===0&&a(t.targetAnchor,o,n);const{el:f,anchor:d,shapeFlag:g,children:v,props:_}=t,x=h===2;if(x&&a(f,o,n),(!x||Gs(_))&&g&16)for(let T=0;T<v.length;T++)u(v[T],o,n,2);x&&a(d,o,n)}function KD(t,o,n,a,u,h,{o:{nextSibling:f,parentNode:d,querySelector:g}},v){const _=o.target=Cd(o.props,g);if(_){const x=_._lpa||_.firstChild;if(o.shapeFlag&16)if(Gs(o.props))o.anchor=v(f(t),o,d(t),n,a,u,h),o.targetAnchor=x;else{o.anchor=f(t);let T=x;for(;T;)if(T=f(T),T&&T.nodeType===8&&T.data==="teleport anchor"){o.targetAnchor=T,_._lpa=o.targetAnchor&&f(o.targetAnchor);break}v(x,o,_,n,a,u,h)}zb(o)}return o.anchor&&f(o.anchor)}const JD=YD;function zb(t){const o=t.ctx;if(o&&o.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",o.uid),n=n.nextSibling;o.ut()}}const Gt=Symbol(void 0),uo=Symbol(void 0),Un=Symbol(void 0),no=Symbol(void 0),qs=[];let Kn=null;function Ue(t=!1){qs.push(Kn=t?null:[])}function jb(){qs.pop(),Kn=qs[qs.length-1]||null}let co=1;function Pd(t){co+=t}function Ub(t){return t.dynamicChildren=co>0?Kn||Xo:null,jb(),co>0&&Kn&&Kn.push(t),t}function Ye(t,o,n,a,u,h){return Ub(te(t,o,n,a,u,h,!0))}function yi(t,o,n,a,u){return Ub(Je(t,o,n,a,u,!0))}function Tr(t){return t?t.__v_isVNode===!0:!1}function _i(t,o){return t.type===o.type&&t.key===o.key}function QD(t){}const qu="__vInternal",Vb=({key:t})=>t!=null?t:null,au=({ref:t,ref_key:o,ref_for:n})=>t!=null?un(t)||yn(t)||xt(t)?{i:Mn,r:t,k:o,f:!!n}:t:null;function te(t,o=null,n=null,a=0,u=null,h=t===Gt?0:1,f=!1,d=!1){const g={__v_isVNode:!0,__v_skip:!0,type:t,props:o,key:o&&Vb(o),ref:o&&au(o),scopeId:zu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Mn};return d?(Cf(g,n),h&128&&t.normalize(g)):n&&(g.shapeFlag|=un(n)?8:16),co>0&&!f&&Kn&&(g.patchFlag>0||h&6)&&g.patchFlag!==32&&Kn.push(g),g}const Je=$D;function $D(t,o=null,n=null,a=0,u=null,h=!1){if((!t||t===Cb)&&(t=Un),Tr(t)){const d=Fi(t,o,!0);return n&&Cf(d,n),co>0&&!h&&Kn&&(d.shapeFlag&6?Kn[Kn.indexOf(t)]=d:Kn.push(d)),d.patchFlag|=-2,d}if(s9(t)&&(t=t.__vccOpts),o){o=Wb(o);let{class:d,style:g}=o;d&&!un(d)&&(o.class=Dn(d)),tn(g)&&(hf(g)&&!lt(g)&&(g=bn({},g)),o.style=po(g))}const f=un(t)?1:hb(t)?128:ZD(t)?64:tn(t)?4:xt(t)?2:0;return te(t,o,n,a,u,f,h,!0)}function Wb(t){return t?hf(t)||qu in t?bn({},t):t:null}function Fi(t,o,n=!1){const{props:a,ref:u,patchFlag:h,children:f}=t,d=o?Gb(a||{},o):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Vb(d),ref:o&&o.ref?n&&u?lt(u)?u.concat(au(o)):[u,au(o)]:au(o):u,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:o&&t.type!==Gt?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fi(t.ssContent),ssFallback:t.ssFallback&&Fi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function sn(t=" ",o=0){return Je(uo,null,t,o)}function Xu(t,o){const n=Je(no,null,t);return n.staticCount=o,n}function Qt(t="",o=!1){return o?(Ue(),yi(Un,null,t)):Je(Un,null,t)}function ci(t){return t==null||typeof t=="boolean"?Je(Un):lt(t)?Je(Gt,null,t.slice()):typeof t=="object"?br(t):Je(uo,null,String(t))}function br(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fi(t)}function Cf(t,o){let n=0;const{shapeFlag:a}=t;if(o==null)o=null;else if(lt(o))n=16;else if(typeof o=="object")if(a&65){const u=o.default;u&&(u._c&&(u._d=!1),Cf(t,u()),u._c&&(u._d=!0));return}else{n=32;const u=o._;!u&&!(qu in o)?o._ctx=Mn:u===3&&Mn&&(Mn.slots._===1?o._=1:(o._=2,t.patchFlag|=1024))}else xt(o)?(o={default:o,_ctx:Mn},n=32):(o=String(o),a&64?(n=16,o=[sn(o)]):n=8);t.children=o,t.shapeFlag|=n}function Gb(...t){const o={};for(let n=0;n<t.length;n++){const a=t[n];for(const u in a)if(u==="class")o.class!==a.class&&(o.class=Dn([o.class,a.class]));else if(u==="style")o.style=po([o.style,a.style]);else if(ga(u)){const h=o[u],f=a[u];f&&h!==f&&!(lt(h)&&h.includes(f))&&(o[u]=h?[].concat(h,f):f)}else u!==""&&(o[u]=a[u])}return o}function Yn(t,o,n,a=null){di(t,o,7,[n,a])}const e9=Nb();let t9=0;function qb(t,o,n){const a=t.type,u=(o?o.appContext:t.appContext)||e9,h={uid:t9++,vnode:t,type:a,parent:o,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new of(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Db(a,u),emitsOptions:lb(a,u),emit:null,emitted:null,propsDefaults:en,inheritAttrs:a.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=uD.bind(null,h),t.ce&&t.ce(h),h}let vn=null;const $i=()=>vn||Mn,Cr=t=>{vn=t,t.scope.on()},xr=()=>{vn&&vn.scope.off(),vn=null};function Xb(t){return t.vnode.shapeFlag&4}let ns=!1;function Zb(t,o=!1){ns=o;const{props:n,children:a}=t.vnode,u=Xb(t);HD(t,n,u,o),UD(t,a);const h=u?n9(t,o):void 0;return ns=!1,h}function n9(t,o){const n=t.type;t.accessCache=Object.create(null),t.proxy=ao(new Proxy(t.ctx,xd));const{setup:a}=n;if(a){const u=t.setupContext=a.length>1?Kb(t):null;Cr(t),us();const h=qi(a,t,0,[t.props,u]);if(cs(),xr(),nf(h)){if(h.then(xr,xr),o)return h.then(f=>{Ad(t,f,o)}).catch(f=>{mo(f,t,0)});t.asyncDep=h}else Ad(t,h,o)}else Yb(t,o)}function Ad(t,o,n){xt(o)?t.type.__ssrInlineRender?t.ssrRender=o:t.render=o:tn(o)&&(t.setupState=pf(o)),Yb(t,n)}let _u,Rd;function i9(t){_u=t,Rd=o=>{o.render._rc&&(o.withProxy=new Proxy(o.ctx,MD))}}const r9=()=>!_u;function Yb(t,o,n){const a=t.type;if(!t.render){if(!o&&_u&&!a.render){const u=a.template||Ef(t).template;if(u){const{isCustomElement:h,compilerOptions:f}=t.appContext.config,{delimiters:d,compilerOptions:g}=a,v=bn(bn({isCustomElement:h,delimiters:d},f),g);a.render=_u(u,v)}}t.render=a.render||Si,Rd&&Rd(t)}Cr(t),us(),BD(t),cs(),xr()}function o9(t){return new Proxy(t.attrs,{get(o,n){return $n(t,"get","$attrs"),o[n]}})}function Kb(t){const o=a=>{t.exposed=a||{}};let n;return{get attrs(){return n||(n=o9(t))},slots:t.slots,emit:t.emit,expose:o}}function Zu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(pf(ao(t.exposed)),{get(o,n){if(n in o)return o[n];if(n in Ws)return Ws[n](t)},has(o,n){return n in o||n in Ws}}))}function Od(t,o=!0){return xt(t)?t.displayName||t.name:t.name||o&&t.__name}function s9(t){return xt(t)&&"__vccOpts"in t}const Pn=(t,o)=>nD(t,o,ns);function a9(){return null}function l9(){return null}function u9(t){}function c9(t,o){return null}function h9(){return Jb().slots}function d9(){return Jb().attrs}function Jb(){const t=$i();return t.setupContext||(t.setupContext=Kb(t))}function f9(t,o){const n=lt(t)?t.reduce((a,u)=>(a[u]={},a),{}):t;for(const a in o){const u=n[a];u?lt(u)||xt(u)?n[a]={type:u,default:o[a]}:u.default=o[a]:u===null&&(n[a]={default:o[a]})}return n}function p9(t,o){const n={};for(const a in t)o.includes(a)||Object.defineProperty(n,a,{enumerable:!0,get:()=>t[a]});return n}function g9(t){const o=$i();let n=t();return xr(),nf(n)&&(n=n.catch(a=>{throw Cr(o),a})),[n,()=>Cr(o)]}function is(t,o,n){const a=arguments.length;return a===2?tn(o)&&!lt(o)?Tr(o)?Je(t,null,[o]):Je(t,o):Je(t,null,o):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&Tr(n)&&(n=[n]),Je(t,o,n))}const Qb=Symbol(""),$b=()=>Qo(Qb);function m9(){}function v9(t,o,n,a){const u=n[a];if(u&&ew(u,t))return u;const h=o();return h.memo=t.slice(),n[a]=h}function ew(t,o){const n=t.memo;if(n.length!=o.length)return!1;for(let a=0;a<n.length;a++)if(es(n[a],o[a]))return!1;return co>0&&Kn&&Kn.push(t),!0}const tw="3.2.47",y9={createComponentInstance:qb,setupComponent:Zb,renderComponentRoot:su,setCurrentRenderingInstance:oa,isVNode:Tr,normalizeVNode:ci},b9=y9,w9=null,_9=null,x9="http://www.w3.org/2000/svg",Zr=typeof document<"u"?document:null,Ey=Zr&&Zr.createElement("template"),E9={insert:(t,o,n)=>{o.insertBefore(t,n||null)},remove:t=>{const o=t.parentNode;o&&o.removeChild(t)},createElement:(t,o,n,a)=>{const u=o?Zr.createElementNS(x9,t):Zr.createElement(t,n?{is:n}:void 0);return t==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:t=>Zr.createTextNode(t),createComment:t=>Zr.createComment(t),setText:(t,o)=>{t.nodeValue=o},setElementText:(t,o)=>{t.textContent=o},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zr.querySelector(t),setScopeId(t,o){t.setAttribute(o,"")},insertStaticContent(t,o,n,a,u,h){const f=n?n.previousSibling:o.lastChild;if(u&&(u===h||u.nextSibling))for(;o.insertBefore(u.cloneNode(!0),n),!(u===h||!(u=u.nextSibling)););else{Ey.innerHTML=a?`<svg>${t}</svg>`:t;const d=Ey.content;if(a){const g=d.firstChild;for(;g.firstChild;)d.appendChild(g.firstChild);d.removeChild(g)}o.insertBefore(d,n)}return[f?f.nextSibling:o.firstChild,n?n.previousSibling:o.lastChild]}};function S9(t,o,n){const a=t._vtc;a&&(o=(o?[o,...a]:[...a]).join(" ")),o==null?t.removeAttribute("class"):n?t.setAttribute("class",o):t.className=o}function T9(t,o,n){const a=t.style,u=un(n);if(n&&!u){if(o&&!un(o))for(const h in o)n[h]==null&&kd(a,h,"");for(const h in n)kd(a,h,n[h])}else{const h=a.display;u?o!==n&&(a.cssText=n):o&&t.removeAttribute("style"),"_vod"in t&&(a.display=h)}}const Sy=/\s*!important$/;function kd(t,o,n){if(lt(n))n.forEach(a=>kd(t,o,a));else if(n==null&&(n=""),o.startsWith("--"))t.setProperty(o,n);else{const a=C9(t,o);Sy.test(n)?t.setProperty(vi(a),n.replace(Sy,""),"important"):t[a]=n}}const Ty=["Webkit","Moz","ms"],od={};function C9(t,o){const n=od[o];if(n)return n;let a=Qn(o);if(a!=="filter"&&a in t)return od[o]=a;a=ma(a);for(let u=0;u<Ty.length;u++){const h=Ty[u]+a;if(h in t)return od[o]=h}return o}const Cy="http://www.w3.org/1999/xlink";function P9(t,o,n,a,u){if(a&&o.startsWith("xlink:"))n==null?t.removeAttributeNS(Cy,o.slice(6,o.length)):t.setAttributeNS(Cy,o,n);else{const h=ak(o);n==null||h&&!B1(n)?t.removeAttribute(o):t.setAttribute(o,h?"":n)}}function A9(t,o,n,a,u,h,f){if(o==="innerHTML"||o==="textContent"){a&&f(a,u,h),t[o]=n==null?"":n;return}if(o==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const g=n==null?"":n;(t.value!==g||t.tagName==="OPTION")&&(t.value=g),n==null&&t.removeAttribute(o);return}let d=!1;if(n===""||n==null){const g=typeof t[o];g==="boolean"?n=B1(n):n==null&&g==="string"?(n="",d=!0):g==="number"&&(n=0,d=!0)}try{t[o]=n}catch{}d&&t.removeAttribute(o)}function Wi(t,o,n,a){t.addEventListener(o,n,a)}function R9(t,o,n,a){t.removeEventListener(o,n,a)}function O9(t,o,n,a,u=null){const h=t._vei||(t._vei={}),f=h[o];if(a&&f)f.value=a;else{const[d,g]=k9(o);if(a){const v=h[o]=B9(a,u);Wi(t,d,v,g)}else f&&(R9(t,d,f,g),h[o]=void 0)}}const Py=/(?:Once|Passive|Capture)$/;function k9(t){let o;if(Py.test(t)){o={};let a;for(;a=t.match(Py);)t=t.slice(0,t.length-a[0].length),o[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vi(t.slice(2)),o]}let sd=0;const D9=Promise.resolve(),M9=()=>sd||(D9.then(()=>sd=0),sd=Date.now());function B9(t,o){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;di(I9(a,n.value),o,5,[a])};return n.value=t,n.attached=M9(),n}function I9(t,o){if(lt(o)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},o.map(a=>u=>!u._stopped&&a&&a(u))}else return o}const Ay=/^on[a-z]/,N9=(t,o,n,a,u=!1,h,f,d,g)=>{o==="class"?S9(t,a,u):o==="style"?T9(t,n,a):ga(o)?ef(o)||O9(t,o,n,a,f):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):F9(t,o,a,u))?A9(t,o,a,h,f,d,g):(o==="true-value"?t._trueValue=a:o==="false-value"&&(t._falseValue=a),P9(t,o,a,u))};function F9(t,o,n,a){return a?!!(o==="innerHTML"||o==="textContent"||o in t&&Ay.test(o)&&xt(n)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&t.tagName==="INPUT"||o==="type"&&t.tagName==="TEXTAREA"||Ay.test(o)&&un(n)?!1:o in t}function nw(t,o){const n=vo(t);class a extends Yu{constructor(h){super(n,h,o)}}return a.def=n,a}const L9=t=>nw(t,vw),H9=typeof HTMLElement<"u"?HTMLElement:class{};class Yu extends H9{constructor(o,n={},a){super(),this._def=o,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Fu(()=>{this._connected||(Bd(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const u of a)this._setAttr(u.attributeName)}).observe(this,{attributes:!0});const o=(a,u=!1)=>{const{props:h,styles:f}=a;let d;if(h&&!lt(h))for(const g in h){const v=h[g];(v===Number||v&&v.type===Number)&&(g in this._props&&(this._props[g]=mu(this._props[g])),(d||(d=Object.create(null)))[Qn(g)]=!0)}this._numberProps=d,u&&this._resolveProps(a),this._applyStyles(f),this._update()},n=this._def.__asyncLoader;n?n().then(a=>o(a,!0)):o(this._def)}_resolveProps(o){const{props:n}=o,a=lt(n)?n:Object.keys(n||{});for(const u of Object.keys(this))u[0]!=="_"&&a.includes(u)&&this._setProp(u,this[u],!0,!1);for(const u of a.map(Qn))Object.defineProperty(this,u,{get(){return this._getProp(u)},set(h){this._setProp(u,h)}})}_setAttr(o){let n=this.getAttribute(o);const a=Qn(o);this._numberProps&&this._numberProps[a]&&(n=mu(n)),this._setProp(a,n,!1)}_getProp(o){return this._props[o]}_setProp(o,n,a=!0,u=!0){n!==this._props[o]&&(this._props[o]=n,u&&this._instance&&this._update(),a&&(n===!0?this.setAttribute(vi(o),""):typeof n=="string"||typeof n=="number"?this.setAttribute(vi(o),n+""):n||this.removeAttribute(vi(o))))}_update(){Bd(this._createVNode(),this.shadowRoot)}_createVNode(){const o=Je(this._def,bn({},this._props));return this._instance||(o.ce=n=>{this._instance=n,n.isCE=!0;const a=(h,f)=>{this.dispatchEvent(new CustomEvent(h,{detail:f}))};n.emit=(h,...f)=>{a(h,f),vi(h)!==h&&a(vi(h),f)};let u=this;for(;u=u&&(u.parentNode||u.host);)if(u instanceof Yu){n.parent=u._instance,n.provides=u._instance.provides;break}}),o}_applyStyles(o){o&&o.forEach(n=>{const a=document.createElement("style");a.textContent=n,this.shadowRoot.appendChild(a)})}}function z9(t="$style"){{const o=$i();if(!o)return en;const n=o.type.__cssModules;if(!n)return en;const a=n[t];return a||en}}function j9(t){const o=$i();if(!o)return;const n=o.ut=(u=t(o.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${o.uid}"]`)).forEach(h=>Md(h,u))},a=()=>{const u=t(o.proxy);Dd(o.subTree,u),n(u)};pb(a),_a(()=>{const u=new MutationObserver(a);u.observe(o.subTree.el.parentNode,{childList:!0}),Gu(()=>u.disconnect())})}function Dd(t,o){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Dd(n.activeBranch,o)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Md(t.el,o);else if(t.type===Gt)t.children.forEach(n=>Dd(n,o));else if(t.type===no){let{el:n,anchor:a}=t;for(;n&&(Md(n,o),n!==a);)n=n.nextSibling}}function Md(t,o){if(t.nodeType===1){const n=t.style;for(const a in o)n.setProperty(`--${a}`,o[a])}}const pr="transition",Ns="animation",Pf=(t,{slots:o})=>is(wf,rw(t),o);Pf.displayName="Transition";const iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U9=Pf.props=bn({},wf.props,iw),Gr=(t,o=[])=>{lt(t)?t.forEach(n=>n(...o)):t&&t(...o)},Ry=t=>t?lt(t)?t.some(o=>o.length>1):t.length>1:!1;function rw(t){const o={};for(const ue in t)ue in iw||(o[ue]=t[ue]);if(t.css===!1)return o;const{name:n="v",type:a,duration:u,enterFromClass:h=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:g=h,appearActiveClass:v=f,appearToClass:_=d,leaveFromClass:x=`${n}-leave-from`,leaveActiveClass:T=`${n}-leave-active`,leaveToClass:B=`${n}-leave-to`}=t,M=V9(u),j=M&&M[0],V=M&&M[1],{onBeforeEnter:F,onEnter:L,onEnterCancelled:Y,onLeave:ce,onLeaveCancelled:pe,onBeforeAppear:me=F,onAppear:ve=L,onAppearCancelled:le=Y}=o,_e=(ue,be,Se)=>{vr(ue,be?_:d),vr(ue,be?v:f),Se&&Se()},He=(ue,be)=>{ue._isLeaving=!1,vr(ue,x),vr(ue,B),vr(ue,T),be&&be()},K=ue=>(be,Se)=>{const ut=ue?ve:L,at=()=>_e(be,ue,Se);Gr(ut,[be,at]),Oy(()=>{vr(be,ue?g:h),Ui(be,ue?_:d),Ry(ut)||ky(be,a,j,at)})};return bn(o,{onBeforeEnter(ue){Gr(F,[ue]),Ui(ue,h),Ui(ue,f)},onBeforeAppear(ue){Gr(me,[ue]),Ui(ue,g),Ui(ue,v)},onEnter:K(!1),onAppear:K(!0),onLeave(ue,be){ue._isLeaving=!0;const Se=()=>He(ue,be);Ui(ue,x),sw(),Ui(ue,T),Oy(()=>{!ue._isLeaving||(vr(ue,x),Ui(ue,B),Ry(ce)||ky(ue,a,V,Se))}),Gr(ce,[ue,Se])},onEnterCancelled(ue){_e(ue,!1),Gr(Y,[ue])},onAppearCancelled(ue){_e(ue,!0),Gr(le,[ue])},onLeaveCancelled(ue){He(ue),Gr(pe,[ue])}})}function V9(t){if(t==null)return null;if(tn(t))return[ad(t.enter),ad(t.leave)];{const o=ad(t);return[o,o]}}function ad(t){return mu(t)}function Ui(t,o){o.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(o)}function vr(t,o){o.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:n}=t;n&&(n.delete(o),n.size||(t._vtc=void 0))}function Oy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let W9=0;function ky(t,o,n,a){const u=t._endId=++W9,h=()=>{u===t._endId&&a()};if(n)return setTimeout(h,n);const{type:f,timeout:d,propCount:g}=ow(t,o);if(!f)return a();const v=f+"end";let _=0;const x=()=>{t.removeEventListener(v,T),h()},T=B=>{B.target===t&&++_>=g&&x()};setTimeout(()=>{_<g&&x()},d+1),t.addEventListener(v,T)}function ow(t,o){const n=window.getComputedStyle(t),a=M=>(n[M]||"").split(", "),u=a(`${pr}Delay`),h=a(`${pr}Duration`),f=Dy(u,h),d=a(`${Ns}Delay`),g=a(`${Ns}Duration`),v=Dy(d,g);let _=null,x=0,T=0;o===pr?f>0&&(_=pr,x=f,T=h.length):o===Ns?v>0&&(_=Ns,x=v,T=g.length):(x=Math.max(f,v),_=x>0?f>v?pr:Ns:null,T=_?_===pr?h.length:g.length:0);const B=_===pr&&/\b(transform|all)(,|$)/.test(a(`${pr}Property`).toString());return{type:_,timeout:x,propCount:T,hasTransform:B}}function Dy(t,o){for(;t.length<o.length;)t=t.concat(t);return Math.max(...o.map((n,a)=>My(n)+My(t[a])))}function My(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function sw(){return document.body.offsetHeight}const aw=new WeakMap,lw=new WeakMap,uw={name:"TransitionGroup",props:bn({},U9,{tag:String,moveClass:String}),setup(t,{slots:o}){const n=$i(),a=bf();let u,h;return Vu(()=>{if(!u.length)return;const f=t.moveClass||`${t.name||"v"}-move`;if(!K9(u[0].el,n.vnode.el,f))return;u.forEach(X9),u.forEach(Z9);const d=u.filter(Y9);sw(),d.forEach(g=>{const v=g.el,_=v.style;Ui(v,f),_.transform=_.webkitTransform=_.transitionDuration="";const x=v._moveCb=T=>{T&&T.target!==v||(!T||/transform$/.test(T.propertyName))&&(v.removeEventListener("transitionend",x),v._moveCb=null,vr(v,f))};v.addEventListener("transitionend",x)})}),()=>{const f=Mt(t),d=rw(f);let g=f.tag||Gt;u=h,h=o.default?ju(o.default()):[];for(let v=0;v<h.length;v++){const _=h[v];_.key!=null&&lo(_,ts(_,d,a,n))}if(u)for(let v=0;v<u.length;v++){const _=u[v];lo(_,ts(_,d,a,n)),aw.set(_,_.el.getBoundingClientRect())}return Je(g,null,h)}}},G9=t=>delete t.mode;uw.props;const q9=uw;function X9(t){const o=t.el;o._moveCb&&o._moveCb(),o._enterCb&&o._enterCb()}function Z9(t){lw.set(t,t.el.getBoundingClientRect())}function Y9(t){const o=aw.get(t),n=lw.get(t),a=o.left-n.left,u=o.top-n.top;if(a||u){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${a}px,${u}px)`,h.transitionDuration="0s",t}}function K9(t,o,n){const a=t.cloneNode();t._vtc&&t._vtc.forEach(f=>{f.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),n.split(/\s+/).forEach(f=>f&&a.classList.add(f)),a.style.display="none";const u=o.nodeType===1?o:o.parentNode;u.appendChild(a);const{hasTransform:h}=ow(a);return u.removeChild(a),h}const Pr=t=>{const o=t.props["onUpdate:modelValue"]||!1;return lt(o)?n=>Yo(o,n):o};function J9(t){t.target.composing=!0}function By(t){const o=t.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const Jn={created(t,{modifiers:{lazy:o,trim:n,number:a}},u){t._assign=Pr(u);const h=a||u.props&&u.props.type==="number";Wi(t,o?"change":"input",f=>{if(f.target.composing)return;let d=t.value;n&&(d=d.trim()),h&&(d=gu(d)),t._assign(d)}),n&&Wi(t,"change",()=>{t.value=t.value.trim()}),o||(Wi(t,"compositionstart",J9),Wi(t,"compositionend",By),Wi(t,"change",By))},mounted(t,{value:o}){t.value=o==null?"":o},beforeUpdate(t,{value:o,modifiers:{lazy:n,trim:a,number:u}},h){if(t._assign=Pr(h),t.composing||document.activeElement===t&&t.type!=="range"&&(n||a&&t.value.trim()===o||(u||t.type==="number")&&gu(t.value)===o))return;const f=o==null?"":o;t.value!==f&&(t.value=f)}},Af={deep:!0,created(t,o,n){t._assign=Pr(n),Wi(t,"change",()=>{const a=t._modelValue,u=rs(t),h=t.checked,f=t._assign;if(lt(a)){const d=Ou(a,u),g=d!==-1;if(h&&!g)f(a.concat(u));else if(!h&&g){const v=[...a];v.splice(d,1),f(v)}}else if(go(a)){const d=new Set(a);h?d.add(u):d.delete(u),f(d)}else f(hw(t,h))})},mounted:Iy,beforeUpdate(t,o,n){t._assign=Pr(n),Iy(t,o,n)}};function Iy(t,{value:o,oldValue:n},a){t._modelValue=o,lt(o)?t.checked=Ou(o,a.props.value)>-1:go(o)?t.checked=o.has(a.props.value):o!==n&&(t.checked=Er(o,hw(t,!0)))}const Rf={created(t,{value:o},n){t.checked=Er(o,n.props.value),t._assign=Pr(n),Wi(t,"change",()=>{t._assign(rs(t))})},beforeUpdate(t,{value:o,oldValue:n},a){t._assign=Pr(a),o!==n&&(t.checked=Er(o,a.props.value))}},cw={deep:!0,created(t,{value:o,modifiers:{number:n}},a){const u=go(o);Wi(t,"change",()=>{const h=Array.prototype.filter.call(t.options,f=>f.selected).map(f=>n?gu(rs(f)):rs(f));t._assign(t.multiple?u?new Set(h):h:h[0])}),t._assign=Pr(a)},mounted(t,{value:o}){Ny(t,o)},beforeUpdate(t,o,n){t._assign=Pr(n)},updated(t,{value:o}){Ny(t,o)}};function Ny(t,o){const n=t.multiple;if(!(n&&!lt(o)&&!go(o))){for(let a=0,u=t.options.length;a<u;a++){const h=t.options[a],f=rs(h);if(n)lt(o)?h.selected=Ou(o,f)>-1:h.selected=o.has(f);else if(Er(rs(h),o)){t.selectedIndex!==a&&(t.selectedIndex=a);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function rs(t){return"_value"in t?t._value:t.value}function hw(t,o){const n=o?"_trueValue":"_falseValue";return n in t?t[n]:o}const dw={created(t,o,n){Yl(t,o,n,null,"created")},mounted(t,o,n){Yl(t,o,n,null,"mounted")},beforeUpdate(t,o,n,a){Yl(t,o,n,a,"beforeUpdate")},updated(t,o,n,a){Yl(t,o,n,a,"updated")}};function fw(t,o){switch(t){case"SELECT":return cw;case"TEXTAREA":return Jn;default:switch(o){case"checkbox":return Af;case"radio":return Rf;default:return Jn}}}function Yl(t,o,n,a,u){const f=fw(t.tagName,n.props&&n.props.type)[u];f&&f(t,o,n,a)}function Q9(){Jn.getSSRProps=({value:t})=>({value:t}),Rf.getSSRProps=({value:t},o)=>{if(o.props&&Er(o.props.value,t))return{checked:!0}},Af.getSSRProps=({value:t},o)=>{if(lt(t)){if(o.props&&Ou(t,o.props.value)>-1)return{checked:!0}}else if(go(t)){if(o.props&&t.has(o.props.value))return{checked:!0}}else if(t)return{checked:!0}},dw.getSSRProps=(t,o)=>{if(typeof o.type!="string")return;const n=fw(o.type.toUpperCase(),o.props&&o.props.type);if(n.getSSRProps)return n.getSSRProps(t,o)}}const $9=["ctrl","shift","alt","meta"],eM={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,o)=>$9.some(n=>t[`${n}Key`]&&!o.includes(n))},Ku=(t,o)=>(n,...a)=>{for(let u=0;u<o.length;u++){const h=eM[o[u]];if(h&&h(n,o))return}return t(n,...a)},tM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nM=(t,o)=>n=>{if(!("key"in n))return;const a=vi(n.key);if(o.some(u=>u===a||tM[u]===a))return t(n)},Ju={beforeMount(t,{value:o},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&o?n.beforeEnter(t):Fs(t,o)},mounted(t,{value:o},{transition:n}){n&&o&&n.enter(t)},updated(t,{value:o,oldValue:n},{transition:a}){!o!=!n&&(a?o?(a.beforeEnter(t),Fs(t,!0),a.enter(t)):a.leave(t,()=>{Fs(t,!1)}):Fs(t,o))},beforeUnmount(t,{value:o}){Fs(t,o)}};function Fs(t,o){t.style.display=o?t._vod:"none"}function iM(){Ju.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const pw=bn({patchProp:N9},E9);let Xs,Fy=!1;function gw(){return Xs||(Xs=Fb(pw))}function mw(){return Xs=Fy?Xs:Lb(pw),Fy=!0,Xs}const Bd=(...t)=>{gw().render(...t)},vw=(...t)=>{mw().hydrate(...t)},yw=(...t)=>{const o=gw().createApp(...t),{mount:n}=o;return o.mount=a=>{const u=bw(a);if(!u)return;const h=o._component;!xt(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.innerHTML="";const f=n(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),f},o},rM=(...t)=>{const o=mw().createApp(...t),{mount:n}=o;return o.mount=a=>{const u=bw(a);if(u)return n(u,!0,u instanceof SVGElement)},o};function bw(t){return un(t)?document.querySelector(t):t}let Ly=!1;const oM=()=>{Ly||(Ly=!0,Q9(),iM())},sM=()=>{},aM=Object.freeze(Object.defineProperty({__proto__:null,compile:sM,EffectScope:of,ReactiveEffect:va,customRef:$k,effect:bk,effectScope:sf,getCurrentScope:af,isProxy:hf,isReactive:Gi,isReadonly:so,isRef:yn,isShallow:ta,markRaw:ao,onScopeDispose:H1,proxyRefs:pf,reactive:ya,readonly:cf,ref:eo,shallowReactive:Q1,shallowReadonly:Xk,shallowRef:Zk,stop:wk,toRaw:Mt,toRef:nb,toRefs:tb,triggerRef:Kk,unref:eb,camelize:Qn,capitalize:ma,normalizeClass:Dn,normalizeProps:ok,normalizeStyle:po,toDisplayString:Dt,toHandlerKey:Vs,BaseTransition:wf,Comment:Un,Fragment:Gt,KeepAlive:PD,Static:no,Suspense:mD,Teleport:JD,Text:uo,assertNumber:rD,callWithAsyncErrorHandling:di,callWithErrorHandling:qi,cloneVNode:Fi,compatUtils:_9,computed:Pn,createBlock:yi,createCommentVNode:Qt,createElementBlock:Ye,createElementVNode:te,createHydrationRenderer:Lb,createPropsRestProxy:p9,createRenderer:Fb,createSlots:kD,createStaticVNode:Xu,createTextVNode:sn,createVNode:Je,defineAsyncComponent:TD,defineComponent:vo,defineEmits:l9,defineExpose:u9,defineProps:a9,get devtools(){return Wo},getCurrentInstance:$i,getTransitionRawChildren:ju,guardReactiveProps:Wb,h:is,handleError:mo,initCustomFormatter:m9,inject:Qo,isMemoSame:ew,isRuntimeOnly:r9,isVNode:Tr,mergeDefaults:f9,mergeProps:Gb,nextTick:Fu,onActivated:vb,onBeforeMount:wb,onBeforeUnmount:Wu,onBeforeUpdate:_b,onDeactivated:yb,onErrorCaptured:Tb,onMounted:_a,onRenderTracked:Sb,onRenderTriggered:Eb,onServerPrefetch:xb,onUnmounted:Gu,onUpdated:Vu,openBlock:Ue,popScopeId:cb,provide:fb,pushScopeId:ub,queuePostFlushCb:mf,registerRuntimeCompiler:i9,renderList:ei,renderSlot:Ab,resolveComponent:Nt,resolveDirective:OD,resolveDynamicComponent:Pb,resolveFilter:w9,resolveTransitionHooks:ts,setBlockTracking:Pd,setDevtoolsHook:ab,setTransitionHooks:lo,ssrContextKey:Qb,ssrUtils:b9,toHandlers:DD,transformVNodeArgs:QD,useAttrs:d9,useSSRContext:$b,useSlots:h9,useTransitionState:bf,version:tw,warn:iD,watch:jn,watchEffect:_D,watchPostEffect:pb,watchSyncEffect:xD,withAsyncContext:g9,withCtx:Di,withDefaults:c9,withDirectives:hi,withMemo:v9,withScopeId:cD,Transition:Pf,TransitionGroup:q9,VueElement:Yu,createApp:yw,createSSRApp:rM,defineCustomElement:nw,defineSSRCustomElement:L9,hydrate:vw,initDirectivesForSSR:oM,render:Bd,useCssModule:z9,useCssVars:j9,vModelCheckbox:Af,vModelDynamic:dw,vModelRadio:Rf,vModelSelect:cw,vModelText:Jn,vShow:Ju,withKeys:nM,withModifiers:Ku},Symbol.toStringTag,{value:"Module"}));var lM=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ww;const xa=t=>ww=t,_w=Symbol();function Id(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Zs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zs||(Zs={}));function uM(){const t=sf(!0),o=t.run(()=>eo({}));let n=[],a=[];const u=ao({install(h){xa(u),u._a=h,h.provide(_w,u),h.config.globalProperties.$pinia=u,a.forEach(f=>n.push(f)),a=[]},use(h){return!this._a&&!lM?a.push(h):n.push(h),this},_p:n,_a:null,_e:t,_s:new Map,state:o});return u}const xw=()=>{};function Hy(t,o,n,a=xw){t.push(o);const u=()=>{const h=t.indexOf(o);h>-1&&(t.splice(h,1),a())};return!n&&af()&&H1(u),u}function Uo(t,...o){t.slice().forEach(n=>{n(...o)})}function Nd(t,o){t instanceof Map&&o instanceof Map&&o.forEach((n,a)=>t.set(a,n)),t instanceof Set&&o instanceof Set&&o.forEach(t.add,t);for(const n in o){if(!o.hasOwnProperty(n))continue;const a=o[n],u=t[n];Id(u)&&Id(a)&&t.hasOwnProperty(n)&&!yn(a)&&!Gi(a)?t[n]=Nd(u,a):t[n]=a}return t}const cM=Symbol();function hM(t){return!Id(t)||!t.hasOwnProperty(cM)}const{assign:yr}=Object;function dM(t){return!!(yn(t)&&t.effect)}function fM(t,o,n,a){const{state:u,actions:h,getters:f}=o,d=n.state.value[t];let g;function v(){d||(n.state.value[t]=u?u():{});const _=tb(n.state.value[t]);return yr(_,h,Object.keys(f||{}).reduce((x,T)=>(x[T]=ao(Pn(()=>{xa(n);const B=n._s.get(t);return f[T].call(B,B)})),x),{}))}return g=Ew(t,v,o,n,a,!0),g}function Ew(t,o,n={},a,u,h){let f;const d=yr({actions:{}},n),g={deep:!0};let v,_,x=ao([]),T=ao([]),B;const M=a.state.value[t];!h&&!M&&(a.state.value[t]={}),eo({});let j;function V(ve){let le;v=_=!1,typeof ve=="function"?(ve(a.state.value[t]),le={type:Zs.patchFunction,storeId:t,events:B}):(Nd(a.state.value[t],ve),le={type:Zs.patchObject,payload:ve,storeId:t,events:B});const _e=j=Symbol();Fu().then(()=>{j===_e&&(v=!0)}),_=!0,Uo(x,le,a.state.value[t])}const F=h?function(){const{state:le}=n,_e=le?le():{};this.$patch(He=>{yr(He,_e)})}:xw;function L(){f.stop(),x=[],T=[],a._s.delete(t)}function Y(ve,le){return function(){xa(a);const _e=Array.from(arguments),He=[],K=[];function ue(ut){He.push(ut)}function be(ut){K.push(ut)}Uo(T,{args:_e,name:ve,store:pe,after:ue,onError:be});let Se;try{Se=le.apply(this&&this.$id===t?this:pe,_e)}catch(ut){throw Uo(K,ut),ut}return Se instanceof Promise?Se.then(ut=>(Uo(He,ut),ut)).catch(ut=>(Uo(K,ut),Promise.reject(ut))):(Uo(He,Se),Se)}}const ce={_p:a,$id:t,$onAction:Hy.bind(null,T),$patch:V,$reset:F,$subscribe(ve,le={}){const _e=Hy(x,ve,le.detached,()=>He()),He=f.run(()=>jn(()=>a.state.value[t],K=>{(le.flush==="sync"?_:v)&&ve({storeId:t,type:Zs.direct,events:B},K)},yr({},g,le)));return _e},$dispose:L},pe=ya(ce);a._s.set(t,pe);const me=a._e.run(()=>(f=sf(),f.run(()=>o())));for(const ve in me){const le=me[ve];if(yn(le)&&!dM(le)||Gi(le))h||(M&&hM(le)&&(yn(le)?le.value=M[ve]:Nd(le,M[ve])),a.state.value[t][ve]=le);else if(typeof le=="function"){const _e=Y(ve,le);me[ve]=_e,d.actions[ve]=le}}return yr(pe,me),yr(Mt(pe),me),Object.defineProperty(pe,"$state",{get:()=>a.state.value[t],set:ve=>{V(le=>{yr(le,ve)})}}),a._p.forEach(ve=>{yr(pe,f.run(()=>ve({store:pe,app:a._a,pinia:a,options:d})))}),M&&h&&n.hydrate&&n.hydrate(pe.$state,M),v=!0,_=!0,pe}function Qu(t,o,n){let a,u;const h=typeof o=="function";typeof t=="string"?(a=t,u=h?n:o):(u=t,a=t.id);function f(d,g){const v=$i();return d=d||v&&Qo(_w,null),d&&xa(d),d=ww,d._s.has(a)||(h?Ew(a,o,u,d):fM(a,u,d)),d._s.get(a)}return f.$id=a,f}const Bn=Qu("general",{state:()=>({count:0,selected_db:"",selected_col:"",filter:"",amount_bookmarks:0,cmd:""}),actions:{increment(){this.count++},decrement(){this.count--}}}),pM="/graggle-backend/graggle-frontend/assets/graggle_logo_large.6a11cb33.png",on=(t,o)=>{const n=t.__vccOpts||t;for(const[a,u]of o)n[a]=u;return n},gM={data(){return{filter:"",gstore:Bn()}},computed:{},components:{},methods:{clear(){this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",this.filter=""},async search(){let t=o=>new Promise(n=>setTimeout(n,o));this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",await t(50),this.gstore.filter=this.filter},resetSelectedCollection(){this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",this.filter=""}}},mM={class:"grid grid-cols-12 bg-blue-900 text-white py-2"},vM={class:"col-span-2 p-2 flex justify-center m-auto"},yM={class:"col-span-10 flex"},bM={class:"grow relative justify-center m-auto"},wM={class:"absolute w-10 left-3 top-4"},_M={class:"absolute mr-2 w-10 right-0 top-4"},xM={class:"flex w-44 justify-center m-auto"},EM={href:"#",class:"mx-4"},SM=te("button",{class:"right-0 bg-blue-800 text-white rounded-full px-8 py-2 hover:bg-blue-700 focus:outline-none focus:shadow-outline"}," Sign In ",-1);function TM(t,o,n,a,u,h){const f=Nt("font-awesome-icon");return Ue(),Ye("div",mM,[te("div",vM,[te("div",null,[te("img",{class:"h-14",src:pM,onClick:o[0]||(o[0]=d=>h.resetSelectedCollection())})])]),te("div",yM,[te("div",bM,[hi(te("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=d=>u.filter=d),class:"w-full text-3xl h-14 pl-12 bg-gray-800 text-gray-300 rounded-full focus:outline-none focus:shadow-outline",placeholder:"Search..."},null,512),[[Jn,u.filter]]),te("div",wM,[Je(f,{icon:"fa-solid fa-search",class:"text-gray-300 text-3xl",onClick:o[2]||(o[2]=d=>h.search())})]),te("div",_M,[Je(f,{icon:"fa-solid fa-xmark",class:"text-gray-300 text-3xl",onClick:o[3]||(o[3]=d=>h.clear())})])]),te("div",xM,[te("a",EM,[Je(f,{icon:"fa-solid fa-user",class:"text-3xl mt-2"})]),SM])])])}const CM=on(gM,[["render",TM]]),PM={},AM={class:"inset-x-0 bottom-0 bg-blue-900 text-white h-full"},RM=te("p",{class:"text-center text-gray-300 text-sm"},"\xA9 2023 Data Catalogue. All rights reserved.",-1),OM=[RM];function kM(t,o){return Ue(),Ye("div",AM,OM)}const DM=on(PM,[["render",kM]]),MM={data(){return{}},mounted(){},methods:{}},BM={class:"w-full"},IM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded text-lg font-semibold"},NM={class:"col-span-1 flex items-center justify-end"},FM=te("div",{class:"col-span-4 px-2"}," Import Data ",-1),LM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded text-lg font-semibold mt-2"},HM={class:"col-span-1 flex items-center justify-end"},zM=te("div",{class:"col-span-4 px-2"}," Settings ",-1),jM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded text-lg font-semibold mt-2"},UM={class:"col-span-1 flex items-center justify-end"},VM=te("div",{class:"col-span-4 px-2"}," Feature Request ",-1),WM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded text-lg font-semibold mt-2"},GM={class:"col-span-1 flex items-center justify-end"},qM=te("div",{class:"col-span-4 px-2"}," Language ",-1),XM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded text-lg font-semibold mt-2"},ZM={class:"col-span-1 flex items-center justify-end"},YM=te("div",{class:"col-span-4 px-2"}," Manual ",-1);function KM(t,o,n,a,u,h){const f=Nt("font-awesome-icon");return Ue(),Ye("div",BM,[te("div",IM,[te("div",NM,[Je(f,{class:"px-1",icon:"fa-solid fa-file-import"})]),FM]),te("div",LM,[te("div",HM,[Je(f,{class:"px-1",icon:"fa-solid fa-sliders"})]),zM]),te("div",jM,[te("div",UM,[Je(f,{class:"px-1",icon:"fa-solid fa-code-pull-request"})]),VM]),te("div",WM,[te("div",GM,[Je(f,{class:"px-1",icon:"fa-solid fa-language"})]),qM]),te("div",XM,[te("div",ZM,[Je(f,{class:"px-1",icon:"fa-solid fa-book-open"})]),YM])])}const JM=on(MM,[["render",KM]]);function Sw(t,o){return function(){return t.apply(o,arguments)}}const{toString:Tw}=Object.prototype,{getPrototypeOf:Of}=Object,kf=(t=>o=>{const n=Tw.call(o);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),er=t=>(t=t.toLowerCase(),o=>kf(o)===t),$u=t=>o=>typeof o===t,{isArray:hs}=Array,aa=$u("undefined");function QM(t){return t!==null&&!aa(t)&&t.constructor!==null&&!aa(t.constructor)&&Ar(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Cw=er("ArrayBuffer");function $M(t){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(t):o=t&&t.buffer&&Cw(t.buffer),o}const eB=$u("string"),Ar=$u("function"),Pw=$u("number"),Df=t=>t!==null&&typeof t=="object",tB=t=>t===!0||t===!1,lu=t=>{if(kf(t)!=="object")return!1;const o=Of(t);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nB=er("Date"),iB=er("File"),rB=er("Blob"),oB=er("FileList"),sB=t=>Df(t)&&Ar(t.pipe),aB=t=>{const o="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Tw.call(t)===o||Ar(t.toString)&&t.toString()===o)},lB=er("URLSearchParams"),uB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(t,o,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,u;if(typeof t!="object"&&(t=[t]),hs(t))for(a=0,u=t.length;a<u;a++)o.call(null,t[a],a,t);else{const h=n?Object.getOwnPropertyNames(t):Object.keys(t),f=h.length;let d;for(a=0;a<f;a++)d=h[a],o.call(null,t[d],d,t)}}function Aw(t,o){o=o.toLowerCase();const n=Object.keys(t);let a=n.length,u;for(;a-- >0;)if(u=n[a],o===u.toLowerCase())return u;return null}const Rw=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ow=t=>!aa(t)&&t!==Rw;function Fd(){const{caseless:t}=Ow(this)&&this||{},o={},n=(a,u)=>{const h=t&&Aw(o,u)||u;lu(o[h])&&lu(a)?o[h]=Fd(o[h],a):lu(a)?o[h]=Fd({},a):hs(a)?o[h]=a.slice():o[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Ea(arguments[a],n);return o}const cB=(t,o,n,{allOwnKeys:a}={})=>(Ea(o,(u,h)=>{n&&Ar(u)?t[h]=Sw(u,n):t[h]=u},{allOwnKeys:a}),t),hB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dB=(t,o,n,a)=>{t.prototype=Object.create(o.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:o.prototype}),n&&Object.assign(t.prototype,n)},fB=(t,o,n,a)=>{let u,h,f;const d={};if(o=o||{},t==null)return o;do{for(u=Object.getOwnPropertyNames(t),h=u.length;h-- >0;)f=u[h],(!a||a(f,t,o))&&!d[f]&&(o[f]=t[f],d[f]=!0);t=n!==!1&&Of(t)}while(t&&(!n||n(t,o))&&t!==Object.prototype);return o},pB=(t,o,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=o.length;const a=t.indexOf(o,n);return a!==-1&&a===n},gB=t=>{if(!t)return null;if(hs(t))return t;let o=t.length;if(!Pw(o))return null;const n=new Array(o);for(;o-- >0;)n[o]=t[o];return n},mB=(t=>o=>t&&o instanceof t)(typeof Uint8Array<"u"&&Of(Uint8Array)),vB=(t,o)=>{const a=(t&&t[Symbol.iterator]).call(t);let u;for(;(u=a.next())&&!u.done;){const h=u.value;o.call(t,h[0],h[1])}},yB=(t,o)=>{let n;const a=[];for(;(n=t.exec(o))!==null;)a.push(n);return a},bB=er("HTMLFormElement"),wB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,u){return a.toUpperCase()+u}),zy=(({hasOwnProperty:t})=>(o,n)=>t.call(o,n))(Object.prototype),_B=er("RegExp"),kw=(t,o)=>{const n=Object.getOwnPropertyDescriptors(t),a={};Ea(n,(u,h)=>{o(u,h,t)!==!1&&(a[h]=u)}),Object.defineProperties(t,a)},xB=t=>{kw(t,(o,n)=>{if(Ar(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(!!Ar(a)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},EB=(t,o)=>{const n={},a=u=>{u.forEach(h=>{n[h]=!0})};return hs(t)?a(t):a(String(t).split(o)),n},SB=()=>{},TB=(t,o)=>(t=+t,Number.isFinite(t)?t:o),ld="abcdefghijklmnopqrstuvwxyz",jy="0123456789",Dw={DIGIT:jy,ALPHA:ld,ALPHA_DIGIT:ld+ld.toUpperCase()+jy},CB=(t=16,o=Dw.ALPHA_DIGIT)=>{let n="";const{length:a}=o;for(;t--;)n+=o[Math.random()*a|0];return n};function PB(t){return!!(t&&Ar(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const AB=t=>{const o=new Array(10),n=(a,u)=>{if(Df(a)){if(o.indexOf(a)>=0)return;if(!("toJSON"in a)){o[u]=a;const h=hs(a)?[]:{};return Ea(a,(f,d)=>{const g=n(f,u+1);!aa(g)&&(h[d]=g)}),o[u]=void 0,h}}return a};return n(t,0)},Oe={isArray:hs,isArrayBuffer:Cw,isBuffer:QM,isFormData:aB,isArrayBufferView:$M,isString:eB,isNumber:Pw,isBoolean:tB,isObject:Df,isPlainObject:lu,isUndefined:aa,isDate:nB,isFile:iB,isBlob:rB,isRegExp:_B,isFunction:Ar,isStream:sB,isURLSearchParams:lB,isTypedArray:mB,isFileList:oB,forEach:Ea,merge:Fd,extend:cB,trim:uB,stripBOM:hB,inherits:dB,toFlatObject:fB,kindOf:kf,kindOfTest:er,endsWith:pB,toArray:gB,forEachEntry:vB,matchAll:yB,isHTMLForm:bB,hasOwnProperty:zy,hasOwnProp:zy,reduceDescriptors:kw,freezeMethods:xB,toObjectSet:EB,toCamelCase:wB,noop:SB,toFiniteNumber:TB,findKey:Aw,global:Rw,isContextDefined:Ow,ALPHABET:Dw,generateString:CB,isSpecCompliantForm:PB,toJSONObject:AB};function zt(t,o,n,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),a&&(this.request=a),u&&(this.response=u)}Oe.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Mw=zt.prototype,Bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bw[t]={value:t}});Object.defineProperties(zt,Bw);Object.defineProperty(Mw,"isAxiosError",{value:!0});zt.from=(t,o,n,a,u,h)=>{const f=Object.create(Mw);return Oe.toFlatObject(t,f,function(g){return g!==Error.prototype},d=>d!=="isAxiosError"),zt.call(f,t.message,o,n,a,u),f.cause=t,f.name=t.name,h&&Object.assign(f,h),f};const RB=null;function Ld(t){return Oe.isPlainObject(t)||Oe.isArray(t)}function Iw(t){return Oe.endsWith(t,"[]")?t.slice(0,-2):t}function Uy(t,o,n){return t?t.concat(o).map(function(u,h){return u=Iw(u),!n&&h?"["+u+"]":u}).join(n?".":""):o}function OB(t){return Oe.isArray(t)&&!t.some(Ld)}const kB=Oe.toFlatObject(Oe,{},null,function(o){return/^is[A-Z]/.test(o)});function ec(t,o,n){if(!Oe.isObject(t))throw new TypeError("target must be an object");o=o||new FormData,n=Oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,V){return!Oe.isUndefined(V[j])});const a=n.metaTokens,u=n.visitor||_,h=n.dots,f=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(o);if(!Oe.isFunction(u))throw new TypeError("visitor must be a function");function v(M){if(M===null)return"";if(Oe.isDate(M))return M.toISOString();if(!g&&Oe.isBlob(M))throw new zt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(M)||Oe.isTypedArray(M)?g&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function _(M,j,V){let F=M;if(M&&!V&&typeof M=="object"){if(Oe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),M=JSON.stringify(M);else if(Oe.isArray(M)&&OB(M)||(Oe.isFileList(M)||Oe.endsWith(j,"[]"))&&(F=Oe.toArray(M)))return j=Iw(j),F.forEach(function(Y,ce){!(Oe.isUndefined(Y)||Y===null)&&o.append(f===!0?Uy([j],ce,h):f===null?j:j+"[]",v(Y))}),!1}return Ld(M)?!0:(o.append(Uy(V,j,h),v(M)),!1)}const x=[],T=Object.assign(kB,{defaultVisitor:_,convertValue:v,isVisitable:Ld});function B(M,j){if(!Oe.isUndefined(M)){if(x.indexOf(M)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(M),Oe.forEach(M,function(F,L){(!(Oe.isUndefined(F)||F===null)&&u.call(o,F,Oe.isString(L)?L.trim():L,j,T))===!0&&B(F,j?j.concat(L):[L])}),x.pop()}}if(!Oe.isObject(t))throw new TypeError("data must be an object");return B(t),o}function Vy(t){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return o[a]})}function Mf(t,o){this._pairs=[],t&&ec(t,this,o)}const Nw=Mf.prototype;Nw.append=function(o,n){this._pairs.push([o,n])};Nw.toString=function(o){const n=o?function(a){return o.call(this,a,Vy)}:Vy;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function DB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fw(t,o,n){if(!o)return t;const a=n&&n.encode||DB,u=n&&n.serialize;let h;if(u?h=u(o,n):h=Oe.isURLSearchParams(o)?o.toString():new Mf(o,n).toString(a),h){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class MB{constructor(){this.handlers=[]}use(o,n,a){return this.handlers.push({fulfilled:o,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){Oe.forEach(this.handlers,function(a){a!==null&&o(a)})}}const Wy=MB,Lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BB=typeof URLSearchParams<"u"?URLSearchParams:Mf,IB=typeof FormData<"u"?FormData:null,NB=typeof Blob<"u"?Blob:null,FB=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),LB=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ii={isBrowser:!0,classes:{URLSearchParams:BB,FormData:IB,Blob:NB},isStandardBrowserEnv:FB,isStandardBrowserWebWorkerEnv:LB,protocols:["http","https","file","blob","url","data"]};function HB(t,o){return ec(t,new Ii.classes.URLSearchParams,Object.assign({visitor:function(n,a,u,h){return Ii.isNode&&Oe.isBuffer(n)?(this.append(a,n.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},o))}function zB(t){return Oe.matchAll(/\w+|\[(\w*)]/g,t).map(o=>o[0]==="[]"?"":o[1]||o[0])}function jB(t){const o={},n=Object.keys(t);let a;const u=n.length;let h;for(a=0;a<u;a++)h=n[a],o[h]=t[h];return o}function Hw(t){function o(n,a,u,h){let f=n[h++];const d=Number.isFinite(+f),g=h>=n.length;return f=!f&&Oe.isArray(u)?u.length:f,g?(Oe.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!d):((!u[f]||!Oe.isObject(u[f]))&&(u[f]=[]),o(n,a,u[f],h)&&Oe.isArray(u[f])&&(u[f]=jB(u[f])),!d)}if(Oe.isFormData(t)&&Oe.isFunction(t.entries)){const n={};return Oe.forEachEntry(t,(a,u)=>{o(zB(a),u,n,0)}),n}return null}const UB={"Content-Type":void 0};function VB(t,o,n){if(Oe.isString(t))try{return(o||JSON.parse)(t),Oe.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const tc={transitional:Lw,adapter:["xhr","http"],transformRequest:[function(o,n){const a=n.getContentType()||"",u=a.indexOf("application/json")>-1,h=Oe.isObject(o);if(h&&Oe.isHTMLForm(o)&&(o=new FormData(o)),Oe.isFormData(o))return u&&u?JSON.stringify(Hw(o)):o;if(Oe.isArrayBuffer(o)||Oe.isBuffer(o)||Oe.isStream(o)||Oe.isFile(o)||Oe.isBlob(o))return o;if(Oe.isArrayBufferView(o))return o.buffer;if(Oe.isURLSearchParams(o))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let d;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HB(o,this.formSerializer).toString();if((d=Oe.isFileList(o))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return ec(d?{"files[]":o}:o,g&&new g,this.formSerializer)}}return h||u?(n.setContentType("application/json",!1),VB(o)):o}],transformResponse:[function(o){const n=this.transitional||tc.transitional,a=n&&n.forcedJSONParsing,u=this.responseType==="json";if(o&&Oe.isString(o)&&(a&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(o)}catch(d){if(f)throw d.name==="SyntaxError"?zt.from(d,zt.ERR_BAD_RESPONSE,this,null,this.response):d}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Oe.forEach(["delete","get","head"],function(o){tc.headers[o]={}});Oe.forEach(["post","put","patch"],function(o){tc.headers[o]=Oe.merge(UB)});const Bf=tc,WB=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GB=t=>{const o={};let n,a,u;return t&&t.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!n||o[n]&&WB[n])&&(n==="set-cookie"?o[n]?o[n].push(a):o[n]=[a]:o[n]=o[n]?o[n]+", "+a:a)}),o},Gy=Symbol("internals");function Ls(t){return t&&String(t).trim().toLowerCase()}function uu(t){return t===!1||t==null?t:Oe.isArray(t)?t.map(uu):String(t)}function qB(t){const o=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)o[a[1]]=a[2];return o}function XB(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function ud(t,o,n,a,u){if(Oe.isFunction(a))return a.call(this,o,n);if(u&&(o=n),!!Oe.isString(o)){if(Oe.isString(a))return o.indexOf(a)!==-1;if(Oe.isRegExp(a))return a.test(o)}}function ZB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,n,a)=>n.toUpperCase()+a)}function YB(t,o){const n=Oe.toCamelCase(" "+o);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(u,h,f){return this[a].call(this,o,u,h,f)},configurable:!0})})}class nc{constructor(o){o&&this.set(o)}set(o,n,a){const u=this;function h(d,g,v){const _=Ls(g);if(!_)throw new Error("header name must be a non-empty string");const x=Oe.findKey(u,_);(!x||u[x]===void 0||v===!0||v===void 0&&u[x]!==!1)&&(u[x||g]=uu(d))}const f=(d,g)=>Oe.forEach(d,(v,_)=>h(v,_,g));return Oe.isPlainObject(o)||o instanceof this.constructor?f(o,n):Oe.isString(o)&&(o=o.trim())&&!XB(o)?f(GB(o),n):o!=null&&h(n,o,a),this}get(o,n){if(o=Ls(o),o){const a=Oe.findKey(this,o);if(a){const u=this[a];if(!n)return u;if(n===!0)return qB(u);if(Oe.isFunction(n))return n.call(this,u,a);if(Oe.isRegExp(n))return n.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,n){if(o=Ls(o),o){const a=Oe.findKey(this,o);return!!(a&&this[a]!==void 0&&(!n||ud(this,this[a],a,n)))}return!1}delete(o,n){const a=this;let u=!1;function h(f){if(f=Ls(f),f){const d=Oe.findKey(a,f);d&&(!n||ud(a,a[d],d,n))&&(delete a[d],u=!0)}}return Oe.isArray(o)?o.forEach(h):h(o),u}clear(o){const n=Object.keys(this);let a=n.length,u=!1;for(;a--;){const h=n[a];(!o||ud(this,this[h],h,o,!0))&&(delete this[h],u=!0)}return u}normalize(o){const n=this,a={};return Oe.forEach(this,(u,h)=>{const f=Oe.findKey(a,h);if(f){n[f]=uu(u),delete n[h];return}const d=o?ZB(h):String(h).trim();d!==h&&delete n[h],n[d]=uu(u),a[d]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const n=Object.create(null);return Oe.forEach(this,(a,u)=>{a!=null&&a!==!1&&(n[u]=o&&Oe.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,n])=>o+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...n){const a=new this(o);return n.forEach(u=>a.set(u)),a}static accessor(o){const a=(this[Gy]=this[Gy]={accessors:{}}).accessors,u=this.prototype;function h(f){const d=Ls(f);a[d]||(YB(u,f),a[d]=!0)}return Oe.isArray(o)?o.forEach(h):h(o),this}}nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.freezeMethods(nc.prototype);Oe.freezeMethods(nc);const Xi=nc;function cd(t,o){const n=this||Bf,a=o||n,u=Xi.from(a.headers);let h=a.data;return Oe.forEach(t,function(d){h=d.call(n,h,u.normalize(),o?o.status:void 0)}),u.normalize(),h}function zw(t){return!!(t&&t.__CANCEL__)}function Sa(t,o,n){zt.call(this,t==null?"canceled":t,zt.ERR_CANCELED,o,n),this.name="CanceledError"}Oe.inherits(Sa,zt,{__CANCEL__:!0});function KB(t,o,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):o(new zt("Request failed with status code "+n.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const JB=Ii.isStandardBrowserEnv?function(){return{write:function(n,a,u,h,f,d){const g=[];g.push(n+"="+encodeURIComponent(a)),Oe.isNumber(u)&&g.push("expires="+new Date(u).toGMTString()),Oe.isString(h)&&g.push("path="+h),Oe.isString(f)&&g.push("domain="+f),d===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(n){const a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function QB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $B(t,o){return o?t.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):t}function jw(t,o){return t&&!QB(o)?$B(t,o):o}const e5=Ii.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let a;function u(h){let f=h;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=u(window.location.href),function(f){const d=Oe.isString(f)?u(f):f;return d.protocol===a.protocol&&d.host===a.host}}():function(){return function(){return!0}}();function t5(t){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return o&&o[1]||""}function n5(t,o){t=t||10;const n=new Array(t),a=new Array(t);let u=0,h=0,f;return o=o!==void 0?o:1e3,function(g){const v=Date.now(),_=a[h];f||(f=v),n[u]=g,a[u]=v;let x=h,T=0;for(;x!==u;)T+=n[x++],x=x%t;if(u=(u+1)%t,u===h&&(h=(h+1)%t),v-f<o)return;const B=_&&v-_;return B?Math.round(T*1e3/B):void 0}}function qy(t,o){let n=0;const a=n5(50,250);return u=>{const h=u.loaded,f=u.lengthComputable?u.total:void 0,d=h-n,g=a(d),v=h<=f;n=h;const _={loaded:h,total:f,progress:f?h/f:void 0,bytes:d,rate:g||void 0,estimated:g&&f&&v?(f-h)/g:void 0,event:u};_[o?"download":"upload"]=!0,t(_)}}const i5=typeof XMLHttpRequest<"u",r5=i5&&function(t){return new Promise(function(n,a){let u=t.data;const h=Xi.from(t.headers).normalize(),f=t.responseType;let d;function g(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}Oe.isFormData(u)&&(Ii.isStandardBrowserEnv||Ii.isStandardBrowserWebWorkerEnv)&&h.setContentType(!1);let v=new XMLHttpRequest;if(t.auth){const B=t.auth.username||"",M=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.set("Authorization","Basic "+btoa(B+":"+M))}const _=jw(t.baseURL,t.url);v.open(t.method.toUpperCase(),Fw(_,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function x(){if(!v)return;const B=Xi.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!f||f==="text"||f==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:B,config:t,request:v};KB(function(F){n(F),g()},function(F){a(F),g()},j),v=null}if("onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){!v||(a(new zt("Request aborted",zt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){a(new zt("Network Error",zt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let M=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const j=t.transitional||Lw;t.timeoutErrorMessage&&(M=t.timeoutErrorMessage),a(new zt(M,j.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,t,v)),v=null},Ii.isStandardBrowserEnv){const B=(t.withCredentials||e5(_))&&t.xsrfCookieName&&JB.read(t.xsrfCookieName);B&&h.set(t.xsrfHeaderName,B)}u===void 0&&h.setContentType(null),"setRequestHeader"in v&&Oe.forEach(h.toJSON(),function(M,j){v.setRequestHeader(j,M)}),Oe.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),f&&f!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",qy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",qy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(d=B=>{!v||(a(!B||B.type?new Sa(null,t,v):B),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));const T=t5(_);if(T&&Ii.protocols.indexOf(T)===-1){a(new zt("Unsupported protocol "+T+":",zt.ERR_BAD_REQUEST,t));return}v.send(u||null)})},cu={http:RB,xhr:r5};Oe.forEach(cu,(t,o)=>{if(t){try{Object.defineProperty(t,"name",{value:o})}catch{}Object.defineProperty(t,"adapterName",{value:o})}});const o5={getAdapter:t=>{t=Oe.isArray(t)?t:[t];const{length:o}=t;let n,a;for(let u=0;u<o&&(n=t[u],!(a=Oe.isString(n)?cu[n.toLowerCase()]:n));u++);if(!a)throw a===!1?new zt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Oe.hasOwnProp(cu,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Oe.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:cu};function hd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sa(null,t)}function Xy(t){return hd(t),t.headers=Xi.from(t.headers),t.data=cd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),o5.getAdapter(t.adapter||Bf.adapter)(t).then(function(a){return hd(t),a.data=cd.call(t,t.transformResponse,a),a.headers=Xi.from(a.headers),a},function(a){return zw(a)||(hd(t),a&&a.response&&(a.response.data=cd.call(t,t.transformResponse,a.response),a.response.headers=Xi.from(a.response.headers))),Promise.reject(a)})}const Zy=t=>t instanceof Xi?t.toJSON():t;function os(t,o){o=o||{};const n={};function a(v,_,x){return Oe.isPlainObject(v)&&Oe.isPlainObject(_)?Oe.merge.call({caseless:x},v,_):Oe.isPlainObject(_)?Oe.merge({},_):Oe.isArray(_)?_.slice():_}function u(v,_,x){if(Oe.isUndefined(_)){if(!Oe.isUndefined(v))return a(void 0,v,x)}else return a(v,_,x)}function h(v,_){if(!Oe.isUndefined(_))return a(void 0,_)}function f(v,_){if(Oe.isUndefined(_)){if(!Oe.isUndefined(v))return a(void 0,v)}else return a(void 0,_)}function d(v,_,x){if(x in o)return a(v,_);if(x in t)return a(void 0,v)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(v,_)=>u(Zy(v),Zy(_),!0)};return Oe.forEach(Object.keys(t).concat(Object.keys(o)),function(_){const x=g[_]||u,T=x(t[_],o[_],_);Oe.isUndefined(T)&&x!==d||(n[_]=T)}),n}const Uw="1.3.4",If={};["object","boolean","number","function","string","symbol"].forEach((t,o)=>{If[t]=function(a){return typeof a===t||"a"+(o<1?"n ":" ")+t}});const Yy={};If.transitional=function(o,n,a){function u(h,f){return"[Axios v"+Uw+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,d)=>{if(o===!1)throw new zt(u(f," has been removed"+(n?" in "+n:"")),zt.ERR_DEPRECATED);return n&&!Yy[f]&&(Yy[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),o?o(h,f,d):!0}};function s5(t,o,n){if(typeof t!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let u=a.length;for(;u-- >0;){const h=a[u],f=o[h];if(f){const d=t[h],g=d===void 0||f(d,h,t);if(g!==!0)throw new zt("option "+h+" must be "+g,zt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zt("Unknown option "+h,zt.ERR_BAD_OPTION)}}const Hd={assertOptions:s5,validators:If},gr=Hd.validators;class xu{constructor(o){this.defaults=o,this.interceptors={request:new Wy,response:new Wy}}request(o,n){typeof o=="string"?(n=n||{},n.url=o):n=o||{},n=os(this.defaults,n);const{transitional:a,paramsSerializer:u,headers:h}=n;a!==void 0&&Hd.assertOptions(a,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),u!==void 0&&Hd.assertOptions(u,{encode:gr.function,serialize:gr.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f;f=h&&Oe.merge(h.common,h[n.method]),f&&Oe.forEach(["delete","get","head","post","put","patch","common"],M=>{delete h[M]}),n.headers=Xi.concat(f,h);const d=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(g=g&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const v=[];this.interceptors.response.forEach(function(j){v.push(j.fulfilled,j.rejected)});let _,x=0,T;if(!g){const M=[Xy.bind(this),void 0];for(M.unshift.apply(M,d),M.push.apply(M,v),T=M.length,_=Promise.resolve(n);x<T;)_=_.then(M[x++],M[x++]);return _}T=d.length;let B=n;for(x=0;x<T;){const M=d[x++],j=d[x++];try{B=M(B)}catch(V){j.call(this,V);break}}try{_=Xy.call(this,B)}catch(M){return Promise.reject(M)}for(x=0,T=v.length;x<T;)_=_.then(v[x++],v[x++]);return _}getUri(o){o=os(this.defaults,o);const n=jw(o.baseURL,o.url);return Fw(n,o.params,o.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(o){xu.prototype[o]=function(n,a){return this.request(os(a||{},{method:o,url:n,data:(a||{}).data}))}});Oe.forEach(["post","put","patch"],function(o){function n(a){return function(h,f,d){return this.request(os(d||{},{method:o,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}xu.prototype[o]=n(),xu.prototype[o+"Form"]=n(!0)});const hu=xu;class Nf{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(h){n=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(d=>{a.subscribe(d),h=d}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},o(function(h,f,d){a.reason||(a.reason=new Sa(h,f,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const n=this._listeners.indexOf(o);n!==-1&&this._listeners.splice(n,1)}static source(){let o;return{token:new Nf(function(u){o=u}),cancel:o}}}const a5=Nf;function l5(t){return function(n){return t.apply(null,n)}}function u5(t){return Oe.isObject(t)&&t.isAxiosError===!0}const zd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zd).forEach(([t,o])=>{zd[o]=t});const c5=zd;function Vw(t){const o=new hu(t),n=Sw(hu.prototype.request,o);return Oe.extend(n,hu.prototype,o,{allOwnKeys:!0}),Oe.extend(n,o,null,{allOwnKeys:!0}),n.create=function(u){return Vw(os(t,u))},n}const En=Vw(Bf);En.Axios=hu;En.CanceledError=Sa;En.CancelToken=a5;En.isCancel=zw;En.VERSION=Uw;En.toFormData=ec;En.AxiosError=zt;En.Cancel=En.CanceledError;En.all=function(o){return Promise.all(o)};En.spread=l5;En.isAxiosError=u5;En.mergeConfig=os;En.AxiosHeaders=Xi;En.formToJSON=t=>Hw(Oe.isHTMLForm(t)?new FormData(t):t);En.HttpStatusCode=c5;En.default=En;const Ky=En,h5={}.VITE_BACKENDURL,d5="http://localhost:8101";class f5{constructor(){console.log(h5),this.backendURL="",this.headers={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},window.location.hostname=="localhost"?(this.backendURL=d5,this.requests_axios=Ky.create({baseURL:this.backendURL,withCredentials:!1,headers:this.headers})):(this.backendURL="/graggle-backend",this.requests_axios=Ky.create({baseURL:"",withCredentials:!1,headers:this.headers})),console.log("window.location.hostname: "+window.location.hostname),console.log("this.backendURL: "+this.backendURL)}get_databases(o){return this.requests_axios.get(this.backendURL+"/databases").then(o)}get_datasets_filtered(o,n){return this.requests_axios.post(this.backendURL+"/datasets/filter",{filter:n}).then(o)}get_dataset_description(o,n,a,u){return this.requests_axios.get(this.backendURL+"/dataset/description/"+a+"/"+u).then(o).catch(n)}post_dataset_description(o,n,a){return this.requests_axios.post(this.backendURL+"/dataset/description",a).then(o).catch(n)}get_dataset_comments(o,n,a){return this.requests_axios.get(this.backendURL+"/dataset/comments/"+n+"/"+a).then(o)}get_dataset_document(o,n,a,u,h,f,d){return this.requests_axios.get(this.backendURL+"/dataset/document/"+a+"/"+u+"/"+h+"/"+f+"?low_resolution="+d).then(o).catch(n)}}const Yr=new f5,Ww=Qu("databases",{state:()=>({datasets:["loading"]}),actions:{load(){var t=this,o=function(n){t.datasets=n.data.databases};Yr.get_databases(o)},get_databases(){return this.datasets}}});const p5={data(){return{activeIndex:null,datasets:["loading"],active_database:null,collection_overwrite:!1,gstore:Bn(),databasestore:Ww()}},computed:{},mounted(){this.databasestore.load()},methods:{is_active_database(t){return this.active_database==t},isActive(t,o){return Array.isArray(this.activeIndex)?this.activeIndex[0]===t?o?this.activeIndex[1]===o:!0:!1:this.activeIndex===t},async set_selected_database(t){let o=n=>new Promise(a=>setTimeout(a,n));await o(50),this.collection_overwrite||(this.active_database=t,this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",await o(50),this.gstore.filter=this.active_database)},async set_selected_collection(t,o){this.gstore.selected_db=t,this.gstore.selected_col=o,this.collection_overwrite=!0,await(a=>new Promise(u=>setTimeout(u,a)))(500),this.collection_overwrite=!1}}},g5={class:"w-full"},m5={class:"grid grid-cols-1 gap-2"},v5=["onClick"],y5={key:0,class:"mt-2 border-l-4 border-secondary overflow-y-auto max-h-80 overflow-x-hidden"},b5=["onClick"];function w5(t,o,n,a,u,h){return Ue(),Ye("div",g5,[te("div",m5,[(Ue(!0),Ye(Gt,null,ei(u.databasestore.get_databases(),f=>(Ue(),Ye("div",{class:Dn(["bg-secondary py-2 px-4 rounded text-lg font-semibold",{"bg-tertiary-900":h.is_active_database(f.database_name)}]),onClick:d=>h.set_selected_database(f.database_name)},[sn(Dt(f.database_name)+" ",1),h.is_active_database(f.database_name)?(Ue(),Ye("ul",y5,[(Ue(!0),Ye(Gt,null,ei(f.collection_names,d=>(Ue(),Ye("li",{class:Dn(["py-2 px-2 cursor-pointer text-m text-gray-300",{"bg-tertiary-900":h.isActive(1,1)}]),onClick:g=>h.set_selected_collection(f.database_name,d)},Dt(d.slice(0,22)),11,b5))),256))])):Qt("",!0)],10,v5))),256))])])}const _5=on(p5,[["render",w5]]),$s=class{static buildBookmark(o){return o.selected_db+"##"+o.selected_col}static getBookmarks(){return JSON.parse(localStorage.getItem($s.local_storace_name))||[]}static getBookmarksObj(){const o=JSON.parse(localStorage.getItem($s.local_storace_name))||[],n=[];for(let a=0;a<o.length;a++){const u=o[a].split("##");n.push({database:u[0],collection:u[1],image:"",title:""})}return n}static setBookmarks(o){localStorage.setItem($s.local_storace_name,JSON.stringify(o))}static adjustCounter(o,n){o.amount_bookmarks=n}static bookmark(o){const n=this.buildBookmark(o),a=this.getBookmarks();a.push(n),this.setBookmarks(a),this.adjustCounter(o,a.length)}static unbookmark(o){const n=this.buildBookmark(o),a=this.getBookmarks(),u=a.indexOf(n);u>-1&&a.splice(u,1),this.setBookmarks(a),this.adjustCounter(o,a.length)}static isbookmarked(o){const n=this.buildBookmark(o);return this.getBookmarks().indexOf(n)>-1}};let io=$s;ty(io,"local_storace_name","bookmarks");class Jy{static base64_to_url(o){const n=atob(o.split(",")[1]),a=new Array(n.length);for(let d=0;d<n.length;d++)a[d]=n.charCodeAt(d);const u=new Uint8Array(a),h=new Blob([u],{type:"image/png"});return URL.createObjectURL(h)}}const Dr=Qu("dataset",{state:()=>({global_counter:0,low_resolution:!1,dataset_description:null,dataset_loading:!1,documents_filter:"{}",documents_images:[],documents:[{loading:"we are currently fetching the data from the database. Please wait a few seconds."}],current_index:0,gstore:Bn()}),actions:{reset(){this.global_counter=this.global_counter+1,this.documents_filter="{}",this.current_index=0,this.documents_images=[],this.documents=[{loading:""}]},reset_dataset_description(){this.dataset_description=null},set_filter(t){this.documents_filter=t},load(){this.load_dataset_description(),this.get_data(!0)},data_get_all_documents(){return this.documents},data_get_all_image(){return this.documents_images},data_get_current_documents(){return this.documents[this.current_index]},data_get_current_image(){return this.documents_images[this.current_index]},data_has_data(){return 0<this.documents_images.length},data_has_next(){return this.current_index<this.documents_images.length-1},data_has_prev(){return this.current_index>0},data_next(){this.current_index==this.documents_images.length-2&&this.get_data(!1),this.current_index=this.current_index+1,this.current_image=this.documents_images[this.current_index]},data_prev(){this.current_index=this.current_index-1,this.current_image=this.documents_images[this.current_index]},async get_data(t){let o=this.global_counter;var n=this,a=function(g){if(n.global_counter!=o)return;"loading"in n.documents[0]&&(n.documents=[],n.documents_images=[]);let v=g.data.document;"image"in g.data.document&&(n.documents_images.push(Jy.base64_to_url(g.data.document.image)),delete v.image),"image_data"in g.data.document&&(n.documents_images.push(Jy.base64_to_url(g.data.document.image_data)),delete v.image_data),n.documents.push(v),t?n.get_data(!1):n.next_disabled=!1},u=function(g){n.documents=[{"empty result or wrong filter":""}]};let h=this.gstore.selected_db,f=this.gstore.selected_col,d=this.documents.length;"loading"in n.documents[0]&&(d=0),Yr.get_dataset_document(a,u,h,f,d,this.documents_filter||"{}",this.low_resolution)},is_dataset_loading(){return this.dataset_loading},get_dataset_description(){return this.dataset_description},async filter_datasets(t){var o=null,n=function(a){o=a.data.datasetdescriptors};return await Yr.get_datasets_filtered(n,t),o},async read_dataset_description(t,o){var n=null,a=function(h){n=h.data},u=function(h){};return await Yr.get_dataset_description(a,u,t,o),n},load_dataset_description(){var t=this;this.dataset_loading=!0;var o=function(h){t.dataset_description=h.data,t.dataset_loading=!1},n=function(h){h.response.status==404&&(t.dataset_description=null),t.dataset_loading=!1};let a=this.gstore.selected_db,u=this.gstore.selected_col;Yr.get_dataset_description(o,n,a,u)},async post_dataset_description(t){let o=!0;var n=function(u){o=!0},a=function(u){o=!1};return await Yr.post_dataset_description(n,a,t),o}}}),x5={data(){return{bookmarks:[],gstore:Bn(),datasetstore:Dr()}},computed:{},mounted(){this.handle_bookmarks(),jn(()=>this.gstore.amount_bookmarks,(t,o)=>{this.handle_bookmarks()})},methods:{handle_bookmarks(){this.bookmarks=io.getBookmarksObj();for(let t=0;t<this.bookmarks.length;t++)this.handle_bookmark(t)},async handle_bookmark(t){let o=await this.datasetstore.read_dataset_description(this.bookmarks[t].database,this.bookmarks[t].collection);this.bookmarks[t].image=o.image,this.bookmarks[t].title=o.dataset_display_title},set_selected_collection(t,o){this.gstore.selected_db=t,this.gstore.selected_col=o}}},E5={class:"w-full"},S5={class:"grid grid-cols-1 gap-2"},T5=["onClick"],C5={class:"grid grid-cols-3 gap-2"},P5={class:"flex items-center justify-center"},A5=["src"],R5={class:""},O5={class:"font-semibold text-lg"},k5={class:"text-gray-500 text-xs"};function D5(t,o,n,a,u,h){return Ue(),Ye("div",E5,[te("div",S5,[(Ue(!0),Ye(Gt,null,ei(u.bookmarks,f=>(Ue(),Ye("div",{class:"bg-secondary py-2 px-2 rounded",onClick:d=>h.set_selected_collection(f.database,f.collection)},[te("div",C5,[te("div",P5,[f.image!=""?(Ue(),Ye("img",{key:0,src:f.image,class:"rounded mx-auto"},null,8,A5)):Qt("",!0)]),te("div",R5,[te("div",O5,Dt(f.title),1),te("div",k5,Dt(f.collection),1)])])],8,T5))),256))])])}const M5=on(x5,[["render",D5]]),B5="/graggle-backend/graggle-frontend/assets/construction.1202de5e.jpg",I5={data(){return{}},mounted(){},methods:{}},N5={class:"w-full"},F5=te("img",{class:"",src:B5},null,-1),L5=[F5];function H5(t,o,n,a,u,h){return Ue(),Ye("div",N5,L5)}const z5=on(I5,[["render",H5]]),j5={name:"Tagging",data(){return{cl_menu_item_active:"border-l-8 border-gray-800",p_flex_size:this.flex_size,isCollapsed:!1,buttons_col_span:"col-span-2",menu_items:[{icon:"fa-database",active:!0,title:"Datasets",comp:"DatasetList"},{icon:"fa-bookmark",active:!1,title:"Bookmarks",comp:"BookmarkList"},{icon:"fa-filter",active:!1,title:"Filters",comp:"Filters"},{icon:"fa-bars",active:!1,title:"Options",comp:"Options"}]}},methods:{menu_btn_click(t){if(t.active!=!0){var o=this.menu_items.indexOf(t),n=this.menu_items.findIndex(a=>a.active);o===n&&!this.isCollapsed?this.collapse():o===n&&this.isCollapsed?this.uncollapse():this.uncollapse();for(let a=0;a<this.menu_items.length;a++)this.menu_items[a].active=!1;t.active=!0}},collapse(){this.isCollapsed=!0,this.p_flex_size="w-15",this.buttons_col_span="col-span-12"},uncollapse(){this.isCollapsed=!1,this.p_flex_size=this.flex_size,this.buttons_col_span="col-span-2"}},components:{DatasetList:_5,BookmarkList:M5,Filters:z5,Options:JM}},U5={class:"flex flex-col h-full min-h-100"},V5={class:"grid grid-cols-12 h-full min-h-100 p-0"},W5=["onClick"],G5={class:"flex justify-center border-b-4 mb-2 border-secondary"},q5={class:"text-xl text-gray-300 w-100 leading-2 font-bold"};function X5(t,o,n,a,u,h){const f=Nt("font-awesome-icon");return Ue(),Ye("div",{class:Dn(["flex flex-col bg-primary text-white",u.p_flex_size,u.isCollapsed?"min-w-[50px]":"min-w-[250px]"])},[te("div",U5,[te("div",V5,[te("div",{class:Dn([u.buttons_col_span,"bg-secondary h-full min-h-100 min-w-[50px]"])},[(Ue(!0),Ye(Gt,null,ei(u.menu_items,d=>(Ue(),Ye("div",{key:d.id,class:Dn(["text-2xl bg-gray cursor-pointer",["px-3.5 py-2","border-1","border-black",d.active?u.cl_menu_item_active:""]]),onClick:g=>h.menu_btn_click(d)},[Je(f,{icon:d.icon,class:Dn(d.active?"":"text-gray-600 hover:text-gray-500")},null,8,["icon","class"])],10,W5))),128))],2),te("div",{style:po(u.isCollapsed?"display: none":""),class:"col-span-10 px-2"},[(Ue(!0),Ye(Gt,null,ei(u.menu_items,d=>hi((Ue(),Ye("div",{key:d.id},[te("div",G5,[te("div",q5,Dt(d.title),1)]),(Ue(),yi(Pb(d.comp)))])),[[Ju,d.active]])),128))],4)])])],2)}const Z5=on(j5,[["render",X5]]);var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y5(t){var o=t.default;if(typeof o=="function"){var n=function(){return o.apply(this,arguments)};n.prototype=o.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var u=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:function(){return t[a]}})}),n}function qw(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(o=>{const n=t[o],a=typeof n;(a==="object"||a==="function")&&!Object.isFrozen(n)&&qw(n)}),t}class Qy{constructor(o){o.data===void 0&&(o.data={}),this.data=o.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Xw(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function wr(t,...o){const n=Object.create(null);for(const a in t)n[a]=t[a];return o.forEach(function(a){for(const u in a)n[u]=a[u]}),n}const K5="</span>",$y=t=>!!t.scope,J5=(t,{prefix:o})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${o}${n.shift()}`,...n.map((a,u)=>`${a}${"_".repeat(u+1)}`)].join(" ")}return`${o}${t}`};class Q5{constructor(o,n){this.buffer="",this.classPrefix=n.classPrefix,o.walk(this)}addText(o){this.buffer+=Xw(o)}openNode(o){if(!$y(o))return;const n=J5(o.scope,{prefix:this.classPrefix});this.span(n)}closeNode(o){!$y(o)||(this.buffer+=K5)}value(){return this.buffer}span(o){this.buffer+=`<span class="${o}">`}}const e1=(t={})=>{const o={children:[]};return Object.assign(o,t),o};class Ff{constructor(){this.rootNode=e1(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(o){this.top.children.push(o)}openNode(o){const n=e1({scope:o});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(o){return this.constructor._walk(o,this.rootNode)}static _walk(o,n){return typeof n=="string"?o.addText(n):n.children&&(o.openNode(n),n.children.forEach(a=>this._walk(o,a)),o.closeNode(n)),o}static _collapse(o){typeof o!="string"&&(!o.children||(o.children.every(n=>typeof n=="string")?o.children=[o.children.join("")]:o.children.forEach(n=>{Ff._collapse(n)})))}}class $5 extends Ff{constructor(o){super(),this.options=o}addText(o){o!==""&&this.add(o)}startScope(o){this.openNode(o)}endScope(){this.closeNode()}__addSublanguage(o,n){const a=o.root;n&&(a.scope=`language:${n}`),this.add(a)}toHTML(){return new Q5(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function la(t){return t?typeof t=="string"?t:t.source:null}function Zw(t){return yo("(?=",t,")")}function eI(t){return yo("(?:",t,")*")}function tI(t){return yo("(?:",t,")?")}function yo(...t){return t.map(n=>la(n)).join("")}function nI(t){const o=t[t.length-1];return typeof o=="object"&&o.constructor===Object?(t.splice(t.length-1,1),o):{}}function Lf(...t){return"("+(nI(t).capture?"":"?:")+t.map(a=>la(a)).join("|")+")"}function Yw(t){return new RegExp(t.toString()+"|").exec("").length-1}function iI(t,o){const n=t&&t.exec(o);return n&&n.index===0}const rI=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Hf(t,{joinWith:o}){let n=0;return t.map(a=>{n+=1;const u=n;let h=la(a),f="";for(;h.length>0;){const d=rI.exec(h);if(!d){f+=h;break}f+=h.substring(0,d.index),h=h.substring(d.index+d[0].length),d[0][0]==="\\"&&d[1]?f+="\\"+String(Number(d[1])+u):(f+=d[0],d[0]==="("&&n++)}return f}).map(a=>`(${a})`).join(o)}const oI=/\b\B/,Kw="[a-zA-Z]\\w*",zf="[a-zA-Z_]\\w*",Jw="\\b\\d+(\\.\\d+)?",Qw="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",$w="\\b(0b[01]+)",sI="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",aI=(t={})=>{const o=/^#![ ]*\//;return t.binary&&(t.begin=yo(o,/.*\b/,t.binary,/\b.*/)),wr({scope:"meta",begin:o,end:/$/,relevance:0,"on:begin":(n,a)=>{n.index!==0&&a.ignoreMatch()}},t)},ua={begin:"\\\\[\\s\\S]",relevance:0},lI={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ua]},uI={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ua]},cI={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ic=function(t,o,n={}){const a=wr({scope:"comment",begin:t,end:o,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const u=Lf("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:yo(/[ ]+/,"(",u,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},hI=ic("//","$"),dI=ic("/\\*","\\*/"),fI=ic("#","$"),pI={scope:"number",begin:Jw,relevance:0},gI={scope:"number",begin:Qw,relevance:0},mI={scope:"number",begin:$w,relevance:0},vI={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ua,{begin:/\[/,end:/\]/,relevance:0,contains:[ua]}]}]},yI={scope:"title",begin:Kw,relevance:0},bI={scope:"title",begin:zf,relevance:0},wI={begin:"\\.\\s*"+zf,relevance:0},_I=function(t){return Object.assign(t,{"on:begin":(o,n)=>{n.data._beginMatch=o[1]},"on:end":(o,n)=>{n.data._beginMatch!==o[1]&&n.ignoreMatch()}})};var Kl=Object.freeze({__proto__:null,MATCH_NOTHING_RE:oI,IDENT_RE:Kw,UNDERSCORE_IDENT_RE:zf,NUMBER_RE:Jw,C_NUMBER_RE:Qw,BINARY_NUMBER_RE:$w,RE_STARTERS_RE:sI,SHEBANG:aI,BACKSLASH_ESCAPE:ua,APOS_STRING_MODE:lI,QUOTE_STRING_MODE:uI,PHRASAL_WORDS_MODE:cI,COMMENT:ic,C_LINE_COMMENT_MODE:hI,C_BLOCK_COMMENT_MODE:dI,HASH_COMMENT_MODE:fI,NUMBER_MODE:pI,C_NUMBER_MODE:gI,BINARY_NUMBER_MODE:mI,REGEXP_MODE:vI,TITLE_MODE:yI,UNDERSCORE_TITLE_MODE:bI,METHOD_GUARD:wI,END_SAME_AS_BEGIN:_I});function xI(t,o){t.input[t.index-1]==="."&&o.ignoreMatch()}function EI(t,o){t.className!==void 0&&(t.scope=t.className,delete t.className)}function SI(t,o){!o||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=xI,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function TI(t,o){!Array.isArray(t.illegal)||(t.illegal=Lf(...t.illegal))}function CI(t,o){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function PI(t,o){t.relevance===void 0&&(t.relevance=1)}const AI=(t,o)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(a=>{delete t[a]}),t.keywords=n.keywords,t.begin=yo(n.beforeMatch,Zw(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},RI=["of","and","for","in","not","or","if","then","parent","list","value"],OI="keyword";function e_(t,o,n=OI){const a=Object.create(null);return typeof t=="string"?u(n,t.split(" ")):Array.isArray(t)?u(n,t):Object.keys(t).forEach(function(h){Object.assign(a,e_(t[h],o,h))}),a;function u(h,f){o&&(f=f.map(d=>d.toLowerCase())),f.forEach(function(d){const g=d.split("|");a[g[0]]=[h,kI(g[0],g[1])]})}}function kI(t,o){return o?Number(o):DI(t)?0:1}function DI(t){return RI.includes(t.toLowerCase())}const t1={},ro=t=>{console.error(t)},n1=(t,...o)=>{console.log(`WARN: ${t}`,...o)},Vo=(t,o)=>{t1[`${t}/${o}`]||(console.log(`Deprecated as of ${t}. ${o}`),t1[`${t}/${o}`]=!0)},Eu=new Error;function t_(t,o,{key:n}){let a=0;const u=t[n],h={},f={};for(let d=1;d<=o.length;d++)f[d+a]=u[d],h[d+a]=!0,a+=Yw(o[d-1]);t[n]=f,t[n]._emit=h,t[n]._multi=!0}function MI(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw ro("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Eu;if(typeof t.beginScope!="object"||t.beginScope===null)throw ro("beginScope must be object"),Eu;t_(t,t.begin,{key:"beginScope"}),t.begin=Hf(t.begin,{joinWith:""})}}function BI(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw ro("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Eu;if(typeof t.endScope!="object"||t.endScope===null)throw ro("endScope must be object"),Eu;t_(t,t.end,{key:"endScope"}),t.end=Hf(t.end,{joinWith:""})}}function II(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function NI(t){II(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),MI(t),BI(t)}function FI(t){function o(f,d){return new RegExp(la(f),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(d?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(d,g){g.position=this.position++,this.matchIndexes[this.matchAt]=g,this.regexes.push([g,d]),this.matchAt+=Yw(d)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const d=this.regexes.map(g=>g[1]);this.matcherRe=o(Hf(d,{joinWith:"|"}),!0),this.lastIndex=0}exec(d){this.matcherRe.lastIndex=this.lastIndex;const g=this.matcherRe.exec(d);if(!g)return null;const v=g.findIndex((x,T)=>T>0&&x!==void 0),_=this.matchIndexes[v];return g.splice(0,v),Object.assign(g,_)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(d){if(this.multiRegexes[d])return this.multiRegexes[d];const g=new n;return this.rules.slice(d).forEach(([v,_])=>g.addRule(v,_)),g.compile(),this.multiRegexes[d]=g,g}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(d,g){this.rules.push([d,g]),g.type==="begin"&&this.count++}exec(d){const g=this.getMatcher(this.regexIndex);g.lastIndex=this.lastIndex;let v=g.exec(d);if(this.resumingScanAtSamePosition()&&!(v&&v.index===this.lastIndex)){const _=this.getMatcher(0);_.lastIndex=this.lastIndex+1,v=_.exec(d)}return v&&(this.regexIndex+=v.position+1,this.regexIndex===this.count&&this.considerAll()),v}}function u(f){const d=new a;return f.contains.forEach(g=>d.addRule(g.begin,{rule:g,type:"begin"})),f.terminatorEnd&&d.addRule(f.terminatorEnd,{type:"end"}),f.illegal&&d.addRule(f.illegal,{type:"illegal"}),d}function h(f,d){const g=f;if(f.isCompiled)return g;[EI,CI,NI,AI].forEach(_=>_(f,d)),t.compilerExtensions.forEach(_=>_(f,d)),f.__beforeBegin=null,[SI,TI,PI].forEach(_=>_(f,d)),f.isCompiled=!0;let v=null;return typeof f.keywords=="object"&&f.keywords.$pattern&&(f.keywords=Object.assign({},f.keywords),v=f.keywords.$pattern,delete f.keywords.$pattern),v=v||/\w+/,f.keywords&&(f.keywords=e_(f.keywords,t.case_insensitive)),g.keywordPatternRe=o(v,!0),d&&(f.begin||(f.begin=/\B|\b/),g.beginRe=o(g.begin),!f.end&&!f.endsWithParent&&(f.end=/\B|\b/),f.end&&(g.endRe=o(g.end)),g.terminatorEnd=la(g.end)||"",f.endsWithParent&&d.terminatorEnd&&(g.terminatorEnd+=(f.end?"|":"")+d.terminatorEnd)),f.illegal&&(g.illegalRe=o(f.illegal)),f.contains||(f.contains=[]),f.contains=[].concat(...f.contains.map(function(_){return LI(_==="self"?f:_)})),f.contains.forEach(function(_){h(_,g)}),f.starts&&h(f.starts,d),g.matcher=u(g),g}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=wr(t.classNameAliases||{}),h(t)}function n_(t){return t?t.endsWithParent||n_(t.starts):!1}function LI(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(o){return wr(t,{variants:null},o)})),t.cachedVariants?t.cachedVariants:n_(t)?wr(t,{starts:t.starts?wr(t.starts):null}):Object.isFrozen(t)?wr(t):t}var HI="11.8.0";class zI extends Error{constructor(o,n){super(o),this.name="HTMLInjectionError",this.html=n}}const dd=Xw,i1=wr,r1=Symbol("nomatch"),jI=7,i_=function(t){const o=Object.create(null),n=Object.create(null),a=[];let u=!0;const h="Could not find the language '{}', did you forget to load/include a language module?",f={disableAutodetect:!0,name:"Plain text",contains:[]};let d={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:$5};function g(xe){return d.noHighlightRe.test(xe)}function v(xe){let Ce=xe.className+" ";Ce+=xe.parentNode?xe.parentNode.className:"";const nt=d.languageDetectRe.exec(Ce);if(nt){const Ne=_e(nt[1]);return Ne||(n1(h.replace("{}",nt[1])),n1("Falling back to no-highlight mode for this block.",xe)),Ne?nt[1]:"no-highlight"}return Ce.split(/\s+/).find(Ne=>g(Ne)||_e(Ne))}function _(xe,Ce,nt){let Ne="",wt="";typeof Ce=="object"?(Ne=xe,nt=Ce.ignoreIllegals,wt=Ce.language):(Vo("10.7.0","highlight(lang, code, ...args) has been deprecated."),Vo("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),wt=xe,Ne=Ce),nt===void 0&&(nt=!0);const Pt={code:Ne,language:wt};ut("before:highlight",Pt);const qt=Pt.result?Pt.result:x(Pt.language,Pt.code,nt);return qt.code=Pt.code,ut("after:highlight",qt),qt}function x(xe,Ce,nt,Ne){const wt=Object.create(null);function Pt(Te,Be){return Te.keywords[Be]}function qt(){if(!ie.keywords){de.addText(Ae);return}let Te=0;ie.keywordPatternRe.lastIndex=0;let Be=ie.keywordPatternRe.exec(Ae),O="";for(;Be;){O+=Ae.substring(Te,Be.index);const R=Q.case_insensitive?Be[0].toLowerCase():Be[0],z=Pt(ie,R);if(z){const[W,ye]=z;if(de.addText(O),O="",wt[R]=(wt[R]||0)+1,wt[R]<=jI&&(Me+=ye),W.startsWith("_"))O+=Be[0];else{const Fe=Q.classNameAliases[W]||W;Rt(Be[0],Fe)}}else O+=Be[0];Te=ie.keywordPatternRe.lastIndex,Be=ie.keywordPatternRe.exec(Ae)}O+=Ae.substring(Te),de.addText(O)}function cn(){if(Ae==="")return;let Te=null;if(typeof ie.subLanguage=="string"){if(!o[ie.subLanguage]){de.addText(Ae);return}Te=x(ie.subLanguage,Ae,!0,fe[ie.subLanguage]),fe[ie.subLanguage]=Te._top}else Te=B(Ae,ie.subLanguage.length?ie.subLanguage:null);ie.relevance>0&&(Me+=Te.relevance),de.__addSublanguage(Te._emitter,Te.language)}function $t(){ie.subLanguage!=null?cn():qt(),Ae=""}function Rt(Te,Be){Te!==""&&(de.startScope(Be),de.addText(Te),de.endScope())}function dn(Te,Be){let O=1;const R=Be.length-1;for(;O<=R;){if(!Te._emit[O]){O++;continue}const z=Q.classNameAliases[Te[O]]||Te[O],W=Be[O];z?Rt(W,z):(Ae=W,qt(),Ae=""),O++}}function nn(Te,Be){return Te.scope&&typeof Te.scope=="string"&&de.openNode(Q.classNameAliases[Te.scope]||Te.scope),Te.beginScope&&(Te.beginScope._wrap?(Rt(Ae,Q.classNameAliases[Te.beginScope._wrap]||Te.beginScope._wrap),Ae=""):Te.beginScope._multi&&(dn(Te.beginScope,Be),Ae="")),ie=Object.create(Te,{parent:{value:ie}}),ie}function Et(Te,Be,O){let R=iI(Te.endRe,O);if(R){if(Te["on:end"]){const z=new Qy(Te);Te["on:end"](Be,z),z.isMatchIgnored&&(R=!1)}if(R){for(;Te.endsParent&&Te.parent;)Te=Te.parent;return Te}}if(Te.endsWithParent)return Et(Te.parent,Be,O)}function qe(Te){return ie.matcher.regexIndex===0?(Ae+=Te[0],1):(Ve=!0,0)}function ot(Te){const Be=Te[0],O=Te.rule,R=new Qy(O),z=[O.__beforeBegin,O["on:begin"]];for(const W of z)if(!!W&&(W(Te,R),R.isMatchIgnored))return qe(Be);return O.skip?Ae+=Be:(O.excludeBegin&&(Ae+=Be),$t(),!O.returnBegin&&!O.excludeBegin&&(Ae=Be)),nn(O,Te),O.returnBegin?0:Be.length}function X(Te){const Be=Te[0],O=Ce.substring(Te.index),R=Et(ie,Te,O);if(!R)return r1;const z=ie;ie.endScope&&ie.endScope._wrap?($t(),Rt(Be,ie.endScope._wrap)):ie.endScope&&ie.endScope._multi?($t(),dn(ie.endScope,Te)):z.skip?Ae+=Be:(z.returnEnd||z.excludeEnd||(Ae+=Be),$t(),z.excludeEnd&&(Ae=Be));do ie.scope&&de.closeNode(),!ie.skip&&!ie.subLanguage&&(Me+=ie.relevance),ie=ie.parent;while(ie!==R.parent);return R.starts&&nn(R.starts,Te),z.returnEnd?0:Be.length}function ne(){const Te=[];for(let Be=ie;Be!==Q;Be=Be.parent)Be.scope&&Te.unshift(Be.scope);Te.forEach(Be=>de.openNode(Be))}let E={};function N(Te,Be){const O=Be&&Be[0];if(Ae+=Te,O==null)return $t(),0;if(E.type==="begin"&&Be.type==="end"&&E.index===Be.index&&O===""){if(Ae+=Ce.slice(Be.index,Be.index+1),!u){const R=new Error(`0 width match regex (${xe})`);throw R.languageName=xe,R.badRule=E.rule,R}return 1}if(E=Be,Be.type==="begin")return ot(Be);if(Be.type==="illegal"&&!nt){const R=new Error('Illegal lexeme "'+O+'" for mode "'+(ie.scope||"<unnamed>")+'"');throw R.mode=ie,R}else if(Be.type==="end"){const R=X(Be);if(R!==r1)return R}if(Be.type==="illegal"&&O==="")return 1;if(Ze>1e5&&Ze>Be.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ae+=O,O.length}const Q=_e(xe);if(!Q)throw ro(h.replace("{}",xe)),new Error('Unknown language: "'+xe+'"');const ae=FI(Q);let se="",ie=Ne||ae;const fe={},de=new d.__emitter(d);ne();let Ae="",Me=0,Pe=0,Ze=0,Ve=!1;try{if(Q.__emitTokens)Q.__emitTokens(Ce,de);else{for(ie.matcher.considerAll();;){Ze++,Ve?Ve=!1:ie.matcher.considerAll(),ie.matcher.lastIndex=Pe;const Te=ie.matcher.exec(Ce);if(!Te)break;const Be=Ce.substring(Pe,Te.index),O=N(Be,Te);Pe=Te.index+O}N(Ce.substring(Pe))}return de.finalize(),se=de.toHTML(),{language:xe,value:se,relevance:Me,illegal:!1,_emitter:de,_top:ie}}catch(Te){if(Te.message&&Te.message.includes("Illegal"))return{language:xe,value:dd(Ce),illegal:!0,relevance:0,_illegalBy:{message:Te.message,index:Pe,context:Ce.slice(Pe-100,Pe+100),mode:Te.mode,resultSoFar:se},_emitter:de};if(u)return{language:xe,value:dd(Ce),illegal:!1,relevance:0,errorRaised:Te,_emitter:de,_top:ie};throw Te}}function T(xe){const Ce={value:dd(xe),illegal:!1,relevance:0,_top:f,_emitter:new d.__emitter(d)};return Ce._emitter.addText(xe),Ce}function B(xe,Ce){Ce=Ce||d.languages||Object.keys(o);const nt=T(xe),Ne=Ce.filter(_e).filter(K).map($t=>x($t,xe,!1));Ne.unshift(nt);const wt=Ne.sort(($t,Rt)=>{if($t.relevance!==Rt.relevance)return Rt.relevance-$t.relevance;if($t.language&&Rt.language){if(_e($t.language).supersetOf===Rt.language)return 1;if(_e(Rt.language).supersetOf===$t.language)return-1}return 0}),[Pt,qt]=wt,cn=Pt;return cn.secondBest=qt,cn}function M(xe,Ce,nt){const Ne=Ce&&n[Ce]||nt;xe.classList.add("hljs"),xe.classList.add(`language-${Ne}`)}function j(xe){let Ce=null;const nt=v(xe);if(g(nt))return;if(ut("before:highlightElement",{el:xe,language:nt}),xe.children.length>0&&(d.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(xe)),d.throwUnescapedHTML))throw new zI("One of your code blocks includes unescaped HTML.",xe.innerHTML);Ce=xe;const Ne=Ce.textContent,wt=nt?_(Ne,{language:nt,ignoreIllegals:!0}):B(Ne);xe.innerHTML=wt.value,M(xe,nt,wt.language),xe.result={language:wt.language,re:wt.relevance,relevance:wt.relevance},wt.secondBest&&(xe.secondBest={language:wt.secondBest.language,relevance:wt.secondBest.relevance}),ut("after:highlightElement",{el:xe,result:wt,text:Ne})}function V(xe){d=i1(d,xe)}const F=()=>{ce(),Vo("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function L(){ce(),Vo("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Y=!1;function ce(){if(document.readyState==="loading"){Y=!0;return}document.querySelectorAll(d.cssSelector).forEach(j)}function pe(){Y&&ce()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",pe,!1);function me(xe,Ce){let nt=null;try{nt=Ce(t)}catch(Ne){if(ro("Language definition for '{}' could not be registered.".replace("{}",xe)),u)ro(Ne);else throw Ne;nt=f}nt.name||(nt.name=xe),o[xe]=nt,nt.rawDefinition=Ce.bind(null,t),nt.aliases&&He(nt.aliases,{languageName:xe})}function ve(xe){delete o[xe];for(const Ce of Object.keys(n))n[Ce]===xe&&delete n[Ce]}function le(){return Object.keys(o)}function _e(xe){return xe=(xe||"").toLowerCase(),o[xe]||o[n[xe]]}function He(xe,{languageName:Ce}){typeof xe=="string"&&(xe=[xe]),xe.forEach(nt=>{n[nt.toLowerCase()]=Ce})}function K(xe){const Ce=_e(xe);return Ce&&!Ce.disableAutodetect}function ue(xe){xe["before:highlightBlock"]&&!xe["before:highlightElement"]&&(xe["before:highlightElement"]=Ce=>{xe["before:highlightBlock"](Object.assign({block:Ce.el},Ce))}),xe["after:highlightBlock"]&&!xe["after:highlightElement"]&&(xe["after:highlightElement"]=Ce=>{xe["after:highlightBlock"](Object.assign({block:Ce.el},Ce))})}function be(xe){ue(xe),a.push(xe)}function Se(xe){const Ce=a.indexOf(xe);Ce!==-1&&a.splice(Ce,1)}function ut(xe,Ce){const nt=xe;a.forEach(function(Ne){Ne[nt]&&Ne[nt](Ce)})}function at(xe){return Vo("10.7.0","highlightBlock will be removed entirely in v12.0"),Vo("10.7.0","Please use highlightElement now."),j(xe)}Object.assign(t,{highlight:_,highlightAuto:B,highlightAll:ce,highlightElement:j,highlightBlock:at,configure:V,initHighlighting:F,initHighlightingOnLoad:L,registerLanguage:me,unregisterLanguage:ve,listLanguages:le,getLanguage:_e,registerAliases:He,autoDetection:K,inherit:i1,addPlugin:be,removePlugin:Se}),t.debugMode=function(){u=!1},t.safeMode=function(){u=!0},t.versionString=HI,t.regex={concat:yo,lookahead:Zw,either:Lf,optional:tI,anyNumberOfTimes:eI};for(const xe in Kl)typeof Kl[xe]=="object"&&qw(Kl[xe]);return Object.assign(t,Kl),t},ss=i_({});ss.newInstance=()=>i_({});var UI=ss;ss.HighlightJS=ss;ss.default=ss;const oo=UI;var o1=vo({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(t){var o=eo(t.language);jn(function(){return t.language},function(u){o.value=u});var n=Pn(function(){return t.autodetect||!o.value}),a=Pn(function(){return!n.value&&!oo.getLanguage(o.value)});return{className:Pn(function(){return a.value?"":"hljs "+o.value}),highlightedCode:Pn(function(){var u;if(a.value)return console.warn('The language "'+o.value+'" you specified could not be found.'),t.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var h=oo.highlightAuto(t.code);return o.value=(u=h.language)!==null&&u!==void 0?u:"",h.value}return(h=oo.highlight(t.code,{language:o.value,ignoreIllegals:t.ignoreIllegals})).value})}},render:function(){return is("pre",{},[is("code",{class:this.className,innerHTML:this.highlightedCode})])}}),VI={install:function(t){t.component("highlightjs",o1)},component:o1};const s1="[A-Za-z$_][0-9A-Za-z$_]*",WI=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],GI=["true","false","null","undefined","NaN","Infinity"],r_=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],o_=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],s_=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],qI=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],XI=[].concat(s_,r_,o_);function ZI(t){const o=t.regex,n=(Ce,{after:nt})=>{const Ne="</"+Ce[0].slice(1);return Ce.input.indexOf(Ne,nt)!==-1},a=s1,u={begin:"<>",end:"</>"},h=/<[A-Za-z0-9\\._:-]+\s*\/>/,f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Ce,nt)=>{const Ne=Ce[0].length+Ce.index,wt=Ce.input[Ne];if(wt==="<"||wt===","){nt.ignoreMatch();return}wt===">"&&(n(Ce,{after:Ne})||nt.ignoreMatch());let Pt;const qt=Ce.input.substring(Ne);if(Pt=qt.match(/^\s*=/)){nt.ignoreMatch();return}if((Pt=qt.match(/^\s+extends\s+/))&&Pt.index===0){nt.ignoreMatch();return}}},d={$pattern:s1,keyword:WI,literal:GI,built_in:XI,"variable.language":qI},g="[0-9](_?[0-9])*",v=`\\.(${g})`,_="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",x={className:"number",variants:[{begin:`(\\b(${_})((${v})|\\.)?|(${v}))[eE][+-]?(${g})\\b`},{begin:`\\b(${_})\\b((${v})\\b|\\.)?|(${v})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},T={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},B={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,T],subLanguage:"xml"}},M={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,T],subLanguage:"css"}},j={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,T],subLanguage:"graphql"}},V={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,T]},L={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},Y=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,B,M,j,V,{match:/\$\d+/},x];T.contains=Y.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat(Y)});const ce=[].concat(L,T.contains),pe=ce.concat([{begin:/\(/,end:/\)/,keywords:d,contains:["self"].concat(ce)}]),me={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:pe},ve={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,o.concat(a,"(",o.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},le={relevance:0,match:o.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...r_,...o_]}},_e={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},He={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[me],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ue(Ce){return o.concat("(?!",Ce.join("|"),")")}const be={match:o.concat(/\b/,ue([...s_,"super","import"]),a,o.lookahead(/\(/)),className:"title.function",relevance:0},Se={begin:o.concat(/\./,o.lookahead(o.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ut={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},me]},at="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",xe={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,o.lookahead(at)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[me]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:pe,CLASS_REFERENCE:le},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),_e,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,B,M,j,V,L,{match:/\$\d+/},x,le,{className:"attr",begin:a+o.lookahead(":"),relevance:0},xe,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[L,t.REGEXP_MODE,{className:"function",begin:at,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:pe}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u.begin,end:u.end},{match:h},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},He,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[me,t.inherit(t.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},Se,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[me]},be,K,ve,ut,{match:/\$[(.]/}]}}function YI(t){const o=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},a={begin:"^[-\\*]{3,}",end:"$"},u={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},h={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},f={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},d=/[A-Za-z][A-Za-z0-9+.-]*/,g={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:o.concat(/\[.+?\]\(/,d,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},v={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},_={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},x=t.inherit(v,{contains:[]}),T=t.inherit(_,{contains:[]});v.contains.push(T),_.contains.push(x);let B=[n,g];return[v,_,x,T].forEach(V=>{V.contains=V.contains.concat(B)}),B=B.concat(v,_),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:B},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:B}]}]},n,h,v,_,{className:"quote",begin:"^>\\s+",contains:B,end:"$"},u,a,g,f]}}function KI(t){const o=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],d={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},g={className:"meta",begin:/^(>>>|\.\.\.) /},v={className:"subst",begin:/\{/,end:/\}/,keywords:d,illegal:/#/},_={begin:/\{\{/,relevance:0},x={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,g],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,g],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,g,_,v]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,g,_,v]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,_,v]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,_,v]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},T="[0-9](_?[0-9])*",B=`(\\b(${T}))?\\.(${T})|\\b(${T})\\.`,M=`\\b|${a.join("|")}`,j={className:"number",relevance:0,variants:[{begin:`(\\b(${T})|(${B}))[eE][+-]?(${T})[jJ]?(?=${M})`},{begin:`(${B})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${M})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${M})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${M})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${M})`},{begin:`\\b(${T})[jJ](?=${M})`}]},V={className:"comment",begin:o.lookahead(/# type:/),end:/$/,keywords:d,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},F={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:["self",g,j,x,t.HASH_COMMENT_MODE]}]};return v.contains=[x,j,g],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:d,illegal:/(<\/|\?)|=>/,contains:[g,j,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},x,V,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[F]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[j,F,x]}]}}oo.registerLanguage("javascript",ZI);oo.registerLanguage("markdown",YI);oo.registerLanguage("python",KI);const JI={data(){return{gstore:Bn(),envvar:`{mongo_instance}-{con_string_name} - The connection string of the database. 
Replace {mongo_instance} with the name of the instance you want to connect to (e.g. dev, prod) and {con_string_name} 
with the name of the connection string (e.g. mongodb_con_string_admin, mongodb_con_string_user). 
You set both when creating the MongoDB Accessor instance.

If you need to access the dev minio storage:
"dev_s3_access_key" - The access key of the minio dev instance
"dev_s3_secret_key" - The secret key of the minio dev instance
"dev_s3_host" - The host of the minio dev instance
If you need to access the prod minio storage:

"prod_s3_access_key" - The access key of the minio prod instance
"prod_s3_secret_key" - The secret key of the minio prod instance
"prod_s3_host" - The host of the minio prod instance
`,usage1:`from database_accessor import get_db_accessor

db_accessor = get_db_accessor(mongo_instance="dev", con_string_name="mongodb_con_string_admin")

list_data_entries = self.db_accessor.get_data(`,usage2:`, return_images=True, query=query)

for entry in list_data_entries:
  for key in entry:
    print(f'{key} has value {entry[key]}')
      `}},mounted(){},computed:{},methods:{getInstall(){return oo.highlightBlock("pip install database_accessor")},getUsage(){return this.usage1+'"'+this.gstore.selected_db+'", "'+this.gstore.selected_col+'"'+this.usage2}},components:{highlightjs:VI.component},watch:{}},QI={class:"flex flex-col justify-center items-stretch"},$I=te("h2",{class:"text-lg font-semibold mb-4 mx-auto"},"Set-Me-Up",-1),e6={class:"grid grid-cols-7 py-2 px-4 rounded border-2"},t6=te("div",{class:"col-span-1 flex items-center justify-start text-lg font-semibold"}," Installation: ",-1),n6={class:"col-span-6 items-center"},i6={class:"grid grid-cols-7 py-2 px-4 rounded border-2"},r6=te("div",{class:"col-span-1 flex items-center justify-start text-lg font-semibold"}," Environment variables: ",-1),o6={class:"col-span-6 items-center"},s6={class:"grid grid-cols-7 py-2 px-4 rounded border-2"},a6=te("div",{class:"col-span-1 flex items-center justify-start text-lg font-semibold"}," Usage: ",-1),l6={class:"col-span-6 items-center"};function u6(t,o,n,a,u,h){const f=Nt("highlightjs");return Ue(),Ye("div",QI,[$I,te("div",e6,[t6,te("div",n6,[Je(f,{language:"python",code:"pip install database_accessor"})])]),te("div",i6,[r6,te("div",o6,[Je(f,{language:"markdown",code:u.envvar},null,8,["code"])])]),te("div",s6,[a6,te("div",l6,[Je(f,{language:"python",code:h.getUsage()},null,8,["code"])])])])}const c6=on(JI,[["render",u6]]);const h6={props:{dataset_description:null},data(){return{filter:"",gstore:Bn(),datasetstore:Dr()}},mounted(){this.reset(!0),this.datasetstore.load(),jn(()=>this.gstore.selected_col,(t,o)=>{this.reset(!0),this.datasetstore.load()})},methods:{reset(t){this.datasetstore.reset(),t&&(this.datasetstore.reset_dataset_description(),this.datasetstore.set_filter(""))},keyClick(t){alert(t)},resetFilter(){this.reset(!1),this.filter="",this.datasetstore.set_filter(""),this.datasetstore.get_data(!0)},find(){this.reset(!1),this.datasetstore.set_filter(this.filter),this.datasetstore.get_data(!0)}},components:{}},d6=Xu('<div class="font-semibold mx-2 text-3xl underline mt-4">Analytics</div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Data Schema Analysis: </div><div class="col-span-4 px-2"> Getting insights how the data is structured! </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Distinct Keys: </div><div class="col-span-4 px-2"> What keys are inside of the data and howto access them! </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Image: </div><div class="col-span-4 px-2"> How many images per class? How many images in total? Image quality? </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Metrics / Analysis: </div><div class="col-span-4 px-2"> Data quality? Outliers inside of the data/images? Duplicates? Special data? Abnormality? </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> AI/ML: </div><div class="col-span-4 px-2"> Execution of models (e.g. fruit) direct on the image data. </div></div><div class="font-semibold mx-2 text-3xl underline mt-4">Miscellaneous</div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Filtering: </div><div class="col-span-4 px-2"> Advanced data filtering with drag&#39;n&#39;drop. Save and editing of create filters. </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Export/Import: </div><div class="col-span-4 px-2"> Export of filtered data in well-established format (e.g. COCO) for further processes (e.g. external annotation). Import of data from well-established format for useres and external sources. </div></div><div class="grid grid-cols-5 py-2 px-4 rounded text-lg border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> UI: </div><div class="col-span-4 px-2"> Responsive design well usable on desktop and mobile. Upload of images direct from the smartphone. </div></div>',10);function f6(t,o,n,a,u,h){return d6}const p6=on(h6,[["render",f6]]);const g6={props:{loading:{type:Boolean,required:!0},headline:{type:String,required:!0},subline:{type:String,required:!0}}},m6=t=>(ub("data-v-4ab28be4"),t=t(),cb(),t),v6={key:0,"wire:loading":"",class:"absolute top-0 left-0 right-0 bottom-0 z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"},y6=m6(()=>te("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1)),b6={class:"text-center text-white text-xl font-semibold"},w6={class:"w-1/3 text-center text-white"};function _6(t,o,n,a,u,h){return n.loading?(Ue(),Ye("div",v6,[y6,te("h2",b6,Dt(n.headline),1),te("p",w6,Dt(n.subline),1)])):Qt("",!0)}const jf=on(g6,[["render",_6],["__scopeId","data-v-4ab28be4"]]),x6={props:{icon:"fa-file",title:"myentry"}},E6={class:"grid grid-cols-2 gap-4"},S6={class:"p-0 text-s"},T6={class:"p-0"};function C6(t,o,n,a,u,h){const f=Nt("font-awesome-icon");return Ue(),Ye("div",E6,[te("div",S6,[Je(f,{icon:n.icon},null,8,["icon"]),sn(Dt(n.title),1)]),te("div",T6,[Ab(t.$slots,"default")])])}const P6=on(x6,[["render",C6]]),A6="/graggle-backend/graggle-frontend/assets/placeholder_image.4e939ac9.jpg",R6={props:{dataset_description:null},components:{DatasetDescriptionCardEntry:P6}},O6={class:"p-0"},k6={key:0,role:"status",class:"animate-pulse dark:border-gray-700"},D6=Xu('<div class="grid grid-cols-2 gap-4 rounded"><div class="pt-2"><div class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"><svg class="w-12 h-12 text-gray-200 dark:text-gray-600" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" viewBox="0 0 640 512"><path d="M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"></path></svg></div></div><div class="pt-2"><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div><div class="flex items-center mt-4 space-x-3"><svg class="text-gray-200 w-14 h-14 dark:text-gray-700" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd"></path></svg><div><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"></div><div class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div></div></div><span class="sr-only">Loading...</span></div></div>',1),M6=[D6],B6={key:1},I6={class:"grid grid-cols-2 gap-4 p-2 rounded"},N6={class:"p-0 flex justify-end"},F6=["src"],L6={key:1,src:A6,style:{"max-width":"15rem"},class:"w-full rounded-xl shadow-xl ring-1 ring-gray-400/10",alt:"Product screenshot"},H6={class:"p-0"},z6={class:"w-full p-2"};function j6(t,o,n,a,u,h){const f=Nt("DatasetDescriptionCardEntry");return Ue(),Ye("div",O6,[n.dataset_description===null?(Ue(),Ye("div",k6,M6)):(Ue(),Ye("div",B6,[te("div",I6,[te("div",N6,[n.dataset_description.image!=""?(Ue(),Ye("img",{key:0,src:n.dataset_description.image,style:{"max-width":"15rem"},class:"w-full rounded-xl shadow-xl ring-1 ring-gray-400/10",alt:"Product screenshot"},null,8,F6)):(Ue(),Ye("img",L6))]),te("div",H6,[te("div",z6,[Je(f,{icon:"fa-star",title:" Usability"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.usability),1)]),_:1}),Je(f,{icon:"fa-hard-drive",title:" Size"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.size_mb)+" MB ",1)]),_:1}),Je(f,{icon:"fa-file",title:" Elements"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.number_of_documents),1)]),_:1}),Je(f,{icon:"fa-user",title:" Created by"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.created_by),1)]),_:1}),Je(f,{icon:"fa-calendar-plus",title:" Created at"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.created),1)]),_:1}),Je(f,{icon:"fa-calendar-check",title:" Last update"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.last_update),1)]),_:1}),Je(f,{icon:"fa-vector-square",title:" Annotations"},{default:Di(()=>[sn(Dt(n.dataset_description.descriptors.annotation_types),1)]),_:1})])])])]))])}const U6=on(R6,[["render",j6]]),V6={data(){return{value:0,min:0,max:5,step:1}},methods:{handleValueChange(){this.$emit("slider-value-updated",this.value)}}},W6={class:"w-full"},G6=["min","max","step"],q6={class:"mt-1 text-center"};function X6(t,o,n,a,u,h){return Ue(),Ye("div",W6,[hi(te("input",{type:"range",class:"block w-full",min:u.min,max:u.max,step:u.step,"onUpdate:modelValue":o[0]||(o[0]=f=>u.value=f),onInput:o[1]||(o[1]=(...f)=>h.handleValueChange&&h.handleValueChange(...f))},null,40,G6),[[Jn,u.value]]),te("div",q6,Dt(u.value),1)])}const Z6=on(V6,[["render",X6]]),Y6="/graggle-backend/graggle-frontend/assets/gear.09d9aed3.png",K6={props:{showDialog:{type:Boolean,required:!0}},computed:{},components:{LoadingOverlay:jf,Slider:Z6},data(){return{headline:"Detailed Data Description",isChecked:!1,loading:!1,error:"",selection:1,titel:"",shortdesc:"",desc:"",usability:"",createdby:"",image:"",gstore:Bn(),datasetstore:Dr()}},computed:{formFilled(){return this.titel&&this.shortdesc&&this.desc&&this.usability&&this.createdby}},methods:{closeDialog(){this.titel="",this.shortdesc="",this.desc="",this.usability="",this.createdby="",this.image="",this.$emit("update:showDialog")},getColor(t){return{"bg-green-300":t===this.selection,"bg-white":t!=this.selection}},toggleSelection(){this.selection==1?this.selection=2:this.selection=1},handleSliderValue(t){this.usability=t},handleFileUpload(){let t=this;const o=this.$refs.fileupload.files[0];if(o.name.endsWith(".png")||o.name.endsWith(".jpg")||o.name.endsWith(".jpeg")){const n=new FileReader;n.onload=()=>{t.image=n.result.split(",")[1]},n.readAsDataURL(o),this.error="",this.selection=2}else this.error="Wrong data format (only .png, .jpg and .jpeg)",this.selection=1},async storeDB(){if(!this.formFilled)this.error="";else{this.loading=!0,this.error="";var t={database:this.gstore.selected_db,collection:this.gstore.selected_col,dataset_display_title:this.titel,short_description:this.shortdesc,dataset_description:this.desc,usability:this.usability,created_by:this.createdby,image:this.image};await this.datasetstore.post_dataset_description(t)?(this.closeDialog(),this.loading=!1):(this.loading=!1,this.error="Fehler beim erzeugen der Dataset Description")}}}},J6={key:0,class:"fixed inset-0 bg-gray-700 opacity-75 z-50"},Q6={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},$6={class:"bg-white rounded-lg p-4"},eN={class:"space-y-12"},tN={class:""},nN={class:"text-base font-semibold leading-7 text-gray-900"},iN={class:"border-b border-gray-900/10 mt-2 grid grid-cols-1 gap-x-6 gap-y-2 sm:grid-cols-6"},rN={class:"sm:col-span-4"},oN=te("label",{for:"text",class:"block text-sm font-medium leading-6 text-gray-900"},"Dataset titel",-1),sN={class:"mt-0"},aN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},lN={class:"sm:col-span-4"},uN=te("label",{for:"shortdesc",class:"block text-sm font-medium leading-6 text-gray-900"},"Short description",-1),cN={class:"mt-0"},hN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},dN={class:"col-span-full"},fN=te("label",{for:"desc",class:"block text-sm font-medium leading-6 text-gray-900"},"Detail description",-1),pN={class:"mt-0"},gN=te("p",{class:"mt-3 text-sm leading-6 text-gray-600"},"Write a few sentences what the dataset is about.",-1),mN={class:"col-span-full"},vN=te("label",{for:"images",class:"block text-sm font-medium leading-6 text-gray-900"},"Preview photo",-1),yN={class:"grid grid-cols-2 gap-4"},bN={class:"text-center"},wN={class:"mt-4 text-s leading-6 text-gray-600"},_N={for:"file-upload",class:"relative cursor-pointer rounded-md font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"},xN=te("span",null,"Upload a file",-1),EN=te("p",{class:"text-sm leading-5 text-gray-600"},"PNG, JPG, GIF up to 10MB",-1),SN=te("img",{src:Y6,class:"mx-auto h-24 text-gray-300",alt:"Product screenshot"},null,-1),TN=te("p",{class:"text-sm text-gray-600 text-center"},"automatical create from images",-1),CN={class:"col-span-full"},PN={class:"grid grid-cols-2 gap-4"},AN=te("div",{class:"p-2"},[te("label",{for:"usability",class:"block text-sm font-medium leading-6 text-gray-900"},"Usability")],-1),RN={class:"p-2"},ON={class:"flex sm:max-w-md"},kN=te("div",{class:"p-2"},[te("label",{for:"createdby",class:"block text-sm font-medium leading-6 text-gray-900"},"Created by")],-1),DN={class:"p-2"},MN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},BN={class:"mt-2 flex items-center justify-end gap-x-6"},IN={key:0,class:"mt-2 flex items-center justify-end gap-x-6"},NN={for:"error",class:"block text-l font-medium leading-6 text-red-400"};function FN(t,o,n,a,u,h){const f=Nt("loading-overlay"),d=Nt("font-awesome-icon"),g=Nt("Slider");return Ue(),Ye(Gt,null,[n.showDialog?(Ue(),Ye("div",J6)):Qt("",!0),n.showDialog?(Ue(),Ye("div",Q6,[te("div",$6,[te("form",{onSubmit:o[8]||(o[8]=Ku(()=>{},["prevent"])),class:"w-full relative"},[Je(f,{loading:u.loading,headline:"Inserting",subline:"This will take a few seconds"},null,8,["loading"]),te("div",eN,[te("div",tN,[te("h2",nN,Dt(u.headline),1),te("div",iN,[te("div",rN,[oN,te("div",sN,[te("div",aN,[hi(te("input",{required:"",type:"text",name:"titel",id:"titel","onUpdate:modelValue":o[0]||(o[0]=v=>u.titel=v),autocomplete:"titel",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"meaningful titel for the dataset"},null,512),[[Jn,u.titel]])])])]),te("div",lN,[uN,te("div",cN,[te("div",hN,[hi(te("input",{required:"",type:"shortdesc",name:"shortdesc",id:"shortdesc","onUpdate:modelValue":o[1]||(o[1]=v=>u.shortdesc=v),autocomplete:"titel",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"short description of the dataset"},null,512),[[Jn,u.shortdesc]])])])]),te("div",dN,[fN,te("div",pN,[hi(te("textarea",{required:"",id:"desc",name:"desc","onUpdate:modelValue":o[2]||(o[2]=v=>u.desc=v),rows:"3",class:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:py-1.5 sm:text-sm sm:leading-6"},null,512),[[Jn,u.desc]])]),gN]),te("div",mN,[vN,te("div",yN,[te("div",{class:Dn(["mt-0 flex flex-col justify-between rounded-lg border border-dashed border-gray-900/25 px-6 py-10",h.getColor(2)])},[te("div",bN,[Je(d,{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true",icon:"fa-solid fa-image"}),te("div",wN,[te("label",_N,[xN,te("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",ref:"fileupload",onChange:o[3]||(o[3]=(...v)=>h.handleFileUpload&&h.handleFileUpload(...v))},null,544)])]),EN])],2),te("div",{class:Dn(["mt-0 flex flex-col justify-between rounded-lg border border-dashed border-gray-900/25 px-6 py-10 relative",h.getColor(1)])},[SN,TN,te("div",{class:"absolute inset-0 bg-gray-700 opacity-0",onClick:o[4]||(o[4]=v=>h.toggleSelection())})],2)])]),te("div",CN,[te("div",PN,[AN,te("div",RN,[te("div",ON,[Je(g,{onSliderValueUpdated:h.handleSliderValue},null,8,["onSliderValueUpdated"])])]),kN,te("div",DN,[te("div",MN,[hi(te("input",{required:"",type:"createdby",name:"createdby",id:"createdby","onUpdate:modelValue":o[5]||(o[5]=v=>u.createdby=v),autocomplete:"createdby",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"name or service"},null,512),[[Jn,u.createdby]])])])])])]),te("div",BN,[te("button",{type:"button",class:"text-sm font-semibold leading-6 text-gray-900",onClick:o[6]||(o[6]=(...v)=>h.closeDialog&&h.closeDialog(...v))},"Cancel"),te("button",{class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:o[7]||(o[7]=(...v)=>h.storeDB&&h.storeDB(...v))},"Save")]),u.error!=""?(Ue(),Ye("div",IN,[te("label",NN,Dt(u.error),1)])):Qt("",!0)])])],32)])])):Qt("",!0)],64)}const LN=on(K6,[["render",FN]]);const HN={data(){return{dataset_add_dialog_show:!1,bookmarked:!1,gstore:Bn(),datasetstore:Dr(),isExpanded:!0}},mounted(){this.shrink_auto(),this.reset(!0),this.datasetstore.load_dataset_description(),jn(()=>this.gstore.selected_col,(t,o)=>{this.reset(!0),this.datasetstore.load_dataset_description()})},methods:{async share(){try{await navigator.share({title:"Share graggle webside!",text:"Bizerba Data Catalog",url:window.location.href})}catch(t){console.log("Error sharing:",t)}},async shrink_auto(){await(o=>new Promise(n=>setTimeout(n,o)))(3e3),this.isExpanded=!1},bookmark(){this.bookmarked=!0,io.bookmark(this.gstore)},unbookmark(){this.bookmarked=!1,io.unbookmark(this.gstore)},isbookmarked(){return io.isbookmarked(this.gstore)},reset(t){t&&(this.bookmarked=this.isbookmarked())},dialog_finished(){this.dataset_add_dialog_show=!1,this.datasetstore.load_dataset_description()},comments(){this.gstore.cmd="comments"}},components:{DatasetDescriptionCard:U6,DatasetAddDialog:LN,LoadingOverlay:jf}},zN={class:"border-2 shadow rounded p-2 w-full"},jN={key:0},UN={class:"grid grid-cols-12"},VN={class:"col-span-10 flex"},WN={class:"font-bold tracking-tight text-4xl"},GN={class:"col-span-2 flex justify-end"},qN=["src"],XN={key:1},ZN={class:"overflow-hidden transition-height duration-300 mx-auto flex border-primary relative"},YN={class:"lg:pr-8 lg:pt-4 w-1/2"},KN={key:0},JN=te("div",{role:"status",class:"max-w-sm animate-pulse"},[te("div",{class:"h-6 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4 border-b-2 border-primary"}),te("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[250px] mb-2.5"}),te("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"}),te("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5"}),te("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[150px] mb-2.5"}),te("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]"}),te("span",{class:"sr-only"},"Loading...")],-1),QN=[JN],$N={key:1},eF={class:"mx-auto flex relative"},tF={class:"w-1/2"},nF={class:"text-3xl font-bold tracking-tight sm:text-4xl"},iF={class:"w-1/2 flex justify-end"},rF={class:"text-3xl font-bold tracking-tight"},oF={class:"mt-6 text-lg leading-8"},sF={class:"w-1/2"},aF={key:1},lF=te("div",{class:"absolute inset-0 bg-gray-700 opacity-20"},null,-1);function uF(t,o,n,a,u,h){const f=Nt("font-awesome-icon"),d=Nt("loading-overlay"),g=Nt("DatasetDescriptionCard"),v=Nt("DatasetAddDialog");return Ue(),Ye("div",zN,[u.isExpanded?Qt("",!0):(Ue(),Ye("div",jN,[te("div",UN,[te("div",VN,[te("h3",WN,[Je(f,{class:"px-1",icon:"fa-solid fa-maximize",onClick:o[0]||(o[0]=_=>u.isExpanded=!0)}),sn(" Datacard "),te("small",null,"("+Dt(u.gstore.selected_db)+" / "+Dt(u.gstore.selected_col)+")",1)])]),te("div",GN,[u.datasetstore.get_dataset_description()&&u.datasetstore.get_dataset_description().image!=""?(Ue(),Ye("img",{key:0,src:u.datasetstore.get_dataset_description().image,style:{"max-width":"7rem"},class:"rounded-xl shadow-xl ring-1 ring-gray-400/10"},null,8,qN)):Qt("",!0)])])])),u.isExpanded?(Ue(),Ye("div",XN,[te("div",ZN,[u.datasetstore.is_dataset_loading()?(Ue(),yi(d,{key:0,loading:u.datasetstore.is_dataset_loading(),headline:"Loading",subline:"Data Card"},null,8,["loading"])):Qt("",!0),te("div",YN,[u.datasetstore.get_dataset_description()===null?(Ue(),Ye("div",KN,QN)):(Ue(),Ye("div",$N,[te("div",eF,[te("div",tF,[te("p",nF,[Je(f,{class:"px-1",icon:"fa-solid fa-minimize",onClick:o[1]||(o[1]=_=>u.isExpanded=!1)}),sn(" "+Dt(u.datasetstore.get_dataset_description().dataset_display_title),1)])]),te("div",iF,[te("p",rF,[Je(f,{class:"px-1",icon:"fa-solid fa-share-nodes",onClick:o[2]||(o[2]=_=>h.share())}),u.bookmarked==!1?(Ue(),yi(f,{key:0,class:"px-1",icon:"fa-regular fa-bookmark",onClick:o[3]||(o[3]=_=>h.bookmark())})):Qt("",!0),u.bookmarked==!0?(Ue(),yi(f,{key:1,class:"px-1",icon:"fa-solid fa-bookmark",onClick:o[4]||(o[4]=_=>h.unbookmark())})):Qt("",!0),Je(f,{class:"px-1",icon:"fa-solid fa-comments",onClick:o[5]||(o[5]=_=>h.comments())}),Je(f,{class:"px-1",icon:"fa-regular fa-pen-to-square"})])])]),te("p",oF,Dt(u.datasetstore.get_dataset_description().dataset_description),1)]))]),te("div",sF,[Je(g,{dataset_description:u.datasetstore.get_dataset_description()},null,8,["dataset_description"])]),(u.datasetstore.get_dataset_description()===null||u.datasetstore.get_dataset_description().dataset_display_title==="<<Titel>>")&&u.gstore.selected_col!=""&&u.datasetstore.is_dataset_loading()===!1?(Ue(),Ye("div",aF,[lF,te("button",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white font-bold py-2 px-4 rounded",onClick:o[6]||(o[6]=_=>u.dataset_add_dialog_show=!u.dataset_add_dialog_show)},[Je(f,{class:"pr-2",icon:"fa-solid fa-circle-plus"}),sn(" Add Description ")])])):Qt("",!0)]),Je(v,{showDialog:u.dataset_add_dialog_show,"onUpdate:showDialog":h.dialog_finished},null,8,["showDialog","onUpdate:showDialog"])])):Qt("",!0)])}const cF=on(HN,[["render",uF]]);var a_={exports:{}};const hF=Y5(aM);(function(t,o){(function(n,a){t.exports=a(hF)})(Ys,function(n){return function(){var a={789:function(d){d.exports=n}},u={};function h(d){var g=u[d];if(g!==void 0)return g.exports;var v=u[d]={exports:{}};return a[d](v,v.exports,h),v.exports}h.d=function(d,g){for(var v in g)h.o(g,v)&&!h.o(d,v)&&Object.defineProperty(d,v,{enumerable:!0,get:g[v]})},h.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},h.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var f={};return function(){function d(K,ue){(ue==null||ue>K.length)&&(ue=K.length);for(var be=0,Se=new Array(ue);be<ue;be++)Se[be]=K[be];return Se}function g(K,ue){if(K){if(typeof K=="string")return d(K,ue);var be=Object.prototype.toString.call(K).slice(8,-1);return be==="Object"&&K.constructor&&(be=K.constructor.name),be==="Map"||be==="Set"?Array.from(K):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?d(K,ue):void 0}}function v(K){return function(ue){if(Array.isArray(ue))return d(ue)}(K)||function(ue){if(typeof Symbol<"u"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}(K)||g(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(K,ue,be){return ue in K?Object.defineProperty(K,ue,{value:be,enumerable:!0,configurable:!0,writable:!0}):K[ue]=be,K}h.r(f),h.d(f,{default:function(){return He}});var x=h(789),T=(0,x.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var K=this.data,ue=this.onClick;return(0,x.createVNode)("span",{class:"vjs-tree-brackets",onClick:ue},[K])}}),B=(0,x.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(K,ue){var be=ue.emit;return{uiType:(0,x.computed)(function(){return K.isMultiple?"checkbox":"radio"}),model:(0,x.computed)({get:function(){return K.checked},set:function(Se){return be("update:modelValue",Se)}})}},render:function(){var K=this.uiType,ue=this.model,be=this.$emit;return(0,x.createVNode)("label",{class:["vjs-check-controller",ue?"is-checked":""],onClick:function(Se){return Se.stopPropagation()}},[(0,x.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(K)},null),(0,x.createVNode)("input",{checked:ue,class:"vjs-check-controller-original is-".concat(K),type:K,onChange:function(){return be("change",ue)}},null)])}}),M=(0,x.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var K=this.nodeType,ue=this.onClick,be=K==="objectStart"||K==="arrayStart";return be||K==="objectCollapsed"||K==="arrayCollapsed"?(0,x.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(be?"open":"close"),onClick:ue},[(0,x.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,x.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function j(K){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},j(K)}function V(K){return Object.prototype.toString.call(K).slice(8,-1).toLowerCase()}function F(K){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Se=arguments.length>3?arguments[3]:void 0,ut=Se||{},at=ut.key,xe=ut.index,Ce=ut.type,nt=Ce===void 0?"content":Ce,Ne=ut.showComma,wt=Ne!==void 0&&Ne,Pt=ut.length,qt=Pt===void 0?1:Pt,cn=V(K);if(cn==="array"){var $t=L(K.map(function(nn,Et,qe){return F(nn,"".concat(ue,"[").concat(Et,"]"),be+1,{index:Et,showComma:Et!==qe.length-1,length:qt,type:nt})}));return[F("[",ue,be,{showComma:!1,key:at,length:K.length,type:"arrayStart"})[0]].concat($t,F("]",ue,be,{showComma:wt,length:K.length,type:"arrayEnd"})[0])}if(cn==="object"){var Rt=Object.keys(K),dn=L(Rt.map(function(nn,Et,qe){return F(K[nn],/^[a-zA-Z_]\w*$/.test(nn)?"".concat(ue,".").concat(nn):"".concat(ue,'["').concat(nn,'"]'),be+1,{key:nn,showComma:Et!==qe.length-1,length:qt,type:nt})}));return[F("{",ue,be,{showComma:!1,key:at,index:xe,length:Rt.length,type:"objectStart"})[0]].concat(dn,F("}",ue,be,{showComma:wt,length:Rt.length,type:"objectEnd"})[0])}return[{content:K,level:be,key:at,index:xe,path:ue,showComma:wt,length:qt,type:nt}]}function L(K){if(typeof Array.prototype.flat=="function")return K.flat();for(var ue=v(K),be=[];ue.length;){var Se=ue.shift();Array.isArray(Se)?ue.unshift.apply(ue,v(Se)):be.push(Se)}return be}function Y(K){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(K==null)return K;if(K instanceof Date)return new Date(K);if(K instanceof RegExp)return new RegExp(K);if(j(K)!=="object")return K;if(ue.get(K))return ue.get(K);if(Array.isArray(K)){var be=K.map(function(at){return Y(at,ue)});return ue.set(K,be),be}var Se={};for(var ut in K)Se[ut]=Y(K[ut],ue);return ue.set(K,Se),Se}function ce(K,ue){var be=Object.keys(K);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(K);ue&&(Se=Se.filter(function(ut){return Object.getOwnPropertyDescriptor(K,ut).enumerable})),be.push.apply(be,Se)}return be}function pe(K){for(var ue=1;ue<arguments.length;ue++){var be=arguments[ue]!=null?arguments[ue]:{};ue%2?ce(Object(be),!0).forEach(function(Se){_(K,Se,be[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(be)):ce(Object(be)).forEach(function(Se){Object.defineProperty(K,Se,Object.getOwnPropertyDescriptor(be,Se))})}return K}var me={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},ve=(0,x.defineComponent)({name:"TreeNode",props:pe(pe({},me),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(K,ue){var be=ue.emit,Se=(0,x.computed)(function(){return V(K.node.content)}),ut=(0,x.computed)(function(){return"vjs-value vjs-value-".concat(Se.value)}),at=(0,x.computed)(function(){return K.showDoubleQuotes?'"'.concat(K.node.key,'"'):K.node.key}),xe=(0,x.computed)(function(){return K.selectableType==="multiple"}),Ce=(0,x.computed)(function(){return K.selectableType==="single"}),nt=(0,x.computed)(function(){return K.nodeSelectable(K.node)&&(xe.value||Ce.value)}),Ne=(0,x.reactive)({editing:!1}),wt=function(Et){var qe,ot,X=(ot=(qe=Et.target)===null||qe===void 0?void 0:qe.value)==="null"?null:ot==="undefined"?void 0:ot==="true"||ot!=="false"&&(ot[0]+ot[ot.length-1]==='""'||ot[0]+ot[ot.length-1]==="''"?ot.slice(1,-1):typeof Number(ot)=="number"&&!isNaN(Number(ot))||ot==="NaN"?Number(ot):ot);be("valueChange",X,K.node.path)},Pt=(0,x.computed)(function(){var Et,qe=(Et=K.node)===null||Et===void 0?void 0:Et.content;return qe===null?qe="null":qe===void 0&&(qe="undefined"),Se.value==="string"?'"'.concat(qe,'"'):qe+""}),qt=function(){var Et=K.renderNodeValue;return Et?Et({node:K.node,defaultValue:Pt.value}):Pt.value},cn=function(){be("bracketsClick",!K.collapsed,K.node.path)},$t=function(){be("iconClick",!K.collapsed,K.node.path)},Rt=function(){be("selectedChange",K.node)},dn=function(){be("nodeClick",K.node),nt.value&&K.selectOnClickNode&&be("selectedChange",K.node)},nn=function(Et){if(K.editable&&!Ne.editing){Ne.editing=!0;var qe=function ot(X){var ne;X.target!==Et.target&&((ne=X.target)===null||ne===void 0?void 0:ne.parentElement)!==Et.target&&(Ne.editing=!1,document.removeEventListener("click",ot))};document.removeEventListener("click",qe),document.addEventListener("click",qe)}};return function(){var Et,qe=K.node;return(0,x.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":K.showSelectController,"has-carets":K.showIcon,"is-highlight":K.highlightSelectedNode&&K.checked},onClick:dn,style:K.style},[K.showLineNumber&&(0,x.createVNode)("span",{class:"vjs-node-index"},[qe.id+1]),K.showSelectController&&nt.value&&qe.type!=="objectEnd"&&qe.type!=="arrayEnd"&&(0,x.createVNode)(B,{isMultiple:xe.value,checked:K.checked,onChange:Rt},null),(0,x.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(qe.level)).map(function(ot,X){return(0,x.createVNode)("div",{key:X,class:{"vjs-indent-unit":!0,"has-line":K.showLine}},null)}),K.showIcon&&(0,x.createVNode)(M,{nodeType:qe.type,onClick:$t},null)]),qe.key&&(0,x.createVNode)("span",{class:"vjs-key"},[(Et=K.renderNodeKey,Et?Et({node:K.node,defaultKey:at.value||""}):at.value),(0,x.createVNode)("span",{class:"vjs-colon"},[":".concat(K.showKeyValueSpace?" ":"")])]),(0,x.createVNode)("span",null,[qe.type!=="content"&&qe.content?(0,x.createVNode)(T,{data:qe.content.toString(),onClick:cn},null):(0,x.createVNode)("span",{class:ut.value,onClick:!K.editable||K.editableTrigger&&K.editableTrigger!=="click"?void 0:nn,onDblclick:K.editable&&K.editableTrigger==="dblclick"?nn:void 0},[K.editable&&Ne.editing?(0,x.createVNode)("input",{value:Pt.value,onChange:wt,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):qt()]),qe.showComma&&(0,x.createVNode)("span",null,[","]),K.showLength&&K.collapsed&&(0,x.createVNode)("span",{class:"vjs-comment"},[(0,x.createTextVNode)(" // "),qe.length,(0,x.createTextVNode)(" items ")])])])}}});function le(K,ue){var be=Object.keys(K);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(K);ue&&(Se=Se.filter(function(ut){return Object.getOwnPropertyDescriptor(K,ut).enumerable})),be.push.apply(be,Se)}return be}function _e(K){for(var ue=1;ue<arguments.length;ue++){var be=arguments[ue]!=null?arguments[ue]:{};ue%2?le(Object(be),!0).forEach(function(Se){_(K,Se,be[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(be)):le(Object(be)).forEach(function(Se){Object.defineProperty(K,Se,Object.getOwnPropertyDescriptor(be,Se))})}return K}var He=(0,x.defineComponent)({name:"Tree",props:_e(_e({},me),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(K,ue){var be=ue.emit,Se=ue.slots,ut=(0,x.ref)(),at=(0,x.computed)(function(){return F(K.data,K.rootPath)}),xe=function(qe){return at.value.reduce(function(ot,X){var ne,E=X.level>=qe,N=(ne=K.pathCollapsible)===null||ne===void 0?void 0:ne.call(K,X);return X.type!=="objectStart"&&X.type!=="arrayStart"||!E&&!N?ot:_e(_e({},ot),{},_({},X.path,1))},{})},Ce=(0,x.reactive)({translateY:0,visibleData:null,hiddenPaths:xe(K.deep)}),nt=(0,x.computed)(function(){for(var qe=null,ot=[],X=at.value.length,ne=0;ne<X;ne++){var E=_e(_e({},at.value[ne]),{},{id:ne}),N=Ce.hiddenPaths[E.path];if(qe&&qe.path===E.path){var Q=qe.type==="objectStart",ae=_e(_e(_e({},E),qe),{},{showComma:E.showComma,content:Q?"{...}":"[...]",type:Q?"objectCollapsed":"arrayCollapsed"});qe=null,ot.push(ae)}else{if(N&&!qe){qe=E;continue}if(qe)continue;ot.push(E)}}return ot}),Ne=(0,x.computed)(function(){var qe=K.selectedValue;return qe&&K.selectableType==="multiple"&&Array.isArray(qe)?qe:[qe]}),wt=(0,x.computed)(function(){return!K.selectableType||K.selectOnClickNode||K.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),Pt=function(){var qe=nt.value;if(K.virtual){var ot,X=K.height/K.itemHeight,ne=((ot=ut.value)===null||ot===void 0?void 0:ot.scrollTop)||0,E=Math.floor(ne/K.itemHeight),N=E<0?0:E+X>qe.length?qe.length-X:E;N<0&&(N=0);var Q=N+X;Ce.translateY=N*K.itemHeight,Ce.visibleData=qe.filter(function(ae,se){return se>=N&&se<Q})}else Ce.visibleData=qe},qt=function(){Pt()},cn=function(qe){var ot,X,ne=qe.path,E=K.selectableType;if(E==="multiple"){var N=Ne.value.findIndex(function(ie){return ie===ne}),Q=v(Ne.value);N!==-1?Q.splice(N,1):Q.push(ne),be("update:selectedValue",Q),be("selectedChange",Q,v(Ne.value))}else if(E==="single"&&Ne.value[0]!==ne){var ae=(ot=Ne.value,X=1,function(ie){if(Array.isArray(ie))return ie}(ot)||function(ie,fe){var de=ie==null?null:typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(de!=null){var Ae,Me,Pe=[],Ze=!0,Ve=!1;try{for(de=de.call(ie);!(Ze=(Ae=de.next()).done)&&(Pe.push(Ae.value),!fe||Pe.length!==fe);Ze=!0);}catch(Te){Ve=!0,Me=Te}finally{try{Ze||de.return==null||de.return()}finally{if(Ve)throw Me}}return Pe}}(ot,X)||g(ot,X)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],se=ne;be("update:selectedValue",se),be("selectedChange",se,ae)}},$t=function(qe){be("nodeClick",qe)},Rt=function(qe,ot){if(qe)Ce.hiddenPaths=_e(_e({},Ce.hiddenPaths),{},_({},ot,1));else{var X=_e({},Ce.hiddenPaths);delete X[ot],Ce.hiddenPaths=X}},dn=function(qe,ot){K.collapsedOnClickBrackets&&Rt(qe,ot),be("bracketsClick",qe)},nn=function(qe,ot){Rt(qe,ot),be("iconClick",qe)},Et=function(qe,ot){var X=Y(K.data),ne=K.rootPath;new Function("data","val","data".concat(ot.slice(ne.length),"=val"))(X,qe),be("update:data",X)};return(0,x.watchEffect)(function(){wt.value&&function(qe){throw new Error("[VueJSONPretty] ".concat(qe))}(wt.value)}),(0,x.watchEffect)(function(){nt.value&&Pt()}),(0,x.watch)(function(){return K.deep},function(qe){qe&&(Ce.hiddenPaths=xe(qe))}),function(){var qe,ot,X=(qe=K.renderNodeKey)!==null&&qe!==void 0?qe:Se.renderNodeKey,ne=(ot=K.renderNodeValue)!==null&&ot!==void 0?ot:Se.renderNodeValue,E=Ce.visibleData&&Ce.visibleData.map(function(N){return(0,x.createVNode)(ve,{key:N.id,node:N,collapsed:!!Ce.hiddenPaths[N.path],showDoubleQuotes:K.showDoubleQuotes,showLength:K.showLength,checked:Ne.value.includes(N.path),selectableType:K.selectableType,showLine:K.showLine,showLineNumber:K.showLineNumber,showSelectController:K.showSelectController,selectOnClickNode:K.selectOnClickNode,nodeSelectable:K.nodeSelectable,highlightSelectedNode:K.highlightSelectedNode,editable:K.editable,editableTrigger:K.editableTrigger,showIcon:K.showIcon,showKeyValueSpace:K.showKeyValueSpace,renderNodeKey:X,renderNodeValue:ne,onNodeClick:$t,onBracketsClick:dn,onIconClick:nn,onSelectedChange:cn,onValueChange:Et,style:K.itemHeight&&K.itemHeight!==20?{lineHeight:"".concat(K.itemHeight,"px")}:{}},null)});return(0,x.createVNode)("div",{ref:ut,class:{"vjs-tree":!0,"is-virtual":K.virtual},onScroll:K.virtual?qt:void 0,style:K.showLineNumber?_e({paddingLeft:"".concat(12*Number(at.value.length.toString().length),"px")},K.style):K.style},[K.virtual?(0,x.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(K.height,"px")}},[(0,x.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(nt.value.length*K.itemHeight,"px")}},[(0,x.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(Ce.translateY,"px)")}},[E])])]):E])}}})}(),f}()})})(a_);const dF=Gw(a_.exports),fF={},pF={class:"w-full h-12"};function gF(t,o){return Ue(),Ye("div",pF," TBD ")}const mF=on(fF,[["render",gF]]);var l_={exports:{}};(function(t){//! openseadragon 3.1.0
//! Built on 2022-06-07
//! Git commit: v3.1.0-1-c1c380f
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function o(n){return new o.Viewer(n)}(function(n){n.version={versionStr:"3.1.0",major:parseInt("3",10),minor:parseInt("1",10),revision:parseInt("0",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},u=Object.prototype.toString,h=Object.prototype.hasOwnProperty;n.isFunction=function(f){return n.type(f)==="function"},n.isArray=Array.isArray||function(f){return n.type(f)==="array"},n.isWindow=function(f){return f&&typeof f=="object"&&"setInterval"in f},n.type=function(f){return f==null?String(f):a[u.call(f)]||"object"},n.isPlainObject=function(f){if(!f||o.type(f)!=="object"||f.nodeType||n.isWindow(f)||f.constructor&&!h.call(f,"constructor")&&!h.call(f.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var g in f)d=g;return d===void 0||h.call(f,d)},n.isEmptyObject=function(f){for(var d in f)return!1;return!0},n.freezeObject=function(f){return Object.freeze?n.freezeObject=Object.freeze:n.freezeObject=function(d){return d},n.freezeObject(f)},n.supportsCanvas=function(){var f=document.createElement("canvas");return!!(n.isFunction(f.getContext)&&f.getContext("2d"))}(),n.isCanvasTainted=function(f){var d=!1;try{f.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},n.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),n.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),n.supportsEventListenerOptions=function(){var f=0;if(n.supportsAddEventListener)try{var d={get capture(){return f++,!1},get once(){return f++,!1},get passive(){return f++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{f=0}return f>=3}(),n.getCurrentPixelDensityRatio=function(){if(n.supportsCanvas){var f=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,g=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return Math.max(d,1)/g}else return 1},n.pixelDensityRatio=n.getCurrentPixelDensityRatio()})(o),function(n){n.extend=function(){var g,v,_,x,T,B,M=arguments[0]||{},j=arguments.length,V=!1,F=1;for(typeof M=="boolean"&&(V=M,M=arguments[1]||{},F=2),typeof M!="object"&&!o.isFunction(M)&&(M={}),j===F&&(M=this,--F);F<j;F++)if(g=arguments[F],g!==null||g!==void 0)for(v in g)_=M[v],x=g[v],M!==x&&(V&&x&&(o.isPlainObject(x)||(T=o.isArray(x)))?(T?(T=!1,B=_&&o.isArray(_)?_:[]):B=_&&o.isPlainObject(_)?_:{},M[v]=o.extend(V,B,x)):x!==void 0&&(M[v]=x));return M};var a=function(){if(typeof navigator!="object")return!1;var g=navigator.userAgent;return typeof g!="string"?!1:g.indexOf("iPhone")!==-1||g.indexOf("iPad")!==-1||g.indexOf("iPod")!==-1};n.extend(n,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(g,v){return function(){var _=arguments;return _===void 0&&(_=[]),v.apply(g,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(g){return n._viewers.get(this.getElement(g))},getElement:function(g){return typeof g=="string"&&(g=document.getElementById(g)),g},getElementPosition:function(g){var v=new n.Point,_,x;for(g=n.getElement(g),_=n.getElementStyle(g).position==="fixed",x=d(g,_);x;)v.x+=g.offsetLeft,v.y+=g.offsetTop,_&&(v=v.plus(n.getPageScroll())),g=x,_=n.getElementStyle(g).position==="fixed",x=d(g,_);return v},getElementOffset:function(g){g=n.getElement(g);var v=g&&g.ownerDocument,_,x,T={top:0,left:0};return v?(_=v.documentElement,typeof g.getBoundingClientRect<"u"&&(T=g.getBoundingClientRect()),x=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new n.Point(T.left+(x.pageXOffset||_.scrollLeft)-(_.clientLeft||0),T.top+(x.pageYOffset||_.scrollTop)-(_.clientTop||0))):new n.Point},getElementSize:function(g){return g=n.getElement(g),new n.Point(g.clientWidth,g.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(g){return g=n.getElement(g),g.currentStyle}:function(g){return g=n.getElement(g),window.getComputedStyle(g,"")},getCssPropertyWithVendorPrefix:function(g){var v={};return n.getCssPropertyWithVendorPrefix=function(_){if(v[_]!==void 0)return v[_];var x=document.createElement("div").style,T=null;if(x[_]!==void 0)T=_;else for(var B=["Webkit","Moz","MS","O","webkit","moz","ms","o"],M=n.capitalizeFirstLetter(_),j=0;j<B.length;j++){var V=B[j]+M;if(x[V]!==void 0){T=V;break}}return v[_]=T,T},n.getCssPropertyWithVendorPrefix(g)},capitalizeFirstLetter:function(g){return g.charAt(0).toUpperCase()+g.slice(1)},positiveModulo:function(g,v){var _=g%v;return _<0&&(_+=v),_},pointInElement:function(g,v){g=n.getElement(g);var _=n.getElementOffset(g),x=n.getElementSize(g);return v.x>=_.x&&v.x<_.x+x.x&&v.y<_.y+x.y&&v.y>=_.y},getMousePosition:function(g){if(typeof g.pageX=="number")n.getMousePosition=function(v){var _=new n.Point;return _.x=v.pageX,_.y=v.pageY,_};else if(typeof g.clientX=="number")n.getMousePosition=function(v){var _=new n.Point;return _.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return n.getMousePosition(g)},getPageScroll:function(){var g=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")n.getPageScroll=function(){return new n.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)n.getPageScroll=function(){return new n.Point(document.body.scrollLeft,document.body.scrollTop)};else if(g.scrollLeft||g.scrollTop)n.getPageScroll=function(){return new n.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new n.Point(0,0);return n.getPageScroll()},setPageScroll:function(g){if(typeof window.scrollTo<"u")n.setPageScroll=function(x){window.scrollTo(x.x,x.y)};else{var v=n.getPageScroll();if(v.x===g.x&&v.y===g.y)return;document.body.scrollLeft=g.x,document.body.scrollTop=g.y;var _=n.getPageScroll();if(_.x!==v.x&&_.y!==v.y){n.setPageScroll=function(x){document.body.scrollLeft=x.x,document.body.scrollTop=x.y};return}if(document.documentElement.scrollLeft=g.x,document.documentElement.scrollTop=g.y,_=n.getPageScroll(),_.x!==v.x&&_.y!==v.y){n.setPageScroll=function(x){document.documentElement.scrollLeft=x.x,document.documentElement.scrollTop=x.y};return}n.setPageScroll=function(x){}}n.setPageScroll(g)},getWindowSize:function(){var g=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")n.getWindowSize=function(){return new n.Point(window.innerWidth,window.innerHeight)};else if(g.clientWidth||g.clientHeight)n.getWindowSize=function(){return new n.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)n.getWindowSize=function(){return new n.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return n.getWindowSize()},makeCenteredNode:function(g){g=n.getElement(g);var v=[n.makeNeutralElement("div"),n.makeNeutralElement("div"),n.makeNeutralElement("div")];return n.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),n.extend(v[1].style,{display:"table-row"}),n.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(g),v[0]},makeNeutralElement:function(g){var v=document.createElement(g),_=v.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",v},now:function(){return Date.now?n.now=Date.now:n.now=function(){return new Date().getTime()},n.now()},makeTransparentImage:function(g){var v=n.makeNeutralElement("img");return v.src=g,v},setElementOpacity:function(g,v,_){var x,T;g=n.getElement(g),_&&!n.Browser.alpha&&(v=Math.round(v)),n.Browser.opacity?g.style.opacity=v<1?v:"":v<1?(x=Math.round(100*v),T="alpha(opacity="+x+")",g.style.filter=T):g.style.filter=""},setElementTouchActionNone:function(g){g=n.getElement(g),typeof g.style.touchAction<"u"?g.style.touchAction="none":typeof g.style.msTouchAction<"u"&&(g.style.msTouchAction="none")},setElementPointerEvents:function(g,v){g=n.getElement(g),typeof g.style<"u"&&typeof g.style.pointerEvents<"u"&&(g.style.pointerEvents=v)},setElementPointerEventsNone:function(g){n.setElementPointerEvents(g,"none")},addClass:function(g,v){g=n.getElement(g),g.className?(" "+g.className+" ").indexOf(" "+v+" ")===-1&&(g.className+=" "+v):g.className=v},indexOf:function(g,v,_){return Array.prototype.indexOf?this.indexOf=function(x,T,B){return x.indexOf(T,B)}:this.indexOf=function(x,T,B){var M,j=B||0,V;if(!x)throw new TypeError;if(V=x.length,V===0||j>=V)return-1;for(j<0&&(j=V-Math.abs(j)),M=j;M<V;M++)if(x[M]===T)return M;return-1},this.indexOf(g,v,_)},removeClass:function(g,v){var _,x=[],T;for(g=n.getElement(g),_=g.className.split(/\s+/),T=0;T<_.length;T++)_[T]&&_[T]!==v&&x.push(_[T]);g.className=x.join(" ")},normalizeEventListenerOptions:function(g){var v;return typeof g<"u"?typeof g=="boolean"?v=n.supportsEventListenerOptions?{capture:g}:g:v=n.supportsEventListenerOptions?g:typeof g.capture<"u"?g.capture:!1:v=n.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(n.supportsAddEventListener)return function(g,v,_,x){x=n.normalizeEventListenerOptions(x),g=n.getElement(g),g.addEventListener(v,_,x)};if(document.documentElement.attachEvent&&document.attachEvent)return function(g,v,_){g=n.getElement(g),g.attachEvent("on"+v,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(n.supportsRemoveEventListener)return function(g,v,_,x){x=n.normalizeEventListenerOptions(x),g=n.getElement(g),g.removeEventListener(v,_,x)};if(document.documentElement.detachEvent&&document.detachEvent)return function(g,v,_){g=n.getElement(g),g.detachEvent("on"+v,_)};throw new Error("No known event model.")}(),cancelEvent:function(g){g.preventDefault()},eventIsCanceled:function(g){return g.defaultPrevented},stopEvent:function(g){g.stopPropagation()},createCallback:function(g,v){var _=[],x;for(x=2;x<arguments.length;x++)_.push(arguments[x]);return function(){var T=_.concat([]),B;for(B=0;B<arguments.length;B++)T.push(arguments[B]);return v.apply(g,T)}},getUrlParameter:function(g){var v=f[g];return v||null},getUrlProtocol:function(g){var v=g.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(g){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?n.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:n.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)n.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return n.createAjaxRequest(g)},makeAjaxRequest:function(g,v,_){var x,T,B,M;n.isPlainObject(g)&&(v=g.success,_=g.error,x=g.withCredentials,T=g.headers,B=g.responseType||null,M=g.postData||null,g=g.url);var j=n.getUrlProtocol(g),V=n.createAjaxRequest(j==="file:");if(!n.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");V.onreadystatechange=function(){V.readyState===4&&(V.onreadystatechange=function(){},V.status>=200&&V.status<300||V.status===0&&j!=="http:"&&j!=="https:"?v(V):n.isFunction(_)?_(V):n.console.error("AJAX request returned %d: %s",V.status,g))};var F=M?"POST":"GET";try{if(V.open(F,g,!0),B&&(V.responseType=B),T)for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&T[L]&&V.setRequestHeader(L,T[L]);x&&(V.withCredentials=!0),V.send(M)}catch(Y){n.console.error("%s while making AJAX request: %s",Y.name,Y.message),V.onreadystatechange=function(){},n.isFunction(_)&&_(V,Y)}return V},jsonp:function(g){var v,_=g.url,x=document.head||document.getElementsByTagName("head")[0]||document.documentElement,T=g.callbackName||"openseadragon"+n.now(),B=window[T],M="$1"+T+"$2",j=g.param||"callback",V=g.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,M),_+=(/\?/.test(_)?"&":"?")+j+"="+T,window[T]=function(F){if(B)window[T]=B;else try{delete window[T]}catch{}V&&n.isFunction(V)&&V(F)},v=document.createElement("script"),(g.async!==void 0||g.async!==!1)&&(v.async="async"),g.scriptCharset&&(v.charset=g.scriptCharset),v.src=_,v.onload=v.onreadystatechange=function(F,L){(L||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,x&&v.parentNode&&x.removeChild(v),v=void 0)},x.insertBefore(v,x.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(g){if(window.DOMParser)n.parseXml=function(v){var _=null,x;return x=new DOMParser,_=x.parseFromString(v,"text/xml"),_};else if(window.ActiveXObject)n.parseXml=function(v){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(v),_};else throw new Error("Browser doesn't support XML DOM.");return n.parseXml(g)},parseJSON:function(g){return n.parseJSON=window.JSON.parse,n.parseJSON(g)},imageFormatSupported:function(g){return g=g||"",!!h[g.toLowerCase()]},setImageFormatsSupported:function(g){n.extend(h,g)}});var u=function(g){};n.console=window.console||{log:u,debug:u,info:u,warn:u,error:u,assert:u},n.Browser={vendor:n.BROWSERS.UNKNOWN,version:0,alpha:!0};var h={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},f={};(function(){var g=navigator.appVersion,v=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(n.Browser.vendor=n.BROWSERS.EDGE,n.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(n.Browser.vendor=n.BROWSERS.CHROMEEDGE,n.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(n.Browser.vendor=n.BROWSERS.FIREFOX,n.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(n.Browser.vendor=v.indexOf("Chrome")>=0?n.BROWSERS.CHROME:n.BROWSERS.SAFARI,n.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(v)!==null&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":n.Browser.vendor=n.BROWSERS.OPERA,n.Browser.version=parseFloat(g);break}var x=window.location.search.substring(1),T=x.split("&"),B,M,j;for(j=0;j<T.length;j++)if(B=T[j],M=B.indexOf("="),M>0){var V=B.substring(0,M),F=B.substring(M+1);try{f[V]=decodeURIComponent(F)}catch{n.console.error("Ignoring malformed URL parameter: %s=%s",V,F)}}n.Browser.alpha=!(n.Browser.vendor===n.BROWSERS.CHROME&&n.Browser.version<2),n.Browser.opacity=!0,n.Browser.vendor===n.BROWSERS.IE&&n.Browser.version<11&&n.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(g){var v=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame,_=g.cancelAnimationFrame||g.mozCancelAnimationFrame||g.webkitCancelAnimationFrame||g.msCancelAnimationFrame;if(v&&_)n.requestAnimationFrame=function(){return v.apply(g,arguments)},n.cancelAnimationFrame=function(){return _.apply(g,arguments)};else{var x=[],T=[],B=0,M;n.requestAnimationFrame=function(j){return x.push([++B,j]),M||(M=setInterval(function(){if(x.length){var V=n.now(),F=T;for(T=x,x=F;T.length;)T.shift()[1](V)}else clearInterval(M),M=void 0},1e3/50)),B},n.cancelAnimationFrame=function(j){var V,F;for(V=0,F=x.length;V<F;V+=1)if(x[V][0]===j){x.splice(V,1);return}for(V=0,F=T.length;V<F;V+=1)if(T[V][0]===j){T.splice(V,1);return}}}}(window);function d(g,v){return v&&g!==document.body?document.body:g.offsetParent}}(o),function(n,a){t.exports?t.exports=a():n.OpenSeadragon=a()}(Ys,function(){return o}),function(n){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(u){return u.requestFullscreen()},a.exitFullScreen=function(){document.exitFullscreen()},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(u){return u.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(u){return u.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){n.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},n.extend(n,a)}(o),function(n){n.EventSource=function(){this.events={}},n.EventSource.prototype={addOnceHandler:function(a,u,h,f){var d=this;f=f||1;var g=0,v=function(_){g++,g===f&&d.removeHandler(a,v),u(_)};this.addHandler(a,v,h)},addHandler:function(a,u,h){var f=this.events[a];f||(this.events[a]=f=[]),u&&n.isFunction(u)&&(f[f.length]={handler:u,userData:h||null})},removeHandler:function(a,u){var h=this.events[a],f=[],d;if(!!h&&n.isArray(h)){for(d=0;d<h.length;d++)h[d].handler!==u&&f.push(h[d]);this.events[a]=f}},numberOfHandlers:function(a){var u=this.events[a];return u?u.length:0},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var u in this.events)this.events[u]=[]},getHandler:function(a){var u=this.events[a];return!u||!u.length?null:(u=u.length===1?[u[0]]:Array.apply(null,u),function(h,f){var d,g=u.length;for(d=0;d<g;d++)u[d]&&(f.eventSource=h,f.userData=u[d].userData,u[d].handler(f))})},raiseEvent:function(a,u){var h=this.getHandler(a);h&&(u||(u={}),h(this,u))}}}(o),function(n){var a={};n.MouseTracker=function(O){var R=arguments;n.isPlainObject(O)||(O={element:R[0],clickTimeThreshold:R[1],clickDistThreshold:R[2]}),this.hash=Math.random(),this.element=n.getElement(O.element),this.clickTimeThreshold=O.clickTimeThreshold||n.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=O.clickDistThreshold||n.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=O.dblClickTimeThreshold||n.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=O.dblClickDistThreshold||n.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=O.userData||null,this.stopDelay=O.stopDelay||50,this.preProcessEventHandler=O.preProcessEventHandler||null,this.contextMenuHandler=O.contextMenuHandler||null,this.enterHandler=O.enterHandler||null,this.leaveHandler=O.leaveHandler||null,this.exitHandler=O.exitHandler||null,this.overHandler=O.overHandler||null,this.outHandler=O.outHandler||null,this.pressHandler=O.pressHandler||null,this.nonPrimaryPressHandler=O.nonPrimaryPressHandler||null,this.releaseHandler=O.releaseHandler||null,this.nonPrimaryReleaseHandler=O.nonPrimaryReleaseHandler||null,this.moveHandler=O.moveHandler||null,this.scrollHandler=O.scrollHandler||null,this.clickHandler=O.clickHandler||null,this.dblClickHandler=O.dblClickHandler||null,this.dragHandler=O.dragHandler||null,this.dragEndHandler=O.dragEndHandler||null,this.pinchHandler=O.pinchHandler||null,this.stopHandler=O.stopHandler||null,this.keyDownHandler=O.keyDownHandler||null,this.keyUpHandler=O.keyUpHandler||null,this.keyHandler=O.keyHandler||null,this.focusHandler=O.focusHandler||null,this.blurHandler=O.blurHandler||null;var z=this;a[this.hash]={click:function(W){Y(z,W)},dblclick:function(W){ce(z,W)},keydown:function(W){pe(z,W)},keyup:function(W){me(z,W)},keypress:function(W){ve(z,W)},focus:function(W){le(z,W)},blur:function(W){_e(z,W)},contextmenu:function(W){He(z,W)},wheel:function(W){K(z,W)},mousewheel:function(W){ue(z,W)},DOMMouseScroll:function(W){ue(z,W)},MozMousePixelScroll:function(W){ue(z,W)},losecapture:function(W){Se(z,W)},mouseenter:function(W){qt(z,W)},mouseleave:function(W){cn(z,W)},mouseover:function(W){$t(z,W)},mouseout:function(W){Rt(z,W)},mousedown:function(W){dn(z,W)},mouseup:function(W){nn(z,W)},mousemove:function(W){ot(z,W)},touchstart:function(W){ut(z,W)},touchend:function(W){at(z,W)},touchmove:function(W){xe(z,W)},touchcancel:function(W){Ce(z,W)},gesturestart:function(W){nt(z,W)},gesturechange:function(W){Ne(z,W)},gotpointercapture:function(W){wt(z,W)},lostpointercapture:function(W){Pt(z,W)},pointerenter:function(W){qt(z,W)},pointerleave:function(W){cn(z,W)},pointerover:function(W){$t(z,W)},pointerout:function(W){Rt(z,W)},pointerdown:function(W){dn(z,W)},pointerup:function(W){nn(z,W)},pointermove:function(W){ot(z,W)},pointercancel:function(W){E(z,W)},pointerupcaptured:function(W){Et(z,W)},pointermovecaptured:function(W){X(z,W)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,n.MouseTracker.havePointerEvents&&n.setElementPointerEvents(this.element,"auto"),this.exitHandler&&n.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),O.startDisabled||this.setTracking(!0)},n.MouseTracker.prototype={destroy:function(){g(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(O){return O?d(this):g(this),this},getActivePointersListByType:function(O){var R=a[this.hash],z,W=R.activePointersLists.length,ye;for(z=0;z<W;z++)if(R.activePointersLists[z].type===O)return R.activePointersLists[z];return ye=new n.MouseTracker.GesturePointList(O),R.activePointersLists.push(ye),ye},getActivePointerCount:function(){var O=a[this.hash],R,z=O.activePointersLists.length,W=0;for(R=0;R<z;R++)W+=O.activePointersLists[R].getLength();return W},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var u=function(){try{return window.self!==window.top}catch{return!0}}();function h(O){try{return O.addEventListener&&O.removeEventListener}catch{return!1}}n.MouseTracker.gesturePointVelocityTracker=function(){var O=[],R=0,z=0,W=function(St,dt){return St.hash.toString()+dt.type+dt.id.toString()},ye=function(){var St,dt=O.length,In,wn,Ti=n.now(),nr,fs,ps;for(nr=Ti-z,z=Ti,St=0;St<dt;St++)In=O[St],wn=In.gPoint,wn.direction=Math.atan2(wn.currentPos.y-In.lastPos.y,wn.currentPos.x-In.lastPos.x),fs=In.lastPos.distanceTo(wn.currentPos),In.lastPos=wn.currentPos,ps=1e3*fs/(nr+1),wn.speed=.75*ps+.25*wn.speed},Fe=function(St,dt){var In=W(St,dt);O.push({guid:In,gPoint:dt,lastPos:dt.currentPos}),O.length===1&&(z=n.now(),R=window.setInterval(ye,50))},it=function(St,dt){var In=W(St,dt),wn,Ti=O.length;for(wn=0;wn<Ti;wn++)if(O[wn].guid===In){O.splice(wn,1),Ti--,Ti===0&&window.clearInterval(R);break}};return{addPoint:Fe,removePoint:it}}(),n.MouseTracker.captureElement=document,n.MouseTracker.wheelEventName=n.Browser.vendor===n.BROWSERS.IE&&n.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",n.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",n.MouseTracker.wheelEventName],n.MouseTracker.wheelEventName==="DOMMouseScroll"&&n.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(n.MouseTracker.havePointerEvents=!0,n.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),n.MouseTracker.havePointerCapture=function(){var O=document.createElement("div");return n.isFunction(O.setPointerCapture)&&n.isFunction(O.releasePointerCapture)}(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(n.MouseTracker.havePointerEvents=!1,n.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),n.MouseTracker.mousePointerId="legacy-mouse",n.MouseTracker.havePointerCapture=function(){var O=document.createElement("div");return n.isFunction(O.setCapture)&&n.isFunction(O.releaseCapture)}(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&n.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&n.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),n.MouseTracker.GesturePointList=function(O){this._gPoints=[],this.type=O,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},n.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(O){return this._gPoints.push(O)},removeById:function(O){var R,z=this._gPoints.length;for(R=0;R<z;R++)if(this._gPoints[R].id===O){this._gPoints.splice(R,1);break}return this._gPoints.length},getByIndex:function(O){return O<this._gPoints.length?this._gPoints[O]:null},getById:function(O){var R,z=this._gPoints.length;for(R=0;R<z;R++)if(this._gPoints[R].id===O)return this._gPoints[R];return null},getPrimary:function(O){var R,z=this._gPoints.length;for(R=0;R<z;R++)if(this._gPoints[R].isPrimary)return this._gPoints[R];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(n.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function f(O){var R=a[O.hash],z,W,ye,Fe,it,St=R.activePointersLists.length;for(z=0;z<St;z++)if(ye=R.activePointersLists[z],ye.getLength()>0){for(it=[],Fe=ye.asArray(),W=0;W<Fe.length;W++)it.push(Fe[W]);for(W=0;W<it.length;W++)Q(O,ye,it[W])}for(z=0;z<St;z++)R.activePointersLists.pop();R.sentDragEvent=!1}function d(O){var R=a[O.hash],z,W;if(!R.tracking){for(W=0;W<n.MouseTracker.subscribeEvents.length;W++)z=n.MouseTracker.subscribeEvents[W],n.addEvent(O.element,z,R[z],z===n.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);f(O),R.tracking=!0}}function g(O){var R=a[O.hash],z,W;if(R.tracking){for(W=0;W<n.MouseTracker.subscribeEvents.length;W++)z=n.MouseTracker.subscribeEvents[W],n.removeEvent(O.element,z,R[z],!1);f(O),R.tracking=!1}}function v(O,R){var z=a[O.hash];if(R==="pointerevent")return{upName:"pointerup",upHandler:z.pointerupcaptured,moveName:"pointermove",moveHandler:z.pointermovecaptured};if(R==="mouse")return{upName:"pointerup",upHandler:z.pointerupcaptured,moveName:"pointermove",moveHandler:z.pointermovecaptured};if(R==="touch")return{upName:"touchend",upHandler:z.touchendcaptured,moveName:"touchmove",moveHandler:z.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _(O,R){var z;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents)try{O.element.setPointerCapture(R.id)}catch{n.console.warn("setPointerCapture() called on invalid pointer ID");return}else O.element.setCapture(!0);else z=v(O,n.MouseTracker.havePointerEvents?"pointerevent":R.type),u&&h(window.top)&&n.addEvent(window.top,z.upName,z.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,z.upName,z.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,z.moveName,z.moveHandler,!0);ie(O,R,!0)}function x(O,R){var z,W,ye;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents){if(W=O.getActivePointersListByType(R.type),ye=W.getById(R.id),!ye||!ye.captured)return;try{O.element.releasePointerCapture(R.id)}catch{}}else O.element.releaseCapture();else z=v(O,n.MouseTracker.havePointerEvents?"pointerevent":R.type),u&&h(window.top)&&n.removeEvent(window.top,z.upName,z.upHandler,!0),n.removeEvent(n.MouseTracker.captureElement,z.moveName,z.moveHandler,!0),n.removeEvent(n.MouseTracker.captureElement,z.upName,z.upHandler,!0);ie(O,R,!1)}function T(O){return n.MouseTracker.havePointerEvents?O.pointerId:n.MouseTracker.mousePointerId}function B(O){return n.MouseTracker.havePointerEvents?O.pointerType||(n.Browser.vendor===n.BROWSERS.IE?"mouse":""):"mouse"}function M(O){return n.MouseTracker.havePointerEvents?O.isPrimary:!0}function j(O){return n.getMousePosition(O)}function V(O,R){return F(j(O),R)}function F(O,R){var z=n.getElementOffset(R);return O.minus(z)}function L(O,R){return new n.Point((O.x+R.x)/2,(O.y+R.y)/2)}function Y(O,R){var z={originalEvent:R,eventType:"click",pointerType:"mouse",isEmulated:!1};se(O,z),z.preventDefault&&!z.defaultPrevented&&n.cancelEvent(R),z.stopPropagation&&n.stopEvent(R)}function ce(O,R){var z={originalEvent:R,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};se(O,z),z.preventDefault&&!z.defaultPrevented&&n.cancelEvent(R),z.stopPropagation&&n.stopEvent(R)}function pe(O,R){var z=null,W={originalEvent:R,eventType:"keydown",pointerType:"",isEmulated:!1};se(O,W),O.keyDownHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:O,keyCode:R.keyCode?R.keyCode:R.charCode,ctrl:R.ctrlKey,shift:R.shiftKey,alt:R.altKey,meta:R.metaKey,originalEvent:R,preventDefault:W.preventDefault||W.defaultPrevented,userData:O.userData},O.keyDownHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function me(O,R){var z=null,W={originalEvent:R,eventType:"keyup",pointerType:"",isEmulated:!1};se(O,W),O.keyUpHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:O,keyCode:R.keyCode?R.keyCode:R.charCode,ctrl:R.ctrlKey,shift:R.shiftKey,alt:R.altKey,meta:R.metaKey,originalEvent:R,preventDefault:W.preventDefault||W.defaultPrevented,userData:O.userData},O.keyUpHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function ve(O,R){var z=null,W={originalEvent:R,eventType:"keypress",pointerType:"",isEmulated:!1};se(O,W),O.keyHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:O,keyCode:R.keyCode?R.keyCode:R.charCode,ctrl:R.ctrlKey,shift:R.shiftKey,alt:R.altKey,meta:R.metaKey,originalEvent:R,preventDefault:W.preventDefault||W.defaultPrevented,userData:O.userData},O.keyHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function le(O,R){var z={originalEvent:R,eventType:"focus",pointerType:"",isEmulated:!1};se(O,z),O.focusHandler&&!z.preventGesture&&O.focusHandler({eventSource:O,originalEvent:R,userData:O.userData})}function _e(O,R){var z={originalEvent:R,eventType:"blur",pointerType:"",isEmulated:!1};se(O,z),O.blurHandler&&!z.preventGesture&&O.blurHandler({eventSource:O,originalEvent:R,userData:O.userData})}function He(O,R){var z=null,W={originalEvent:R,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};se(O,W),O.contextMenuHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:O,position:F(j(R),O.element),originalEvent:W.originalEvent,preventDefault:W.preventDefault||W.defaultPrevented,userData:O.userData},O.contextMenuHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function K(O,R){be(O,R,R)}function ue(O,R){var z={target:R.target||R.srcElement,type:"wheel",shiftKey:R.shiftKey||!1,clientX:R.clientX,clientY:R.clientY,pageX:R.pageX?R.pageX:R.clientX,pageY:R.pageY?R.pageY:R.clientY,deltaMode:R.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};n.MouseTracker.wheelEventName==="mousewheel"?z.deltaY=-R.wheelDelta/n.DEFAULT_SETTINGS.pixelsPerWheelLine:z.deltaY=R.detail,be(O,z,R)}function be(O,R,z){var W=0,ye,Fe=null;W=R.deltaY<0?1:-1,ye={originalEvent:R,eventType:"wheel",pointerType:"mouse",isEmulated:R!==z},se(O,ye),O.scrollHandler&&!ye.preventGesture&&!ye.defaultPrevented&&(Fe={eventSource:O,pointerType:"mouse",position:V(R,O.element),scroll:W,shift:R.shiftKey,isTouchEvent:!1,originalEvent:z,preventDefault:ye.preventDefault||ye.defaultPrevented,userData:O.userData},O.scrollHandler(Fe)),ye.stopPropagation&&n.stopEvent(z),(Fe&&Fe.preventDefault||ye.preventDefault&&!ye.defaultPrevented)&&n.cancelEvent(z)}function Se(O,R){var z={id:n.MouseTracker.mousePointerId,type:"mouse"},W={originalEvent:R,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};se(O,W),R.target===O.element&&ie(O,z,!1),W.stopPropagation&&n.stopEvent(R)}function ut(O,R){var z,W,ye=R.changedTouches.length,Fe,it=O.getActivePointersListByType("touch");z=n.now(),it.getLength()>R.touches.length-ye&&n.console.warn("Tracked touch contact count doesn't match event.touches.length");var St={originalEvent:R,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(se(O,St),W=0;W<ye;W++)Fe={id:R.changedTouches[W].identifier,type:"touch",isPrimary:it.getLength()===0,currentPos:j(R.changedTouches[W]),currentTime:z},fe(O,St,Fe),Pe(O,St,Fe,0),ie(O,Fe,!0);St.preventDefault&&!St.defaultPrevented&&n.cancelEvent(R),St.stopPropagation&&n.stopEvent(R)}function at(O,R){var z,W,ye=R.changedTouches.length,Fe;z=n.now();var it={originalEvent:R,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(se(O,it),W=0;W<ye;W++)Fe={id:R.changedTouches[W].identifier,type:"touch",currentPos:j(R.changedTouches[W]),currentTime:z},Ze(O,it,Fe,0),ie(O,Fe,!1),de(O,it,Fe);it.preventDefault&&!it.defaultPrevented&&n.cancelEvent(R),it.stopPropagation&&n.stopEvent(R)}function xe(O,R){var z,W,ye=R.changedTouches.length,Fe;z=n.now();var it={originalEvent:R,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(se(O,it),W=0;W<ye;W++)Fe={id:R.changedTouches[W].identifier,type:"touch",currentPos:j(R.changedTouches[W]),currentTime:z},Ve(O,it,Fe);it.preventDefault&&!it.defaultPrevented&&n.cancelEvent(R),it.stopPropagation&&n.stopEvent(R)}function Ce(O,R){var z=R.changedTouches.length,W,ye,Fe={originalEvent:R,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(se(O,Fe),W=0;W<z;W++)ye={id:R.changedTouches[W].identifier,type:"touch"},Te(O,Fe,ye);Fe.stopPropagation&&n.stopEvent(R)}function nt(O,R){return n.eventIsCanceled(R)||R.preventDefault(),!1}function Ne(O,R){return n.eventIsCanceled(R)||R.preventDefault(),!1}function wt(O,R){var z={originalEvent:R,eventType:"gotpointercapture",pointerType:B(R),isEmulated:!1};se(O,z),R.target===O.element&&ie(O,{id:R.pointerId,type:B(R)},!0),z.stopPropagation&&n.stopEvent(R)}function Pt(O,R){var z={originalEvent:R,eventType:"lostpointercapture",pointerType:B(R),isEmulated:!1};se(O,z),R.target===O.element&&ie(O,{id:R.pointerId,type:B(R)},!1),z.stopPropagation&&n.stopEvent(R)}function qt(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W={originalEvent:R,eventType:"pointerenter",pointerType:z.type,isEmulated:!1};se(O,W),fe(O,W,z)}function cn(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W={originalEvent:R,eventType:"pointerleave",pointerType:z.type,isEmulated:!1};se(O,W),de(O,W,z)}function $t(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W={originalEvent:R,eventType:"pointerover",pointerType:z.type,isEmulated:!1};se(O,W),Ae(O,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function Rt(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W={originalEvent:R,eventType:"pointerout",pointerType:z.type,isEmulated:!1};se(O,W),Me(O,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function dn(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W=n.MouseTracker.havePointerEvents&&z.type==="touch"&&n.Browser.vendor!==n.BROWSERS.IE,ye={originalEvent:R,eventType:"pointerdown",pointerType:z.type,isEmulated:!1};se(O,ye),Pe(O,ye,z,R.button),ye.preventDefault&&!ye.defaultPrevented&&n.cancelEvent(R),ye.stopPropagation&&n.stopEvent(R),ye.shouldCapture&&(W?ie(O,z,!0):_(O,z))}function nn(O,R){qe(O,R)}function Et(O,R){var z=O.getActivePointersListByType(B(R));z.getById(R.pointerId)&&qe(O,R),n.stopEvent(R)}function qe(O,R){var z;z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()};var W={originalEvent:R,eventType:"pointerup",pointerType:z.type,isEmulated:!1};se(O,W),Ze(O,W,z,R.button),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R),W.shouldReleaseCapture&&(R.target===O.element?x(O,z):ie(O,z,!1))}function ot(O,R){ne(O,R)}function X(O,R){var z=O.getActivePointersListByType(B(R));z.getById(R.pointerId)&&ne(O,R),n.stopEvent(R)}function ne(O,R){var z={id:T(R),type:B(R),isPrimary:M(R),currentPos:j(R),currentTime:n.now()},W={originalEvent:R,eventType:"pointermove",pointerType:z.type,isEmulated:!1};se(O,W),Ve(O,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(R),W.stopPropagation&&n.stopEvent(R)}function E(O,R){var z={id:R.pointerId,type:B(R)},W={originalEvent:R,eventType:"pointercancel",pointerType:z.type,isEmulated:!1};se(O,W),Te(O,W,z),W.stopPropagation&&n.stopEvent(R)}function N(O,R){return R.speed=0,R.direction=0,R.contactPos=R.currentPos,R.contactTime=R.currentTime,R.lastPos=R.currentPos,R.lastTime=R.currentTime,O.add(R)}function Q(O,R,z){var W,ye=R.getById(z.id);return ye?(ye.captured&&(n.console.warn("stopTrackingPointer() called on captured pointer"),x(O,ye)),R.removeContact(),W=R.removeById(z.id)):W=R.getLength(),W}function ae(O,R){switch(R.eventType){case"pointermove":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!1,R.preventGesture=!O.hasGestureHandlers,R.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!1,R.preventGesture=!1,R.stopPropagation=!1;break;case"pointerdown":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!1,R.preventGesture=!O.hasGestureHandlers,R.stopPropagation=!1;break;case"pointerup":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!1,R.preventGesture=!O.hasGestureHandlers,R.stopPropagation=!1;break;case"wheel":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!1,R.preventGesture=!O.hasScrollHandler,R.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":R.isStoppable=!0,R.isCancelable=!1,R.preventDefault=!1,R.preventGesture=!1,R.stopPropagation=!1;break;case"click":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!!O.clickHandler,R.preventGesture=!1,R.stopPropagation=!1;break;case"dblclick":R.isStoppable=!0,R.isCancelable=!0,R.preventDefault=!!O.dblClickHandler,R.preventGesture=!1,R.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:R.isStoppable=!1,R.isCancelable=!1,R.preventDefault=!1,R.preventGesture=!1,R.stopPropagation=!1;break}}function se(O,R){R.eventSource=O,R.eventPhase=R.originalEvent&&typeof R.originalEvent.eventPhase<"u"?R.originalEvent.eventPhase:0,R.defaultPrevented=n.eventIsCanceled(R.originalEvent),R.shouldCapture=!1,R.shouldReleaseCapture=!1,R.userData=O.userData,ae(O,R),O.preProcessEventHandler&&O.preProcessEventHandler(R)}function ie(O,R,z){var W=O.getActivePointersListByType(R.type),ye=W.getById(R.id);ye?z&&!ye.captured?(ye.captured=!0,W.captureCount++):!z&&ye.captured&&(ye.captured=!1,W.captureCount--,W.captureCount<0&&(W.captureCount=0,n.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):n.console.warn("updatePointerCaptured() called on untracked pointer")}function fe(O,R,z){var W=O.getActivePointersListByType(z.type),ye;ye=W.getById(z.id),ye?(ye.insideElement=!0,ye.lastPos=ye.currentPos,ye.lastTime=ye.currentTime,ye.currentPos=z.currentPos,ye.currentTime=z.currentTime,z=ye):(z.captured=!1,z.insideElementPressed=!1,z.insideElement=!0,N(W,z)),O.enterHandler&&O.enterHandler({eventSource:O,pointerType:z.type,position:F(z.currentPos,O.element),buttons:W.buttons,pointers:O.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData})}function de(O,R,z){var W=O.getActivePointersListByType(z.type),ye,Fe;ye=W.getById(z.id),ye?(ye.captured?(ye.insideElement=!1,ye.lastPos=ye.currentPos,ye.lastTime=ye.currentTime,ye.currentPos=z.currentPos,ye.currentTime=z.currentTime):Q(O,W,ye),z=ye):(z.captured=!1,z.insideElementPressed=!1),(O.leaveHandler||O.exitHandler)&&(Fe={eventSource:O,pointerType:z.type,position:z.currentPos&&F(z.currentPos,O.element),buttons:W.buttons,pointers:O.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData},O.leaveHandler&&O.leaveHandler(Fe),O.exitHandler&&O.exitHandler(Fe))}function Ae(O,R,z){var W,ye;W=O.getActivePointersListByType(z.type),ye=W.getById(z.id),ye?z=ye:(z.captured=!1,z.insideElementPressed=!1),O.overHandler&&O.overHandler({eventSource:O,pointerType:z.type,position:F(z.currentPos,O.element),buttons:W.buttons,pointers:O.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData})}function Me(O,R,z){var W,ye;W=O.getActivePointersListByType(z.type),ye=W.getById(z.id),ye?z=ye:(z.captured=!1,z.insideElementPressed=!1),O.outHandler&&O.outHandler({eventSource:O,pointerType:z.type,position:z.currentPos&&F(z.currentPos,O.element),buttons:W.buttons,pointers:O.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData})}function Pe(O,R,z,W){var ye=a[O.hash],Fe=O.getActivePointersListByType(z.type),it;if(typeof R.originalEvent.buttons<"u"?Fe.buttons=R.originalEvent.buttons:W===0?Fe.buttons|=1:W===1?Fe.buttons|=4:W===2?Fe.buttons|=2:W===3?Fe.buttons|=8:W===4?Fe.buttons|=16:W===5&&(Fe.buttons|=32),W!==0){R.shouldCapture=!1,R.shouldReleaseCapture=!1,O.nonPrimaryPressHandler&&!R.preventGesture&&!R.defaultPrevented&&(R.preventDefault=!0,O.nonPrimaryPressHandler({eventSource:O,pointerType:z.type,position:F(z.currentPos,O.element),button:W,buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData}));return}it=Fe.getById(z.id),it?(it.insideElementPressed=!0,it.insideElement=!0,it.originalTarget=R.originalEvent.target,it.contactPos=z.currentPos,it.contactTime=z.currentTime,it.lastPos=it.currentPos,it.lastTime=it.currentTime,it.currentPos=z.currentPos,it.currentTime=z.currentTime,z=it):(z.captured=!1,z.insideElementPressed=!0,z.insideElement=!0,z.originalTarget=R.originalEvent.target,N(Fe,z)),Fe.addContact(),!R.preventGesture&&!R.defaultPrevented?(R.shouldCapture=!0,R.shouldReleaseCapture=!1,R.preventDefault=!0,(O.dragHandler||O.dragEndHandler||O.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.addPoint(O,z),Fe.contacts===1?O.pressHandler&&!R.preventGesture&&O.pressHandler({eventSource:O,pointerType:z.type,position:F(z.contactPos,O.element),buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData}):Fe.contacts===2&&O.pinchHandler&&z.type==="touch"&&(ye.pinchGPoints=Fe.asArray(),ye.lastPinchDist=ye.currentPinchDist=ye.pinchGPoints[0].currentPos.distanceTo(ye.pinchGPoints[1].currentPos),ye.lastPinchCenter=ye.currentPinchCenter=L(ye.pinchGPoints[0].currentPos,ye.pinchGPoints[1].currentPos))):(R.shouldCapture=!1,R.shouldReleaseCapture=!1)}function Ze(O,R,z,W){var ye=a[O.hash],Fe=O.getActivePointersListByType(z.type),it,St,dt,In=!1,wn;if(typeof R.originalEvent.buttons<"u"?Fe.buttons=R.originalEvent.buttons:W===0?Fe.buttons^=-2:W===1?Fe.buttons^=-5:W===2?Fe.buttons^=-3:W===3?Fe.buttons^=-9:W===4?Fe.buttons^=-17:W===5&&(Fe.buttons^=-33),R.shouldCapture=!1,W!==0){R.shouldReleaseCapture=!1,O.nonPrimaryReleaseHandler&&!R.preventGesture&&!R.defaultPrevented&&(R.preventDefault=!0,O.nonPrimaryReleaseHandler({eventSource:O,pointerType:z.type,position:F(z.currentPos,O.element),button:W,buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData}));return}dt=Fe.getById(z.id),dt?(Fe.removeContact(),dt.captured&&(In=!0),dt.lastPos=dt.currentPos,dt.lastTime=dt.currentTime,dt.currentPos=z.currentPos,dt.currentTime=z.currentTime,dt.insideElement||Q(O,Fe,dt),it=dt.currentPos,St=dt.currentTime):(z.captured=!1,z.insideElementPressed=!1,z.insideElement=!0,N(Fe,z),dt=z),!R.preventGesture&&!R.defaultPrevented&&(In?(R.shouldReleaseCapture=!0,R.preventDefault=!0,(O.dragHandler||O.dragEndHandler||O.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.removePoint(O,dt),Fe.contacts===0?(O.releaseHandler&&it&&O.releaseHandler({eventSource:O,pointerType:dt.type,position:F(it,O.element),buttons:Fe.buttons,insideElementPressed:dt.insideElementPressed,insideElementReleased:dt.insideElement,isTouchEvent:dt.type==="touch",originalEvent:R.originalEvent,userData:O.userData}),O.dragEndHandler&&ye.sentDragEvent&&O.dragEndHandler({eventSource:O,pointerType:dt.type,position:F(dt.currentPos,O.element),speed:dt.speed,direction:dt.direction,shift:R.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:R.originalEvent,userData:O.userData}),ye.sentDragEvent=!1,(O.clickHandler||O.dblClickHandler)&&dt.insideElement&&(wn=St-dt.contactTime<=O.clickTimeThreshold&&dt.contactPos.distanceTo(it)<=O.clickDistThreshold,O.clickHandler&&O.clickHandler({eventSource:O,pointerType:dt.type,position:F(dt.currentPos,O.element),quick:wn,shift:R.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:R.originalEvent,originalTarget:dt.originalTarget,userData:O.userData}),O.dblClickHandler&&wn&&(Fe.clicks++,Fe.clicks===1?(ye.lastClickPos=it,ye.dblClickTimeOut=setTimeout(function(){Fe.clicks=0},O.dblClickTimeThreshold)):Fe.clicks===2&&(clearTimeout(ye.dblClickTimeOut),Fe.clicks=0,ye.lastClickPos.distanceTo(it)<=O.dblClickDistThreshold&&O.dblClickHandler({eventSource:O,pointerType:dt.type,position:F(dt.currentPos,O.element),shift:R.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:R.originalEvent,userData:O.userData}),ye.lastClickPos=null)))):Fe.contacts===2&&O.pinchHandler&&dt.type==="touch"&&(ye.pinchGPoints=Fe.asArray(),ye.lastPinchDist=ye.currentPinchDist=ye.pinchGPoints[0].currentPos.distanceTo(ye.pinchGPoints[1].currentPos),ye.lastPinchCenter=ye.currentPinchCenter=L(ye.pinchGPoints[0].currentPos,ye.pinchGPoints[1].currentPos))):(R.shouldReleaseCapture=!1,O.releaseHandler&&it&&(O.releaseHandler({eventSource:O,pointerType:dt.type,position:F(it,O.element),buttons:Fe.buttons,insideElementPressed:dt.insideElementPressed,insideElementReleased:dt.insideElement,isTouchEvent:dt.type==="touch",originalEvent:R.originalEvent,userData:O.userData}),R.preventDefault=!0)))}function Ve(O,R,z){var W=a[O.hash],ye=O.getActivePointersListByType(z.type),Fe,it,St;if(typeof R.originalEvent.buttons<"u"&&(ye.buttons=R.originalEvent.buttons),Fe=ye.getById(z.id),Fe)Fe.lastPos=Fe.currentPos,Fe.lastTime=Fe.currentTime,Fe.currentPos=z.currentPos,Fe.currentTime=z.currentTime;else return;R.shouldCapture=!1,R.shouldReleaseCapture=!1,O.stopHandler&&z.type==="mouse"&&(clearTimeout(O.stopTimeOut),O.stopTimeOut=setTimeout(function(){Be(O,R.originalEvent,z.type)},O.stopDelay)),ye.contacts===0?O.moveHandler&&O.moveHandler({eventSource:O,pointerType:z.type,position:F(z.currentPos,O.element),buttons:ye.buttons,isTouchEvent:z.type==="touch",originalEvent:R.originalEvent,userData:O.userData}):ye.contacts===1?(O.moveHandler&&(Fe=ye.asArray()[0],O.moveHandler({eventSource:O,pointerType:Fe.type,position:F(Fe.currentPos,O.element),buttons:ye.buttons,isTouchEvent:Fe.type==="touch",originalEvent:R.originalEvent,userData:O.userData})),O.dragHandler&&!R.preventGesture&&!R.defaultPrevented&&(Fe=ye.asArray()[0],St=Fe.currentPos.minus(Fe.lastPos),O.dragHandler({eventSource:O,pointerType:Fe.type,position:F(Fe.currentPos,O.element),buttons:ye.buttons,delta:St,speed:Fe.speed,direction:Fe.direction,shift:R.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:R.originalEvent,userData:O.userData}),R.preventDefault=!0,W.sentDragEvent=!0)):ye.contacts===2&&(O.moveHandler&&(it=ye.asArray(),O.moveHandler({eventSource:O,pointerType:it[0].type,position:F(L(it[0].currentPos,it[1].currentPos),O.element),buttons:ye.buttons,isTouchEvent:it[0].type==="touch",originalEvent:R.originalEvent,userData:O.userData})),O.pinchHandler&&z.type==="touch"&&!R.preventGesture&&!R.defaultPrevented&&(St=W.pinchGPoints[0].currentPos.distanceTo(W.pinchGPoints[1].currentPos),St!==W.currentPinchDist&&(W.lastPinchDist=W.currentPinchDist,W.currentPinchDist=St,W.lastPinchCenter=W.currentPinchCenter,W.currentPinchCenter=L(W.pinchGPoints[0].currentPos,W.pinchGPoints[1].currentPos),O.pinchHandler({eventSource:O,pointerType:"touch",gesturePoints:W.pinchGPoints,lastCenter:F(W.lastPinchCenter,O.element),center:F(W.currentPinchCenter,O.element),lastDistance:W.lastPinchDist,distance:W.currentPinchDist,shift:R.originalEvent.shiftKey,originalEvent:R.originalEvent,userData:O.userData}),R.preventDefault=!0)))}function Te(O,R,z){var W=O.getActivePointersListByType(z.type),ye;ye=W.getById(z.id),ye&&Q(O,W,ye)}function Be(O,R,z){O.stopHandler&&O.stopHandler({eventSource:O,pointerType:z,position:V(R,O.element),buttons:O.getActivePointersListByType(z).buttons,isTouchEvent:z==="touch",originalEvent:R,userData:O.userData})}}(o),function(n){n.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},n.Control=function(a,u,h){var f=a.parentNode;typeof u=="number"&&(n.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),u={anchor:u}),u.attachToViewer=typeof u.attachToViewer>"u"?!0:u.attachToViewer,this.autoFade=typeof u.autoFade>"u"?!0:u.autoFade,this.element=a,this.anchor=u.anchor,this.container=h,this.anchor===n.ControlAnchor.ABSOLUTE?(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof u.top=="number"?u.top+"px":u.top,this.wrapper.style.left=typeof u.left=="number"?u.left+"px":u.left,this.wrapper.style.height=typeof u.height=="number"?u.height+"px":u.height,this.wrapper.style.width=typeof u.width=="number"?u.width+"px":u.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===n.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),u.attachToViewer?this.anchor===n.ControlAnchor.TOP_RIGHT||this.anchor===n.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):f.appendChild(this.wrapper)},n.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==n.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===n.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){this.element[n.SIGNAL]&&n.Browser.vendor===n.BROWSERS.IE?n.setElementOpacity(this.element,a,!0):n.setElementOpacity(this.wrapper,a,!0)}}}(o),function(n){n.ControlDock=function(u){var h=["topleft","topright","bottomright","bottomleft"],f,d;for(n.extend(!0,this,{id:"controldock-"+n.now()+"-"+Math.floor(Math.random()*1e6),container:n.makeNeutralElement("div"),controls:[]},u),this.container.onsubmit=function(){return!1},this.element&&(this.element=n.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<h.length;d++)f=h[d],this.controls[f]=n.makeNeutralElement("div"),this.controls[f].style.position="absolute",f.match("left")&&(this.controls[f].style.left="0px"),f.match("right")&&(this.controls[f].style.right="0px"),f.match("top")&&(this.controls[f].style.top="0px"),f.match("bottom")&&(this.controls[f].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},n.ControlDock.prototype={addControl:function(u,h){u=n.getElement(u);var f=null;if(!(a(this,u)>=0)){switch(h.anchor){case n.ControlAnchor.TOP_RIGHT:f=this.controls.topright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingTop="0px";break;case n.ControlAnchor.BOTTOM_RIGHT:f=this.controls.bottomright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingBottom="0px";break;case n.ControlAnchor.BOTTOM_LEFT:f=this.controls.bottomleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingBottom="0px";break;case n.ControlAnchor.TOP_LEFT:f=this.controls.topleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingTop="0px";break;case n.ControlAnchor.ABSOLUTE:f=this.container,u.style.margin="0px",u.style.padding="0px";break;default:case n.ControlAnchor.NONE:f=this.container,u.style.margin="0px",u.style.padding="0px";break}this.controls.push(new n.Control(u,h,f)),u.style.display="inline-block"}},removeControl:function(u){u=n.getElement(u);var h=a(this,u);return h>=0&&(this.controls[h].destroy(),this.controls.splice(h,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var u;for(u=this.controls.length-1;u>=0;u--)if(this.controls[u].isVisible())return!0;return!1},setControlsEnabled:function(u){var h;for(h=this.controls.length-1;h>=0;h--)this.controls[h].setVisible(u);return this}};function a(u,h){var f=u.controls,d;for(d=f.length-1;d>=0;d--)if(f[d].element===h)return d;return-1}}(o),function(n){n.Placement=n.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(o),function(n){var a={},u=1;n.Viewer=function(E){var N=arguments,Q=this,ae;if(n.isPlainObject(E)||(E={id:N[0],xmlPath:N.length>1?N[1]:void 0,prefixUrl:N.length>2?N[2]:void 0,controls:N.length>3?N[3]:void 0,overlays:N.length>4?N[4]:void 0}),E.config&&(n.extend(!0,E,E.config),delete E.config),n.extend(!0,this,{id:E.id,hash:E.hash||u++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},n.DEFAULT_SETTINGS,E),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof a[this.hash]<"u"&&n.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new n.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=n.now(),n.EventSource.call(this),this.addHandler("open-failed",function(se){var ie=n.getString("Errors.OpenFailed",se.eventSource,se.message);Q._showMessage(ie)}),n.ControlDock.call(this,E),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=n.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(se){se.width="100%",se.height="100%",se.overflow="hidden",se.position="absolute",se.top="0px",se.left="0px"}(this.canvas.style),n.setElementTouchActionNone(this.canvas),E.tabIndex!==""&&(this.canvas.tabIndex=E.tabIndex===void 0?0:E.tabIndex),this.container.className="openseadragon-container",function(se){se.width="100%",se.height="100%",se.position="relative",se.overflow="hidden",se.left="0px",se.top="0px",se.textAlign="left"}(this.container.style),n.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new n.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:n.delegate(this,V),keyDownHandler:n.delegate(this,F),keyHandler:n.delegate(this,L),clickHandler:n.delegate(this,Y),dblClickHandler:n.delegate(this,ce),dragHandler:n.delegate(this,pe),dragEndHandler:n.delegate(this,me),enterHandler:n.delegate(this,ve),leaveHandler:n.delegate(this,le),pressHandler:n.delegate(this,_e),releaseHandler:n.delegate(this,He),nonPrimaryPressHandler:n.delegate(this,K),nonPrimaryReleaseHandler:n.delegate(this,ue),scrollHandler:n.delegate(this,Se),pinchHandler:n.delegate(this,be)}),this.outerTracker=new n.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:n.delegate(this,ut),leaveHandler:n.delegate(this,at)}),this.toolbar&&(this.toolbar=new n.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=h(this.container),this.world=new n.World({viewer:this}),this.world.addHandler("add-item",function(se){Q.source=Q.world.getItemAt(0).source,a[Q.hash].forceRedraw=!0,Q._updateRequestId||(Q._updateRequestId=v(Q,xe))}),this.world.addHandler("remove-item",function(se){Q.world.getItemCount()?Q.source=Q.world.getItemAt(0).source:Q.source=null,a[Q.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(se){Q.viewport&&Q.viewport._setContentBounds(Q.world.getHomeBounds(),Q.world.getContentFactor())}),this.world.addHandler("item-index-change",function(se){Q.source=Q.world.getItemAt(0).source}),this.viewport=new n.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new n.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:E.timeout}),this.tileCache=new n.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new n.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=n.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(ae=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(ae,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(ae=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(ae,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new n.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),ae=0;ae<this.customControls.length;ae++)this.addControl(this.customControls[ae].id,{anchor:this.customControls[ae].anchor});n.requestAnimationFrame(function(){x(Q)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),n._viewers.set(this.element,this)},n.extend(n.Viewer.prototype,n.EventSource.prototype,n.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(E){return n.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(E)},openTileSource:function(E){return n.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(E)},get buttons(){return n.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(E,N){var Q=this;if(this.close(),!E)return this;if(this.sequenceMode&&n.isArray(E))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof N<"u"&&!isNaN(N)&&(this.initialPage=N),this.tileSources=E,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(n.isArray(E)||(E=[E]),!E.length)return this;this._opening=!0;for(var ae=E.length,se=0,ie=0,fe,de=function(){if(se+ie===ae)if(se){(Q._firstOpen||!Q.preserveViewport)&&(Q.viewport.goHome(!0),Q.viewport.update()),Q._firstOpen=!1;var Pe=E[0];if(Pe.tileSource&&(Pe=Pe.tileSource),Q.overlays&&!Q.preserveOverlays)for(var Ze=0;Ze<Q.overlays.length;Ze++)Q.currentOverlays[Ze]=d(Q,Q.overlays[Ze]);Q._drawOverlays(),Q._opening=!1,Q.raiseEvent("open",{source:Pe})}else Q._opening=!1,Q.raiseEvent("open-failed",fe)},Ae=function(Pe){(!n.isPlainObject(Pe)||!Pe.tileSource)&&(Pe={tileSource:Pe}),Pe.index!==void 0&&(n.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Pe.index),Pe.collectionImmediately===void 0&&(Pe.collectionImmediately=!0);var Ze=Pe.success;Pe.success=function(Te){if(se++,Pe.tileSource.overlays)for(var Be=0;Be<Pe.tileSource.overlays.length;Be++)Q.addOverlay(Pe.tileSource.overlays[Be]);Ze&&Ze(Te),de()};var Ve=Pe.error;Pe.error=function(Te){ie++,fe||(fe=Te),Ve&&Ve(Te),de()},Q.addTiledImage(Pe)},Me=0;Me<E.length;Me++)Ae(E[Me]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!a[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(n.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,n._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(E){return this.innerTracker.setTracking(E),this.outerTracker.setTracking(E),this.raiseEvent("mouse-enabled",{enabled:E}),this},areControlsEnabled:function(){var E=this.controls.length,N;for(N=0;N<this.controls.length;N++)E=E&&this.controls[N].isVisible();return E},setControlsEnabled:function(E){return E?B(this):x(this),this.raiseEvent("controls-enabled",{enabled:E}),this},setDebugMode:function(E){for(var N=0;N<this.world.getItemCount();N++)this.world.getItemAt(N).debugMode=E;this.debugMode=E,this.forceRedraw()},isFullPage:function(){return a[this.hash].fullPage},setFullPage:function(E){var N=document.body,Q=N.style,ae=document.documentElement.style,se=this,ie,fe;if(E===this.isFullPage())return this;var de={fullPage:E,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",de),de.preventDefaultAction)return this;if(E){for(this.elementSize=n.getElementSize(this.element),this.pageScroll=n.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Q.margin,this.docMargin=ae.margin,Q.margin="0",ae.margin="0",this.bodyPadding=Q.padding,this.docPadding=ae.padding,Q.padding="0",ae.padding="0",this.bodyWidth=Q.width,this.docWidth=ae.width,Q.width="100%",ae.width="100%",this.bodyHeight=Q.height,this.docHeight=ae.height,Q.height="100%",ae.height="100%",this.bodyDisplay=Q.display,Q.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,ie=N.childNodes.length,fe=0;fe<ie;fe++)this.previousBody.push(N.childNodes[0]),N.removeChild(N.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,N.appendChild(this.toolbar.element),n.addClass(this.toolbar.element,"fullpage")),n.addClass(this.element,"fullpage"),N.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=n.getElementSize(this.element).y-n.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,n.delegate(this,ut)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Q.margin=this.bodyMargin,ae.margin=this.docMargin,Q.padding=this.bodyPadding,ae.padding=this.docPadding,Q.width=this.bodyWidth,ae.width=this.docWidth,Q.height=this.bodyHeight,ae.height=this.docHeight,Q.display=this.bodyDisplay,N.removeChild(this.element),ie=this.previousBody.length,fe=0;fe<ie;fe++)N.appendChild(this.previousBody.shift());n.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(N.removeChild(this.toolbar.element),n.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var Ae=0,Me=function(){n.setPageScroll(se.pageScroll);var Pe=n.getPageScroll();Ae++,Ae<10&&(Pe.x!==se.pageScroll.x||Pe.y!==se.pageScroll.y)&&n.requestAnimationFrame(Me)};n.requestAnimationFrame(Me),a[this.hash].fullPage=!1,n.delegate(this,at)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:E}),this},setFullScreen:function(E){var N=this;if(!n.supportsFullScreen)return this.setFullPage(E);if(n.isFullScreen()===E)return this;var Q={fullScreen:E,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Q),Q.preventDefaultAction)return this;if(E){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var ae=function(){var se=n.isFullScreen();se||(n.removeEvent(document,n.fullScreenEventName,ae),n.removeEvent(document,n.fullScreenErrorEventName,ae),N.setFullPage(!1),N.isFullPage()&&(N.element.style.width=N.fullPageStyleWidth,N.element.style.height=N.fullPageStyleHeight)),N.navigator&&N.viewport&&setTimeout(function(){N.navigator.update(N.viewport)}),N.raiseEvent("full-screen",{fullScreen:se})};n.addEvent(document,n.fullScreenEventName,ae),n.addEvent(document,n.fullScreenErrorEventName,ae),n.requestFullScreen(document.body)}else n.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return n.isFullScreen()&&this.isFullPage()},setVisible:function(E){return this.container.style.visibility=E?"":"hidden",this.raiseEvent("visible",{visible:E}),this},addTiledImage:function(E){n.console.assert(E,"[Viewer.addTiledImage] options is required"),n.console.assert(E.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),n.console.assert(!E.replace||E.index>-1&&E.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var N=this;E.replace&&(E.replaceItem=N.world.getItemAt(E.index)),this._hideMessage(),E.placeholderFillStyle===void 0&&(E.placeholderFillStyle=this.placeholderFillStyle),E.opacity===void 0&&(E.opacity=this.opacity),E.preload===void 0&&(E.preload=this.preload),E.compositeOperation===void 0&&(E.compositeOperation=this.compositeOperation),E.crossOriginPolicy===void 0&&(E.crossOriginPolicy=E.tileSource.crossOriginPolicy!==void 0?E.tileSource.crossOriginPolicy:this.crossOriginPolicy),E.ajaxWithCredentials===void 0&&(E.ajaxWithCredentials=this.ajaxWithCredentials),E.loadTilesWithAjax===void 0&&(E.loadTilesWithAjax=this.loadTilesWithAjax),E.ajaxHeaders===void 0||E.ajaxHeaders===null?E.ajaxHeaders=this.ajaxHeaders:n.isPlainObject(E.ajaxHeaders)&&n.isPlainObject(this.ajaxHeaders)&&(E.ajaxHeaders=n.extend({},this.ajaxHeaders,E.ajaxHeaders));var Q={options:E};function ae(fe){for(var de=0;de<N._loadQueue.length;de++)if(N._loadQueue[de]===Q){N._loadQueue.splice(de,1);break}N._loadQueue.length===0&&se(Q),N.raiseEvent("add-item-failed",fe),E.error&&E.error(fe)}function se(fe){N.collectionMode&&(N.world.arrange({immediately:fe.options.collectionImmediately,rows:N.collectionRows,columns:N.collectionColumns,layout:N.collectionLayout,tileSize:N.collectionTileSize,tileMargin:N.collectionTileMargin}),N.world.setAutoRefigureSizes(!0))}if(n.isArray(E.tileSource)){setTimeout(function(){ae({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:E.tileSource,options:E})});return}this._loadQueue.push(Q);function ie(){for(var fe,de,Ae;N._loadQueue.length&&(fe=N._loadQueue[0],!!fe.tileSource);){if(N._loadQueue.splice(0,1),fe.options.replace){var Me=N.world.getIndexOfItem(fe.options.replaceItem);Me!==-1&&(fe.options.index=Me),N.world.removeItem(fe.options.replaceItem)}de=new n.TiledImage({viewer:N,source:fe.tileSource,viewport:N.viewport,drawer:N.drawer,tileCache:N.tileCache,imageLoader:N.imageLoader,x:fe.options.x,y:fe.options.y,width:fe.options.width,height:fe.options.height,fitBounds:fe.options.fitBounds,fitBoundsPlacement:fe.options.fitBoundsPlacement,clip:fe.options.clip,placeholderFillStyle:fe.options.placeholderFillStyle,opacity:fe.options.opacity,preload:fe.options.preload,degrees:fe.options.degrees,flipped:fe.options.flipped,compositeOperation:fe.options.compositeOperation,springStiffness:N.springStiffness,animationTime:N.animationTime,minZoomImageRatio:N.minZoomImageRatio,wrapHorizontal:N.wrapHorizontal,wrapVertical:N.wrapVertical,immediateRender:N.immediateRender,blendTime:N.blendTime,alwaysBlend:N.alwaysBlend,minPixelRatio:N.minPixelRatio,smoothTileEdgesMinZoom:N.smoothTileEdgesMinZoom,iOSDevice:N.iOSDevice,crossOriginPolicy:fe.options.crossOriginPolicy,ajaxWithCredentials:fe.options.ajaxWithCredentials,loadTilesWithAjax:fe.options.loadTilesWithAjax,ajaxHeaders:fe.options.ajaxHeaders,debugMode:N.debugMode,subPixelRoundingForTransparency:N.subPixelRoundingForTransparency}),N.collectionMode&&N.world.setAutoRefigureSizes(!1),N.navigator&&(Ae=n.extend({},fe.options,{replace:!1,originalTiledImage:de,tileSource:fe.tileSource}),N.navigator.addTiledImage(Ae)),N.world.addItem(de,{index:fe.options.index}),N._loadQueue.length===0&&se(fe),N.world.getItemCount()===1&&!N.preserveViewport&&N.viewport.goHome(!0),fe.options.success&&fe.options.success({item:de})}}f(this,E.tileSource,E,function(fe){Q.tileSource=fe,ie()},function(fe){fe.options=E,ae(fe),ie()})},addSimpleImage:function(E){n.console.assert(E,"[Viewer.addSimpleImage] options is required"),n.console.assert(E.url,"[Viewer.addSimpleImage] options.url is required");var N=n.extend({},E,{tileSource:{type:"image",url:E.url}});delete N.url,this.addTiledImage(N)},addLayer:function(E){var N=this;n.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Q=n.extend({},E,{success:function(ae){N.raiseEvent("add-layer",{options:E,drawer:ae.item})},error:function(ae){N.raiseEvent("add-layer-failed",ae)}});return this.addTiledImage(Q),this},getLayerAtLevel:function(E){return n.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(E)},getLevelOfLayer:function(E){return n.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(E)},getLayersCount:function(){return n.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(E,N){return n.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(E,N)},removeLayer:function(E){return n.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(E)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var E=n.delegate(this,M),N=n.delegate(this,j),Q=n.delegate(this,this.goToNextPage),ae=n.delegate(this,this.goToPreviousPage),se=this.navImages,ie=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ie=!1),this.previousButton=new n.Button({element:this.previousButton?n.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.PreviousPage"),srcRest:Ne(this.prefixUrl,se.previous.REST),srcGroup:Ne(this.prefixUrl,se.previous.GROUP),srcHover:Ne(this.prefixUrl,se.previous.HOVER),srcDown:Ne(this.prefixUrl,se.previous.DOWN),onRelease:ae,onFocus:E,onBlur:N}),this.nextButton=new n.Button({element:this.nextButton?n.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.NextPage"),srcRest:Ne(this.prefixUrl,se.next.REST),srcGroup:Ne(this.prefixUrl,se.next.GROUP),srcHover:Ne(this.prefixUrl,se.next.HOVER),srcDown:Ne(this.prefixUrl,se.next.DOWN),onRelease:Q,onFocus:E,onBlur:N}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ie&&(this.paging=new n.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:n.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||n.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var E=n.delegate(this,wt),N=n.delegate(this,qt),Q=n.delegate(this,Rt),ae=n.delegate(this,Pt),se=n.delegate(this,dn),ie=n.delegate(this,Et),fe=n.delegate(this,qe),de=n.delegate(this,ot),Ae=n.delegate(this,X),Me=n.delegate(this,ne),Pe=n.delegate(this,M),Ze=n.delegate(this,j),Ve=this.navImages,Te=[],Be=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Be=!1),this.showZoomControl&&(Te.push(this.zoomInButton=new n.Button({element:this.zoomInButton?n.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomIn"),srcRest:Ne(this.prefixUrl,Ve.zoomIn.REST),srcGroup:Ne(this.prefixUrl,Ve.zoomIn.GROUP),srcHover:Ne(this.prefixUrl,Ve.zoomIn.HOVER),srcDown:Ne(this.prefixUrl,Ve.zoomIn.DOWN),onPress:E,onRelease:N,onClick:Q,onEnter:E,onExit:N,onFocus:Pe,onBlur:Ze})),Te.push(this.zoomOutButton=new n.Button({element:this.zoomOutButton?n.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomOut"),srcRest:Ne(this.prefixUrl,Ve.zoomOut.REST),srcGroup:Ne(this.prefixUrl,Ve.zoomOut.GROUP),srcHover:Ne(this.prefixUrl,Ve.zoomOut.HOVER),srcDown:Ne(this.prefixUrl,Ve.zoomOut.DOWN),onPress:ae,onRelease:N,onClick:se,onEnter:ae,onExit:N,onFocus:Pe,onBlur:Ze}))),this.showHomeControl&&Te.push(this.homeButton=new n.Button({element:this.homeButton?n.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Home"),srcRest:Ne(this.prefixUrl,Ve.home.REST),srcGroup:Ne(this.prefixUrl,Ve.home.GROUP),srcHover:Ne(this.prefixUrl,Ve.home.HOVER),srcDown:Ne(this.prefixUrl,Ve.home.DOWN),onRelease:ie,onFocus:Pe,onBlur:Ze})),this.showFullPageControl&&Te.push(this.fullPageButton=new n.Button({element:this.fullPageButton?n.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.FullPage"),srcRest:Ne(this.prefixUrl,Ve.fullpage.REST),srcGroup:Ne(this.prefixUrl,Ve.fullpage.GROUP),srcHover:Ne(this.prefixUrl,Ve.fullpage.HOVER),srcDown:Ne(this.prefixUrl,Ve.fullpage.DOWN),onRelease:fe,onFocus:Pe,onBlur:Ze})),this.showRotationControl&&(Te.push(this.rotateLeftButton=new n.Button({element:this.rotateLeftButton?n.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateLeft"),srcRest:Ne(this.prefixUrl,Ve.rotateleft.REST),srcGroup:Ne(this.prefixUrl,Ve.rotateleft.GROUP),srcHover:Ne(this.prefixUrl,Ve.rotateleft.HOVER),srcDown:Ne(this.prefixUrl,Ve.rotateleft.DOWN),onRelease:de,onFocus:Pe,onBlur:Ze})),Te.push(this.rotateRightButton=new n.Button({element:this.rotateRightButton?n.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateRight"),srcRest:Ne(this.prefixUrl,Ve.rotateright.REST),srcGroup:Ne(this.prefixUrl,Ve.rotateright.GROUP),srcHover:Ne(this.prefixUrl,Ve.rotateright.HOVER),srcDown:Ne(this.prefixUrl,Ve.rotateright.DOWN),onRelease:Ae,onFocus:Pe,onBlur:Ze}))),this.showFlipControl&&Te.push(this.flipButton=new n.Button({element:this.flipButton?n.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Flip"),srcRest:Ne(this.prefixUrl,Ve.flip.REST),srcGroup:Ne(this.prefixUrl,Ve.flip.GROUP),srcHover:Ne(this.prefixUrl,Ve.flip.HOVER),srcDown:Ne(this.prefixUrl,Ve.flip.DOWN),onRelease:Me,onFocus:Pe,onBlur:Ze})),Be?(this.buttonGroup=new n.ButtonGroup({buttons:Te,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",n.delegate(this,nn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT})):this.customButtons=Te),this},currentPage:function(){return this._sequenceIndex},goToPage:function(E){return this.tileSources&&E>=0&&E<this.tileSources.length&&(this._sequenceIndex=E,this._updateSequenceButtons(E),this.open(this.tileSources[E]),this.referenceStrip&&this.referenceStrip.setFocus(E),this.raiseEvent("page",{page:E})),this},addOverlay:function(E,N,Q,ae){var se;if(n.isPlainObject(E)?se=E:se={element:E,location:N,placement:Q,onDraw:ae},E=n.getElement(se.element),g(this.currentOverlays,E)>=0)return this;var ie=d(this,se);return this.currentOverlays.push(ie),ie.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:E,location:se.location,placement:se.placement}),this},updateOverlay:function(E,N,Q){var ae;return E=n.getElement(E),ae=g(this.currentOverlays,E),ae>=0&&(this.currentOverlays[ae].update(N,Q),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:E,location:N,placement:Q})),this},removeOverlay:function(E){var N;return E=n.getElement(E),N=g(this.currentOverlays,E),N>=0&&(this.currentOverlays[N].destroy(),this.currentOverlays.splice(N,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:E})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(E){var N;return E=n.getElement(E),N=g(this.currentOverlays,E),N>=0?this.currentOverlays[N]:null},_updateSequenceButtons:function(E){this.nextButton&&(!this.tileSources||this.tileSources.length-1===E?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(E>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(E){this._hideMessage();var N=n.makeNeutralElement("div");N.appendChild(document.createTextNode(E)),this.messageDiv=n.makeCenteredNode(N),n.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var E=this.messageDiv;E&&(E.parentNode.removeChild(E),delete this.messageDiv)},gestureSettingsByDeviceType:function(E){switch(E){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var E,N=this.currentOverlays.length;for(E=0;E<N;E++)this.currentOverlays[E].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new n.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else n.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),n.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){n.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var E=n.pixelDensityRatio,N=n.getCurrentPixelDensityRatio();E!==N&&(n.pixelDensityRatio=N,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var E=this._sequenceIndex-1;this.navPrevNextWrap&&E<0&&(E+=this.tileSources.length),this.goToPage(E)},goToNextPage:function(){var E=this._sequenceIndex+1;this.navPrevNextWrap&&E>=this.tileSources.length&&(E=0),this.goToPage(E)},isAnimating:function(){return a[this.hash].animating}});function h(E){return E=n.getElement(E),new n.Point(E.clientWidth===0?1:E.clientWidth,E.clientHeight===0?1:E.clientHeight)}function f(E,N,Q,ae,se){var ie=E;if(n.type(N)==="string"){if(N.match(/^\s*<.*>\s*$/))N=n.parseXml(N);else if(N.match(/^\s*[{[].*[}\]]\s*$/))try{var fe=n.parseJSON(N);N=fe}catch{}}function de(Ae,Me){Ae.ready?ae(Ae):(Ae.addHandler("ready",function(){ae(Ae)}),Ae.addHandler("open-failed",function(Pe){se({message:Pe.message,source:Me})}))}setTimeout(function(){if(n.type(N)==="string")N=new n.TileSource({url:N,crossOriginPolicy:Q.crossOriginPolicy!==void 0?Q.crossOriginPolicy:E.crossOriginPolicy,ajaxWithCredentials:E.ajaxWithCredentials,ajaxHeaders:Q.ajaxHeaders?Q.ajaxHeaders:E.ajaxHeaders,splitHashDataForPost:E.splitHashDataForPost,useCanvas:E.useCanvas,success:function(Ze){ae(Ze.tileSource)}}),N.addHandler("open-failed",function(Ze){se(Ze)});else if(n.isPlainObject(N)||N.nodeType)if(N.crossOriginPolicy===void 0&&(Q.crossOriginPolicy!==void 0||E.crossOriginPolicy!==void 0)&&(N.crossOriginPolicy=Q.crossOriginPolicy!==void 0?Q.crossOriginPolicy:E.crossOriginPolicy),N.ajaxWithCredentials===void 0&&(N.ajaxWithCredentials=E.ajaxWithCredentials),N.useCanvas===void 0&&(N.useCanvas=E.useCanvas),n.isFunction(N.getTileUrl)){var Ae=new n.TileSource(N);Ae.getTileUrl=N.getTileUrl,ae(Ae)}else{var Me=n.TileSource.determineType(ie,N);if(!Me){se({message:"Unable to load TileSource",source:N});return}var Pe=Me.prototype.configure.apply(ie,[N]);de(new Me(Pe),N)}else de(N,N)})}function d(E,N){if(N instanceof n.Overlay)return N;var Q=null;if(N.element)Q=n.getElement(N.element);else{var ae=N.id?N.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Q=n.getElement(N.id),Q||(Q=document.createElement("a"),Q.href="#/overlay/"+ae),Q.id=ae,n.addClass(Q,N.className?N.className:"openseadragon-overlay")}var se=N.location,ie=N.width,fe=N.height;if(!se){var de=N.x,Ae=N.y;if(N.px!==void 0){var Me=E.viewport.imageToViewportRectangle(new n.Rect(N.px,N.py,ie||0,fe||0));de=Me.x,Ae=Me.y,ie=ie!==void 0?Me.width:void 0,fe=fe!==void 0?Me.height:void 0}se=new n.Point(de,Ae)}var Pe=N.placement;return Pe&&n.type(Pe)==="string"&&(Pe=n.Placement[N.placement.toUpperCase()]),new n.Overlay({element:Q,location:se,placement:Pe,onDraw:N.onDraw,checkResize:N.checkResize,width:ie,height:fe,rotationMode:N.rotationMode})}function g(E,N){var Q;for(Q=E.length-1;Q>=0;Q--)if(E[Q].element===N)return Q;return-1}function v(E,N){return n.requestAnimationFrame(function(){N(E)})}function _(E){n.requestAnimationFrame(function(){T(E)})}function x(E){!E.autoHideControls||(E.controlsShouldFade=!0,E.controlsFadeBeginTime=n.now()+E.controlsFadeDelay,window.setTimeout(function(){_(E)},E.controlsFadeDelay))}function T(E){var N,Q,ae,se;if(E.controlsShouldFade){for(N=n.now(),Q=N-E.controlsFadeBeginTime,ae=1-Q/E.controlsFadeLength,ae=Math.min(1,ae),ae=Math.max(0,ae),se=E.controls.length-1;se>=0;se--)E.controls[se].autoFade&&E.controls[se].setOpacity(ae);ae>0&&_(E)}}function B(E){var N;for(E.controlsShouldFade=!1,N=E.controls.length-1;N>=0;N--)E.controls[N].setOpacity(1)}function M(){B(this)}function j(){x(this)}function V(E){var N={tracker:E.eventSource,position:E.position,originalEvent:E.originalEvent,preventDefault:E.preventDefault};this.raiseEvent("canvas-contextmenu",N),E.preventDefault=N.preventDefault}function F(E){var N={originalEvent:E.originalEvent,preventDefaultAction:!1,preventVerticalPan:E.preventVerticalPan||!this.panVertical,preventHorizontalPan:E.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",N),!N.preventDefaultAction&&!E.ctrl&&!E.alt&&!E.meta)switch(E.keyCode){case 38:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 40:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 37:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 39:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;default:E.preventDefault=!1;break}else E.preventDefault=!1}function L(E){var N={originalEvent:E.originalEvent,preventDefaultAction:!1,preventVerticalPan:E.preventVerticalPan||!this.panVertical,preventHorizontalPan:E.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",N),!N.preventDefaultAction&&!E.ctrl&&!E.alt&&!E.meta)switch(E.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 119:case 87:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-40))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 115:case 83:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,40))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 97:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-40,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 100:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(40,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(n.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(n.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(n.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(n.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),E.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:E.preventDefault=!1;break}else E.preventDefault=!1}function Y(E){var N,Q=document.activeElement===this.canvas;Q||this.canvas.focus(),this.viewport.flipped&&(E.position.x=this.viewport.getContainerSize().x-E.position.x);var ae={tracker:E.eventSource,position:E.position,quick:E.quick,shift:E.shift,originalEvent:E.originalEvent,originalTarget:E.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",ae),!ae.preventDefaultAction&&this.viewport&&E.quick&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.clickToZoom&&(this.viewport.zoomBy(E.shift?1/this.zoomPerClick:this.zoomPerClick,N.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints()))}function ce(E){var N,Q={tracker:E.eventSource,position:E.position,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Q),!Q.preventDefaultAction&&this.viewport&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.dblClickToZoom&&(this.viewport.zoomBy(E.shift?1/this.zoomPerClick:this.zoomPerClick,N.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints()))}function pe(E){var N,Q={tracker:E.eventSource,pointerType:E.pointerType,position:E.position,delta:E.delta,speed:E.speed,direction:E.direction,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Q),N=this.gestureSettingsByDeviceType(E.pointerType),N.dragToPan&&!Q.preventDefaultAction&&this.viewport){if(this.panHorizontal||(E.delta.x=0),this.panVertical||(E.delta.y=0),this.viewport.flipped&&(E.delta.x=-E.delta.x),this.constrainDuringPan){var ae=this.viewport.deltaPointsFromPixels(E.delta.negate());this.viewport.centerSpringX.target.value+=ae.x,this.viewport.centerSpringY.target.value+=ae.y;var se=this.viewport.getBounds(),ie=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ae.x,this.viewport.centerSpringY.target.value-=ae.y,se.x!==ie.x&&(E.delta.x=0),se.y!==ie.y&&(E.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(E.delta.negate()),N.flickEnabled&&!this.constrainDuringPan)}}function me(E){var N={tracker:E.eventSource,pointerType:E.pointerType,position:E.position,speed:E.speed,direction:E.direction,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",N),!N.preventDefaultAction&&this.viewport){var Q=this.gestureSettingsByDeviceType(E.pointerType);if(Q.flickEnabled&&E.speed>=Q.flickMinSpeed){var ae=0;this.panHorizontal&&(ae=Q.flickMomentum*E.speed*Math.cos(E.direction));var se=0;this.panVertical&&(se=Q.flickMomentum*E.speed*Math.sin(E.direction));var ie=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),fe=this.viewport.pointFromPixel(new n.Point(ie.x-ae,ie.y-se));this.viewport.panTo(fe,!1)}this.viewport.applyConstraints()}}function ve(E){this.raiseEvent("canvas-enter",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function le(E){this.raiseEvent("canvas-exit",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function _e(E){this.raiseEvent("canvas-press",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,insideElementPressed:E.insideElementPressed,insideElementReleased:E.insideElementReleased,originalEvent:E.originalEvent})}function He(E){this.raiseEvent("canvas-release",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,insideElementPressed:E.insideElementPressed,insideElementReleased:E.insideElementReleased,originalEvent:E.originalEvent})}function K(E){this.raiseEvent("canvas-nonprimary-press",{tracker:E.eventSource,position:E.position,pointerType:E.pointerType,button:E.button,buttons:E.buttons,originalEvent:E.originalEvent})}function ue(E){this.raiseEvent("canvas-nonprimary-release",{tracker:E.eventSource,position:E.position,pointerType:E.pointerType,button:E.button,buttons:E.buttons,originalEvent:E.originalEvent})}function be(E){var N,Q,ae,se,ie={tracker:E.eventSource,pointerType:E.pointerType,gesturePoints:E.gesturePoints,lastCenter:E.lastCenter,center:E.center,lastDistance:E.lastDistance,distance:E.distance,shift:E.shift,originalEvent:E.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ie),this.viewport&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.pinchToZoom&&(!ie.preventDefaultPanAction||!ie.preventDefaultZoomAction)&&(Q=this.viewport.pointFromPixel(E.center,!0),N.zoomToRefPoint&&!ie.preventDefaultPanAction&&(ae=this.viewport.pointFromPixel(E.lastCenter,!0),se=ae.minus(Q),this.panHorizontal||(se.x=0),this.panVertical||(se.y=0),this.viewport.panBy(se,!0)),ie.preventDefaultZoomAction||this.viewport.zoomBy(E.distance/E.lastDistance,Q,!0),this.viewport.applyConstraints()),N.pinchRotate&&!ie.preventDefaultRotateAction)){var fe=Math.atan2(E.gesturePoints[0].currentPos.y-E.gesturePoints[1].currentPos.y,E.gesturePoints[0].currentPos.x-E.gesturePoints[1].currentPos.x),de=Math.atan2(E.gesturePoints[0].lastPos.y-E.gesturePoints[1].lastPos.y,E.gesturePoints[0].lastPos.x-E.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(fe-de)*(180/Math.PI))}}function Se(E){var N,Q,ae,se,ie;se=n.now(),ie=se-this._lastScrollTime,ie>this.minScrollDeltaTime?(this._lastScrollTime=se,N={tracker:E.eventSource,position:E.position,scroll:E.scroll,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",N),!N.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(E.position.x=this.viewport.getContainerSize().x-E.position.x),Q=this.gestureSettingsByDeviceType(E.pointerType),Q.scrollToZoom&&(ae=Math.pow(this.zoomPerScroll,E.scroll),this.viewport.zoomBy(ae,Q.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints())),E.preventDefault=N.preventDefault):E.preventDefault=!0}function ut(E){a[this.hash].mouseInside=!0,B(this),this.raiseEvent("container-enter",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function at(E){E.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||x(this)),this.raiseEvent("container-exit",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function xe(E){Ce(E),E.isOpen()?E._updateRequestId=v(E,xe):E._updateRequestId=!1}function Ce(E){if(!(E._opening||!a[E.hash])){if(E.autoResize){var N=h(E.container),Q=a[E.hash].prevContainerSize;if(!N.equals(Q)){var ae=E.viewport;if(E.preserveImageSizeOnResize){var se=Q.x/N.x,ie=ae.getZoom()*se,fe=ae.getCenter();ae.resize(N,!1),ae.zoomTo(ie,null,!0),ae.panTo(fe,!0)}else{var de=ae.getBounds();ae.resize(N,!0),ae.fitBoundsWithConstraints(de,!0)}a[E.hash].prevContainerSize=N,a[E.hash].forceRedraw=!0}}var Ae=E.viewport.update(),Me=E.world.update()||Ae;Ae&&E.raiseEvent("viewport-change"),E.referenceStrip&&(Me=E.referenceStrip.update(E.viewport)||Me);var Pe=a[E.hash].animating;!Pe&&Me&&(E.raiseEvent("animation-start"),B(E));var Ze=Pe&&!Me;Ze&&(a[E.hash].animating=!1),(Me||Ze||a[E.hash].forceRedraw||E.world.needsDraw())&&(nt(E),E._drawOverlays(),E.navigator&&E.navigator.update(E.viewport),a[E.hash].forceRedraw=!1,Me&&E.raiseEvent("animation")),Ze&&(E.raiseEvent("animation-finish"),a[E.hash].mouseInside||x(E)),a[E.hash].animating=Me}}function nt(E){E.imageLoader.clear(),E.drawer.clear(),E.world.draw(),E.raiseEvent("update-viewport",{})}function Ne(E,N){return E?E+N:N}function wt(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,cn(this)}function Pt(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,cn(this)}function qt(){a[this.hash].zooming=!1}function cn(E){n.requestAnimationFrame(n.delegate(E,$t))}function $t(){var E,N,Q;a[this.hash].zooming&&this.viewport&&(E=n.now(),N=E-a[this.hash].lastZoomTime,Q=Math.pow(a[this.hash].zoomFactor,N/1e3),this.viewport.zoomBy(Q),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=E,cn(this))}function Rt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function dn(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function nn(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Et(){this.viewport&&this.viewport.goHome()}function qe(){this.isFullPage()&&!n.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function ot(){if(this.viewport){var E=this.viewport.getRotation();this.viewport.flipped?E=n.positiveModulo(E+this.rotationIncrement,360):E=n.positiveModulo(E-this.rotationIncrement,360),this.viewport.setRotation(E)}}function X(){if(this.viewport){var E=this.viewport.getRotation();this.viewport.flipped?E=n.positiveModulo(E-this.rotationIncrement,360):E=n.positiveModulo(E+this.rotationIncrement,360),this.viewport.setRotation(E)}}function ne(){this.viewport.toggleFlip()}}(o),function(n){n.Navigator=function(v){var _=v.viewer,x=this,T,B;v.id?(this.element=document.getElementById(v.id),v.controlOptions={anchor:n.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+n.now(),this.element=n.makeNeutralElement("div"),v.controlOptions={anchor:n.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=n.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=n.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=n.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=n.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=n.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:v.autoResize,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=_.minPixelRatio,n.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new n.Point(1,1),this.totalBorderWidths=new n.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==n.ControlAnchor.NONE&&function(V,F){V.margin="0px",V.border=F+"px solid "+v.borderColor,V.padding="0px",V.background=v.background,V.opacity=v.opacity,V.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=n.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(V,F){V.position="relative",V.top="0px",V.left="0px",V.fontSize="0px",V.overflow="hidden",V.border=F+"px solid "+v.displayRegionColor,V.margin="0px",V.padding="0px",V.background="transparent",V.float="left",V.cssFloat="left",V.styleFloat="left",V.zIndex=999999999,V.cursor="default"}(this.displayRegion.style,this.borderWidth),n.setElementPointerEventsNone(this.displayRegion),n.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=n.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",n.setElementPointerEventsNone(this.displayRegionContainer),n.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==n.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==n.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(T=n.getElementSize(_.element),this.element.style.height=Math.round(T.y*v.sizeRatio)+"px",this.element.style.width=Math.round(T.x*v.sizeRatio)+"px",this.oldViewerSize=T,B=n.getElementSize(this.element),this.elementArea=B.x*B.y),this.oldContainerSize=new n.Point(0,0),n.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function M(V){d(x.displayRegionContainer,V),d(x.displayRegion,-V),x.viewport.setRotation(V)}if(v.navigatorRotate){var j=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;M(j),v.viewer.addHandler("rotate",function(V){M(V.degrees)})}this.innerTracker.destroy(),this.innerTracker=new n.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:n.delegate(this,u),clickHandler:n.delegate(this,a),releaseHandler:n.delegate(this,h),scrollHandler:n.delegate(this,f),preProcessEventHandler:function(V){V.eventType==="wheel"&&(V.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",n.setElementPointerEventsNone(this.canvas),n.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){x.viewport&&x.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(V){window.setTimeout(function(){var F=x.world.getItemAt(V.previousIndex);x.world.setItemIndex(F,V.newIndex)},1)}),_.world.addHandler("remove-item",function(V){var F=V.item,L=x._getMatchingItem(F);L&&x.world.removeItem(L)}),this.update(_.viewport)},n.extend(n.Navigator.prototype,n.EventSource.prototype,n.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new n.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){g(this.displayRegion,v),g(this.canvas,v),g(this.element,v)},update:function(v){var _,x,T,B,M,j;if(_=n.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(x=_.x*this.sizeRatio,T=_.y*this.sizeRatio):(x=Math.sqrt(this.elementArea*(_.x/_.y)),T=this.elementArea/x),this.element.style.width=Math.round(x)+"px",this.element.style.height=Math.round(T)+"px",this.elementArea||(this.elementArea=x*T),this.updateSize()),v&&this.viewport){B=v.getBoundsNoRotate(!0),M=this.viewport.pixelFromPointNoRotate(B.getTopLeft(),!1),j=this.viewport.pixelFromPointNoRotate(B.getBottomRight(),!1).minus(this.totalBorderWidths);var V=this.displayRegion.style;V.display=this.world.getItemCount()?"block":"none",V.top=Math.round(M.y)+"px",V.left=Math.round(M.x)+"px";var F=Math.abs(M.x-j.x),L=Math.abs(M.y-j.y);V.width=Math.round(Math.max(F,0))+"px",V.height=Math.round(Math.max(L,0))+"px"}},addTiledImage:function(v){var _=this,x=v.originalTiledImage;delete v.original;var T=n.extend({},v,{success:function(B){var M=B.item;M._originalForNavigator=x,_._matchBounds(M,x,!0),_._matchOpacity(M,x),_._matchCompositeOperation(M,x);function j(){_._matchBounds(M,x)}function V(){_._matchOpacity(M,x)}function F(){_._matchCompositeOperation(M,x)}x.addHandler("bounds-change",j),x.addHandler("clip-change",j),x.addHandler("opacity-change",V),x.addHandler("composite-operation-change",F)}});return n.Viewer.prototype.addTiledImage.apply(this,[T])},destroy:function(){return n.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var _=this.world.getItemCount(),x,T=0;T<_;T++)if(x=this.world.getItemAt(T),x._originalForNavigator===v)return x;return null},_matchBounds:function(v,_,x){var T=_.getBoundsNoRotate();v.setPosition(T.getTopLeft(),x),v.setWidth(T.width,x),v.setRotation(_.getRotation(),x),v.setClip(_.getClip()),v.setFlip(_.getFlip())},_matchOpacity:function(v,_){v.setOpacity(_.opacity)},_matchCompositeOperation:function(v,_){v.setCompositeOperation(_.compositeOperation)}});function a(v){var _={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var x=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(x.x=this.viewer.viewport.getCenter(!0).x):x.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(x),this.viewer.viewport.applyConstraints()}}function u(v){var _={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function h(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function f(v){var _={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),v.preventDefault=_.preventDefault}function d(v,_){g(v,"rotate("+_+"deg)")}function g(v,_){v.style.webkitTransform=_,v.style.mozTransform=_,v.style.msTransform=_,v.style.oTransform=_,v.style.transform=_}}(o),function(n){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};n.extend(n,{getString:function(u){var h=u.split("."),f=null,d=arguments,g=a,v;for(v=0;v<h.length-1;v++)g=g[h[v]]||{};return f=g[h[v]],typeof f!="string"&&(n.console.error("Untranslated source string:",u),f=""),f.replace(/\{\d+\}/g,function(_){var x=parseInt(_.match(/\d+/),10)+1;return x<d.length?d[x]:""})},setString:function(u,h){var f=u.split("."),d=a,g;for(g=0;g<f.length-1;g++)d[f[g]]||(d[f[g]]={}),d=d[f[g]];d[f[g]]=h}})}(o),function(n){n.Point=function(a,u){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0},n.Point.prototype={clone:function(){return new n.Point(this.x,this.y)},plus:function(a){return new n.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new n.Point(this.x-a.x,this.y-a.y)},times:function(a){return new n.Point(this.x*a,this.y*a)},divide:function(a){return new n.Point(this.x/a,this.y/a)},negate:function(){return new n.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new n.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof n.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,u){u=u||new n.Point(0,0);var h,f;if(a%90===0){var d=n.positiveModulo(a,360);switch(d){case 0:h=1,f=0;break;case 90:h=0,f=1;break;case 180:h=-1,f=0;break;case 270:h=0,f=-1;break}}else{var g=a*Math.PI/180;h=Math.cos(g),f=Math.sin(g)}var v=h*(this.x-u.x)-f*(this.y-u.y)+u.x,_=f*(this.x-u.x)+h*(this.y-u.y)+u.y;return new n.Point(v,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(o),function(n){n.TileSource=function(u,h,f,d,g,v){var _=this,x=arguments,T,B;if(n.isPlainObject(u)?T=u:T={width:x[0],height:x[1],tileSize:x[2],tileOverlap:x[3],minLevel:x[4],maxLevel:x[5]},n.EventSource.call(this),n.extend(!0,this,T),!this.success){for(B=0;B<arguments.length;B++)if(n.isFunction(arguments[B])){this.success=arguments[B];break}}this.success&&this.addHandler("ready",function(M){_.success(M)}),n.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new n.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=T.width&&T.height?T.width/T.height:1,this.dimensions=new n.Point(T.width,T.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=T.tileOverlap?T.tileOverlap:0,this.minLevel=T.minLevel?T.minLevel:0,this.maxLevel=T.maxLevel!==void 0&&T.maxLevel!==null?T.maxLevel:T.width&&T.height?Math.ceil(Math.log(Math.max(T.width,T.height))/Math.log(2)):0,this.success&&n.isFunction(this.success)&&this.success(this))},n.TileSource.prototype={getTileSize:function(u){return n.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(u){return this._tileWidth?this._tileWidth:this.getTileSize(u)},getTileHeight:function(u){return this._tileHeight?this._tileHeight:this.getTileSize(u)},setMaxLevel:function(u){this.maxLevel=u,this._memoizeLevelScale()},getLevelScale:function(u){return this._memoizeLevelScale(),this.getLevelScale(u)},_memoizeLevelScale:function(){var u={},h;for(h=0;h<=this.maxLevel;h++)u[h]=1/Math.pow(2,this.maxLevel-h);this.getLevelScale=function(f){return u[f]}},getNumTiles:function(u){var h=this.getLevelScale(u),f=Math.ceil(h*this.dimensions.x/this.getTileWidth(u)),d=Math.ceil(h*this.dimensions.y/this.getTileHeight(u));return new n.Point(f,d)},getPixelRatio:function(u){var h=this.dimensions.times(this.getLevelScale(u)),f=1/h.x*n.pixelDensityRatio,d=1/h.y*n.pixelDensityRatio;return new n.Point(f,d)},getClosestLevel:function(){var u,h;for(u=this.minLevel+1;u<=this.maxLevel&&(h=this.getNumTiles(u),!(h.x>1||h.y>1));u++);return u-1},getTileAtPoint:function(u,h){var f=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;n.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(u),g=h.x*d,v=h.y*d,_=Math.floor(g/this.getTileWidth(u)),x=Math.floor(v/this.getTileHeight(u));h.x>=1&&(_=this.getNumTiles(u).x-1);var T=1e-15;return h.y>=1/this.aspectRatio-T&&(x=this.getNumTiles(u).y-1),new n.Point(_,x)},getTileBounds:function(u,h,f,d){var g=this.dimensions.times(this.getLevelScale(u)),v=this.getTileWidth(u),_=this.getTileHeight(u),x=h===0?0:v*h-this.tileOverlap,T=f===0?0:_*f-this.tileOverlap,B=v+(h===0?1:2)*this.tileOverlap,M=_+(f===0?1:2)*this.tileOverlap,j=1/g.x;return B=Math.min(B,g.x-x),M=Math.min(M,g.y-T),d?new n.Rect(0,0,B,M):new n.Rect(x*j,T*j,B*j,M*j)},getImageInfo:function(u){var h=this,f,d,g,v,_,x,T;u&&(_=u.split("/"),x=_[_.length-1],T=x.lastIndexOf("."),T>-1&&(_[_.length-1]=x.slice(0,T)));var B=null;if(this.splitHashDataForPost){var M=u.indexOf("#");M!==-1&&(B=u.substring(M+1),u=u.substr(0,M))}d=function(j){typeof j=="string"&&(j=n.parseXml(j));var V=n.TileSource.determineType(h,j,u);if(!V){h.raiseEvent("open-failed",{message:"Unable to load TileSource",source:u});return}v=V.prototype.configure.apply(h,[j,u,B]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=h.ajaxWithCredentials),g=new V(v),h.ready=!0,h.raiseEvent("ready",{tileSource:g})},u.match(/\.js$/)?(f=u.split("/").pop().replace(".js",""),n.jsonp({url:u,async:!1,callbackName:f,callback:d})):n.makeAjaxRequest({url:u,postData:B,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(j){var V=a(j);d(V)},error:function(j,V){var F;try{F="HTTP "+j.status+" attempting to load TileSource: "+u}catch{var L;typeof V>"u"||!V.toString?L="Unknown error":L=V.toString(),F=L+" attempting to load TileSource: "+u}n.console.error(F),h.raiseEvent("open-failed",{message:F,source:u,postData:B})}})},supports:function(u,h){return!1},configure:function(u,h,f){throw new Error("Method not implemented.")},getTileUrl:function(u,h,f){throw new Error("Method not implemented.")},getTilePostData:function(u,h,f){return null},getTileAjaxHeaders:function(u,h,f){return{}},getTileHashKey:function(u,h,f,d,g,v){return g?d+"+"+JSON.stringify(g):d},tileExists:function(u,h,f){var d=this.getNumTiles(u);return u>=this.minLevel&&u<=this.maxLevel&&h>=0&&f>=0&&h<d.x&&f<d.y}},n.extend(!0,n.TileSource.prototype,n.EventSource.prototype);function a(u){var h=u.responseText,f=u.status,d,g;if(u){if(u.status!==200&&u.status!==0)throw f=u.status,d=f===404?"Not Found":u.statusText,new Error(n.getString("Errors.Status",f,d))}else throw new Error(n.getString("Errors.Security"));if(h.match(/\s*<.*/))try{g=u.responseXML&&u.responseXML.documentElement?u.responseXML:n.parseXml(h)}catch{g=u.responseText}else if(h.match(/\s*[{[].*/))try{g=n.parseJSON(h)}catch{g=h}else g=h;return g}n.TileSource.determineType=function(u,h,f){var d;for(d in o)if(d.match(/.+TileSource$/)&&n.isFunction(o[d])&&n.isFunction(o[d].prototype.supports)&&o[d].prototype.supports.call(u,h,f))return o[d];return n.console.error("No TileSource was able to open %s %s",f,h),null}}(o),function(n){n.DziTileSource=function(h,f,d,g,v,_,x,T,B){var M,j,V,F;if(n.isPlainObject(h)?F=h:F={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=F.tilesUrl,this.fileFormat=F.fileFormat,this.displayRects=F.displayRects,this.displayRects)for(M=this.displayRects.length-1;M>=0;M--)for(j=this.displayRects[M],V=j.minLevel;V<=j.maxLevel;V++)this._levelRects[V]||(this._levelRects[V]=[]),this._levelRects[V].push(j);n.TileSource.apply(this,[F])},n.extend(n.DziTileSource.prototype,n.TileSource.prototype,{supports:function(h,f){var d;return h.Image?d=h.Image.xmlns:h.documentElement&&(h.documentElement.localName==="Image"||h.documentElement.tagName==="Image")&&(d=h.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(h,f,d){var g;return n.isPlainObject(h)?g=u(this,h):g=a(this,h),f&&!g.tilesUrl&&(g.tilesUrl=f.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),f.search(/\.(dzi|xml|js)\?/)!==-1?g.queryParams=f.match(/\?.*/):g.queryParams=""),g},getTileUrl:function(h,f,d){return[this.tilesUrl,h,"/",f,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(h,f,d){var g=this._levelRects[h],v,_,x,T,B,M,j;if(this.minLevel&&h<this.minLevel||this.maxLevel&&h>this.maxLevel)return!1;if(!g||!g.length)return!0;for(j=g.length-1;j>=0;j--)if(v=g[j],!(h<v.minLevel||h>v.maxLevel)&&(_=this.getLevelScale(h),x=v.x*_,T=v.y*_,B=x+v.width*_,M=T+v.height*_,x=Math.floor(x/this._tileWidth),T=Math.floor(T/this._tileWidth),B=Math.ceil(B/this._tileWidth),M=Math.ceil(M/this._tileWidth),x<=f&&f<B&&T<=d&&d<M))return!0;return!1}});function a(h,f){if(!f||!f.documentElement)throw new Error(n.getString("Errors.Xml"));var d=f.documentElement,g=d.localName||d.tagName,v=f.documentElement.namespaceURI,_=null,x=[],T,B,M,j,V;if(g==="Image")try{if(j=d.getElementsByTagName("Size")[0],j===void 0&&(j=d.getElementsByTagNameNS(v,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(j.getAttribute("Height"),10),Width:parseInt(j.getAttribute("Width"),10)}}},!n.imageFormatSupported(_.Image.Format))throw new Error(n.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(T=d.getElementsByTagName("DisplayRect"),T===void 0&&(T=d.getElementsByTagNameNS(v,"DisplayRect")[0]),V=0;V<T.length;V++)B=T[V],M=B.getElementsByTagName("Rect")[0],M===void 0&&(M=B.getElementsByTagNameNS(v,"Rect")[0]),x.push({Rect:{X:parseInt(M.getAttribute("X"),10),Y:parseInt(M.getAttribute("Y"),10),Width:parseInt(M.getAttribute("Width"),10),Height:parseInt(M.getAttribute("Height"),10),MinLevel:parseInt(B.getAttribute("MinLevel"),10),MaxLevel:parseInt(B.getAttribute("MaxLevel"),10)}});return x.length&&(_.Image.DisplayRect=x),u(h,_)}catch(Y){throw Y instanceof Error?Y:new Error(n.getString("Errors.Dzi"))}else{if(g==="Collection")throw new Error(n.getString("Errors.Dzc"));if(g==="Error"){var F=d.getElementsByTagName("Message")[0],L=F.firstChild.nodeValue;throw new Error(L)}}throw new Error(n.getString("Errors.Dzi"))}function u(h,f){var d=f.Image,g=d.Url,v=d.Format,_=d.Size,x=d.DisplayRect||[],T=parseInt(_.Width,10),B=parseInt(_.Height,10),M=parseInt(d.TileSize,10),j=parseInt(d.Overlap,10),V=[],F,L;for(L=0;L<x.length;L++)F=x[L].Rect,V.push(new n.DisplayRect(parseInt(F.X,10),parseInt(F.Y,10),parseInt(F.Width,10),parseInt(F.Height,10),parseInt(F.MinLevel,10),parseInt(F.MaxLevel,10)));return n.extend(!0,{width:T,height:B,tileSize:M,tileOverlap:j,minLevel:null,maxLevel:null,tilesUrl:g,fileFormat:v,displayRects:V},f)}}(o),function(n){n.IIIFTileSource=function(d){if(n.extend(!0,this,d),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var g=0;g<this.tiles.length;g++)for(var v=0;v<this.tiles[g].scaleFactors.length;v++){var _=this.tiles[g].scaleFactors[v];this.scale_factors.push(_),d.tileSizePerScaleFactor[_]={width:this.tiles[g].width,height:this.tiles[g].height||this.tiles[g].width}}}else if(a(d)){for(var x=Math.min(this.height,this.width),T=[256,512,1024],B=[],M=0;M<T.length;M++)T[M]<=x&&B.push(T[M]);B.length>0?d.tileSize=Math.max.apply(null,B):d.tileSize=x}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=u(this),n.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):n.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var j=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(j)*Math.LOG2E)}n.TileSource.apply(this,[d])},n.extend(n.IIIFTileSource.prototype,n.TileSource.prototype,{supports:function(d,g){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,g,v){if(n.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=g.replace("/info.json",""),d.version=1;else{var x=d["@context"];if(Array.isArray(x)){for(var T=0;T<x.length;T++)if(typeof x[T]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(x[T])||x[T]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){x=x[T];break}}switch(x){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:n.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!d["@id"]&&d.id&&(d["@id"]=d.id),d.preferredFormats){for(var B=0;B<d.preferredFormats.length;B++)if(o.imageFormatSupported(d.preferredFormats[B])){d.tileFormat=d.preferredFormats[B];break}}return d}else{var _=h(d);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=g.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileWidth.call(this,d);var g=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileHeight.call(this,d);var g=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var g=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].width/this.levels[this.maxLevel].width),g}return n.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var g=this.getLevelScale(d);return g?new n.Point(1,1):new n.Point(0,0)}return n.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,g){return this.emulateLegacyImagePyramid?new n.Point(0,0):n.TileSource.prototype.getTileAtPoint.call(this,d,g)},getTileUrl:function(d,g,v){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(_=this.levels[d].url),_}var x="0",T=Math.pow(.5,this.maxLevel-d),B=Math.ceil(this.width*T),M=Math.ceil(this.height*T),j,V,F,L,Y,ce,pe,me,ve,le,_e,He,K,ue;return j=this.getTileWidth(d),V=this.getTileHeight(d),F=Math.ceil(j/T),L=Math.ceil(V/T),this.version===1?K="native."+this.tileFormat:K="default."+this.tileFormat,B<j&&M<V?(this.version===2&&B===this.width?le="full":this.version===3&&B===this.width&&M===this.height?le="max":this.version===3?le=B+","+M:le=B+",",Y="full"):(ce=g*F,pe=v*L,me=Math.min(F,this.width-ce),ve=Math.min(L,this.height-pe),g===0&&v===0&&me===this.width&&ve===this.height?Y="full":Y=[ce,pe,me,ve].join(","),_e=Math.ceil(me*T),He=Math.ceil(ve*T),this.version===2&&_e===this.width?le="full":this.version===3&&_e===this.width&&He===this.height?le="max":this.version===3?le=_e+","+He:le=_e+","),ue=[this["@id"],Y,le,x,K].join("/"),ue},__testonly__:{canBeTiled:a,constructLevels:u}});function a(d){var g=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(d.profile)?d.profile[0]:d.profile,_=g.indexOf(v)!==-1,x=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(x=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(x=d.extraFeatures.indexOf("sizeByWh")!==-1),!_||x}function u(d){for(var g=[],v=0;v<d.sizes.length;v++)g.push({url:d["@id"]+"/full/"+d.sizes[v].width+","+(d.version===3?d.sizes[v].height:"")+"/0/default."+d.tileFormat,width:d.sizes[v].width,height:d.sizes[v].height});return g.sort(function(_,x){return _.width-x.width})}function h(d){if(!d||!d.documentElement)throw new Error(n.getString("Errors.Xml"));var g=d.documentElement,v=g.tagName,_=null;if(v==="info")try{return _={},f(g,_),_}catch(x){throw x instanceof Error?x:new Error(n.getString("Errors.IIIF"))}throw new Error(n.getString("Errors.IIIF"))}function f(d,g,v){var _,x;if(d.nodeType===3&&v)x=d.nodeValue.trim(),x.match(/^\d*$/)&&(x=Number(x)),g[v]?(n.isArray(g[v])||(g[v]=[g[v]]),g[v].push(x)):g[v]=x;else if(d.nodeType===1)for(_=0;_<d.childNodes.length;_++)f(d.childNodes[_],g,d.nodeName)}}(o),function(n){n.OsmTileSource=function(a,u,h,f,d){var g;n.isPlainObject(a)?g=a:g={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!g.width||!g.height)&&(g.width=65572864,g.height=65572864),g.tileSize||(g.tileSize=256,g.tileOverlap=0),g.tilesUrl||(g.tilesUrl="http://tile.openstreetmap.org/"),g.minLevel=8,n.TileSource.apply(this,[g])},n.extend(n.OsmTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="openstreetmaps"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){return this.tilesUrl+(a-8)+"/"+u+"/"+h+".png"}})}(o),function(n){n.TmsTileSource=function(a,u,h,f,d){var g;n.isPlainObject(a)?g=a:g={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(g.width/256)*256,_=Math.ceil(g.height/256)*256,x;v>_?x=v/256:x=_/256,g.maxLevel=Math.ceil(Math.log(x)/Math.log(2))-1,g.tileSize=256,g.width=v,g.height=_,n.TileSource.apply(this,[g])},n.extend(n.TmsTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="tiledmapservice"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){var f=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+u+"/"+(f-h)+".png"}})}(o),function(n){n.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var u={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(u.x,10)>a.tileSize||parseInt(u.y,10)>a.tileSize;)u.x=Math.floor(u.x/2),u.y=Math.floor(u.y/2),a.imageSizes.push({x:u.x,y:u.y}),a.gridSize.push(this._getGridSize(u.x,u.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,o.TileSource.apply(this,[a])},n.extend(n.ZoomifyTileSource.prototype,n.TileSource.prototype,{_getGridSize:function(a,u,h){return{x:Math.ceil(a/h),y:Math.ceil(u/h)}},_calculateAbsoluteTileNumber:function(a,u,h){for(var f=0,d={},g=0;g<a;g++)d=this.gridSize[g],f+=d.x*d.y;return d=this.gridSize[a],f+=d.x*h+u,f},supports:function(a,u){return a.type&&a.type==="zoomifytileservice"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){var f=0,d=this._calculateAbsoluteTileNumber(a,u,h);return f=Math.floor(d/256),this.tilesUrl+"TileGroup"+f+"/"+a+"-"+u+"-"+h+"."+this.fileFormat}})}(o),function(n){n.LegacyTileSource=function(f){var d,g,v;n.isArray(f)&&(d={type:"legacy-image-pyramid",levels:f}),d.levels=a(d.levels),d.levels.length>0?(g=d.levels[d.levels.length-1].width,v=d.levels[d.levels.length-1].height):(g=0,v=0,n.console.error("No supported image formats found")),n.extend(!0,d,{width:g,height:v,tileSize:Math.max(v,g),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),n.TileSource.apply(this,[d]),this.levels=d.levels},n.extend(n.LegacyTileSource.prototype,n.TileSource.prototype,{supports:function(f,d){return f.type&&f.type==="legacy-image-pyramid"||f.documentElement&&f.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(f,d,g){var v;return n.isPlainObject(f)?v=h(this,f):v=u(this,f),v},getLevelScale:function(f){var d=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(d=this.levels[f].width/this.levels[this.maxLevel].width),d},getNumTiles:function(f){var d=this.getLevelScale(f);return d?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(f,d,g){var v=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(v=this.levels[f].url),v}});function a(f){var d=[],g,v;for(v=0;v<f.length;v++)g=f[v],g.height&&g.width&&g.url?d.push({url:g.url,width:Number(g.width),height:Number(g.height)}):n.console.error("Unsupported image format: %s",g.url?g.url:"<no URL>");return d.sort(function(_,x){return _.height-x.height})}function u(f,d){if(!d||!d.documentElement)throw new Error(n.getString("Errors.Xml"));var g=d.documentElement,v=g.tagName,_=null,x=[],T,B;if(v==="image")try{for(_={type:g.getAttribute("type"),levels:[]},x=g.getElementsByTagName("level"),B=0;B<x.length;B++)T=x[B],_.levels.push({url:T.getAttribute("url"),width:parseInt(T.getAttribute("width"),10),height:parseInt(T.getAttribute("height"),10)});return h(f,_)}catch(M){throw M instanceof Error?M:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+v)}function h(f,d){return d.levels}}(o),function(n){n.ImageTileSource=function(a){a=n.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},a),n.TileSource.apply(this,[a])},n.extend(n.ImageTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="image"},configure:function(a,u,h){return a},getImageInfo:function(a){var u=this._image=new Image,h=this;this.crossOriginPolicy&&(u.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(u.useCredentials=this.ajaxWithCredentials),n.addEvent(u,"load",function(){h.width=u.naturalWidth,h.height=u.naturalHeight,h.aspectRatio=h.width/h.height,h.dimensions=new n.Point(h.width,h.height),h._tileWidth=h.width,h._tileHeight=h.height,h.tileOverlap=0,h.minLevel=0,h.levels=h._buildLevels(),h.maxLevel=h.levels.length-1,h.ready=!0,h.raiseEvent("ready",{tileSource:h})}),n.addEvent(u,"error",function(){h.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),u.src=a},getLevelScale:function(a){var u=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].width/this.levels[this.maxLevel].width),u},getNumTiles:function(a){var u=this.getLevelScale(a);return u?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(a,u,h){var f=null;return a>=this.minLevel&&a<=this.maxLevel&&(f=this.levels[a].url),f},getContext2D:function(a,u,h){var f=null;return a>=this.minLevel&&a<=this.maxLevel&&(f=this.levels[a].context2D),f},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!n.supportsCanvas||!this.useCanvas)return delete this._image,a;var u=this._image.naturalWidth,h=this._image.naturalHeight,f=document.createElement("canvas"),d=f.getContext("2d");if(f.width=u,f.height=h,d.drawImage(this._image,0,0,u,h),a[0].context2D=d,delete this._image,n.isCanvasTainted(f))return a;for(;u>=2&&h>=2;){u=Math.floor(u/2),h=Math.floor(h/2);var g=document.createElement("canvas"),v=g.getContext("2d");g.width=u,g.height=h,v.drawImage(f,0,0,u,h),a.splice(0,0,{context2D:v,width:u,height:h}),f=g,d=v}return a},_freeupCanvasMemory:function(){for(var a=0;a<this.levels.length;a++)this.levels[a].context2D&&(this.levels[a].context2D.canvas.height=0,this.levels[a].context2D.canvas.width=0)}})}(o),function(n){n.TileSourceCollection=function(a,u,h,f){n.console.error("TileSourceCollection is deprecated; use World instead")}}(o),function(n){n.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},n.Button=function(v){var _=this;n.EventSource.call(this),n.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||n.makeNeutralElement("div"),v.element||(this.imgRest=n.makeTransparentImage(this.srcRest),this.imgGroup=n.makeTransparentImage(this.srcGroup),this.imgHover=n.makeTransparentImage(this.srcHover),this.imgDown=n.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,n.setElementPointerEventsNone(this.imgRest),n.setElementPointerEventsNone(this.imgGroup),n.setElementPointerEventsNone(this.imgHover),n.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",n.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",n.Browser.vendor===n.BROWSERS.FIREFOX&&n.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=n.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new n.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(x){x.insideElementPressed?(d(_,n.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:x.originalEvent})):x.buttonDownAny||d(_,n.ButtonState.HOVER)},focusHandler:function(x){_.tracker.enterHandler(x),_.raiseEvent("focus",{originalEvent:x.originalEvent})},leaveHandler:function(x){g(_,n.ButtonState.GROUP),x.insideElementPressed&&_.raiseEvent("exit",{originalEvent:x.originalEvent})},blurHandler:function(x){_.tracker.leaveHandler(x),_.raiseEvent("blur",{originalEvent:x.originalEvent})},pressHandler:function(x){d(_,n.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:x.originalEvent})},releaseHandler:function(x){x.insideElementPressed&&x.insideElementReleased?(g(_,n.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:x.originalEvent})):x.insideElementPressed?g(_,n.ButtonState.GROUP):d(_,n.ButtonState.HOVER)},clickHandler:function(x){x.quick&&_.raiseEvent("click",{originalEvent:x.originalEvent})},keyHandler:function(x){x.keyCode===13?(_.raiseEvent("click",{originalEvent:x.originalEvent}),_.raiseEvent("release",{originalEvent:x.originalEvent}),x.preventDefault=!0):x.preventDefault=!1}}),g(this,n.ButtonState.REST)},n.extend(n.Button.prototype,n.EventSource.prototype,{notifyGroupEnter:function(){d(this,n.ButtonState.GROUP)},notifyGroupExit:function(){g(this,n.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,n.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,n.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(v){n.requestAnimationFrame(function(){u(v)})}function u(v){var _,x,T;v.shouldFade&&(_=n.now(),x=_-v.fadeBeginTime,T=1-x/v.fadeLength,T=Math.min(1,T),T=Math.max(0,T),v.imgGroup&&n.setElementOpacity(v.imgGroup,T,!0),T>0&&a(v))}function h(v){v.shouldFade=!0,v.fadeBeginTime=n.now()+v.fadeDelay,window.setTimeout(function(){a(v)},v.fadeDelay)}function f(v){v.shouldFade=!1,v.imgGroup&&n.setElementOpacity(v.imgGroup,1,!0)}function d(v,_){v.element.disabled||(_>=n.ButtonState.GROUP&&v.currentState===n.ButtonState.REST&&(f(v),v.currentState=n.ButtonState.GROUP),_>=n.ButtonState.HOVER&&v.currentState===n.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=n.ButtonState.HOVER),_>=n.ButtonState.DOWN&&v.currentState===n.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=n.ButtonState.DOWN))}function g(v,_){v.element.disabled||(_<=n.ButtonState.HOVER&&v.currentState===n.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=n.ButtonState.HOVER),_<=n.ButtonState.GROUP&&v.currentState===n.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=n.ButtonState.GROUP),_<=n.ButtonState.REST&&v.currentState===n.ButtonState.GROUP&&(h(v),v.currentState=n.ButtonState.REST))}}(o),function(n){n.ButtonGroup=function(a){n.extend(!0,this,{buttons:[],clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var u=this.buttons.concat([]),h=this,f;if(this.element=a.element||n.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",f=0;f<u.length;f++)this.element.appendChild(u[f].element);n.setElementTouchActionNone(this.element),this.tracker=new n.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var g;for(g=0;g<h.buttons.length;g++)h.buttons[g].notifyGroupEnter()},leaveHandler:function(d){var g;if(!d.insideElementPressed)for(g=0;g<h.buttons.length;g++)h.buttons[g].notifyGroupExit()}})},n.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(o),function(n){n.Rect=function(a,u,h,f,d){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0,this.width=typeof h=="number"?h:0,this.height=typeof f=="number"?f:0,this.degrees=typeof d=="number"?d:0,this.degrees=n.positiveModulo(this.degrees,360);var g,v;this.degrees>=270?(g=this.getTopRight(),this.x=g.x,this.y=g.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(g=this.getBottomRight(),this.x=g.x,this.y=g.y,this.degrees-=180):this.degrees>=90&&(g=this.getBottomLeft(),this.x=g.x,this.y=g.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},n.Rect.fromSummits=function(a,u,h){var f=a.distanceTo(u),d=a.distanceTo(h),g=u.minus(a),v=Math.atan(g.y/g.x);return g.x<0?v+=Math.PI:g.y<0&&(v+=2*Math.PI),new n.Rect(a.x,a.y,f,d,v/Math.PI*180)},n.Rect.prototype={clone:function(){return new n.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new n.Point(this.x,this.y)},getBottomRight:function(){return new n.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new n.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new n.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new n.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new n.Point(this.width,this.height)},equals:function(a){return a instanceof n.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new n.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new n.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var u=this.getBoundingBox(),h=a.getBoundingBox(),f=Math.min(u.x,h.x),d=Math.min(u.y,h.y),g=Math.max(u.x+u.width,h.x+h.width),v=Math.max(u.y+u.height,h.y+h.height);return new n.Rect(f,d,g-f,v-d)},intersection:function(a){var u=1e-10,h=[],f=this.getTopLeft();a.containsPoint(f,u)&&h.push(f);var d=this.getTopRight();a.containsPoint(d,u)&&h.push(d);var g=this.getBottomLeft();a.containsPoint(g,u)&&h.push(g);var v=this.getBottomRight();a.containsPoint(v,u)&&h.push(v);var _=a.getTopLeft();this.containsPoint(_,u)&&h.push(_);var x=a.getTopRight();this.containsPoint(x,u)&&h.push(x);var T=a.getBottomLeft();this.containsPoint(T,u)&&h.push(T);var B=a.getBottomRight();this.containsPoint(B,u)&&h.push(B);for(var M=this._getSegments(),j=a._getSegments(),V=0;V<M.length;V++)for(var F=M[V],L=0;L<j.length;L++){var Y=j[L],ce=pe(F[0],F[1],Y[0],Y[1]);ce&&h.push(ce)}function pe(ue,be,Se,ut){var at=be.minus(ue),xe=ut.minus(Se),Ce=-xe.x*at.y+at.x*xe.y;if(Ce===0)return null;var nt=(at.x*(ue.y-Se.y)-at.y*(ue.x-Se.x))/Ce,Ne=(xe.x*(ue.y-Se.y)-xe.y*(ue.x-Se.x))/Ce;return-u<=nt&&nt<=1-u&&-u<=Ne&&Ne<=1-u?new n.Point(ue.x+Ne*at.x,ue.y+Ne*at.y):null}if(h.length===0)return null;for(var me=h[0].x,ve=h[0].x,le=h[0].y,_e=h[0].y,He=1;He<h.length;He++){var K=h[He];K.x<me&&(me=K.x),K.x>ve&&(ve=K.x),K.y<le&&(le=K.y),K.y>_e&&(_e=K.y)}return new n.Rect(me,le,ve-me,_e-le)},_getSegments:function(){var a=this.getTopLeft(),u=this.getTopRight(),h=this.getBottomLeft(),f=this.getBottomRight();return[[a,u],[u,f],[f,h],[h,a]]},rotate:function(a,u){if(a=n.positiveModulo(a,360),a===0)return this.clone();u=u||this.getCenter();var h=this.getTopLeft().rotate(a,u),f=this.getTopRight().rotate(a,u),d=f.minus(h);d=d.apply(function(v){var _=1e-15;return Math.abs(v)<_?0:v});var g=Math.atan(d.y/d.x);return d.x<0?g+=Math.PI:d.y<0&&(g+=2*Math.PI),new n.Rect(h.x,h.y,this.width,this.height,g/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),u=this.getTopRight(),h=this.getBottomLeft(),f=this.getBottomRight(),d=Math.min(a.x,u.x,h.x,f.x),g=Math.max(a.x,u.x,h.x,f.x),v=Math.min(a.y,u.y,h.y,f.y),_=Math.max(a.y,u.y,h.y,f.y);return new n.Rect(d,v,g-d,_-v)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),u=Math.floor(a.x),h=Math.floor(a.y),f=Math.ceil(a.width+a.x-u),d=Math.ceil(a.height+a.y-h);return new n.Rect(u,h,f,d)},containsPoint:function(a,u){u=u||0;var h=this.getTopLeft(),f=this.getTopRight(),d=this.getBottomLeft(),g=f.minus(h),v=d.minus(h);return(a.x-h.x)*g.x+(a.y-h.y)*g.y>=-u&&(a.x-f.x)*g.x+(a.y-f.y)*g.y<=u&&(a.x-h.x)*v.x+(a.y-h.y)*v.y>=-u&&(a.x-d.x)*v.x+(a.y-d.y)*v.y<=u},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(o),function(n){var a={};n.ReferenceStrip=function(T){var B=this,M=T.viewer,j=n.getElementSize(M.element),V,F,L;for(T.id||(T.id="referencestrip-"+n.now(),this.element=n.makeNeutralElement("div"),this.element.id=T.id,this.element.className="referencestrip"),T=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.referenceStripSizeRatio,position:n.DEFAULT_SETTINGS.referenceStripPosition,scroll:n.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold},T,{element:this.element}),n.extend(this,T),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,F=this.element.style,F.marginTop="0px",F.marginRight="0px",F.marginBottom="0px",F.marginLeft="0px",F.left="0px",F.bottom="0px",F.border="0px",F.background="#000",F.position="relative",n.setElementTouchActionNone(this.element),n.setElementOpacity(this.element,.8),this.viewer=M,this.tracker=new n.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:n.delegate(this,u),dragHandler:n.delegate(this,h),scrollHandler:n.delegate(this,f),enterHandler:n.delegate(this,g),leaveHandler:n.delegate(this,v),keyDownHandler:n.delegate(this,_),keyHandler:n.delegate(this,x),preProcessEventHandler:function(Y){Y.eventType==="wheel"&&(Y.preventDefault=!0)}}),T.width&&T.height?(this.element.style.width=T.width+"px",this.element.style.height=T.height+"px",M.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):T.scroll==="horizontal"?(this.element.style.width=j.x*T.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.height=j.y*T.sizeRatio+"px",M.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=j.y*T.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.width=j.x*T.sizeRatio+"px",M.addControl(this.element,{anchor:n.ControlAnchor.TOP_LEFT})),this.panelWidth=j.x*this.sizeRatio+8,this.panelHeight=j.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},L=0;L<M.tileSources.length;L++)V=n.makeNeutralElement("div"),V.id=this.element.id+"-"+L,V.style.width=B.panelWidth+"px",V.style.height=B.panelHeight+"px",V.style.display="inline",V.style.float="left",V.style.cssFloat="left",V.style.styleFloat="left",V.style.padding="2px",n.setElementTouchActionNone(V),n.setElementPointerEventsNone(V),this.element.appendChild(V),V.activePanel=!1,this.panels.push(V);d(this,this.scroll==="vertical"?j.y:j.x,0),this.setFocus(0)},n.ReferenceStrip.prototype={setFocus:function(T){var B=this.element.querySelector("#"+this.element.id+"-"+T),M=n.getElementSize(this.viewer.canvas),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=-Number(this.element.style.marginLeft.replace("px","")),L=-Number(this.element.style.marginTop.replace("px","")),Y;this.currentSelected!==B&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=B,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Y=Number(T)*(this.panelWidth+3),Y>F+M.x-this.panelWidth?(Y=Math.min(Y,j-M.x),this.element.style.marginLeft=-Y+"px",d(this,M.x,-Y)):Y<F&&(Y=Math.max(0,Y-M.x/2),this.element.style.marginLeft=-Y+"px",d(this,M.x,-Y))):(Y=Number(T)*(this.panelHeight+3),Y>L+M.y-this.panelHeight?(Y=Math.min(Y,V-M.y),this.element.style.marginTop=-Y+"px",d(this,M.y,-Y)):Y<L&&(Y=Math.max(0,Y-M.y/2),this.element.style.marginTop=-Y+"px",d(this,M.y,-Y))),this.currentPage=T,g.call(this,{eventSource:this.tracker}))},update:function(){return!!a[this.id].animating},destroy:function(){if(this.miniViewers)for(var T in this.miniViewers)this.miniViewers[T].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function u(T){if(T.quick){var B;this.scroll==="horizontal"?B=Math.floor(T.position.x/this.panelWidth):B=Math.floor(T.position.y/this.panelHeight),this.viewer.goToPage(B)}this.element.focus()}function h(T){if(this.dragging=!0,this.element){var B=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-T.delta.x>0?B>-(j-F.x)&&(this.element.style.marginLeft=B+T.delta.x*2+"px",d(this,F.x,B+T.delta.x*2)):-T.delta.x<0&&B<0&&(this.element.style.marginLeft=B+T.delta.x*2+"px",d(this,F.x,B+T.delta.x*2)):-T.delta.y>0?M>-(V-F.y)&&(this.element.style.marginTop=M+T.delta.y*2+"px",d(this,F.y,M+T.delta.y*2)):-T.delta.y<0&&M<0&&(this.element.style.marginTop=M+T.delta.y*2+"px",d(this,F.y,M+T.delta.y*2))}}function f(T){if(this.element){var B=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?T.scroll>0?B>-(j-F.x)&&(this.element.style.marginLeft=B-T.scroll*60+"px",d(this,F.x,B-T.scroll*60)):T.scroll<0&&B<0&&(this.element.style.marginLeft=B-T.scroll*60+"px",d(this,F.x,B-T.scroll*60)):T.scroll<0?M>F.y-V&&(this.element.style.marginTop=M+T.scroll*60+"px",d(this,F.y,M+T.scroll*60)):T.scroll>0&&M<0&&(this.element.style.marginTop=M+T.scroll*60+"px",d(this,F.y,M+T.scroll*60)),T.preventDefault=!0}}function d(T,B,M){var j,V,F,L,Y,ce;for(T.scroll==="horizontal"?j=T.panelWidth:j=T.panelHeight,V=Math.ceil(B/j)+5,F=Math.ceil((Math.abs(M)+B)/j)+1,V=F-V,V=V<0?0:V,Y=V;Y<F&&Y<T.panels.length;Y++)if(ce=T.panels[Y],!ce.activePanel){var pe,me=T.viewer.tileSources[Y];me.referenceStripThumbnailUrl?pe={type:"image",url:me.referenceStripThumbnailUrl}:pe=me,L=new n.Viewer({id:ce.id,tileSources:[pe],element:ce,navigatorSizeRatio:T.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:T.viewer.loadTilesWithAjax,ajaxHeaders:T.viewer.ajaxHeaders,useCanvas:T.useCanvas}),n.setElementPointerEventsNone(L.canvas),n.setElementPointerEventsNone(L.container),L.innerTracker.setTracking(!1),L.outerTracker.setTracking(!1),T.miniViewers[ce.id]=L,ce.activePanel=!0}}function g(T){var B=T.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="0px":B.style.marginLeft="0px"}function v(T){var B=T.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="-"+n.getElementSize(B).y/2+"px":B.style.marginLeft="-"+n.getElementSize(B).x/2+"px"}function _(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 38:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 40:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 37:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 39:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}function x(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 61:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 45:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 48:case 119:case 87:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 115:case 83:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 97:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 100:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}}(o),function(n){n.DisplayRect=function(a,u,h,f,d,g){n.Rect.apply(this,[a,u,h,f]),this.minLevel=d,this.maxLevel=g},n.extend(n.DisplayRect.prototype,n.Rect.prototype)}(o),function(n){n.Spring=function(u){var h=arguments;typeof u!="object"&&(u={initial:h.length&&typeof h[0]=="number"?h[0]:void 0,springStiffness:h.length>1?h[1].springStiffness:5,animationTime:h.length>1?h[1].animationTime:1.5}),n.console.assert(typeof u.springStiffness=="number"&&u.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),n.console.assert(typeof u.animationTime=="number"&&u.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),u.exponential&&(this._exponential=!0,delete u.exponential),n.extend(!0,this,u),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:n.now()},n.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},n.Spring.prototype={resetTo:function(u){n.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=u,this.start.time=this.target.time=this.current.time=n.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(u){n.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=u,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(u){this.start.value+=u,this.target.value+=u,this._exponential&&(n.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(u){this._exponential=u,this._exponential&&(n.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=n.now();var u,h;this._exponential?(u=this.start._logValue,h=this.target._logValue):(u=this.start.value,h=this.target.value);var f=this.current.time>=this.target.time?h:u+(h-u)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),d=this.current.value;return this._exponential?this.current.value=Math.exp(f):this.current.value=f,d!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(u,h){return(1-Math.exp(u*-h))/(1-Math.exp(-u))}}(o),function(n){function a(h){n.extend(!0,this,{timeout:n.DEFAULT_SETTINGS.timeout,jobId:null},h),this.image=null}a.prototype={errorMsg:null,start:function(){var h=this,f=this.abort;this.image=new Image,this.image.onload=function(){h.finish(!0)},this.image.onabort=this.image.onerror=function(){h.errorMsg="Image load aborted",h.finish(!1)},this.jobId=window.setTimeout(function(){h.errorMsg="Image load exceeded timeout ("+h.timeout+" ms)",h.finish(!1)},this.timeout),this.loadWithAjax?(this.request=n.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",postData:this.postData,success:function(d){var g;try{g=new window.Blob([d.response])}catch(T){var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(T.name==="TypeError"&&v){var _=new v;_.append(d.response),g=_.getBlob()}}g.size===0&&(h.errorMsg="Empty image response.",h.finish(!1));var x=(window.URL||window.webkitURL).createObjectURL(g);h.image.src=x},error:function(d){h.errorMsg="Image load aborted - XHR error: Ajax returned "+d.status,h.finish(!1)}}),this.abort=function(){h.request.abort(),typeof f=="function"&&f()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(h){this.image.onload=this.image.onerror=this.image.onabort=null,h||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},n.ImageLoader=function(h){n.extend(!0,this,{jobLimit:n.DEFAULT_SETTINGS.imageLoaderLimit,timeout:n.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},h)},n.ImageLoader.prototype={addJob:function(h){var f=this,d=function(_){u(f,_,h.callback)},g={src:h.src,loadWithAjax:h.loadWithAjax,ajaxHeaders:h.loadWithAjax?h.ajaxHeaders:null,crossOriginPolicy:h.crossOriginPolicy,ajaxWithCredentials:h.ajaxWithCredentials,postData:h.postData,callback:d,abort:h.abort,timeout:this.timeout},v=new a(g);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var h=0;h<this.jobQueue.length;h++){var f=this.jobQueue[h];typeof f.abort=="function"&&f.abort()}this.jobQueue=[]}};function u(h,f,d){var g;h.jobsInProgress--,(!h.jobLimit||h.jobsInProgress<h.jobLimit)&&h.jobQueue.length>0&&(g=h.jobQueue.shift(),g.start(),h.jobsInProgress++),d(f.image,f.errorMsg,f.request)}}(o),function(n){n.Tile=function(a,u,h,f,d,g,v,_,x,T,B,M){this.level=a,this.x=u,this.y=h,this.bounds=f,this.sourceBounds=T,this.exists=d,this.url=g,this.postData=B,this.context2D=v,this.loadWithAjax=_,this.ajaxHeaders=x,M===void 0&&(n.console.error("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),M=n.TileSource.prototype.getTileHashKey(a,u,h,g,x,B)),this.cacheKey=M,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},n.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(a){if(!this.cacheImageRecord){n.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=n.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==a&&a.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),n.setElementOpacity(this.element,this.opacity)},drawCanvas:function(a,u,h,f,d){var g=this.position.times(n.pixelDensityRatio),v=this.size.times(n.pixelDensityRatio),_;if(!this.context2D&&!this.cacheImageRecord){n.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(_=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!_){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}a.save(),a.globalAlpha=this.opacity,typeof h=="number"&&h!==1&&(g=g.times(h),v=v.times(h)),f instanceof n.Point&&(g=g.plus(f)),a.globalAlpha===1&&this._hasTransparencyChannel()&&(d&&(g.x=Math.round(g.x),g.y=Math.round(g.y),v.x=Math.round(v.x),v.y=Math.round(v.y)),a.clearRect(g.x,g.y,v.x,v.y)),u({context:a,tile:this,rendered:_});var x,T;this.sourceBounds?(x=Math.min(this.sourceBounds.width,_.canvas.width),T=Math.min(this.sourceBounds.height,_.canvas.height)):(x=_.canvas.width,T=_.canvas.height),a.translate(g.x+v.x/2,0),this.flipped&&a.scale(-1,1),a.drawImage(_.canvas,0,0,x,T,-v.x/2,g.y,v.x,v.y),a.restore()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return n.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*n.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,u,h){var f=Math.max(1,Math.ceil((h.x-u.x)/2)),d=Math.max(1,Math.ceil((h.y-u.y)/2));return new n.Point(f,d).minus(this.position.times(n.pixelDensityRatio).times(a||1).apply(function(g){return g%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(o),function(n){n.OverlayPlacement=n.Placement,n.OverlayRotationMode=n.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),n.Overlay=function(a,u,h){var f;n.isPlainObject(a)?f=a:f={element:a,location:u,placement:h},this.element=f.element,this.style=f.element.style,this._init(f)},n.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?n.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||n.OverlayRotationMode.EXACT,this.location instanceof n.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=n.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new n.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,u){var h=n.Placement.properties[this.placement];!h||(h.isHorizontallyCentered?a.x-=u.x/2:h.isRight&&(a.x-=u.x),h.isVerticallyCentered?a.y-=u.y/2:h.isBottom&&(a.y-=u.y))},destroy:function(){var a=this.element,u=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(u.display="none",document.body.appendChild(a))),this.onDraw=null,u.top="",u.left="",u.position="",this.width!==null&&(u.width=""),this.height!==null&&(u.height="");var h=n.getCssPropertyWithVendorPrefix("transformOrigin"),f=n.getCssPropertyWithVendorPrefix("transform");h&&f&&(u[h]="",u[f]="")},drawHTML:function(a,u){var h=this.element;h.parentNode!==a&&(h.prevElementParent=h.parentNode,h.prevNextSibling=h.nextSibling,a.appendChild(h),this.style.position="absolute",this.size=n.getElementSize(h));var f=this._getOverlayPositionAndSize(u),d=f.position,g=this.size=f.size,v=f.rotate;if(this.onDraw)this.onDraw(d,g,this.element);else{var _=this.style;_.left=d.x+"px",_.top=d.y+"px",this.width!==null&&(_.width=g.x+"px"),this.height!==null&&(_.height=g.y+"px");var x=n.getCssPropertyWithVendorPrefix("transformOrigin"),T=n.getCssPropertyWithVendorPrefix("transform");x&&T&&(v?(_[x]=this._getTransformOrigin(),_[T]="rotate("+v+"deg)"):(_[x]="",_[T]="")),_.display="block"}},_getOverlayPositionAndSize:function(a){var u=a.pixelFromPoint(this.location,!0),h=this._getSizeInPixels(a);this.adjust(u,h);var f=0;if(a.degrees&&this.rotationMode!==n.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new n.Rect(u.x,u.y,h.x,h.y),g=this._getBoundingBox(d,a.degrees);u=g.getTopLeft(),h=g.getSize()}else f=a.degrees;return{position:u,size:h,rotate:f}},_getSizeInPixels:function(a){var u=this.size.x,h=this.size.y;if(this.width!==null||this.height!==null){var f=a.deltaPixelsFromPointsNoRotate(new n.Point(this.width||0,this.height||0),!0);this.width!==null&&(u=f.x),this.height!==null&&(h=f.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=n.getElementSize(this.element);this.width===null&&(u=d.x),this.height===null&&(h=d.y)}return new n.Point(u,h)},_getBoundingBox:function(a,u){var h=this._getPlacementPoint(a);return a.rotate(u,h).getBoundingBox()},_getPlacementPoint:function(a){var u=new n.Point(a.x,a.y),h=n.Placement.properties[this.placement];return h&&(h.isHorizontallyCentered?u.x+=a.width/2:h.isRight&&(u.x+=a.width),h.isVerticallyCentered?u.y+=a.height/2:h.isBottom&&(u.y+=a.height)),u},_getTransformOrigin:function(){var a="",u=n.Placement.properties[this.placement];return u&&(u.isLeft?a="left":u.isRight&&(a="right"),u.isTop?a+=" top":u.isBottom&&(a+=" bottom")),a},update:function(a,u){var h=n.isPlainObject(a)?a:{location:a,placement:u};this._init({location:h.location||this.location,placement:h.placement!==void 0?h.placement:this.placement,onDraw:h.onDraw||this.onDraw,checkResize:h.checkResize||this.checkResize,width:h.width!==void 0?h.width:this.width,height:h.height!==void 0?h.height:this.height,rotationMode:h.rotationMode||this.rotationMode})},getBounds:function(a){n.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var u=this.width,h=this.height;if(u===null||h===null){var f=a.deltaPointsFromPixelsNoRotate(this.size,!0);u===null&&(u=f.x),h===null&&(h=f.y)}var d=this.location.clone();return this.adjust(d,new n.Point(u,h)),this._adjustBoundsForRotation(a,new n.Rect(d.x,d.y,u,h))},_adjustBoundsForRotation:function(a,u){if(!a||a.degrees===0||this.rotationMode===n.OverlayRotationMode.EXACT)return u;if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return u;var h=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new n.Rect(h.position.x,h.position.y,h.size.x,h.size.y))}return u.rotate(-a.degrees,this._getPlacementPoint(u))}}}(o),function(n){n.Drawer=function(a){n.console.assert(a.viewer,"[Drawer] options.viewer is required");var u=arguments;if(n.isPlainObject(a)||(a={source:u[0],viewport:u[1],element:u[2]}),n.console.assert(a.viewport,"[Drawer] options.viewport is required"),n.console.assert(a.element,"[Drawer] options.element is required"),a.source&&n.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||n.DEFAULT_SETTINGS.debugGridColor,a.opacity&&n.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=n.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=n.getElement(a.element),this.canvas=n.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var h=this._calculateCanvasSize();this.canvas.width=h.x,this.canvas.height=h.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",n.setElementOpacity(this.canvas,this.opacity,!0),n.setElementPointerEventsNone(this.canvas),n.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},n.Drawer.prototype={addOverlay:function(a,u,h,f){return n.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(a,u,h,f),this},updateOverlay:function(a,u,h){return n.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(a,u,h),this},removeOverlay:function(a){return n.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(a),this},clearOverlays:function(){return n.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(a){var u=this.viewport.pixelFromPointNoRotate(a,!0);return new n.Point(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio)},clipWithPolygons:function(a,u){if(!!this.useCanvas){var h=this._getContext(u);h.beginPath(),a.forEach(function(f){f.forEach(function(d,g){h[g===0?"moveTo":"lineTo"](d.x,d.y)})}),h.clip()}},setOpacity:function(a){n.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var u=this.viewer.world,h=0;h<u.getItemCount();h++)u.getItemAt(h).setOpacity(a);return this},getOpacity:function(){n.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var a=this.viewer.world,u=0,h=0;h<a.getItemCount();h++){var f=a.getItemAt(h).getOpacity();f>u&&(u=f)}return u},needsUpdate:function(){return n.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return n.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return n.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return n.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!==a.x||this.canvas.height!==a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var u=this._calculateSketchCanvasSize();this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,u){if(!!this.useCanvas){var h=this._getContext(a);if(u)h.clearRect(u.x,u.y,u.width,u.height);else{var f=h.canvas;h.clearRect(0,0,f.width,f.height)}}},viewportToDrawerRectangle:function(a){var u=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),h=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new n.Rect(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio,h.x*n.pixelDensityRatio,h.y*n.pixelDensityRatio)},drawTile:function(a,u,h,f,d,g){if(n.console.assert(a,"[Drawer.drawTile] tile is required"),n.console.assert(u,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var v=this._getContext(h);f=f||1,a.drawCanvas(v,u,f,d,g)}else a.drawHTML(this.canvas)},_getContext:function(a){var u=this.context;if(a){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var h=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=h.x,this.sketchCanvas.height=h.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var f=this;this.viewer.addHandler("rotate",function d(){if(f.viewport.getRotation()!==0){f.viewer.removeHandler("rotate",d);var g=f._calculateSketchCanvasSize();f.sketchCanvas.width=g.x,f.sketchCanvas.height=g.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}u=this.sketchContext}return u},saveContext:function(a){!this.useCanvas||this._getContext(a).save()},restoreContext:function(a){!this.useCanvas||this._getContext(a).restore()},setClip:function(a,u){if(!!this.useCanvas){var h=this._getContext(u);h.beginPath(),h.rect(a.x,a.y,a.width,a.height),h.clip()}},drawRectangle:function(a,u,h){if(!!this.useCanvas){var f=this._getContext(h);f.save(),f.fillStyle=u,f.fillRect(a.x,a.y,a.width,a.height),f.restore()}},blendSketch:function(a,u,h,f){var d=a;if(n.isPlainObject(d)||(d={opacity:a,scale:u,translate:h,compositeOperation:f}),!(!this.useCanvas||!this.sketchCanvas)){a=d.opacity,f=d.compositeOperation;var g=d.bounds;if(this.context.save(),this.context.globalAlpha=a,f&&(this.context.globalCompositeOperation=f),g)g.x<0&&(g.width+=g.x,g.x=0),g.x+g.width>this.canvas.width&&(g.width=this.canvas.width-g.x),g.y<0&&(g.height+=g.y,g.y=0),g.y+g.height>this.canvas.height&&(g.height=this.canvas.height-g.y),this.context.drawImage(this.sketchCanvas,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height);else{u=d.scale||1,h=d.translate;var v=h instanceof n.Point?h:new n.Point(0,0),_=0,x=0;if(h){var T=this.sketchCanvas.width-this.canvas.width,B=this.sketchCanvas.height-this.canvas.height;_=Math.round(T/2),x=Math.round(B/2)}this.context.drawImage(this.sketchCanvas,v.x-_*u,v.y-x*u,(this.canvas.width+2*_)*u,(this.canvas.height+2*x)*u,-_,-x,this.canvas.width+2*_,this.canvas.height+2*x)}this.context.restore()}},drawDebugInfo:function(a,u,h,f){if(!!this.useCanvas){var d=this.viewer.world.getIndexOfItem(f)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*n.pixelDensityRatio,g.font="small-caps bold "+13*n.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[d],g.fillStyle=this.debugGridColor[d],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),f.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:f.getRotation(!0),point:f.viewport.pixelFromPointNoRotate(f._getRotationPoint(!0),!0)}),f.viewport.degrees===0&&f.getRotation(!0)%360===0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip(),g.strokeRect(a.position.x*n.pixelDensityRatio,a.position.y*n.pixelDensityRatio,a.size.x*n.pixelDensityRatio,a.size.y*n.pixelDensityRatio);var v=(a.position.x+a.size.x/2)*n.pixelDensityRatio,_=(a.position.y+a.size.y/2)*n.pixelDensityRatio;g.translate(v,_),g.rotate(Math.PI/180*-this.viewport.degrees),g.translate(-v,-_),a.x===0&&a.y===0&&(g.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*n.pixelDensityRatio,(a.position.y-30)*n.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*n.pixelDensityRatio,(a.position.y-20)*n.pixelDensityRatio)),g.fillText("Level: "+a.level,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+20)*n.pixelDensityRatio),g.fillText("Column: "+a.x,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+30)*n.pixelDensityRatio),g.fillText("Row: "+a.y,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+40)*n.pixelDensityRatio),g.fillText("Order: "+h+" of "+u,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+50)*n.pixelDensityRatio),g.fillText("Size: "+a.size.toString(),(a.position.x+10)*n.pixelDensityRatio,(a.position.y+60)*n.pixelDensityRatio),g.fillText("Position: "+a.position.toString(),(a.position.x+10)*n.pixelDensityRatio,(a.position.y+70)*n.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),f.getRotation(!0)%360!==0&&this._restoreRotationChanges(),f.viewport.degrees===0&&f.getRotation(!0)%360===0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip(),g.restore()}},debugRect:function(a){if(this.useCanvas){var u=this.context;u.save(),u.lineWidth=2*n.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(a.x*n.pixelDensityRatio,a.y*n.pixelDensityRatio,a.width*n.pixelDensityRatio,a.height*n.pixelDensityRatio),u.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(a){var u=this._getContext(a).canvas;return new n.Point(u.width,u.height)},getCanvasCenter:function(){return new n.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(a){var u=a.point?a.point.times(n.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(a.useSketch);h.save(),h.translate(u.x,u.y),this.viewer.viewport.flipped?(h.rotate(Math.PI/180*-a.degrees),h.scale(-1,1)):h.rotate(Math.PI/180*a.degrees),h.translate(-u.x,-u.y)},_flip:function(a){a=a||{};var u=a.point?a.point.times(n.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(a.useSketch);h.translate(u.x,0),h.scale(-1,1),h.translate(-u.x,0)},_restoreRotationChanges:function(a){var u=this._getContext(a);u.restore()},_calculateCanvasSize:function(){var a=n.pixelDensityRatio,u=this.viewport.getContainerSize();return{x:Math.round(u.x*a),y:Math.round(u.y*a)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return a;var u=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:u,y:u}}}}(o),function(n){n.Viewport=function(a){var u=arguments;u.length&&u[0]instanceof n.Point&&(a={containerSize:u[0],contentSize:u[1],config:u[2]}),a.config&&(n.extend(!0,a,a.config),delete a.config),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,n.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:n.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:n.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:n.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:n.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:n.DEFAULT_SETTINGS.maxZoomLevel,degrees:n.DEFAULT_SETTINGS.degrees,flipped:n.DEFAULT_SETTINGS.flipped,homeFillsViewer:n.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:n.DEFAULT_SETTINGS.silenceMultiImageWarnings},a),this._updateContainerInnerSize(),this.centerSpringX=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new n.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new n.Rect(0,0,1,1),1),this.goHome(!0),this.update()},n.Viewport.prototype={resetContentSize:function(a){return n.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),n.console.assert(a instanceof n.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),n.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),n.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new n.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,u){n.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,u)},_setContentBounds:function(a,u){n.console.assert(a,"[Viewport._setContentBounds] bounds is required"),n.console.assert(a instanceof n.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),n.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),n.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(u),this._contentBounds=a.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(u),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:u,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),u;return this.homeFillsViewer?u=a>=1?a:1:u=a>=1?1:a,u/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),u=1/this.getHomeZoom(),h=u/this.getAspectRatio();return new n.Rect(a.x-u/2,a.y-h/2,u,h)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),u=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return u},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new n.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return n.extend({},this._margins)},setMargins:function(a){n.console.assert(n.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(a){var u=this.getCenter(a),h=1/this.getZoom(a),f=h/this.getAspectRatio();return new n.Rect(u.x-h/2,u.y-f/2,h,f)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var u=this.getBoundsNoRotate(a),h=this._containerInnerSize.x*this.getZoom(a);return u.x-=this._margins.left/h,u.y-=this._margins.top/h,u.width+=(this._margins.left+this._margins.right)/h,u.height+=(this._margins.top+this._margins.bottom)/h,u},getCenter:function(a){var u=new n.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),f,d,g,v,_,x,T,B;return a?u:this.zoomPoint?(f=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),g=1/d,v=g/this.getAspectRatio(),_=new n.Rect(u.x-g/2,u.y-v/2,g,v),x=this._pixelFromPoint(this.zoomPoint,_),T=x.minus(f),B=T.divide(this._containerInnerSize.x*d),h.plus(B)):h},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var u=new n.Rect(a.x,a.y,a.width,a.height);if(!this.wrapHorizontal){var h=this.visibilityRatio*u.width,f=u.x+u.width,d=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,g=this._contentBoundsNoRotate.x-f+h,v=d-u.x-h;h>this._contentBoundsNoRotate.width?u.x+=(g+v)/2:v<0?u.x+=v:g>0&&(u.x+=g)}if(!this.wrapVertical){var _=this.visibilityRatio*u.height,x=u.y+u.height,T=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,B=this._contentBoundsNoRotate.y-x+_,M=T-u.y-_;_>this._contentBoundsNoRotate.height?u.y+=(B+M)/2:M<0?u.y+=M:B>0&&(u.y+=B)}return u},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var u=this.getZoom(),h=this._applyZoomConstraints(u);u!==h&&this.zoomTo(h,this.zoomPoint,a);var f=this.getBoundsNoRotate(),d=this._applyBoundaryConstraints(f);return this._raiseConstraintsEvent(a),(f.x!==d.x||f.y!==d.y||a)&&this.fitBounds(d.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,u){u=u||{};var h=u.immediately||!1,f=u.constraints||!1,d=this.getAspectRatio(),g=a.getCenter(),v=new n.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=d?v.height=v.width/d:v.width=v.height*d,v.x=g.x-v.width/2,v.y=g.y-v.height/2;var _=1/v.width;if(f){var x=v.getAspectRatio(),T=this._applyZoomConstraints(_);_!==T&&(_=T,v.width=1/_,v.x=g.x-v.width/2,v.height=v.width/x,v.y=g.y-v.height/2),v=this._applyBoundaryConstraints(v),g=v.getCenter(),this._raiseConstraintsEvent(h)}if(h)return this.panTo(g,!0),this.zoomTo(_,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var B=this.getBounds(),M=this.getZoom();if(M===0||Math.abs(_/M-1)<1e-8)return this.zoomTo(_,!0),this.panTo(g,h);v=v.rotate(-this.getRotation());var j=v.getTopLeft().times(_).minus(B.getTopLeft().times(M)).divide(_-M);return this.zoomTo(_,j,h)},fitBounds:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!1})},fitBoundsWithConstraints:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!0})},fitVertically:function(a){var u=new n.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(u,a)},fitHorizontally:function(a){var u=new n.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(u,a)},getConstrainedBounds:function(a){var u,h;return u=this.getBounds(a),h=this._applyBoundaryConstraints(u),h},panBy:function(a,u){var h=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(h.plus(a),u)},panTo:function(a,u){return u?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:u}),this},zoomBy:function(a,u,h){return this.zoomTo(this.zoomSpring.target.value*a,u,h)},zoomTo:function(a,u,h){var f=this;return this.zoomPoint=u instanceof n.Point&&!isNaN(u.x)&&!isNaN(u.y)?u:null,h?this._adjustCenterSpringsForZoomPoint(function(){f.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:u,immediately:h}),this},setRotation:function(a){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=n.positiveModulo(a,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a}),this)},getRotation:function(){return this.degrees},resize:function(a,u){var h=this.getBoundsNoRotate(),f=h,d;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),u&&(d=a.x/this.containerSize.x,f.width=h.width*d,f.height=f.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:u}),this.fitBounds(f,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new n.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var u=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,u},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var u=this.pixelFromPoint(this.zoomPoint,!0);a();var h=this.pixelFromPoint(this.zoomPoint,!0),f=h.minus(u),d=this.deltaPointsFromPixels(f,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,u){return a.times(this._containerInnerSize.x*this.getZoom(u))},deltaPixelsFromPoints:function(a,u){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),u)},deltaPointsFromPixelsNoRotate:function(a,u){return a.divide(this._containerInnerSize.x*this.getZoom(u))},deltaPointsFromPixels:function(a,u){return this.deltaPointsFromPixelsNoRotate(a,u).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,u){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(u))},pixelFromPoint:function(a,u){return this._pixelFromPoint(a,this.getBoundsNoRotate(u))},_pixelFromPointNoRotate:function(a,u){return a.minus(u.getTopLeft()).times(this._containerInnerSize.x/u.width).plus(new n.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,u){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),u)},pointFromPixelNoRotate:function(a,u){var h=this.getBoundsNoRotate(u);return a.minus(new n.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/h.width).plus(h.getTopLeft())},pointFromPixel:function(a,u){return this.pointFromPixelNoRotate(a,u).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(a,u){var h=this._contentBoundsNoRotate.width;return new n.Point(a*this._contentSizeNoRotate.x/h,u*this._contentSizeNoRotate.x/h)},viewportToImageCoordinates:function(a,u){if(a instanceof n.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageCoordinates(a,u,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,u-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,u){var h=this._contentBoundsNoRotate.width;return new n.Point(a/this._contentSizeNoRotate.x*h,u/this._contentSizeNoRotate.x*h)},imageToViewportCoordinates:function(a,u){if(a instanceof n.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportCoordinates(a,u,!0)}}var d=this._imageToViewportDelta(a,u);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(a,u,h,f){var d=a;if(d instanceof n.Rect||(d=new n.Rect(a,u,h,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(g===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(a,u,h,f,!0)}}var _=this.imageToViewportCoordinates(d.x,d.y),x=this._imageToViewportDelta(d.width,d.height);return new n.Rect(_.x,_.y,x.x,x.y,d.degrees)},viewportToImageRectangle:function(a,u,h,f){var d=a;if(d instanceof n.Rect||(d=new n.Rect(a,u,h,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(g===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(a,u,h,f,!0)}}var _=this.viewportToImageCoordinates(d.x,d.y),x=this._viewportToImageDelta(d.width,d.height);return new n.Rect(_.x,_.y,x.x,x.y,d.degrees)},viewerElementToImageCoordinates:function(a){var u=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(u)},imageToViewerElementCoordinates:function(a){var u=this.imageToViewportCoordinates(a);return this.pixelFromPoint(u,!0)},windowToImageCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var u=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(u)},imageToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var u=this.imageToViewerElementCoordinates(a);return u.plus(n.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return n.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return n.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var u=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(u)},viewportToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var u=this.viewportToViewerElementCoordinates(a);return u.plus(n.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(u===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageZoom(a)}}var f=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,g=this._contentBoundsNoRotate.width,v=d/f*g;return a*v},imageToViewportZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(u===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportZoom(a)}}var f=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,g=this._contentBoundsNoRotate.width,v=f/d/g;return a*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(o),function(n){n.TiledImage=function(d){var g=this;n.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),n.console.assert(d.drawer,"[TiledImage] options.drawer is required"),n.console.assert(d.viewer,"[TiledImage] options.viewer is required"),n.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),n.console.assert(d.source,"[TiledImage] options.source is required"),n.console.assert(!d.clip||d.clip instanceof n.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),n.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof n.Rect&&(this._clip=d.clip.clone()),delete d.clip;var v=d.x||0;delete d.x;var _=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var x=1;d.width?(x=d.width,delete d.width,d.height&&(n.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(x=d.height/this.normHeight,delete d.height);var T=d.fitBounds;delete d.fitBounds;var B=d.fitBoundsPlacement||o.Placement.CENTER;delete d.fitBoundsPlacement;var M=d.degrees||0;delete d.degrees,n.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,immediateRender:n.DEFAULT_SETTINGS.immediateRender,blendTime:n.DEFAULT_SETTINGS.blendTime,alwaysBlend:n.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:n.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:n.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:n.DEFAULT_SETTINGS.iOSDevice,debugMode:n.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:n.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:n.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:n.DEFAULT_SETTINGS.placeholderFillStyle,opacity:n.DEFAULT_SETTINGS.opacity,preload:n.DEFAULT_SETTINGS.preload,compositeOperation:n.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:n.DEFAULT_SETTINGS.subPixelRoundingForTransparency},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new n.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new n.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new n.Spring({initial:x,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new n.Spring({initial:M,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),T&&this.fitBounds(T,B,!0),this._drawingHandler=function(j){g.viewer.raiseEvent("tile-drawing",n.extend({tiledImage:g},j))}},n.extend(n.TiledImage.prototype,n.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=n.now(),this._needsDraw=!0},update:function(){var d=this._xSpring.update(),g=this._ySpring.update(),v=this._scaleSpring.update(),_=this._degreesSpring.update();return d||g||v||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new n.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new n.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return n.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var g=this.getBoundsNoRotate(d);if(this._clip){var v=d?this._worldWidthCurrent:this._worldWidthTarget,_=v/this.source.dimensions.x,x=this._clip.times(_);g=new n.Rect(g.x+x.x,g.y+x.y,x.width,x.height)}return g.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,g,v){var _=this.source.getNumTiles(d),x=(_.x+g%_.x)%_.x,T=(_.y+v%_.y)%_.y,B=this.source.getTileBounds(d,x,T);return this.getFlip()&&(B.x=1-B.x-B.width),B.x+=(g-x)/_.x,B.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-T)/_.y),B},getContentSize:function(){return new n.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new n.Point(0,0)),g=this.imageToWindowCoordinates(this.getContentSize());return new n.Point(g.x-d.x,g.y-d.y)},_viewportToImageDelta:function(d,g,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(d*(this.source.dimensions.x/_),g*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(d,g,v){var _;return d instanceof n.Point?(v=g,_=d):_=new n.Point(d,g),_=_.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,g,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(d/this.source.dimensions.x*_,g/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(d,g,v){d instanceof n.Point&&(v=g,g=d.y,d=d.x);var _=this._imageToViewportDelta(d,g);return v?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(d,g,v,_,x){var T=d;T instanceof n.Rect?x=g:T=new n.Rect(d,g,v,_);var B=this.imageToViewportCoordinates(T.getTopLeft(),x),M=this._imageToViewportDelta(T.width,T.height,x);return new n.Rect(B.x,B.y,M.x,M.y,T.degrees+this.getRotation(x))},viewportToImageRectangle:function(d,g,v,_,x){var T=d;d instanceof n.Rect?x=g:T=new n.Rect(d,g,v,_);var B=this.viewportToImageCoordinates(T.getTopLeft(),x),M=this._viewportToImageDelta(T.width,T.height,x);return new n.Rect(B.x,B.y,M.x,M.y,T.degrees-this.getRotation(x))},viewerElementToImageCoordinates:function(d){var g=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(g)},imageToViewerElementCoordinates:function(d){var g=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(g,!0)},windowToImageCoordinates:function(d){var g=d.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(g)},imageToWindowCoordinates:function(d){var g=this.imageToViewerElementCoordinates(d);return g.plus(o.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var g=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new n.Rect((d.x-this._xSpring.current.value)/g,(d.y-this._ySpring.current.value)/g,d.width/g,d.height/g,d.degrees)},viewportToImageZoom:function(d){var g=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return g*d},imageToViewportZoom:function(d){var g=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return d/g},setPosition:function(d,g){var v=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(g){if(v&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(d,g){this._setScale(d,g)},setHeight:function(d,g){this._setScale(d/this.normHeight,g)},setCroppingPolygons:function(d){var g=function(_){return _ instanceof n.Point||typeof _.x=="number"&&typeof _.y=="number"},v=function(_){return _.map(function(x){try{if(g(x))return{x:x.x,y:x.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!n.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(_){return v(_)})}catch(_){n.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),n.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(d,g,v){g=g||n.Placement.CENTER;var _=n.Placement.properties[g],x=this.contentAspectX,T=0,B=0,M=1,j=1;if(this._clip&&(x=this._clip.getAspectRatio(),M=this._clip.width/this.source.dimensions.x,j=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>x?(T=this._clip.x/this._clip.height*d.height,B=this._clip.y/this._clip.height*d.height):(T=this._clip.x/this._clip.width*d.width,B=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>x){var V=d.height/j,F=0;_.isHorizontallyCentered?F=(d.width-d.height*x)/2:_.isRight&&(F=d.width-d.height*x),this.setPosition(new n.Point(d.x-T+F,d.y-B),v),this.setHeight(V,v)}else{var L=d.width/M,Y=0;_.isVerticallyCentered?Y=(d.height-d.width/x)/2:_.isBottom&&(Y=d.height-d.width/x),this.setPosition(new n.Point(d.x-T,d.y-B+Y),v),this.setWidth(L,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){n.console.assert(!d||d instanceof n.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),d instanceof n.Rect?this._clip=d.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(d){this.flipped=!!d,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(d){d!==this.opacity&&(this.opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,g){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(g?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(d){d!==this.compositeOperation&&(this.compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(d,g){var v=this._scaleSpring.target.value===d;if(g){if(v&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),g=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(g/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),d=Math.min(d,v),{lowestLevel:d,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var d=this.lastDrawn.pop();d.beingDrawn=!1}var g=this.viewport,v=this._viewportToTiledImageRectangle(g.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(_),v===null)return}for(var x=this._getLevelsInterval(),T=x.lowestLevel,B=x.highestLevel,M=null,j=!1,V=n.now(),F=B;F>=T;F--){var L=!1,Y=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(F),!0).x*this._scaleSpring.current.value;if(F===T||!j&&Y>=this.minPixelRatio)L=!0,j=!0;else if(!j)continue;var ce=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(F),!1).x*this._scaleSpring.current.value,pe=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,me=this.immediateRender?1:pe,ve=Math.min(1,(Y-.5)/.5),le=me/Math.abs(me-ce);if(M=this._updateLevel(j,L,F,ve,le,v,V,M),this._providesCoverage(this.coverage,F))break}this._drawTiles(this.lastDrawn),M&&!M.context2D?(this._loadTile(M,V),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(d,g,v){var _,x;this.wrapHorizontal?(_=n.positiveModulo(g.x,1),x=n.positiveModulo(v.x,1)):(_=Math.max(0,g.x),x=Math.min(1,v.x));var T,B,M=1/this.source.aspectRatio;this.wrapVertical?(T=n.positiveModulo(g.y,M),B=n.positiveModulo(v.y,M)):(T=Math.max(0,g.y),B=Math.min(M,v.y));var j=this.source.getTileAtPoint(d,new n.Point(_,T)),V=this.source.getTileAtPoint(d,new n.Point(x,B)),F=this.source.getNumTiles(d);return this.wrapHorizontal&&(j.x+=F.x*Math.floor(g.x),V.x+=F.x*Math.floor(v.x)),this.wrapVertical&&(j.y+=F.y*Math.floor(g.y/M),V.y+=F.y*Math.floor(v.y/M)),{topLeft:j,bottomRight:V}},_updateLevel:function(d,g,v,_,x,T,B,M){var j=T.getBoundingBox().getTopLeft(),V=T.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:d,level:v,opacity:_,visibility:x,drawArea:T,topleft:j,bottomright:V,currenttime:B,best:M}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var F=this._getCornerTiles(v,j,V),L=F.topLeft,Y=F.bottomRight,ce=this.source.getNumTiles(v),pe=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(Y.x+=1,this.wrapHorizontal||(Y.x=Math.min(Y.x,ce.x-1)));for(var me=L.x;me<=Y.x;me++)for(var ve=L.y;ve<=Y.y;ve++){var le;if(this.getFlip()){var _e=(ce.x+me%ce.x)%ce.x;le=me+ce.x-_e-_e-1}else le=me;T.intersection(this.getTileBounds(v,le,ve))!==null&&(M=this._updateTile(g,d,le,ve,v,_,x,pe,ce,B,M))}return M},_updateTile:function(d,g,v,_,x,T,B,M,j,V,F){var L=this._getTile(v,_,x,V,j,this._worldWidthCurrent,this._worldHeightCurrent),Y=g;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:L}),this._setCoverage(this.coverage,x,v,_,!1);var ce=L.loaded||L.loading||this._isCovered(this.loadingCoverage,x,v,_);if(this._setCoverage(this.loadingCoverage,x,v,_,ce),!L.exists||(d&&!Y&&(this._isCovered(this.coverage,x,v,_)?this._setCoverage(this.coverage,x,v,_,!0):Y=!0),!Y))return F;if(this._positionTile(L,this.source.tileOverlap,this.viewport,M,B),!L.loaded)if(L.context2D)this._setTileLoaded(L);else{var pe=this._tileCache.getImageRecord(L.cacheKey);if(pe){var me=pe.getImage();this._setTileLoaded(L,me)}}if(L.loaded){var ve=this._blendTile(L,v,_,x,T,V);ve&&(this._needsDraw=!0)}else L.loading?this._tilesLoading++:ce||(F=this._compareTiles(F,L));return F},_getTile:function(d,g,v,_,x,T,B){var M,j,V,F,L,Y,ce,pe,me,ve,le=this.tilesMatrix,_e=this.source;return le[v]||(le[v]={}),le[v][d]||(le[v][d]={}),(!le[v][d][g]||!le[v][d][g].flipped!=!this.flipped)&&(M=(x.x+d%x.x)%x.x,j=(x.y+g%x.y)%x.y,V=this.getTileBounds(v,d,g),F=_e.getTileBounds(v,M,j,!0),L=_e.tileExists(v,M,j),Y=_e.getTileUrl(v,M,j),ce=_e.getTilePostData(v,M,j),this.loadTilesWithAjax?(pe=_e.getTileAjaxHeaders(v,M,j),n.isPlainObject(this.ajaxHeaders)&&(pe=n.extend({},this.ajaxHeaders,pe))):pe=null,me=_e.getContext2D?_e.getContext2D(v,M,j):void 0,ve=new n.Tile(v,d,g,V,L,Y,me,this.loadTilesWithAjax,pe,F,ce,_e.getTileHashKey(v,M,j,Y,pe,ce)),this.getFlip()?M===0&&(ve.isRightMost=!0):M===x.x-1&&(ve.isRightMost=!0),j===x.y-1&&(ve.isBottomMost=!0),ve.flipped=this.flipped,le[v][d][g]=ve),ve=le[v][d][g],ve.lastTouchTime=_,ve},_loadTile:function(d,g){var v=this;d.loading=!0,this._imageLoader.addJob({src:d.url,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,x,T){v._onTileLoad(d,g,_,x,T)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,g,v,_,x){if(!v){n.console.error("Tile %s failed to load: %s - error: %s",d,d.url,_),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:g,message:_,tileRequest:x}),d.loading=!1,d.exists=!1;return}if(g<this.lastResetTime){n.console.warn("Ignoring tile %s loaded before reset: %s",d,d.url),d.loading=!1;return}var T=this,B=function(){var M=T.source,j=M.getClosestLevel();T._setTileLoaded(d,v,j,x)};this._midDraw?window.setTimeout(B,1):B()},_setTileLoaded:function(d,g,v,_){var x=0,T=this;function B(){return x++,M}function M(){x--,x===0&&(d.loading=!1,d.loaded=!0,d.context2D||T._tileCache.cacheTile({image:g,tile:d,cutoff:v,tiledImage:T}),T._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:_,image:g,getCompletionCallback:B}),B()()},_positionTile:function(d,g,v,_,x){var T=d.bounds.getTopLeft();T.x*=this._scaleSpring.current.value,T.y*=this._scaleSpring.current.value,T.x+=this._xSpring.current.value,T.y+=this._ySpring.current.value;var B=d.bounds.getSize();B.x*=this._scaleSpring.current.value,B.y*=this._scaleSpring.current.value;var M=v.pixelFromPointNoRotate(T,!0),j=v.pixelFromPointNoRotate(T,!1),V=v.deltaPixelsFromPointsNoRotate(B,!0),F=v.deltaPixelsFromPointsNoRotate(B,!1),L=j.plus(F.divide(2)),Y=_.squaredDistanceTo(L);g||(V=V.plus(new n.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(V.x+=.75),d.isBottomMost&&this.wrapVertical&&(V.y+=.75),d.position=M,d.size=V,d.squaredDistance=Y,d.visibility=x},_blendTile:function(d,g,v,_,x,T){var B=1e3*this.blendTime,M,j;if(d.blendStart||(d.blendStart=T),M=T-d.blendStart,j=B?Math.min(1,M/B):1,this.alwaysBlend&&(j*=x),d.opacity=j,this.lastDrawn.push(d),j===1)this._setCoverage(this.coverage,_,g,v,!0),this._hasOpaqueTile=!0;else if(M<B)return!0;return!1},_compareTiles:function(d,g){return!d||g.visibility>d.visibility||g.visibility===d.visibility&&g.squaredDistance<d.squaredDistance?g:d},_drawTiles:function(d){if(!(this.opacity===0||d.length===0&&!this.placeholderFillStyle)){var g=d[0],v;g&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&g._hasTransparencyChannel());var _,x,T=this.viewport.getZoom(!0),B=this.viewportToImageZoom(T);d.length>1&&B>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&n.supportsCanvas&&this.viewer.useCanvas&&(v=!0,_=g.getScaleForEdgeSmoothing(),x=g.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var M;v&&(_||(M=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.degrees!==0||this.getRotation(!0)%360!==0)&&(M.x=this._drawer.viewer.container.clientWidth-(M.x+M.width)),M=M.times(n.pixelDensityRatio)),this._drawer._clear(!0,M)),_||(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var j=!1;if(this._clip){this._drawer.saveContext(v);var V=this.imageToViewportRectangle(this._clip,!0);V=V.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var F=this._drawer.viewportToDrawerRectangle(V);_&&(F=F.times(_)),x&&(F=F.translate(x)),this._drawer.setClip(F,v),j=!0}if(this._croppingPolygons){this._drawer.saveContext(v);try{var L=this._croppingPolygons.map(function(_e){return _e.map(function(He){var K=this.imageToViewportCoordinates(He.x,He.y,!0).rotate(-this.getRotation(!0),this._getRotationPoint(!0)),ue=this._drawer.viewportCoordToDrawerCoord(K);return _&&(ue=ue.times(_)),ue})});this._drawer.clipWithPolygons(L,v)}catch(_e){n.console.error(_e)}j=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var Y=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(Y=Y.times(_)),x&&(Y=Y.translate(x));var ce=null;typeof this.placeholderFillStyle=="function"?ce=this.placeholderFillStyle(this,this._drawer.context):ce=this.placeholderFillStyle,this._drawer.drawRectangle(Y,ce,v)}var pe=f(this.subPixelRoundingForTransparency),me=!1;if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)me=!0;else if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ve=this.viewer&&this.viewer.isAnimating();me=!ve}for(var le=d.length-1;le>=0;le--)g=d[le],this._drawer.drawTile(g,this._drawingHandler,v,_,x,me),g.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:g});j&&this._drawer.restoreContext(v),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(v)),v&&(_&&(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:x,compositeOperation:this.compositeOperation,bounds:M}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(d)}},_drawDebugInfo:function(d){if(this.debugMode)for(var g=d.length-1;g>=0;g--){var v=d[g];try{this._drawer.drawDebugInfo(v,d.length,g,this)}catch(_){n.console.error(_)}}},_providesCoverage:function(d,g,v,_){var x,T,B,M;if(!d[g])return!1;if(v===void 0||_===void 0){x=d[g];for(B in x)if(Object.prototype.hasOwnProperty.call(x,B)){T=x[B];for(M in T)if(Object.prototype.hasOwnProperty.call(T,M)&&!T[M])return!1}return!0}return d[g][v]===void 0||d[g][v][_]===void 0||d[g][v][_]===!0},_isCovered:function(d,g,v,_){return v===void 0||_===void 0?this._providesCoverage(d,g+1):this._providesCoverage(d,g+1,2*v,2*_)&&this._providesCoverage(d,g+1,2*v,2*_+1)&&this._providesCoverage(d,g+1,2*v+1,2*_)&&this._providesCoverage(d,g+1,2*v+1,2*_+1)},_setCoverage:function(d,g,v,_,x){if(!d[g]){n.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",g);return}d[g][v]||(d[g][v]={}),d[g][v][_]=x},_resetCoverage:function(d,g){d[g]={}}});var a=n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(d){return d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function h(d){return u(d)?a:d}function f(d){if(typeof d=="number")return h(d);if(!d||!n.Browser)return a;var g=d[n.Browser.vendor];return u(g)&&(g=d["*"]),h(g)}}(o),function(n){var a=function(h){n.console.assert(h,"[TileCache.cacheTile] options is required"),n.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=h.tile,this.tiledImage=h.tiledImage},u=function(h){n.console.assert(h,"[ImageRecord] options is required"),n.console.assert(h.image,"[ImageRecord] options.image is required"),this._image=h.image,this._tiles=[]};u.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var h=document.createElement("canvas");h.width=this._image.width,h.height=this._image.height,this._renderedContext=h.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(h){n.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=h},addTile:function(h){n.console.assert(h,"[ImageRecord.addTile] tile is required"),this._tiles.push(h)},removeTile:function(h){for(var f=0;f<this._tiles.length;f++)if(this._tiles[f]===h){this._tiles.splice(f,1);return}n.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",h)},getTileCount:function(){return this._tiles.length}},n.TileCache=function(h){h=h||{},this._maxImageCacheCount=h.maxImageCacheCount||n.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},n.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(h){n.console.assert(h,"[TileCache.cacheTile] options is required"),n.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(h.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),n.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var f=h.cutoff||0,d=this._tilesLoaded.length,g=this._imagesLoaded[h.tile.cacheKey];if(g||(n.console.assert(h.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),g=this._imagesLoaded[h.tile.cacheKey]=new u({image:h.image}),this._imagesLoadedCount++),g.addTile(h.tile),h.tile.cacheImageRecord=g,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,_=-1,x=null,T,B,M,j,V,F,L=this._tilesLoaded.length-1;L>=0;L--)if(F=this._tilesLoaded[L],T=F.tile,!(T.level<=f||T.beingDrawn)){if(!v){v=T,_=L,x=F;continue}j=T.lastTouchTime,B=v.lastTouchTime,V=T.level,M=v.level,(j<B||j===B&&V>M)&&(v=T,_=L,x=F)}v&&_>=0&&(this._unloadTile(x),d=_)}this._tilesLoaded[d]=new a({tile:h.tile,tiledImage:h.tiledImage})},clearTilesFor:function(h){n.console.assert(h,"[TileCache.clearTilesFor] tiledImage is required");for(var f,d=0;d<this._tilesLoaded.length;++d)f=this._tilesLoaded[d],f.tiledImage===h&&(this._unloadTile(f),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(h){return n.console.assert(h,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[h]},_unloadTile:function(h){n.console.assert(h,"[TileCache._unloadTile] tileRecord is required");var f=h.tile,d=h.tiledImage;f.unload(),f.cacheImageRecord=null;var g=this._imagesLoaded[f.cacheKey];g.removeTile(f),g.getTileCount()||(g.destroy(),delete this._imagesLoaded[f.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:f,tiledImage:d})}}}(o),function(n){n.World=function(a){var u=this;n.console.assert(a.viewer,"[World] options.viewer is required"),n.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(h){u._autoRefigureSizes?u._figureSizes():u._needsSizesFigured=!0},this._figureSizes()},n.extend(n.World.prototype,n.EventSource.prototype,{addItem:function(a,u){if(n.console.assert(a,"[World.addItem] item is required"),n.console.assert(a instanceof n.TiledImage,"[World.addItem] only TiledImages supported at this time"),u=u||{},u.index!==void 0){var h=Math.max(0,Math.min(this._items.length,u.index));this._items.splice(h,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return n.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return n.console.assert(a,"[World.getIndexOfItem] item is required"),n.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,u){n.console.assert(a,"[World.setItemIndex] item is required"),n.console.assert(u!==void 0,"[World.setItemIndex] index is required");var h=this.getIndexOfItem(a);if(u>=this._items.length)throw new Error("Index bigger than number of layers.");u===h||h===-1||(this._items.splice(h,1),this._items.splice(u,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:h,newIndex:u}))},removeItem:function(a){n.console.assert(a,"[World.removeItem] item is required");var u=n.indexOf(this._items,a);u!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(u,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,u;for(u=0;u<this._items.length;u++)a=this._items[u],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var h=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,u=0;u<h.length;u++)a=h[u],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,u=0;u<this._items.length;u++)a=this._items[u].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var u=a.immediately||!1,h=a.layout||n.DEFAULT_SETTINGS.collectionLayout,f=a.rows||n.DEFAULT_SETTINGS.collectionRows,d=a.columns||n.DEFAULT_SETTINGS.collectionColumns,g=a.tileSize||n.DEFAULT_SETTINGS.collectionTileSize,v=a.tileMargin||n.DEFAULT_SETTINGS.collectionTileMargin,_=g+v,x;!a.rows&&d?x=d:x=Math.ceil(this._items.length/f);var T=0,B=0,M,j,V,F,L;this.setAutoRefigureSizes(!1);for(var Y=0;Y<this._items.length;Y++)Y&&Y%x===0&&(h==="horizontal"?(B+=_,T=0):(T+=_,B=0)),M=this._items[Y],j=M.getBounds(),j.width>j.height?V=g:V=g*(j.width/j.height),F=V*(j.height/j.width),L=new n.Point(T+(g-V)/2,B+(g-F)/2),M.setPosition(L,u),M.setWidth(V,u),h==="horizontal"?T+=_:B+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,u=this._contentSize?this._contentSize.clone():null,h=this._contentFactor||0;if(!this._items.length)this._homeBounds=new n.Rect(0,0,1,1),this._contentSize=new n.Point(1,1),this._contentFactor=1;else{var f=this._items[0],d=f.getBounds();this._contentFactor=f.getContentSize().x/d.width;for(var g=f.getClippedBounds().getBoundingBox(),v=g.x,_=g.y,x=g.x+g.width,T=g.y+g.height,B=1;B<this._items.length;B++)f=this._items[B],d=f.getBounds(),this._contentFactor=Math.max(this._contentFactor,f.getContentSize().x/d.width),g=f.getClippedBounds().getBoundingBox(),v=Math.min(v,g.x),_=Math.min(_,g.y),x=Math.max(x,g.x+g.width),T=Math.max(T,g.y+g.height);this._homeBounds=new n.Rect(v,_,x-v,T-_),this._contentSize=new n.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==h||!this._homeBounds.equals(a)||!this._contentSize.equals(u))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(o)})(l_);const vF=l_.exports;var u_={exports:{}};(function(t,o){(function(n,a){t.exports=a()})(Ys,function(){var n=Object.defineProperty,a=(i,s,e)=>s in i?n(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e,u=(i,s,e)=>(a(i,typeof s!="symbol"?s+"":s,e),e),h,f,d,g,v,_,x,T,B={},M=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function V(i,s){for(var e in s)i[e]=s[e];return i}function F(i){var s=i.parentNode;s&&s.removeChild(i)}function L(i,s,e){var r,l,c,p={};for(c in s)c=="key"?r=s[c]:c=="ref"?l=s[c]:p[c]=s[c];if(arguments.length>2&&(p.children=arguments.length>3?h.call(arguments,2):e),typeof i=="function"&&i.defaultProps!=null)for(c in i.defaultProps)p[c]===void 0&&(p[c]=i.defaultProps[c]);return Y(i,p,r,l,null)}function Y(i,s,e,r,l){var c={type:i,props:s,key:e,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l==null?++d:l};return l==null&&f.vnode!=null&&f.vnode(c),c}function ce(){return{current:null}}function pe(i){return i.children}function me(i,s){this.props=i,this.context=s}function ve(i,s){if(s==null)return i.__?ve(i.__,i.__.__k.indexOf(i)+1):null;for(var e;s<i.__k.length;s++)if((e=i.__k[s])!=null&&e.__e!=null)return e.__e;return typeof i.type=="function"?ve(i):null}function le(i){var s,e;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,s=0;s<i.__k.length;s++)if((e=i.__k[s])!=null&&e.__e!=null){i.__e=i.__c.base=e.__e;break}return le(i)}}function _e(i){(!i.__d&&(i.__d=!0)&&v.push(i)&&!He.__r++||x!==f.debounceRendering)&&((x=f.debounceRendering)||_)(He)}function He(){for(var i;He.__r=v.length;)i=v.sort(function(s,e){return s.__v.__b-e.__v.__b}),v=[],i.some(function(s){var e,r,l,c,p,m;s.__d&&(p=(c=(e=s).__v).__e,(m=e.__P)&&(r=[],(l=V({},c)).__v=c.__v+1,Ne(m,c,l,e.__n,m.ownerSVGElement!==void 0,c.__h!=null?[p]:null,r,p==null?ve(c):p,c.__h),wt(r,c),c.__e!=p&&le(c)))})}function K(i,s,e,r,l,c,p,m,y,b){var w,S,C,D,H,J,G,ee=r&&r.__k||M,P=ee.length;for(e.__k=[],w=0;w<s.length;w++)if((D=e.__k[w]=(D=s[w])==null||typeof D=="boolean"?null:typeof D=="string"||typeof D=="number"||typeof D=="bigint"?Y(null,D,null,null,D):Array.isArray(D)?Y(pe,{children:D},null,null,null):D.__b>0?Y(D.type,D.props,D.key,null,D.__v):D)!=null){if(D.__=e,D.__b=e.__b+1,(C=ee[w])===null||C&&D.key==C.key&&D.type===C.type)ee[w]=void 0;else for(S=0;S<P;S++){if((C=ee[S])&&D.key==C.key&&D.type===C.type){ee[S]=void 0;break}C=null}Ne(i,D,C=C||B,l,c,p,m,y,b),H=D.__e,(S=D.ref)&&C.ref!=S&&(G||(G=[]),C.ref&&G.push(C.ref,null,D),G.push(S,D.__c||H,D)),H!=null?(J==null&&(J=H),typeof D.type=="function"&&D.__k===C.__k?D.__d=y=ue(D,y,i):y=Se(i,D,C,ee,H,y),typeof e.type=="function"&&(e.__d=y)):y&&C.__e==y&&y.parentNode!=i&&(y=ve(C))}for(e.__e=J,w=P;w--;)ee[w]!=null&&(typeof e.type=="function"&&ee[w].__e!=null&&ee[w].__e==e.__d&&(e.__d=ve(r,w+1)),cn(ee[w],ee[w]));if(G)for(w=0;w<G.length;w++)qt(G[w],G[++w],G[++w])}function ue(i,s,e){for(var r,l=i.__k,c=0;l&&c<l.length;c++)(r=l[c])&&(r.__=i,s=typeof r.type=="function"?ue(r,s,e):Se(e,r,r,l,r.__e,s));return s}function be(i,s){return s=s||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(e){be(e,s)}):s.push(i)),s}function Se(i,s,e,r,l,c){var p,m,y;if(s.__d!==void 0)p=s.__d,s.__d=void 0;else if(e==null||l!=c||l.parentNode==null)e:if(c==null||c.parentNode!==i)i.appendChild(l),p=null;else{for(m=c,y=0;(m=m.nextSibling)&&y<r.length;y+=2)if(m==l)break e;i.insertBefore(l,c),p=c}return p!==void 0?p:l.nextSibling}function ut(i,s,e,r,l){var c;for(c in e)c==="children"||c==="key"||c in s||xe(i,c,null,e[c],r);for(c in s)l&&typeof s[c]!="function"||c==="children"||c==="key"||c==="value"||c==="checked"||e[c]===s[c]||xe(i,c,s[c],e[c],r)}function at(i,s,e){s[0]==="-"?i.setProperty(s,e):i[s]=e==null?"":typeof e!="number"||j.test(s)?e:e+"px"}function xe(i,s,e,r,l){var c;e:if(s==="style")if(typeof e=="string")i.style.cssText=e;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(s in r)e&&s in e||at(i.style,s,"");if(e)for(s in e)r&&e[s]===r[s]||at(i.style,s,e[s])}else if(s[0]==="o"&&s[1]==="n")c=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in i?s.toLowerCase().slice(2):s.slice(2),i.l||(i.l={}),i.l[s+c]=e,e?r||i.addEventListener(s,c?nt:Ce,c):i.removeEventListener(s,c?nt:Ce,c);else if(s!=="dangerouslySetInnerHTML"){if(l)s=s.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(s!=="href"&&s!=="list"&&s!=="form"&&s!=="tabIndex"&&s!=="download"&&s in i)try{i[s]=e==null?"":e;break e}catch{}typeof e=="function"||(e!=null&&(e!==!1||s[0]==="a"&&s[1]==="r")?i.setAttribute(s,e):i.removeAttribute(s))}}function Ce(i){this.l[i.type+!1](f.event?f.event(i):i)}function nt(i){this.l[i.type+!0](f.event?f.event(i):i)}function Ne(i,s,e,r,l,c,p,m,y){var b,w,S,C,D,H,J,G,ee,P,Z,oe=s.type;if(s.constructor!==void 0)return null;e.__h!=null&&(y=e.__h,m=s.__e=e.__e,s.__h=null,c=[m]),(b=f.__b)&&b(s);try{e:if(typeof oe=="function"){if(G=s.props,ee=(b=oe.contextType)&&r[b.__c],P=b?ee?ee.props.value:b.__:r,e.__c?J=(w=s.__c=e.__c).__=w.__E:("prototype"in oe&&oe.prototype.render?s.__c=w=new oe(G,P):(s.__c=w=new me(G,P),w.constructor=oe,w.render=$t),ee&&ee.sub(w),w.props=G,w.state||(w.state={}),w.context=P,w.__n=r,S=w.__d=!0,w.__h=[]),w.__s==null&&(w.__s=w.state),oe.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=V({},w.__s)),V(w.__s,oe.getDerivedStateFromProps(G,w.__s))),C=w.props,D=w.state,S)oe.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&G!==C&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(G,P),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(G,w.__s,P)===!1||s.__v===e.__v){w.props=G,w.state=w.__s,s.__v!==e.__v&&(w.__d=!1),w.__v=s,s.__e=e.__e,s.__k=e.__k,s.__k.forEach(function(re){re&&(re.__=s)}),w.__h.length&&p.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(G,w.__s,P),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(C,D,H)})}w.context=P,w.props=G,w.state=w.__s,(b=f.__r)&&b(s),w.__d=!1,w.__v=s,w.__P=i,b=w.render(w.props,w.state,w.context),w.state=w.__s,w.getChildContext!=null&&(r=V(V({},r),w.getChildContext())),S||w.getSnapshotBeforeUpdate==null||(H=w.getSnapshotBeforeUpdate(C,D)),Z=b!=null&&b.type===pe&&b.key==null?b.props.children:b,K(i,Array.isArray(Z)?Z:[Z],s,e,r,l,c,p,m,y),w.base=s.__e,s.__h=null,w.__h.length&&p.push(w),J&&(w.__E=w.__=null),w.__e=!1}else c==null&&s.__v===e.__v?(s.__k=e.__k,s.__e=e.__e):s.__e=Pt(e.__e,s,e,r,l,c,p,y);(b=f.diffed)&&b(s)}catch(re){s.__v=null,(y||c!=null)&&(s.__e=m,s.__h=!!y,c[c.indexOf(m)]=null),f.__e(re,s,e)}}function wt(i,s){f.__c&&f.__c(s,i),i.some(function(e){try{i=e.__h,e.__h=[],i.some(function(r){r.call(e)})}catch(r){f.__e(r,e.__v)}})}function Pt(i,s,e,r,l,c,p,m){var y,b,w,S=e.props,C=s.props,D=s.type,H=0;if(D==="svg"&&(l=!0),c!=null){for(;H<c.length;H++)if((y=c[H])&&"setAttribute"in y==!!D&&(D?y.localName===D:y.nodeType===3)){i=y,c[H]=null;break}}if(i==null){if(D===null)return document.createTextNode(C);i=l?document.createElementNS("http://www.w3.org/2000/svg",D):document.createElement(D,C.is&&C),c=null,m=!1}if(D===null)S===C||m&&i.data===C||(i.data=C);else{if(c=c&&h.call(i.childNodes),b=(S=e.props||B).dangerouslySetInnerHTML,w=C.dangerouslySetInnerHTML,!m){if(c!=null)for(S={},H=0;H<i.attributes.length;H++)S[i.attributes[H].name]=i.attributes[H].value;(w||b)&&(w&&(b&&w.__html==b.__html||w.__html===i.innerHTML)||(i.innerHTML=w&&w.__html||""))}if(ut(i,C,S,l,m),w)s.__k=[];else if(H=s.props.children,K(i,Array.isArray(H)?H:[H],s,e,r,l&&D!=="foreignObject",c,p,c?c[0]:e.__k&&ve(e,0),m),c!=null)for(H=c.length;H--;)c[H]!=null&&F(c[H]);m||("value"in C&&(H=C.value)!==void 0&&(H!==S.value||H!==i.value||D==="progress"&&!H)&&xe(i,"value",H,S.value,!1),"checked"in C&&(H=C.checked)!==void 0&&H!==i.checked&&xe(i,"checked",H,S.checked,!1))}return i}function qt(i,s,e){try{typeof i=="function"?i(s):i.current=s}catch(r){f.__e(r,e)}}function cn(i,s,e){var r,l;if(f.unmount&&f.unmount(i),(r=i.ref)&&(r.current&&r.current!==i.__e||qt(r,null,s)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(c){f.__e(c,s)}r.base=r.__P=null}if(r=i.__k)for(l=0;l<r.length;l++)r[l]&&cn(r[l],s,typeof i.type!="function");e||i.__e==null||F(i.__e),i.__e=i.__d=void 0}function $t(i,s,e){return this.constructor(i,e)}function Rt(i,s,e){var r,l,c;f.__&&f.__(i,s),l=(r=typeof e=="function")?null:e&&e.__k||s.__k,c=[],Ne(s,i=(!r&&e||s).__k=L(pe,null,[i]),l||B,B,s.ownerSVGElement!==void 0,!r&&e?[e]:l?null:s.firstChild?h.call(s.childNodes):null,c,!r&&e?e:l?l.__e:s.firstChild,r),wt(c,i)}function dn(i,s){Rt(i,s,dn)}function nn(i,s,e){var r,l,c,p=V({},i.props);for(c in s)c=="key"?r=s[c]:c=="ref"?l=s[c]:p[c]=s[c];return arguments.length>2&&(p.children=arguments.length>3?h.call(arguments,2):e),Y(i.type,p,r||i.key,l||i.ref,null)}function Et(i,s){var e={__c:s="__cC"+T++,__:i,Consumer:function(r,l){return r.children(l)},Provider:function(r){var l,c;return this.getChildContext||(l=[],(c={})[s]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(p){this.props.value!==p.value&&l.some(_e)},this.sub=function(p){l.push(p);var m=p.componentWillUnmount;p.componentWillUnmount=function(){l.splice(l.indexOf(p),1),m&&m.call(p)}}),r.children}};return e.Provider.__=e.Consumer.contextType=e}h=M.slice,f={__e:function(i,s){for(var e,r,l;s=s.__;)if((e=s.__c)&&!e.__)try{if((r=e.constructor)&&r.getDerivedStateFromError!=null&&(e.setState(r.getDerivedStateFromError(i)),l=e.__d),e.componentDidCatch!=null&&(e.componentDidCatch(i),l=e.__d),l)return e.__E=e}catch(c){i=c}throw i}},d=0,g=function(i){return i!=null&&i.constructor===void 0},me.prototype.setState=function(i,s){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=V({},this.state),typeof i=="function"&&(i=i(V({},e),this.props)),i&&V(e,i),i!=null&&this.__v&&(s&&this.__h.push(s),_e(this))},me.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),_e(this))},me.prototype.render=pe,v=[],_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,He.__r=0,T=0;var qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",render:Rt,hydrate:dn,createElement:L,h:L,Fragment:pe,createRef:ce,get isValidElement(){return g},Component:me,cloneElement:nn,createContext:Et,toChildArray:be,get options(){return f}}),ot,X,ne,E=0,N=[],Q=f.__b,ae=f.__r,se=f.diffed,ie=f.__c,fe=f.unmount;function de(i,s){f.__h&&f.__h(X,i,E||s),E=0;var e=X.__H||(X.__H={__:[],__h:[]});return i>=e.__.length&&e.__.push({}),e.__[i]}function Ae(i){return E=1,Me(In,i)}function Me(i,s,e){var r=de(ot++,2);return r.t=i,r.__c||(r.__=[e?e(s):In(void 0,s),function(l){var c=r.t(r.__[0],l);r.__[0]!==c&&(r.__=[c,r.__[1]],r.__c.setState({}))}],r.__c=X),r.__}function Pe(i,s){var e=de(ot++,3);!f.__s&&dt(e.__H,s)&&(e.__=i,e.__H=s,X.__H.__h.push(e))}function Ze(i,s){var e=de(ot++,4);!f.__s&&dt(e.__H,s)&&(e.__=i,e.__H=s,X.__h.push(e))}function Ve(i){return E=5,Be(function(){return{current:i}},[])}function Te(i,s,e){E=6,Ze(function(){typeof i=="function"?i(s()):i&&(i.current=s())},e==null?e:e.concat(i))}function Be(i,s){var e=de(ot++,7);return dt(e.__H,s)&&(e.__=i(),e.__H=s,e.__h=i),e.__}function O(i,s){return E=8,Be(function(){return i},s)}function R(i){var s=X.context[i.__c],e=de(ot++,9);return e.c=i,s?(e.__==null&&(e.__=!0,s.sub(X)),s.props.value):i.__}function z(i,s){f.useDebugValue&&f.useDebugValue(s?s(i):i)}function W(i){var s=de(ot++,10),e=Ae();return s.__=i,X.componentDidCatch||(X.componentDidCatch=function(r){s.__&&s.__(r),e[1](r)}),[e[0],function(){e[1](void 0)}]}function ye(){var i;for(N.sort(function(s,e){return s.__v.__b-e.__v.__b});i=N.pop();)if(i.__P)try{i.__H.__h.forEach(it),i.__H.__h.forEach(St),i.__H.__h=[]}catch(s){i.__H.__h=[],f.__e(s,i.__v)}}f.__b=function(i){X=null,Q&&Q(i)},f.__r=function(i){ae&&ae(i),ot=0;var s=(X=i.__c).__H;s&&(s.__h.forEach(it),s.__h.forEach(St),s.__h=[])},f.diffed=function(i){se&&se(i);var s=i.__c;s&&s.__H&&s.__H.__h.length&&(N.push(s)!==1&&ne===f.requestAnimationFrame||((ne=f.requestAnimationFrame)||function(e){var r,l=function(){clearTimeout(c),Fe&&cancelAnimationFrame(r),setTimeout(e)},c=setTimeout(l,100);Fe&&(r=requestAnimationFrame(l))})(ye)),X=null},f.__c=function(i,s){s.some(function(e){try{e.__h.forEach(it),e.__h=e.__h.filter(function(r){return!r.__||St(r)})}catch(r){s.some(function(l){l.__h&&(l.__h=[])}),s=[],f.__e(r,e.__v)}}),ie&&ie(i,s)},f.unmount=function(i){fe&&fe(i);var s,e=i.__c;e&&e.__H&&(e.__H.__.forEach(function(r){try{it(r)}catch(l){s=l}}),s&&f.__e(s,e.__v))};var Fe=typeof requestAnimationFrame=="function";function it(i){var s=X,e=i.__c;typeof e=="function"&&(i.__c=void 0,e()),X=s}function St(i){var s=X;i.__c=i.__(),X=s}function dt(i,s){return!i||i.length!==s.length||s.some(function(e,r){return e!==i[r]})}function In(i,s){return typeof s=="function"?s(i):s}function wn(i,s){for(var e in s)i[e]=s[e];return i}function Ti(i,s){for(var e in i)if(e!=="__source"&&!(e in s))return!0;for(var r in s)if(r!=="__source"&&i[r]!==s[r])return!0;return!1}function nr(i){this.props=i}function fs(i,s){function e(l){var c=this.props.ref,p=c==l.ref;return!p&&c&&(c.call?c(null):c.current=null),s?!s(this.props,l)||!p:Ti(this.props,l)}function r(l){return this.shouldComponentUpdate=e,L(i,l)}return r.displayName="Memo("+(i.displayName||i.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(nr.prototype=new me).isPureReactComponent=!0,nr.prototype.shouldComponentUpdate=function(i,s){return Ti(this.props,i)||Ti(this.state,s)};var ps=f.__b;f.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),ps&&ps(i)};var V_=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function lc(i){function s(e,r){var l=wn({},e);return delete l.ref,i(l,(r=e.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return s.$$typeof=V_,s.render=s,s.prototype.isReactComponent=s.__f=!0,s.displayName="ForwardRef("+(i.displayName||i.name)+")",s}var np=function(i,s){return i==null?null:be(be(i).map(s))},ip={map:np,forEach:np,count:function(i){return i?be(i).length:0},only:function(i){var s=be(i);if(s.length!==1)throw"Children.only";return s[0]},toArray:be},W_=f.__e;f.__e=function(i,s,e){if(i.then){for(var r,l=s;l=l.__;)if((r=l.__c)&&r.__c)return s.__e==null&&(s.__e=e.__e,s.__k=e.__k),r.__c(i,s)}W_(i,s,e)};var rp=f.unmount;function gs(){this.__u=0,this.t=null,this.__b=null}function op(i){var s=i.__.__c;return s&&s.__e&&s.__e(i)}function sp(i){var s,e,r;function l(c){if(s||(s=i()).then(function(p){e=p.default||p},function(p){r=p}),r)throw r;if(!e)throw s;return L(e,c)}return l.displayName="Lazy",l.__f=!0,l}function bo(){this.u=null,this.o=null}f.unmount=function(i){var s=i.__c;s&&s.__R&&s.__R(),s&&i.__h===!0&&(i.type=null),rp&&rp(i)},(gs.prototype=new me).__c=function(i,s){var e=s.__c,r=this;r.t==null&&(r.t=[]),r.t.push(e);var l=op(r.__v),c=!1,p=function(){c||(c=!0,e.__R=null,l?l(m):m())};e.__R=p;var m=function(){if(!--r.__u){if(r.state.__e){var b=r.state.__e;r.__v.__k[0]=function S(C,D,H){return C&&(C.__v=null,C.__k=C.__k&&C.__k.map(function(J){return S(J,D,H)}),C.__c&&C.__c.__P===D&&(C.__e&&H.insertBefore(C.__e,C.__d),C.__c.__e=!0,C.__c.__P=H)),C}(b,b.__c.__P,b.__c.__O)}var w;for(r.setState({__e:r.__b=null});w=r.t.pop();)w.forceUpdate()}},y=s.__h===!0;r.__u++||y||r.setState({__e:r.__b=r.__v.__k[0]}),i.then(p,p)},gs.prototype.componentWillUnmount=function(){this.t=[]},gs.prototype.render=function(i,s){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function c(p,m,y){return p&&(p.__c&&p.__c.__H&&(p.__c.__H.__.forEach(function(b){typeof b.__c=="function"&&b.__c()}),p.__c.__H=null),(p=wn({},p)).__c!=null&&(p.__c.__P===y&&(p.__c.__P=m),p.__c=null),p.__k=p.__k&&p.__k.map(function(b){return c(b,m,y)})),p}(this.__b,e,r.__O=r.__P)}this.__b=null}var l=s.__e&&L(pe,null,i.fallback);return l&&(l.__h=null),[L(pe,null,s.__e?null:i.children),l]};var ap=function(i,s,e){if(++e[1]===e[0]&&i.o.delete(s),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(e=i.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;i.u=e=e[2]}};function G_(i){return this.getChildContext=function(){return i.context},i.children}function q_(i){var s=this,e=i.i;s.componentWillUnmount=function(){Rt(null,s.l),s.l=null,s.i=null},s.i&&s.i!==e&&s.componentWillUnmount(),i.__v?(s.l||(s.i=e,s.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(r){this.childNodes.push(r),s.i.appendChild(r)},insertBefore:function(r,l){this.childNodes.push(r),s.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),s.i.removeChild(r)}}),Rt(L(G_,{context:s.context},i.__v),s.l)):s.l&&s.componentWillUnmount()}function uc(i,s){return L(q_,{__v:i,i:s})}(bo.prototype=new me).__e=function(i){var s=this,e=op(s.__v),r=s.o.get(i);return r[0]++,function(l){var c=function(){s.props.revealOrder?(r.push(l),ap(s,i,r)):l()};e?e(c):c()}},bo.prototype.render=function(i){this.u=null,this.o=new Map;var s=be(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&s.reverse();for(var e=s.length;e--;)this.o.set(s[e],this.u=[1,0,this.u]);return i.children},bo.prototype.componentDidUpdate=bo.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(s,e){ap(i,e,s)})};var lp=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,X_=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z_=typeof document<"u",Y_=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(i)};function up(i,s,e){return s.__k==null&&(s.textContent=""),Rt(i,s),typeof e=="function"&&e(),i?i.__c:null}function cp(i,s,e){return dn(i,s),typeof e=="function"&&e(),i?i.__c:null}me.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(me.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(s){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:s})}})});var hp=f.event;function K_(){}function J_(){return this.cancelBubble}function Q_(){return this.defaultPrevented}f.event=function(i){return hp&&(i=hp(i)),i.persist=K_,i.isPropagationStopped=J_,i.isDefaultPrevented=Q_,i.nativeEvent=i};var dp,fp={configurable:!0,get:function(){return this.class}},pp=f.vnode;f.vnode=function(i){var s=i.type,e=i.props,r=e;if(typeof s=="string"){var l=s.indexOf("-")===-1;for(var c in r={},e){var p=e[c];Z_&&c==="children"&&s==="noscript"||c==="value"&&"defaultValue"in e&&p==null||(c==="defaultValue"&&"value"in e&&e.value==null?c="value":c==="download"&&p===!0?p="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+s)&&!Y_(e.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(c)?c=c.toLowerCase():l&&X_.test(c)?c=c.replace(/[A-Z0-9]/,"-$&").toLowerCase():p===null&&(p=void 0),r[c]=p)}s=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=be(e.children).forEach(function(m){m.props.selected=r.value.indexOf(m.props.value)!=-1})),s=="select"&&r.defaultValue!=null&&(r.value=be(e.children).forEach(function(m){m.props.selected=r.multiple?r.defaultValue.indexOf(m.props.value)!=-1:r.defaultValue==m.props.value})),i.props=r,e.class!=e.className&&(fp.enumerable="className"in e,e.className!=null&&(r.class=e.className),Object.defineProperty(r,"className",fp))}i.$$typeof=lp,pp&&pp(i)};var gp=f.__r;f.__r=function(i){gp&&gp(i),dp=i.__c};var mp={ReactCurrentDispatcher:{current:{readContext:function(i){return dp.__n[i.__c].props.value}}}},$_="17.0.2";function vp(i){return L.bind(null,i)}function cc(i){return!!i&&i.$$typeof===lp}function yp(i){return cc(i)?nn.apply(null,arguments):i}function bp(i){return!!i.__k&&(Rt(null,i),!0)}function wp(i){return i&&(i.base||i.nodeType===1&&i)||null}var _p=function(i,s){return i(s)},xp=function(i,s){return i(s)},ex=pe,Re={useState:Ae,useReducer:Me,useEffect:Pe,useLayoutEffect:Ze,useRef:Ve,useImperativeHandle:Te,useMemo:Be,useCallback:O,useContext:R,useDebugValue:z,version:"17.0.2",Children:ip,render:up,hydrate:cp,unmountComponentAtNode:bp,createPortal:uc,createElement:L,createContext:Et,createFactory:vp,cloneElement:yp,createRef:ce,Fragment:pe,isValidElement:cc,findDOMNode:wp,Component:me,PureComponent:nr,memo:fs,forwardRef:lc,flushSync:xp,unstable_batchedUpdates:_p,StrictMode:pe,Suspense:gs,SuspenseList:bo,lazy:sp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mp},tx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re,version:$_,Children:ip,render:up,hydrate:cp,unmountComponentAtNode:bp,createPortal:uc,createFactory:vp,cloneElement:yp,isValidElement:cc,findDOMNode:wp,PureComponent:nr,memo:fs,forwardRef:lc,flushSync:xp,unstable_batchedUpdates:_p,StrictMode:ex,Suspense:gs,SuspenseList:bo,lazy:sp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mp,createElement:L,createContext:Et,createRef:ce,Fragment:pe,Component:me,useState:Ae,useReducer:Me,useEffect:Pe,useLayoutEffect:Ze,useRef:Ve,useImperativeHandle:Te,useMemo:Be,useCallback:O,useContext:R,useDebugValue:z,useErrorBoundary:W}),ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ys<"u"?Ys:typeof self<"u"?self:{};function nx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Aa(i){if(i.__esModule)return i;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(e){var r=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(s,e,r.get?r:{enumerable:!0,get:function(){return i[e]}})}),s}var hc={exports:{}};function dc(){}dc.prototype={on:function(i,s,e){var r=this.e||(this.e={});return(r[i]||(r[i]=[])).push({fn:s,ctx:e}),this},once:function(i,s,e){var r=this;function l(){r.off(i,l),s.apply(e,arguments)}return l._=s,this.on(i,l,e)},emit:function(i){var s=[].slice.call(arguments,1),e=((this.e||(this.e={}))[i]||[]).slice(),r=0,l=e.length;for(r;r<l;r++)e[r].fn.apply(e[r].ctx,s);return this},off:function(i,s){var e=this.e||(this.e={}),r=e[i],l=[];if(r&&s)for(var c=0,p=r.length;c<p;c++)r[c].fn!==s&&r[c].fn._!==s&&l.push(r[c]);return l.length?e[i]=l:delete e[i],this}},hc.exports=dc,hc.exports.TinyEmitter=dc;var Ra=hc.exports,Oa={exports:{}},Ep={},wo=Aa(tx),ms={exports:{}},ix="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rx=ix,ox=rx;function Sp(){}function Tp(){}Tp.resetWarningCache=Sp;var sx=function(){function i(r,l,c,p,m,y){if(y!==ox){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var e={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Tp,resetWarningCache:Sp};return e.PropTypes=e,e};ms.exports=sx();function Cp(i){var s,e,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i))for(s=0;s<i.length;s++)i[s]&&(e=Cp(i[s]))&&(r&&(r+=" "),r+=e);else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function ax(){for(var i=0,s,e,r="";i<arguments.length;)(s=arguments[i++])&&(e=Cp(s))&&(r&&(r+=" "),r+=e);return r}var lx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ax}),ux=Aa(lx),fn={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.findInArray=cx,Ci.isFunction=hx,Ci.isNum=dx,Ci.int=fx,Ci.dontSetMe=px;function cx(i,s){for(var e=0,r=i.length;e<r;e++)if(s.apply(s,[i[e],e,i]))return i[e]}function hx(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function dx(i){return typeof i=="number"&&!isNaN(i)}function fx(i){return parseInt(i,10)}function px(i,s,e){if(i[s])return new Error("Invalid prop ".concat(s," passed to ").concat(e," - do not set this, set it on the child."))}var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.getPrefix=Pp,Mr.browserPrefixToKey=Ap,Mr.browserPrefixToStyle=gx,Mr.default=void 0;var fc=["Moz","Webkit","O","ms"];function Pp(){var i,s,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(i=window.document)===null||i===void 0||(s=i.documentElement)===null||s===void 0?void 0:s.style;if(!r||e in r)return"";for(var l=0;l<fc.length;l++)if(Ap(e,fc[l])in r)return fc[l];return""}function Ap(i,s){return s?"".concat(s).concat(mx(i)):i}function gx(i,s){return s?"-".concat(s.toLowerCase(),"-").concat(i):i}function mx(i){for(var s="",e=!0,r=0;r<i.length;r++)e?(s+=i[r].toUpperCase(),e=!1):i[r]==="-"?e=!0:s+=i[r];return s}var vx=Pp();Mr.default=vx;function ka(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ka=function(s){return typeof s}:ka=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ka(i)}Object.defineProperty(fn,"__esModule",{value:!0}),fn.matchesSelector=Bp,fn.matchesSelectorAndParentsTo=bx,fn.addEvent=wx,fn.removeEvent=_x,fn.outerHeight=xx,fn.outerWidth=Ex,fn.innerHeight=Sx,fn.innerWidth=Tx,fn.offsetXYFromParent=Cx,fn.createCSSTransform=Px,fn.createSVGTransform=Ax,fn.getTranslation=pc,fn.getTouch=Rx,fn.getTouchIdentifier=Ox,fn.addUserSelectStyles=kx,fn.removeUserSelectStyles=Dx,fn.addClassName=Ip,fn.removeClassName=Np;var ti=Ci,Rp=yx(Mr);function Op(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,e=new WeakMap;return(Op=function(r){return r?e:s})(i)}function yx(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||ka(i)!=="object"&&typeof i!="function")return{default:i};var e=Op(s);if(e&&e.has(i))return e.get(i);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)){var p=l?Object.getOwnPropertyDescriptor(i,c):null;p&&(p.get||p.set)?Object.defineProperty(r,c,p):r[c]=i[c]}return r.default=i,e&&e.set(i,r),r}function kp(i,s){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),e.push.apply(e,r)}return e}function Dp(i){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?kp(Object(e),!0).forEach(function(r){Mp(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):kp(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function Mp(i,s,e){return s in i?Object.defineProperty(i,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[s]=e,i}var Da="";function Bp(i,s){return Da||(Da=(0,ti.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,ti.isFunction)(i[e])})),(0,ti.isFunction)(i[Da])?i[Da](s):!1}function bx(i,s,e){var r=i;do{if(Bp(r,s))return!0;if(r===e)return!1;r=r.parentNode}while(r);return!1}function wx(i,s,e,r){if(i){var l=Dp({capture:!0},r);i.addEventListener?i.addEventListener(s,e,l):i.attachEvent?i.attachEvent("on"+s,e):i["on"+s]=e}}function _x(i,s,e,r){if(i){var l=Dp({capture:!0},r);i.removeEventListener?i.removeEventListener(s,e,l):i.detachEvent?i.detachEvent("on"+s,e):i["on"+s]=null}}function xx(i){var s=i.clientHeight,e=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,ti.int)(e.borderTopWidth),s+=(0,ti.int)(e.borderBottomWidth),s}function Ex(i){var s=i.clientWidth,e=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,ti.int)(e.borderLeftWidth),s+=(0,ti.int)(e.borderRightWidth),s}function Sx(i){var s=i.clientHeight,e=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,ti.int)(e.paddingTop),s-=(0,ti.int)(e.paddingBottom),s}function Tx(i){var s=i.clientWidth,e=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,ti.int)(e.paddingLeft),s-=(0,ti.int)(e.paddingRight),s}function Cx(i,s,e){var r=s===s.ownerDocument.body,l=r?{left:0,top:0}:s.getBoundingClientRect(),c=(i.clientX+s.scrollLeft-l.left)/e,p=(i.clientY+s.scrollTop-l.top)/e;return{x:c,y:p}}function Px(i,s){var e=pc(i,s,"px");return Mp({},(0,Rp.browserPrefixToKey)("transform",Rp.default),e)}function Ax(i,s){var e=pc(i,s,"");return e}function pc(i,s,e){var r=i.x,l=i.y,c="translate(".concat(r).concat(e,",").concat(l).concat(e,")");if(s){var p="".concat(typeof s.x=="string"?s.x:s.x+e),m="".concat(typeof s.y=="string"?s.y:s.y+e);c="translate(".concat(p,", ").concat(m,")")+c}return c}function Rx(i,s){return i.targetTouches&&(0,ti.findInArray)(i.targetTouches,function(e){return s===e.identifier})||i.changedTouches&&(0,ti.findInArray)(i.changedTouches,function(e){return s===e.identifier})}function Ox(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function kx(i){if(i){var s=i.getElementById("react-draggable-style-el");s||(s=i.createElement("style"),s.type="text/css",s.id="react-draggable-style-el",s.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,s.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(s)),i.body&&Ip(i.body,"react-draggable-transparent-selection")}}function Dx(i){if(i)try{if(i.body&&Np(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{var s=(i.defaultView||window).getSelection();s&&s.type!=="Caret"&&s.removeAllRanges()}}catch{}}function Ip(i,s){i.classList?i.classList.add(s):i.className.match(new RegExp("(?:^|\\s)".concat(s,"(?!\\S)")))||(i.className+=" ".concat(s))}function Np(i,s){i.classList?i.classList.remove(s):i.className=i.className.replace(new RegExp("(?:^|\\s)".concat(s,"(?!\\S)"),"g"),"")}var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.getBoundPosition=Mx,Pi.snapToGrid=Bx,Pi.canDragX=Ix,Pi.canDragY=Nx,Pi.getControlPosition=Fx,Pi.createCoreData=Lx,Pi.createDraggableData=Hx;var ni=Ci,_o=fn;function Mx(i,s,e){if(!i.props.bounds)return[s,e];var r=i.props.bounds;r=typeof r=="string"?r:zx(r);var l=gc(i);if(typeof r=="string"){var c=l.ownerDocument,p=c.defaultView,m;if(r==="parent"?m=l.parentNode:m=c.querySelector(r),!(m instanceof p.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var y=m,b=p.getComputedStyle(l),w=p.getComputedStyle(y);r={left:-l.offsetLeft+(0,ni.int)(w.paddingLeft)+(0,ni.int)(b.marginLeft),top:-l.offsetTop+(0,ni.int)(w.paddingTop)+(0,ni.int)(b.marginTop),right:(0,_o.innerWidth)(y)-(0,_o.outerWidth)(l)-l.offsetLeft+(0,ni.int)(w.paddingRight)-(0,ni.int)(b.marginRight),bottom:(0,_o.innerHeight)(y)-(0,_o.outerHeight)(l)-l.offsetTop+(0,ni.int)(w.paddingBottom)-(0,ni.int)(b.marginBottom)}}return(0,ni.isNum)(r.right)&&(s=Math.min(s,r.right)),(0,ni.isNum)(r.bottom)&&(e=Math.min(e,r.bottom)),(0,ni.isNum)(r.left)&&(s=Math.max(s,r.left)),(0,ni.isNum)(r.top)&&(e=Math.max(e,r.top)),[s,e]}function Bx(i,s,e){var r=Math.round(s/i[0])*i[0],l=Math.round(e/i[1])*i[1];return[r,l]}function Ix(i){return i.props.axis==="both"||i.props.axis==="x"}function Nx(i){return i.props.axis==="both"||i.props.axis==="y"}function Fx(i,s,e){var r=typeof s=="number"?(0,_o.getTouch)(i,s):null;if(typeof s=="number"&&!r)return null;var l=gc(e),c=e.props.offsetParent||l.offsetParent||l.ownerDocument.body;return(0,_o.offsetXYFromParent)(r||i,c,e.props.scale)}function Lx(i,s,e){var r=i.state,l=!(0,ni.isNum)(r.lastX),c=gc(i);return l?{node:c,deltaX:0,deltaY:0,lastX:s,lastY:e,x:s,y:e}:{node:c,deltaX:s-r.lastX,deltaY:e-r.lastY,lastX:r.lastX,lastY:r.lastY,x:s,y:e}}function Hx(i,s){var e=i.props.scale;return{node:s.node,x:i.state.x+s.deltaX/e,y:i.state.y+s.deltaY/e,deltaX:s.deltaX/e,deltaY:s.deltaY/e,lastX:i.state.x,lastY:i.state.y}}function zx(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function gc(i){var s=i.findDOMNode();if(!s)throw new Error("<DraggableCore>: Unmounted during event!");return s}var Ma={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.default=jx;function jx(){}function vs(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(s){return typeof s}:vs=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vs(i)}Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default=void 0;var mc=Vx(wo),ii=yc(ms.exports),Ux=yc(wo),Nn=fn,Br=Pi,vc=Ci,ys=yc(Ba);function yc(i){return i&&i.__esModule?i:{default:i}}function Fp(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,e=new WeakMap;return(Fp=function(r){return r?e:s})(i)}function Vx(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||vs(i)!=="object"&&typeof i!="function")return{default:i};var e=Fp(s);if(e&&e.has(i))return e.get(i);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)){var p=l?Object.getOwnPropertyDescriptor(i,c):null;p&&(p.get||p.set)?Object.defineProperty(r,c,p):r[c]=i[c]}return r.default=i,e&&e.set(i,r),r}function Wx(i,s){return Zx(i)||Xx(i,s)||qx(i,s)||Gx()}function Gx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qx(i,s){if(i){if(typeof i=="string")return Lp(i,s);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Lp(i,s)}}function Lp(i,s){(s==null||s>i.length)&&(s=i.length);for(var e=0,r=new Array(s);e<s;e++)r[e]=i[e];return r}function Xx(i,s){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var r=[],l=!0,c=!1,p,m;try{for(e=e.call(i);!(l=(p=e.next()).done)&&(r.push(p.value),!(s&&r.length===s));l=!0);}catch(y){c=!0,m=y}finally{try{!l&&e.return!=null&&e.return()}finally{if(c)throw m}}return r}}function Zx(i){if(Array.isArray(i))return i}function Yx(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function Hp(i,s){for(var e=0;e<s.length;e++){var r=s[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function Kx(i,s,e){return s&&Hp(i.prototype,s),e&&Hp(i,e),i}function Jx(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&bc(i,s)}function bc(i,s){return bc=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},bc(i,s)}function Qx(i){var s=eE();return function(){var e=Ia(i),r;if(s){var l=Ia(this).constructor;r=Reflect.construct(e,arguments,l)}else r=e.apply(this,arguments);return $x(this,r)}}function $x(i,s){if(s&&(vs(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(i)}function Fn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function eE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ia(i){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},Ia(i)}function pi(i,s,e){return s in i?Object.defineProperty(i,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[s]=e,i}var bi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},rr=bi.mouse,Na=function(i){Jx(e,i);var s=Qx(e);function e(){var r;Yx(this,e);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),pi(Fn(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),pi(Fn(r),"mounted",!1),pi(Fn(r),"handleDragStart",function(m){if(r.props.onMouseDown(m),!r.props.allowAnyClick&&typeof m.button=="number"&&m.button!==0)return!1;var y=r.findDOMNode();if(!y||!y.ownerDocument||!y.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var b=y.ownerDocument;if(!(r.props.disabled||!(m.target instanceof b.defaultView.Node)||r.props.handle&&!(0,Nn.matchesSelectorAndParentsTo)(m.target,r.props.handle,y)||r.props.cancel&&(0,Nn.matchesSelectorAndParentsTo)(m.target,r.props.cancel,y))){m.type==="touchstart"&&m.preventDefault();var w=(0,Nn.getTouchIdentifier)(m);r.setState({touchIdentifier:w});var S=(0,Br.getControlPosition)(m,w,Fn(r));if(S!=null){var C=S.x,D=S.y,H=(0,Br.createCoreData)(Fn(r),C,D);(0,ys.default)("DraggableCore: handleDragStart: %j",H),(0,ys.default)("calling",r.props.onStart);var J=r.props.onStart(m,H);J===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Nn.addUserSelectStyles)(b),r.setState({dragging:!0,lastX:C,lastY:D}),(0,Nn.addEvent)(b,rr.move,r.handleDrag),(0,Nn.addEvent)(b,rr.stop,r.handleDragStop))}}}),pi(Fn(r),"handleDrag",function(m){var y=(0,Br.getControlPosition)(m,r.state.touchIdentifier,Fn(r));if(y!=null){var b=y.x,w=y.y;if(Array.isArray(r.props.grid)){var S=b-r.state.lastX,C=w-r.state.lastY,D=(0,Br.snapToGrid)(r.props.grid,S,C),H=Wx(D,2);if(S=H[0],C=H[1],!S&&!C)return;b=r.state.lastX+S,w=r.state.lastY+C}var J=(0,Br.createCoreData)(Fn(r),b,w);(0,ys.default)("DraggableCore: handleDrag: %j",J);var G=r.props.onDrag(m,J);if(G===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var ee=document.createEvent("MouseEvents");ee.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(ee)}return}r.setState({lastX:b,lastY:w})}}),pi(Fn(r),"handleDragStop",function(m){if(r.state.dragging){var y=(0,Br.getControlPosition)(m,r.state.touchIdentifier,Fn(r));if(y!=null){var b=y.x,w=y.y,S=(0,Br.createCoreData)(Fn(r),b,w),C=r.props.onStop(m,S);if(C===!1||r.mounted===!1)return!1;var D=r.findDOMNode();D&&r.props.enableUserSelectHack&&(0,Nn.removeUserSelectStyles)(D.ownerDocument),(0,ys.default)("DraggableCore: handleDragStop: %j",S),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),D&&((0,ys.default)("DraggableCore: Removing handlers"),(0,Nn.removeEvent)(D.ownerDocument,rr.move,r.handleDrag),(0,Nn.removeEvent)(D.ownerDocument,rr.stop,r.handleDragStop))}}}),pi(Fn(r),"onMouseDown",function(m){return rr=bi.mouse,r.handleDragStart(m)}),pi(Fn(r),"onMouseUp",function(m){return rr=bi.mouse,r.handleDragStop(m)}),pi(Fn(r),"onTouchStart",function(m){return rr=bi.touch,r.handleDragStart(m)}),pi(Fn(r),"onTouchEnd",function(m){return rr=bi.touch,r.handleDragStop(m)}),r}return Kx(e,[{key:"componentDidMount",value:function(){this.mounted=!0;var r=this.findDOMNode();r&&(0,Nn.addEvent)(r,bi.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.findDOMNode();if(r){var l=r.ownerDocument;(0,Nn.removeEvent)(l,bi.mouse.move,this.handleDrag),(0,Nn.removeEvent)(l,bi.touch.move,this.handleDrag),(0,Nn.removeEvent)(l,bi.mouse.stop,this.handleDragStop),(0,Nn.removeEvent)(l,bi.touch.stop,this.handleDragStop),(0,Nn.removeEvent)(r,bi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Nn.removeUserSelectStyles)(l)}}},{key:"findDOMNode",value:function(){var r,l,c;return(r=(l=this.props)===null||l===void 0||(c=l.nodeRef)===null||c===void 0?void 0:c.current)!==null&&r!==void 0?r:Ux.default.findDOMNode(this)}},{key:"render",value:function(){return mc.cloneElement(mc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(mc.Component);Ma.default=Na,pi(Na,"displayName","DraggableCore"),pi(Na,"propTypes",{allowAnyClick:ii.default.bool,disabled:ii.default.bool,enableUserSelectHack:ii.default.bool,offsetParent:function(i,s){if(i[s]&&i[s].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ii.default.arrayOf(ii.default.number),handle:ii.default.string,cancel:ii.default.string,nodeRef:ii.default.object,onStart:ii.default.func,onDrag:ii.default.func,onStop:ii.default.func,onMouseDown:ii.default.func,scale:ii.default.number,className:vc.dontSetMe,style:vc.dontSetMe,transform:vc.dontSetMe}),pi(Na,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(i){function s(De){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(We){return typeof We}:s=function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},s(De)}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return b.default}}),i.default=void 0;var e=H(wo),r=C(ms.exports),l=C(wo),c=C(ux),p=fn,m=Pi,y=Ci,b=C(Ma),w=C(Ba),S=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function C(De){return De&&De.__esModule?De:{default:De}}function D(De){if(typeof WeakMap!="function")return null;var We=new WeakMap,Xe=new WeakMap;return(D=function(Ge){return Ge?Xe:We})(De)}function H(De,We){if(!We&&De&&De.__esModule)return De;if(De===null||s(De)!=="object"&&typeof De!="function")return{default:De};var Xe=D(We);if(Xe&&Xe.has(De))return Xe.get(De);var Ge={},Ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var gt in De)if(gt!=="default"&&Object.prototype.hasOwnProperty.call(De,gt)){var Zt=Ke?Object.getOwnPropertyDescriptor(De,gt):null;Zt&&(Zt.get||Zt.set)?Object.defineProperty(Ge,gt,Zt):Ge[gt]=De[gt]}return Ge.default=De,Xe&&Xe.set(De,Ge),Ge}function J(){return J=Object.assign||function(De){for(var We=1;We<arguments.length;We++){var Xe=arguments[We];for(var Ge in Xe)Object.prototype.hasOwnProperty.call(Xe,Ge)&&(De[Ge]=Xe[Ge])}return De},J.apply(this,arguments)}function G(De,We){if(De==null)return{};var Xe=ee(De,We),Ge,Ke;if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(De);for(Ke=0;Ke<gt.length;Ke++)Ge=gt[Ke],!(We.indexOf(Ge)>=0)&&(!Object.prototype.propertyIsEnumerable.call(De,Ge)||(Xe[Ge]=De[Ge]))}return Xe}function ee(De,We){if(De==null)return{};var Xe={},Ge=Object.keys(De),Ke,gt;for(gt=0;gt<Ge.length;gt++)Ke=Ge[gt],!(We.indexOf(Ke)>=0)&&(Xe[Ke]=De[Ke]);return Xe}function P(De,We){var Xe=Object.keys(De);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(De);We&&(Ge=Ge.filter(function(Ke){return Object.getOwnPropertyDescriptor(De,Ke).enumerable})),Xe.push.apply(Xe,Ge)}return Xe}function Z(De){for(var We=1;We<arguments.length;We++){var Xe=arguments[We]!=null?arguments[We]:{};We%2?P(Object(Xe),!0).forEach(function(Ge){et(De,Ge,Xe[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Xe)):P(Object(Xe)).forEach(function(Ge){Object.defineProperty(De,Ge,Object.getOwnPropertyDescriptor(Xe,Ge))})}return De}function oe(De,We){return ze(De)||Ie(De,We)||he(De,We)||re()}function re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function he(De,We){if(De){if(typeof De=="string")return ge(De,We);var Xe=Object.prototype.toString.call(De).slice(8,-1);if(Xe==="Object"&&De.constructor&&(Xe=De.constructor.name),Xe==="Map"||Xe==="Set")return Array.from(De);if(Xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe))return ge(De,We)}}function ge(De,We){(We==null||We>De.length)&&(We=De.length);for(var Xe=0,Ge=new Array(We);Xe<We;Xe++)Ge[Xe]=De[Xe];return Ge}function Ie(De,We){var Xe=De==null?null:typeof Symbol<"u"&&De[Symbol.iterator]||De["@@iterator"];if(Xe!=null){var Ge=[],Ke=!0,gt=!1,Zt,hn;try{for(Xe=Xe.call(De);!(Ke=(Zt=Xe.next()).done)&&(Ge.push(Zt.value),!(We&&Ge.length===We));Ke=!0);}catch(Lt){gt=!0,hn=Lt}finally{try{!Ke&&Xe.return!=null&&Xe.return()}finally{if(gt)throw hn}}return Ge}}function ze(De){if(Array.isArray(De))return De}function Qe(De,We){if(!(De instanceof We))throw new TypeError("Cannot call a class as a function")}function rt(De,We){for(var Xe=0;Xe<We.length;Xe++){var Ge=We[Xe];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(De,Ge.key,Ge)}}function $e(De,We,Xe){return We&&rt(De.prototype,We),Xe&&rt(De,Xe),De}function pt(De,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(We&&We.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),We&&ft(De,We)}function ft(De,We){return ft=Object.setPrototypeOf||function(Xe,Ge){return Xe.__proto__=Ge,Xe},ft(De,We)}function Tt(De){var We=jt();return function(){var Xe=Kt(De),Ge;if(We){var Ke=Kt(this).constructor;Ge=Reflect.construct(Xe,arguments,Ke)}else Ge=Xe.apply(this,arguments);return _t(this,Ge)}}function _t(De,We){if(We&&(s(We)==="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return At(De)}function At(De){if(De===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}function jt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kt(De){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(We){return We.__proto__||Object.getPrototypeOf(We)},Kt(De)}function et(De,We,Xe){return We in De?Object.defineProperty(De,We,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):De[We]=Xe,De}var kt=function(De){pt(Xe,De);var We=Tt(Xe);function Xe(Ge){var Ke;return Qe(this,Xe),Ke=We.call(this,Ge),et(At(Ke),"onDragStart",function(gt,Zt){(0,w.default)("Draggable: onDragStart: %j",Zt);var hn=Ke.props.onStart(gt,(0,m.createDraggableData)(At(Ke),Zt));if(hn===!1)return!1;Ke.setState({dragging:!0,dragged:!0})}),et(At(Ke),"onDrag",function(gt,Zt){if(!Ke.state.dragging)return!1;(0,w.default)("Draggable: onDrag: %j",Zt);var hn=(0,m.createDraggableData)(At(Ke),Zt),Lt={x:hn.x,y:hn.y};if(Ke.props.bounds){var gi=Lt.x,Xn=Lt.y;Lt.x+=Ke.state.slackX,Lt.y+=Ke.state.slackY;var ai=(0,m.getBoundPosition)(At(Ke),Lt.x,Lt.y),A=oe(ai,2),$=A[0],we=A[1];Lt.x=$,Lt.y=we,Lt.slackX=Ke.state.slackX+(gi-Lt.x),Lt.slackY=Ke.state.slackY+(Xn-Lt.y),hn.x=Lt.x,hn.y=Lt.y,hn.deltaX=Lt.x-Ke.state.x,hn.deltaY=Lt.y-Ke.state.y}var Le=Ke.props.onDrag(gt,hn);if(Le===!1)return!1;Ke.setState(Lt)}),et(At(Ke),"onDragStop",function(gt,Zt){if(!Ke.state.dragging)return!1;var hn=Ke.props.onStop(gt,(0,m.createDraggableData)(At(Ke),Zt));if(hn===!1)return!1;(0,w.default)("Draggable: onDragStop: %j",Zt);var Lt={dragging:!1,slackX:0,slackY:0},gi=Boolean(Ke.props.position);if(gi){var Xn=Ke.props.position,ai=Xn.x,A=Xn.y;Lt.x=ai,Lt.y=A}Ke.setState(Lt)}),Ke.state={dragging:!1,dragged:!1,x:Ge.position?Ge.position.x:Ge.defaultPosition.x,y:Ge.position?Ge.position.y:Ge.defaultPosition.y,prevPropsPosition:Z({},Ge.position),slackX:0,slackY:0,isElementSVG:!1},Ge.position&&!(Ge.onDrag||Ge.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Ke}return $e(Xe,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Ge,Ke,gt;return(Ge=(Ke=this.props)===null||Ke===void 0||(gt=Ke.nodeRef)===null||gt===void 0?void 0:gt.current)!==null&&Ge!==void 0?Ge:l.default.findDOMNode(this)}},{key:"render",value:function(){var Ge,Ke=this.props;Ke.axis,Ke.bounds;var gt=Ke.children,Zt=Ke.defaultPosition,hn=Ke.defaultClassName,Lt=Ke.defaultClassNameDragging,gi=Ke.defaultClassNameDragged,Xn=Ke.position,ai=Ke.positionOffset;Ke.scale;var A=G(Ke,S),$={},we=null,Le=Boolean(Xn),ke=!Le||this.state.dragging,ht=Xn||Zt,tt={x:(0,m.canDragX)(this)&&ke?this.state.x:ht.x,y:(0,m.canDragY)(this)&&ke?this.state.y:ht.y};this.state.isElementSVG?we=(0,p.createSVGTransform)(tt,ai):$=(0,p.createCSSTransform)(tt,ai);var Ut=(0,c.default)(gt.props.className||"",hn,(Ge={},et(Ge,Lt,this.state.dragging),et(Ge,gi,this.state.dragged),Ge));return e.createElement(b.default,J({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(gt),{className:Ut,style:Z(Z({},gt.props.style),$),transform:we}))}}],[{key:"getDerivedStateFromProps",value:function(Ge,Ke){var gt=Ge.position,Zt=Ke.prevPropsPosition;return gt&&(!Zt||gt.x!==Zt.x||gt.y!==Zt.y)?((0,w.default)("Draggable: getDerivedStateFromProps %j",{position:gt,prevPropsPosition:Zt}),{x:gt.x,y:gt.y,prevPropsPosition:Z({},gt)}):null}}]),Xe}(e.Component);i.default=kt,et(kt,"displayName","Draggable"),et(kt,"propTypes",Z(Z({},b.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe})),et(kt,"defaultProps",Z(Z({},b.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Ep);var zp=Ep,jp=zp.default,tE=zp.DraggableCore;Oa.exports=jp,Oa.exports.default=jp,Oa.exports.DraggableCore=tE;var nE=Oa.exports,iE=["second","minute","hour","day","week","month","year"];function rE(i,s){if(s===0)return["just now","right now"];var e=iE[Math.floor(s/2)];return i>1&&(e+="s"),[i+" "+e+" ago","in "+i+" "+e]}var oE=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function sE(i,s){if(s===0)return["\u521A\u521A","\u7247\u523B\u540E"];var e=oE[~~(s/2)];return[i+" "+e+"\u524D",i+" "+e+"\u540E"]}var wc={},pn=function(i,s){wc[i]=s},Up=function(i){return wc[i]||wc.en_US},Ir=[60,60,24,7,365/7/12,12];function Vp(i){return i instanceof Date?i:!isNaN(i)||/^\d+$/.test(i)?new Date(parseInt(i)):(i=(i||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(i))}function Wp(i,s){var e=i<0?1:0;i=Math.abs(i);for(var r=i,l=0;i>=Ir[l]&&l<Ir.length;l++)i/=Ir[l];return i=Math.floor(i),l*=2,i>(l===0?9:1)&&(l+=1),s(i,l,r)[e].replace("%s",i.toString())}function Gp(i,s){var e=s?Vp(s):new Date;return(+e-+Vp(i))/1e3}function aE(i){for(var s=1,e=0,r=Math.abs(i);i>=Ir[e]&&e<Ir.length;e++)i/=Ir[e],s*=Ir[e];return r=r%s,r=r?s-r:s,Math.ceil(r)}var lE=function(i,s,e){var r=Gp(i,e&&e.relativeDate);return Wp(r,Up(s))},qp="timeago-id";function uE(i){return i.getAttribute("datetime")}function cE(i,s){i.setAttribute(qp,s)}function Xp(i){return parseInt(i.getAttribute(qp))}var _c={},xc=function(i){clearTimeout(i),delete _c[i]};function Zp(i,s,e,r){xc(Xp(i));var l=r.relativeDate,c=r.minInterval,p=Gp(s,l);i.innerText=Wp(p,e);var m=setTimeout(function(){Zp(i,s,e,r)},Math.min(Math.max(aE(p),c||1)*1e3,2147483647));_c[m]=0,cE(i,m)}function Yp(i){i?xc(Xp(i)):Object.keys(_c).forEach(xc)}function hE(i,s,e){var r=i.length?i:[i];return r.forEach(function(l){Zp(l,uE(l),Up(s),e||{})}),r}pn("en_US",rE),pn("zh_CN",sE);var dE=globalThis&&globalThis.__extends||function(){var i=function(s,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)l.hasOwnProperty(c)&&(r[c]=l[c])},i(s,e)};return function(s,e){i(s,e);function r(){this.constructor=s}s.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ec=globalThis&&globalThis.__assign||function(){return Ec=Object.assign||function(i){for(var s,e=1,r=arguments.length;e<r;e++){s=arguments[e];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},Ec.apply(this,arguments)},fE=globalThis&&globalThis.__rest||function(i,s){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(e[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)s.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(e[r[l]]=i[r[l]]);return e},pE=function(i){return""+(i instanceof Date?i.getTime():i)},gE=function(i){dE(s,i);function s(){var e=i!==null&&i.apply(this,arguments)||this;return e.dom=null,e}return s.prototype.componentDidMount=function(){this.renderTimeAgo()},s.prototype.componentDidUpdate=function(){this.renderTimeAgo()},s.prototype.renderTimeAgo=function(){var e=this.props,r=e.live,l=e.datetime,c=e.locale,p=e.opts;Yp(this.dom),r!==!1&&(this.dom.setAttribute("datetime",pE(l)),hE(this.dom,c,p))},s.prototype.componentWillUnmount=function(){Yp(this.dom)},s.prototype.render=function(){var e=this,r=this.props,l=r.datetime;r.live;var c=r.locale,p=r.opts,m=fE(r,["datetime","live","locale","opts"]);return L("time",Ec({ref:function(y){e.dom=y}},m),lE(l,c,p))},s.defaultProps={live:!0,className:""},s}(nr);function mE(i,s){const e=r=>{i.current&&!i.current.contains(event.target)&&s()};Pe(()=>(document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)))}var Kp=Object.prototype.toString,Jp=function(i){var s=Kp.call(i),e=s==="[object Arguments]";return e||(e=s!=="[object Array]"&&i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Kp.call(i.callee)==="[object Function]"),e},Qp;if(!Object.keys){var Fa=Object.prototype.hasOwnProperty,$p=Object.prototype.toString,vE=Jp,eg=Object.prototype.propertyIsEnumerable,yE=!eg.call({toString:null},"toString"),bE=eg.call(function(){},"prototype"),La=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Sc=function(i){var s=i.constructor;return s&&s.prototype===i},wE={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_E=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!wE["$"+i]&&Fa.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{Sc(window[i])}catch{return!0}}catch{return!0}return!1}(),xE=function(i){if(typeof window>"u"||!_E)return Sc(i);try{return Sc(i)}catch{return!1}};Qp=function(i){var s=i!==null&&typeof i=="object",e=$p.call(i)==="[object Function]",r=vE(i),l=s&&$p.call(i)==="[object String]",c=[];if(!s&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var p=bE&&e;if(l&&i.length>0&&!Fa.call(i,0))for(var m=0;m<i.length;++m)c.push(String(m));if(r&&i.length>0)for(var y=0;y<i.length;++y)c.push(String(y));else for(var b in i)!(p&&b==="prototype")&&Fa.call(i,b)&&c.push(String(b));if(yE)for(var w=xE(i),S=0;S<La.length;++S)!(w&&La[S]==="constructor")&&Fa.call(i,La[S])&&c.push(La[S]);return c}}var EE=Qp,SE=Array.prototype.slice,TE=Jp,tg=Object.keys,Ha=tg?function(i){return tg(i)}:EE,ng=Object.keys;Ha.shim=function(){if(Object.keys){var i=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);i||(Object.keys=function(s){return TE(s)?ng(SE.call(s)):ng(s)})}else Object.keys=Ha;return Object.keys||Ha};var CE=Ha,PE=CE,AE=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",RE=Object.prototype.toString,OE=Array.prototype.concat,Tc=Object.defineProperty,kE=function(i){return typeof i=="function"&&RE.call(i)==="[object Function]"},DE=function(){var i={};try{Tc(i,"x",{enumerable:!1,value:i});for(var s in i)return!1;return i.x===i}catch{return!1}},ig=Tc&&DE(),ME=function(i,s,e,r){s in i&&(!kE(r)||!r())||(ig?Tc(i,s,{configurable:!0,enumerable:!1,value:e,writable:!0}):i[s]=e)},rg=function(i,s){var e=arguments.length>2?arguments[2]:{},r=PE(s);AE&&(r=OE.call(r,Object.getOwnPropertySymbols(s)));for(var l=0;l<r.length;l+=1)ME(i,r[l],s[r[l]],e[r[l]])};rg.supportsDescriptors=!!ig;var xo=rg,Eo={exports:{}},BE="Function.prototype.bind called on incompatible ",Cc=Array.prototype.slice,IE=Object.prototype.toString,NE="[object Function]",FE=function(i){var s=this;if(typeof s!="function"||IE.call(s)!==NE)throw new TypeError(BE+s);for(var e=Cc.call(arguments,1),r,l=function(){if(this instanceof r){var b=s.apply(this,e.concat(Cc.call(arguments)));return Object(b)===b?b:this}else return s.apply(i,e.concat(Cc.call(arguments)))},c=Math.max(0,s.length-e.length),p=[],m=0;m<c;m++)p.push("$"+m);if(r=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var y=function(){};y.prototype=s.prototype,r.prototype=new y,y.prototype=null}return r},LE=FE,Pc=Function.prototype.bind||LE,og=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},s=Symbol("test"),e=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var r=42;i[s]=r;for(s in i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var l=Object.getOwnPropertySymbols(i);if(l.length!==1||l[0]!==s||!Object.prototype.propertyIsEnumerable.call(i,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(i,s);if(c.value!==r||c.enumerable!==!0)return!1}return!0},sg=typeof Symbol<"u"&&Symbol,HE=og,ag=function(){return typeof sg!="function"||typeof Symbol!="function"||typeof sg("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:HE()},zE=Pc,lg=zE.call(Function.call,Object.prototype.hasOwnProperty),Ft,bs=SyntaxError,ug=Function,So=TypeError,Ac=function(i){try{return ug('"use strict"; return ('+i+").constructor;")()}catch{}},Nr=Object.getOwnPropertyDescriptor;if(Nr)try{Nr({},"")}catch{Nr=null}var Rc=function(){throw new So},jE=Nr?function(){try{return arguments.callee,Rc}catch{try{return Nr(arguments,"callee").get}catch{return Rc}}}():Rc,To=ag(),or=Object.getPrototypeOf||function(i){return i.__proto__},Co={},UE=typeof Uint8Array>"u"?Ft:or(Uint8Array),Po={"%AggregateError%":typeof AggregateError>"u"?Ft:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ft:ArrayBuffer,"%ArrayIteratorPrototype%":To?or([][Symbol.iterator]()):Ft,"%AsyncFromSyncIteratorPrototype%":Ft,"%AsyncFunction%":Co,"%AsyncGenerator%":Co,"%AsyncGeneratorFunction%":Co,"%AsyncIteratorPrototype%":Co,"%Atomics%":typeof Atomics>"u"?Ft:Atomics,"%BigInt%":typeof BigInt>"u"?Ft:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ft:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ft:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ft:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ft:FinalizationRegistry,"%Function%":ug,"%GeneratorFunction%":Co,"%Int8Array%":typeof Int8Array>"u"?Ft:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ft:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ft:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":To?or(or([][Symbol.iterator]())):Ft,"%JSON%":typeof JSON=="object"?JSON:Ft,"%Map%":typeof Map>"u"?Ft:Map,"%MapIteratorPrototype%":typeof Map>"u"||!To?Ft:or(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ft:Promise,"%Proxy%":typeof Proxy>"u"?Ft:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ft:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ft:Set,"%SetIteratorPrototype%":typeof Set>"u"||!To?Ft:or(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ft:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":To?or(""[Symbol.iterator]()):Ft,"%Symbol%":To?Symbol:Ft,"%SyntaxError%":bs,"%ThrowTypeError%":jE,"%TypedArray%":UE,"%TypeError%":So,"%Uint8Array%":typeof Uint8Array>"u"?Ft:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ft:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ft:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ft:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ft:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ft:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ft:WeakSet},VE=function i(s){var e;if(s==="%AsyncFunction%")e=Ac("async function () {}");else if(s==="%GeneratorFunction%")e=Ac("function* () {}");else if(s==="%AsyncGeneratorFunction%")e=Ac("async function* () {}");else if(s==="%AsyncGenerator%"){var r=i("%AsyncGeneratorFunction%");r&&(e=r.prototype)}else if(s==="%AsyncIteratorPrototype%"){var l=i("%AsyncGenerator%");l&&(e=or(l.prototype))}return Po[s]=e,e},cg={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},za=Pc,ja=lg,WE=za.call(Function.call,Array.prototype.concat),GE=za.call(Function.apply,Array.prototype.splice),hg=za.call(Function.call,String.prototype.replace),Ua=za.call(Function.call,String.prototype.slice),qE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XE=/\\(\\)?/g,ZE=function(i){var s=Ua(i,0,1),e=Ua(i,-1);if(s==="%"&&e!=="%")throw new bs("invalid intrinsic syntax, expected closing `%`");if(e==="%"&&s!=="%")throw new bs("invalid intrinsic syntax, expected opening `%`");var r=[];return hg(i,qE,function(l,c,p,m){r[r.length]=p?hg(m,XE,"$1"):c||l}),r},YE=function(i,s){var e=i,r;if(ja(cg,e)&&(r=cg[e],e="%"+r[0]+"%"),ja(Po,e)){var l=Po[e];if(l===Co&&(l=VE(e)),typeof l>"u"&&!s)throw new So("intrinsic "+i+" exists, but is not available. Please file an issue!");return{alias:r,name:e,value:l}}throw new bs("intrinsic "+i+" does not exist!")},Vn=function(i,s){if(typeof i!="string"||i.length===0)throw new So("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!="boolean")throw new So('"allowMissing" argument must be a boolean');var e=ZE(i),r=e.length>0?e[0]:"",l=YE("%"+r+"%",s),c=l.name,p=l.value,m=!1,y=l.alias;y&&(r=y[0],GE(e,WE([0,1],y)));for(var b=1,w=!0;b<e.length;b+=1){var S=e[b],C=Ua(S,0,1),D=Ua(S,-1);if((C==='"'||C==="'"||C==="`"||D==='"'||D==="'"||D==="`")&&C!==D)throw new bs("property names with quotes must have matching quotes");if((S==="constructor"||!w)&&(m=!0),r+="."+S,c="%"+r+"%",ja(Po,c))p=Po[c];else if(p!=null){if(!(S in p)){if(!s)throw new So("base intrinsic for "+i+" exists, but the property is not available.");return}if(Nr&&b+1>=e.length){var H=Nr(p,S);w=!!H,w&&"get"in H&&!("originalValue"in H.get)?p=H.get:p=p[S]}else w=ja(p,S),p=p[S];w&&!m&&(Po[c]=p)}}return p};(function(i){var s=Pc,e=Vn,r=e("%Function.prototype.apply%"),l=e("%Function.prototype.call%"),c=e("%Reflect.apply%",!0)||s.call(l,r),p=e("%Object.getOwnPropertyDescriptor%",!0),m=e("%Object.defineProperty%",!0),y=e("%Math.max%");if(m)try{m({},"a",{value:1})}catch{m=null}i.exports=function(w){var S=c(s,l,arguments);if(p&&m){var C=p(S,"length");C.configurable&&m(S,"length",{value:1+y(0,w.length-(arguments.length-1))})}return S};var b=function(){return c(s,r,arguments)};m?m(i.exports,"apply",{value:b}):i.exports.apply=b})(Eo);var dg=Vn,fg=Eo.exports,KE=fg(dg("String.prototype.indexOf")),Fr=function(i,s){var e=dg(i,!!s);return typeof e=="function"&&KE(i,".prototype.")>-1?fg(e):e},JE=Vn,QE=JE("%TypeError%"),$E=function(i,s){if(i==null)throw new QE(s||"Cannot call method on "+i);return i},Va=$E,eS=Vn,pg=eS("%Array%"),tS=!pg.isArray&&Fr("Object.prototype.toString"),nS=pg.isArray||function(i){return tS(i)==="[object Array]"},gg=Vn,iS=Fr,rS=gg("%TypeError%"),oS=nS,sS=gg("%Reflect.apply%",!0)||iS("%Function.prototype.apply%"),aS=function(i,s){var e=arguments.length>2?arguments[2]:[];if(!oS(e))throw new rS("Assertion failed: optional `argumentsList`, if provided, must be a List");return sS(i,s,e)},lS={},uS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lS}),cS=Aa(uS),Oc=typeof Map=="function"&&Map.prototype,kc=Object.getOwnPropertyDescriptor&&Oc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wa=Oc&&kc&&typeof kc.get=="function"?kc.get:null,hS=Oc&&Map.prototype.forEach,Dc=typeof Set=="function"&&Set.prototype,Mc=Object.getOwnPropertyDescriptor&&Dc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ga=Dc&&Mc&&typeof Mc.get=="function"?Mc.get:null,dS=Dc&&Set.prototype.forEach,fS=typeof WeakMap=="function"&&WeakMap.prototype,ws=fS?WeakMap.prototype.has:null,pS=typeof WeakSet=="function"&&WeakSet.prototype,_s=pS?WeakSet.prototype.has:null,gS=typeof WeakRef=="function"&&WeakRef.prototype,mg=gS?WeakRef.prototype.deref:null,mS=Boolean.prototype.valueOf,vS=Object.prototype.toString,yS=Function.prototype.toString,bS=String.prototype.match,Bc=String.prototype.slice,sr=String.prototype.replace,wS=String.prototype.toUpperCase,vg=String.prototype.toLowerCase,yg=RegExp.prototype.test,bg=Array.prototype.concat,Ai=Array.prototype.join,_S=Array.prototype.slice,wg=Math.floor,Ic=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Nc=Object.getOwnPropertySymbols,Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ln=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ao?"object":"symbol")?Symbol.toStringTag:null,_g=Object.prototype.propertyIsEnumerable,xg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Eg(i,s){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||yg.call(/e/,s))return s;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var r=i<0?-wg(-i):wg(i);if(r!==i){var l=String(r),c=Bc.call(s,l.length+1);return sr.call(l,e,"$&_")+"."+sr.call(sr.call(c,/([0-9]{3})/g,"$&_"),/_$/,"")}}return sr.call(s,e,"$&_")}var Lc=cS.custom,Hc=Lc&&Tg(Lc)?Lc:null,xS=function i(s,e,r,l){var c=e||{};if(ar(c,"quoteStyle")&&c.quoteStyle!=="single"&&c.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ar(c,"maxStringLength")&&(typeof c.maxStringLength=="number"?c.maxStringLength<0&&c.maxStringLength!==1/0:c.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=ar(c,"customInspect")?c.customInspect:!0;if(typeof p!="boolean"&&p!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ar(c,"indent")&&c.indent!==null&&c.indent!=="	"&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ar(c,"numericSeparator")&&typeof c.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=c.numericSeparator;if(typeof s>"u")return"undefined";if(s===null)return"null";if(typeof s=="boolean")return s?"true":"false";if(typeof s=="string")return Pg(s,c);if(typeof s=="number"){if(s===0)return 1/0/s>0?"0":"-0";var y=String(s);return m?Eg(s,y):y}if(typeof s=="bigint"){var b=String(s)+"n";return m?Eg(s,b):b}var w=typeof c.depth>"u"?5:c.depth;if(typeof r>"u"&&(r=0),r>=w&&w>0&&typeof s=="object")return zc(s)?"[Array]":"[Object]";var S=jS(c,r);if(typeof l>"u")l=[];else if(Cg(l,s)>=0)return"[Circular]";function C(pt,ft,Tt){if(ft&&(l=_S.call(l),l.push(ft)),Tt){var _t={depth:c.depth};return ar(c,"quoteStyle")&&(_t.quoteStyle=c.quoteStyle),i(pt,_t,r+1,l)}return i(pt,c,r+1,l)}if(typeof s=="function"){var D=DS(s),H=qa(s,C);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(H.length>0?" { "+Ai.call(H,", ")+" }":"")}if(Tg(s)){var J=Ao?sr.call(String(s),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fc.call(s);return typeof s=="object"&&!Ao?xs(J):J}if(LS(s)){for(var G="<"+vg.call(String(s.nodeName)),ee=s.attributes||[],P=0;P<ee.length;P++)G+=" "+ee[P].name+"="+Sg(ES(ee[P].value),"double",c);return G+=">",s.childNodes&&s.childNodes.length&&(G+="..."),G+="</"+vg.call(String(s.nodeName))+">",G}if(zc(s)){if(s.length===0)return"[]";var Z=qa(s,C);return S&&!zS(Z)?"["+Uc(Z,S)+"]":"[ "+Ai.call(Z,", ")+" ]"}if(CS(s)){var oe=qa(s,C);return"cause"in s&&!_g.call(s,"cause")?"{ ["+String(s)+"] "+Ai.call(bg.call("[cause]: "+C(s.cause),oe),", ")+" }":oe.length===0?"["+String(s)+"]":"{ ["+String(s)+"] "+Ai.call(oe,", ")+" }"}if(typeof s=="object"&&p){if(Hc&&typeof s[Hc]=="function")return s[Hc]();if(p!=="symbol"&&typeof s.inspect=="function")return s.inspect()}if(MS(s)){var re=[];return hS.call(s,function(pt,ft){re.push(C(ft,s,!0)+" => "+C(pt,s))}),Ag("Map",Wa.call(s),re,S)}if(NS(s)){var he=[];return dS.call(s,function(pt){he.push(C(pt,s))}),Ag("Set",Ga.call(s),he,S)}if(BS(s))return jc("WeakMap");if(FS(s))return jc("WeakSet");if(IS(s))return jc("WeakRef");if(AS(s))return xs(C(Number(s)));if(OS(s))return xs(C(Ic.call(s)));if(RS(s))return xs(mS.call(s));if(PS(s))return xs(C(String(s)));if(!SS(s)&&!TS(s)){var ge=qa(s,C),Ie=xg?xg(s)===Object.prototype:s instanceof Object||s.constructor===Object,ze=s instanceof Object?"":"null prototype",Qe=!Ie&&Ln&&Object(s)===s&&Ln in s?Bc.call(lr(s),8,-1):ze?"Object":"",rt=Ie||typeof s.constructor!="function"?"":s.constructor.name?s.constructor.name+" ":"",$e=rt+(Qe||ze?"["+Ai.call(bg.call([],Qe||[],ze||[]),": ")+"] ":"");return ge.length===0?$e+"{}":S?$e+"{"+Uc(ge,S)+"}":$e+"{ "+Ai.call(ge,", ")+" }"}return String(s)};function Sg(i,s,e){var r=(e.quoteStyle||s)==="double"?'"':"'";return r+i+r}function ES(i){return sr.call(String(i),/"/g,"&quot;")}function zc(i){return lr(i)==="[object Array]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function SS(i){return lr(i)==="[object Date]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function TS(i){return lr(i)==="[object RegExp]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function CS(i){return lr(i)==="[object Error]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function PS(i){return lr(i)==="[object String]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function AS(i){return lr(i)==="[object Number]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function RS(i){return lr(i)==="[object Boolean]"&&(!Ln||!(typeof i=="object"&&Ln in i))}function Tg(i){if(Ao)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!Fc)return!1;try{return Fc.call(i),!0}catch{}return!1}function OS(i){if(!i||typeof i!="object"||!Ic)return!1;try{return Ic.call(i),!0}catch{}return!1}var kS=Object.prototype.hasOwnProperty||function(i){return i in this};function ar(i,s){return kS.call(i,s)}function lr(i){return vS.call(i)}function DS(i){if(i.name)return i.name;var s=bS.call(yS.call(i),/^function\s*([\w$]+)/);return s?s[1]:null}function Cg(i,s){if(i.indexOf)return i.indexOf(s);for(var e=0,r=i.length;e<r;e++)if(i[e]===s)return e;return-1}function MS(i){if(!Wa||!i||typeof i!="object")return!1;try{Wa.call(i);try{Ga.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function BS(i){if(!ws||!i||typeof i!="object")return!1;try{ws.call(i,ws);try{_s.call(i,_s)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function IS(i){if(!mg||!i||typeof i!="object")return!1;try{return mg.call(i),!0}catch{}return!1}function NS(i){if(!Ga||!i||typeof i!="object")return!1;try{Ga.call(i);try{Wa.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function FS(i){if(!_s||!i||typeof i!="object")return!1;try{_s.call(i,_s);try{ws.call(i,ws)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function LS(i){return!i||typeof i!="object"?!1:typeof HTMLElement<"u"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function Pg(i,s){if(i.length>s.maxStringLength){var e=i.length-s.maxStringLength,r="... "+e+" more character"+(e>1?"s":"");return Pg(Bc.call(i,0,s.maxStringLength),s)+r}var l=sr.call(sr.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,HS);return Sg(l,"single",s)}function HS(i){var s=i.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[s];return e?"\\"+e:"\\x"+(s<16?"0":"")+wS.call(s.toString(16))}function xs(i){return"Object("+i+")"}function jc(i){return i+" { ? }"}function Ag(i,s,e,r){var l=r?Uc(e,r):Ai.call(e,", ");return i+" ("+s+") {"+l+"}"}function zS(i){for(var s=0;s<i.length;s++)if(Cg(i[s],`
`)>=0)return!1;return!0}function jS(i,s){var e;if(i.indent==="	")e="	";else if(typeof i.indent=="number"&&i.indent>0)e=Ai.call(Array(i.indent+1)," ");else return null;return{base:e,prev:Ai.call(Array(s+1),e)}}function Uc(i,s){if(i.length===0)return"";var e=`
`+s.prev+s.base;return e+Ai.call(i,","+e)+`
`+s.prev}function qa(i,s){var e=zc(i),r=[];if(e){r.length=i.length;for(var l=0;l<i.length;l++)r[l]=ar(i,l)?s(i[l],i):""}var c=typeof Nc=="function"?Nc(i):[],p;if(Ao){p={};for(var m=0;m<c.length;m++)p["$"+c[m]]=c[m]}for(var y in i)!ar(i,y)||e&&String(Number(y))===y&&y<i.length||Ao&&p["$"+y]instanceof Symbol||(yg.call(/[^\w$]/,y)?r.push(s(y,i)+": "+s(i[y],i)):r.push(y+": "+s(i[y],i)));if(typeof Nc=="function")for(var b=0;b<c.length;b++)_g.call(i,c[b])&&r.push("["+s(c[b])+"]: "+s(i[c[b]],i));return r}var Rg=function(i){return typeof i=="string"||typeof i=="symbol"},US=function(i){if(i===null)return"Null";if(typeof i>"u")return"Undefined";if(typeof i=="function"||typeof i=="object")return"Object";if(typeof i=="number")return"Number";if(typeof i=="boolean")return"Boolean";if(typeof i=="string")return"String"},VS=US,Vc=function(i){return typeof i=="symbol"?"Symbol":typeof i=="bigint"?"BigInt":VS(i)},WS=Vn,Og=WS("%TypeError%"),GS=xS,qS=Rg,XS=Vc,kg=function(i,s){if(XS(i)!=="Object")throw new Og("Assertion failed: Type(O) is not Object");if(!qS(s))throw new Og("Assertion failed: IsPropertyKey(P) is not true, got "+GS(s));return i[s]},ZS=Vn,Dg=ZS("%TypeError%"),YS=Rg,KS=Vc,JS=function(i,s){if(KS(i)!=="Object")throw new Dg("Assertion failed: `O` must be an Object");if(!YS(s))throw new Dg("Assertion failed: `P` must be a Property Key");return s in i},Mg=Function.prototype.toString,Ro=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Wc,Xa;if(typeof Ro=="function"&&typeof Object.defineProperty=="function")try{Wc=Object.defineProperty({},"length",{get:function(){throw Xa}}),Xa={},Ro(function(){throw 42},null,Wc)}catch(i){i!==Xa&&(Ro=null)}else Ro=null;var QS=/^\s*class\b/,Gc=function(i){try{var s=Mg.call(i);return QS.test(s)}catch{return!1}},$S=function(i){try{return Gc(i)?!1:(Mg.call(i),!0)}catch{return!1}},eT=Object.prototype.toString,tT="[object Function]",nT="[object GeneratorFunction]",iT=typeof Symbol=="function"&&!!Symbol.toStringTag,Bg=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},qc=Ro?function(i){if(i===Bg)return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(typeof i=="function"&&!i.prototype)return!0;try{Ro(i,null,Wc)}catch(s){if(s!==Xa)return!1}return!Gc(i)}:function(i){if(i===Bg)return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(typeof i=="function"&&!i.prototype)return!0;if(iT)return $S(i);if(Gc(i))return!1;var s=eT.call(i);return s===tT||s===nT},rT=qc,Ig=Vn,oT=Ig("%Math%"),sT=Ig("%Number%"),aT=sT.MAX_SAFE_INTEGER||oT.pow(2,53)-1,lT=Vn,uT=lT("%Math.abs%"),cT=function(i){return uT(i)},hT=Math.floor,dT=function(i){return hT(i)},Ng=function(i){return i===null||typeof i!="function"&&typeof i!="object"},fT=Object.prototype.toString,Fg=Ng,pT=qc,Lg={"[[DefaultValue]]":function(i){var s;if(arguments.length>1?s=arguments[1]:s=fT.call(i)==="[object Date]"?String:Number,s===String||s===Number){var e=s===String?["toString","valueOf"]:["valueOf","toString"],r,l;for(l=0;l<e.length;++l)if(pT(i[e[l]])&&(r=i[e[l]](),Fg(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},gT=function(i){return Fg(i)?i:arguments.length>1?Lg["[[DefaultValue]]"](i,arguments[1]):Lg["[[DefaultValue]]"](i)},mT=gT,vT=mT,yT=function(i){var s=vT(i,Number);if(typeof s!="string")return+s;var e=s.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(e)?NaN:+e},bT=Number.isNaN||function(i){return i!==i},wT=Number.isNaN||function(i){return i!==i},_T=Number.isFinite||function(i){return typeof i=="number"&&!wT(i)&&i!==1/0&&i!==-1/0},xT=function(i){return i>=0?1:-1},ET=cT,ST=dT,TT=yT,CT=bT,PT=_T,AT=xT,RT=function(i){var s=TT(i);return CT(s)?0:s===0||!PT(s)?s:AT(s)*ST(ET(s))},OT=Vn,kT=OT("RegExp.prototype.test"),DT=Eo.exports,MT=function(i){return DT(kT,i)},BT=function(i){return i===null||typeof i!="function"&&typeof i!="object"},IT=og,Hg=function(){return IT()&&!!Symbol.toStringTag},NT=Date.prototype.getDay,FT=function(i){try{return NT.call(i),!0}catch{return!1}},LT=Object.prototype.toString,HT="[object Date]",zT=Hg(),jT=function(i){return typeof i!="object"||i===null?!1:zT?FT(i):LT.call(i)===HT},Xc={exports:{}},UT=Object.prototype.toString,VT=ag();if(VT){var WT=Symbol.prototype.toString,GT=/^Symbol\(.*\)$/,qT=function(i){return typeof i.valueOf()!="symbol"?!1:GT.test(WT.call(i))};Xc.exports=function(i){if(typeof i=="symbol")return!0;if(UT.call(i)!=="[object Symbol]")return!1;try{return qT(i)}catch{return!1}}}else Xc.exports=function(i){return!1};var XT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Zc=Ng,zg=qc,ZT=jT,jg=Xc.exports,YT=function(i,s){if(typeof i>"u"||i===null)throw new TypeError("Cannot call method on "+i);if(typeof s!="string"||s!=="number"&&s!=="string")throw new TypeError('hint must be "string" or "number"');var e=s==="string"?["toString","valueOf"]:["valueOf","toString"],r,l,c;for(c=0;c<e.length;++c)if(r=i[e[c]],zg(r)&&(l=r.call(i),Zc(l)))return l;throw new TypeError("No default value")},KT=function(i,s){var e=i[s];if(e!==null&&typeof e<"u"){if(!zg(e))throw new TypeError(e+" returned for property "+s+" of object "+i+" is not a function");return e}},JT=function(i){if(Zc(i))return i;var s="default";arguments.length>1&&(arguments[1]===String?s="string":arguments[1]===Number&&(s="number"));var e;if(XT&&(Symbol.toPrimitive?e=KT(i,Symbol.toPrimitive):jg(i)&&(e=Symbol.prototype.valueOf)),typeof e<"u"){var r=e.call(i,s);if(Zc(r))return r;throw new TypeError("unable to convert exotic object to primitive")}return s==="default"&&(ZT(i)||jg(i))&&(s="string"),YT(i,s==="default"?"number":s)},Ug=JT,QT=function(i){return arguments.length>1?Ug(i,arguments[1]):Ug(i)},Za=Vn,Vg=Za("%TypeError%"),Wg=Za("%Number%"),$T=Za("%RegExp%"),Gg=Za("%parseInt%"),qg=Fr,Ya=MT,e2=BT,Xg=qg("String.prototype.slice"),t2=Ya(/^0b[01]+$/i),n2=Ya(/^0o[0-7]+$/i),i2=Ya(/^[-+]0x[0-9a-f]+$/i),r2=["\x85","\u200B","\uFFFE"].join(""),o2=new $T("["+r2+"]","g"),s2=Ya(o2),Zg=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),a2=new RegExp("(^["+Zg+"]+)|(["+Zg+"]+$)","g"),l2=qg("String.prototype.replace"),u2=function(i){return l2(i,a2,"")},c2=QT,h2=function i(s){var e=e2(s)?s:c2(s,Wg);if(typeof e=="symbol")throw new Vg("Cannot convert a Symbol value to a number");if(typeof e=="bigint")throw new Vg("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof e=="string"){if(t2(e))return i(Gg(Xg(e,2),2));if(n2(e))return i(Gg(Xg(e,2),8));if(s2(e)||i2(e))return NaN;var r=u2(e);if(r!==e)return i(r)}return Wg(e)},d2=RT,f2=h2,p2=function(i){var s=f2(i);return s!==0&&(s=d2(s)),s===0?0:s},Yg=aT,g2=p2,m2=function(i){var s=g2(i);return s<=0?0:s>Yg?Yg:s},v2=Vn,y2=v2("%TypeError%"),b2=kg,w2=m2,_2=Vc,x2=function(i){if(_2(i)!=="Object")throw new y2("Assertion failed: `obj` must be an Object");return w2(b2(i,"length"))},E2=Vn,S2=E2("%Object%"),T2=Va,C2=function(i){return T2(i),S2(i)},Kg=Vn,P2=Kg("%String%"),A2=Kg("%TypeError%"),Jg=function(i){if(typeof i=="symbol")throw new A2("Cannot convert a Symbol value to a string");return P2(i)},R2=String.prototype.valueOf,O2=function(i){try{return R2.call(i),!0}catch{return!1}},k2=Object.prototype.toString,D2="[object String]",M2=Hg(),B2=function(i){return typeof i=="string"?!0:typeof i!="object"?!1:M2?O2(i):k2.call(i)===D2},I2=Vn,N2=Fr,F2=I2("%TypeError%"),L2=aS,H2=kg,z2=JS,j2=rT,U2=x2,V2=C2,W2=Jg,G2=B2,q2=N2("String.prototype.split"),Qg=Object("a"),X2=Qg[0]!=="a"||!(0 in Qg),$g=function(i){var s=V2(this),e=X2&&G2(this)?q2(this,""):s,r=U2(e);if(!j2(i))throw new F2("Array.prototype.forEach callback must be a function");var l;arguments.length>1&&(l=arguments[1]);for(var c=0;c<r;){var p=W2(c),m=z2(e,p);if(m){var y=H2(e,p);L2(i,l,[y,c,e])}c+=1}},Z2=function(i){var s=!0,e=!0,r=!1;if(typeof i=="function"){try{i.call("f",function(l,c,p){typeof p!="object"&&(s=!1)}),i.call([null],function(){"use strict";e=typeof this=="string"},"x")}catch{r=!0}return!r&&s&&e}return!1},Y2=Z2,K2=$g,em=function(){var i=Array.prototype.forEach;return Y2(i)?i:K2},J2=xo,Q2=em,$2=function(){var i=Q2();return J2(Array.prototype,{forEach:i},{forEach:function(){return Array.prototype.forEach!==i}}),i},eC=xo,tC=Eo.exports,nC=Fr,iC=Va,rC=$g,tm=em,oC=tm(),sC=$2,aC=nC("Array.prototype.slice"),lC=tC.apply(oC),nm=function(i,s){return iC(i),lC(i,aC(arguments,1))};eC(nm,{getPolyfill:tm,implementation:rC,shim:sC});var uC=nm,cC=Va,im=Fr,hC=im("Object.prototype.propertyIsEnumerable"),dC=im("Array.prototype.push"),rm=function(i){var s=cC(i),e=[];for(var r in s)hC(s,r)&&dC(e,[r,s[r]]);return e},fC=rm,om=function(){return typeof Object.entries=="function"?Object.entries:fC},pC=om,gC=xo,mC=function(){var i=pC();return gC(Object,{entries:i},{entries:function(){return Object.entries!==i}}),i},vC=xo,yC=Eo.exports,bC=rm,sm=om,wC=mC,am=yC(sm(),Object);vC(am,{getPolyfill:sm,implementation:bC,shim:wC});var _C=am,xC=Va,EC=Jg,SC=Fr,lm=SC("String.prototype.replace"),TC=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,CC=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,um=function(){var i=EC(xC(this));return lm(lm(i,TC,""),CC,"")},PC=um,cm="\u200B",hm=function(){return String.prototype.trim&&cm.trim()===cm?String.prototype.trim:PC},AC=xo,RC=hm,OC=function(){var i=RC();return AC(String.prototype,{trim:i},{trim:function(){return String.prototype.trim!==i}}),i},kC=Eo.exports,DC=xo,MC=um,dm=hm,BC=OC,fm=kC(dm());DC(fm,{getPolyfill:dm,implementation:MC,shim:BC});var IC=fm,Ka=uC,Yc=_C,pm=lg,NC=IC,FC=function(i){},LC=String.prototype.replace,gm=String.prototype.split,Ja="||||",Kc=function(i){var s=i%100,e=s%10;return s!==11&&e===1?0:2<=e&&e<=4&&!(s>=12&&s<=14)?1:2},mm={pluralTypes:{arabic:function(i){if(i<3)return i;var s=i%100;return s>=3&&s<=10?3:s>=11?4:5},bosnian_serbian:Kc,chinese:function(){return 0},croatian:Kc,french:function(i){return i>=2?1:0},german:function(i){return i!==1?1:0},russian:Kc,lithuanian:function(i){return i%10===1&&i%100!==11?0:i%10>=2&&i%10<=9&&(i%100<11||i%100>19)?1:2},czech:function(i){return i===1?0:i>=2&&i<=4?1:2},polish:function(i){if(i===1)return 0;var s=i%10;return 2<=s&&s<=4&&(i%100<10||i%100>=20)?1:2},icelandic:function(i){return i%10!==1||i%100===11?1:0},slovenian:function(i){var s=i%100;return s===1?0:s===2?1:s===3||s===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function HC(i){var s={};return Ka(Yc(i),function(e){var r=e[0],l=e[1];Ka(l,function(c){s[c]=r})}),s}function zC(i,s){var e=HC(i.pluralTypeToLanguages);return e[s]||e[gm.call(s,/-/,1)[0]]||e.en}function jC(i,s,e){return i.pluralTypes[s](e)}function UC(){var i={};return function(s,e){var r=i[e];return r&&!s.pluralTypes[r]&&(r=null,i[e]=r),r||(r=zC(s,e),r&&(i[e]=r)),r}}function vm(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function VC(i){var s=i&&i.prefix||"%{",e=i&&i.suffix||"}";if(s===Ja||e===Ja)throw new RangeError('"'+Ja+'" token is reserved for pluralization');return new RegExp(vm(s)+"(.*?)"+vm(e),"g")}var WC=UC(),GC=/%\{(.*?)\}/g;function Jc(i,s,e,r,l){if(typeof i!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(s==null)return i;var c=i,p=r||GC,m=typeof s=="number"?{smart_count:s}:s;if(m.smart_count!=null&&i){var y=l||mm,b=gm.call(i,Ja),w=e||"en",S=WC(y,w),C=jC(y,S,m.smart_count);c=NC(b[C]||b[0])}return c=LC.call(c,p,function(D,H){return!pm(m,H)||m[H]==null?D:m[H]}),c}function Li(i){var s=i||{};this.phrases={},this.extend(s.phrases||{}),this.currentLocale=s.locale||"en";var e=s.allowMissing?Jc:null;this.onMissingKey=typeof s.onMissingKey=="function"?s.onMissingKey:e,this.warn=s.warn||FC,this.tokenRegex=VC(s.interpolation),this.pluralRules=s.pluralRules||mm}Li.prototype.locale=function(i){return i&&(this.currentLocale=i),this.currentLocale},Li.prototype.extend=function(i,s){Ka(Yc(i||{}),function(e){var r=e[0],l=e[1],c=s?s+"."+r:r;typeof l=="object"?this.extend(l,c):this.phrases[c]=l},this)},Li.prototype.unset=function(i,s){typeof i=="string"?delete this.phrases[i]:Ka(Yc(i||{}),function(e){var r=e[0],l=e[1],c=s?s+"."+r:r;typeof l=="object"?this.unset(l,c):delete this.phrases[c]},this)},Li.prototype.clear=function(){this.phrases={}},Li.prototype.replace=function(i){this.clear(),this.extend(i)},Li.prototype.t=function(i,s){var e,r,l=s==null?{}:s;if(typeof this.phrases[i]=="string")e=this.phrases[i];else if(typeof l._=="string")e=l._;else if(this.onMissingKey){var c=this.onMissingKey;r=c(i,l,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+i+'"'),r=i;return typeof e=="string"&&(r=Jc(e,l,this.currentLocale,this.tokenRegex,this.pluralRules)),r},Li.prototype.has=function(i){return pm(this.phrases,i)},Li.transformPhrase=function(i,s,e){return Jc(i,s,e)};var qC=Li,XC={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},ZC={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},YC={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},KC={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},JC={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},QC={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},$C={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},eP={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},tP={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},nP={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},iP={"Add a comment...":"\u30B3\u30E1\u30F3\u30C8\u3092\u8FFD\u52A0\u3059\u308B...","Add a reply...":"\u8FD4\u4FE1\u3059\u308B...","Add tag...":"\u30BF\u30B0\u3092\u8FFD\u52A0\u3059\u308B...",Cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",Close:"\u9589\u3058\u308B",Edit:"\u7DE8\u96C6",Delete:"\u524A\u9664",Ok:"Ok"},rP={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},oP={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},sP={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},aP={"Add a comment...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439...","Add a reply...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u0442\u0432\u0435\u0442...","Add tag...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u044D\u0433...",Cancel:"\u041E\u0442\u043C\u0435\u043D\u0430",Close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",Edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",Delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",Ok:"\u041E\u043A"},lP={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},uP={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},cP={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},hP={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},dP={"Add a comment...":"\u6DFB\u52A0\u8BC4\u8BBA...","Add a reply...":"\u6DFB\u52A0\u56DE\u590D...","Add tag...":"\u6DFB\u52A0\u6807\u7B7E...",Cancel:"\u53D6\u6D88",Close:"\u5173\u95ED",Edit:"\u7F16\u8F91",Delete:"\u5220\u9664",Ok:"\u786E\u8BA4"},fP={"Add a comment...":"\u6DFB\u52A0\u8A55\u8AD6...","Add a reply...":"\u6DFB\u52A0\u56DE\u8986...","Add tag...":"\u6DFB\u52A0\u6A19\u7C64...",Cancel:"\u53D6\u6D88",Close:"\u95DC\u9589",Edit:"\u7DE8\u8F2F",Delete:"\u522A\u9664",Ok:"\u78BA\u8A8D"},ym={};Object.defineProperty(ym,"__esModule",{value:!0});var Qc=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function pP(i,s){return s<3?Qc[i][s-1]:s>=3&&s<=10?Qc[i][2]:Qc[i][3]}function gP(i,s){if(s===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var e=pP(Math.floor(s/2),i);return["\u0645\u0646\u0630 "+e,"\u0628\u0639\u062F "+e]}var mP=ym.default=gP,bm={};Object.defineProperty(bm,"__esModule",{value:!0});function vP(i,s){var e=0,r=s==1||s==3||s==5||s==7||s==9||s==11||s==13;return r&&i>=5&&(e=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][s][e]}var yP=bm.default=vP,wm={};Object.defineProperty(wm,"__esModule",{value:!0});function bP(i,s){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][s]}var wP=wm.default=bP,_m={};Object.defineProperty(_m,"__esModule",{value:!0});function _P(i,s){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][s]}var xP=_m.default=_P,xm={};Object.defineProperty(xm,"__esModule",{value:!0});function EP(i,s){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][s]}var SP=xm.default=EP,Em={};Object.defineProperty(Em,"__esModule",{value:!0});function TP(i,s){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][s]}var CP=Em.default=TP,Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});function PP(i,s){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][s]}var AP=Sm.default=PP,Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});function RP(i,s){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][s]}var OP=Tm.default=RP,Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});function kP(i,s){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][s]}var DP=Cm.default=kP,Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});function MP(i,s){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][s]}var BP=Pm.default=MP,Am={};Object.defineProperty(Am,"__esModule",{value:!0});function IP(i,s){return[["\u3059\u3053\u3057\u524D","\u3059\u3050\u306B"],["%s\u79D2\u524D","%s\u79D2\u4EE5\u5185"],["1\u5206\u524D","1\u5206\u4EE5\u5185"],["%s\u5206\u524D","%s\u5206\u4EE5\u5185"],["1\u6642\u9593\u524D","1\u6642\u9593\u4EE5\u5185"],["%s\u6642\u9593\u524D","%s\u6642\u9593\u4EE5\u5185"],["1\u65E5\u524D","1\u65E5\u4EE5\u5185"],["%s\u65E5\u524D","%s\u65E5\u4EE5\u5185"],["1\u9031\u9593\u524D","1\u9031\u9593\u4EE5\u5185"],["%s\u9031\u9593\u524D","%s\u9031\u9593\u4EE5\u5185"],["1\u30F6\u6708\u524D","1\u30F6\u6708\u4EE5\u5185"],["%s\u30F6\u6708\u524D","%s\u30F6\u6708\u4EE5\u5185"],["1\u5E74\u524D","1\u5E74\u4EE5\u5185"],["%s\u5E74\u524D","%s\u5E74\u4EE5\u5185"]][s]}var NP=Am.default=IP,Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});function FP(i,s){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][s]}var LP=Rm.default=FP,Om={};Object.defineProperty(Om,"__esModule",{value:!0});function HP(i,s){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][s]}var zP=Om.default=HP,km={};Object.defineProperty(km,"__esModule",{value:!0});function jP(i,s){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][s]}var UP=km.default=jP,Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});function Lr(i,s,e,r,l){var c=l%10,p=r;return l===1?p=i:c===1&&l>20?p=s:c>1&&c<5&&(l>20||l<10)&&(p=e),p}var Mm=Lr.bind(null,"\u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u044B","%s \u0441\u0435\u043A\u0443\u043D\u0434"),Bm=Lr.bind(null,"\u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u044B","%s \u043C\u0438\u043D\u0443\u0442"),Im=Lr.bind(null,"\u0447\u0430\u0441","%s \u0447\u0430\u0441","%s \u0447\u0430\u0441\u0430","%s \u0447\u0430\u0441\u043E\u0432"),Nm=Lr.bind(null,"\u0434\u0435\u043D\u044C","%s \u0434\u0435\u043D\u044C","%s \u0434\u043D\u044F","%s \u0434\u043D\u0435\u0439"),Fm=Lr.bind(null,"\u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u0438","%s \u043D\u0435\u0434\u0435\u043B\u044C"),Lm=Lr.bind(null,"\u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446\u0430","%s \u043C\u0435\u0441\u044F\u0446\u0435\u0432"),Hm=Lr.bind(null,"\u0433\u043E\u0434","%s \u0433\u043E\u0434","%s \u0433\u043E\u0434\u0430","%s \u043B\u0435\u0442");function VP(i,s){switch(s){case 0:return["\u0442\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E","\u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434"];case 1:return[Mm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Mm(i)];case 2:case 3:return[Bm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Bm(i)];case 4:case 5:return[Im(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Im(i)];case 6:return["\u0432\u0447\u0435\u0440\u0430","\u0437\u0430\u0432\u0442\u0440\u0430"];case 7:return[Nm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Nm(i)];case 8:case 9:return[Fm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Fm(i)];case 10:case 11:return[Lm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Lm(i)];case 12:case 13:return[Hm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Hm(i)];default:return["",""]}}var WP=Dm.default=VP,zm={};Object.defineProperty(zm,"__esModule",{value:!0});function GP(i,s){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][s]}var qP=zm.default=GP,jm={};Object.defineProperty(jm,"__esModule",{value:!0});function XP(i,s){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][s]}var ZP=jm.default=XP,Um={};Object.defineProperty(Um,"__esModule",{value:!0});function YP(i,s){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][s]}var KP=Um.default=YP,Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});var JP=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function QP(i,s){if(s===0)return["\u521A\u521A","\u7247\u523B\u540E"];var e=JP[~~(s/2)];return[i+" "+e+"\u524D",i+" "+e+"\u540E"]}var $P=Vm.default=QP,Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});function e4(i,s){return[["\u525B\u525B","\u7247\u523B\u5F8C"],["%s \u79D2\u524D","%s \u79D2\u5F8C"],["1 \u5206\u9418\u524D","1 \u5206\u9418\u5F8C"],["%s \u5206\u9418\u524D","%s \u5206\u9418\u5F8C"],["1 \u5C0F\u6642\u524D","1 \u5C0F\u6642\u5F8C"],["%s \u5C0F\u6642\u524D","%s \u5C0F\u6642\u5F8C"],["1 \u5929\u524D","1 \u5929\u5F8C"],["%s \u5929\u524D","%s \u5929\u5F8C"],["1 \u9031\u524D","1 \u9031\u5F8C"],["%s \u9031\u524D","%s \u9031\u5F8C"],["1 \u500B\u6708\u524D","1 \u500B\u6708\u5F8C"],["%s \u500B\u6708\u524D","%s \u500B\u6708\u5F8C"],["1 \u5E74\u524D","1 \u5E74\u5F8C"],["%s \u5E74\u524D","%s \u5E74\u5F8C"]][s]}var t4=Wm.default=e4;const Oo={ar:XC,cs:ZC,de:YC,el:KC,es:JC,fi:QC,fr:$C,gl:eP,hi:tP,it:nP,ja:iP,ko:rP,nl:oP,pt:sP,ru:aP,sv:lP,th:uP,tr:cP,ur:hP,"zh-CN":dP,"zh-TW":fP},n4=Object.keys(Oo),Hr=new qC({allowMissing:!0});Hr.init=(i,s)=>{Hr.clear(),i&&(Hr.locale(i),Hr.extend(Oo[i])),s&&Hr.extend(s)},pn("ar",mP),pn("cs",yP),pn("de",wP),pn("el",xP),pn("es",SP),pn("fi",CP),pn("fr",AP),pn("gl",OP),pn("hi",DP),pn("it",BP),pn("ja",NP),pn("ko",LP),pn("nl",zP),pn("pt",UP),pn("ru",WP),pn("sv",qP),pn("th",ZP),pn("tr",KP),pn("zh-CN",$P),pn("zh-TW",t4),Hr.registerMessages=(i,s)=>{Oo[i]?Oo[i]={...Oo[i],...s}:Oo[i]=s};var ri=Hr,i4=i=>{const s=Ve();return mE(s,()=>i.onClickOutside()),Re.createElement("ul",{ref:s,className:"r6o-comment-dropdown-menu"},Re.createElement("li",{onClick:i.onEdit},ri.t("Edit")),Re.createElement("li",{onClick:i.onDelete},ri.t("Delete")))},Gm={},$c={},eh={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(i,s){(function(e,r){r(i,s)})(ir,function(e,r){var l=typeof Map=="function"?new Map:function(){var w=[],S=[];return{has:function(C){return w.indexOf(C)>-1},get:function(C){return S[w.indexOf(C)]},set:function(C,D){w.indexOf(C)===-1&&(w.push(C),S.push(D))},delete:function(C){var D=w.indexOf(C);D>-1&&(w.splice(D,1),S.splice(D,1))}}}(),c=function(w){return new Event(w,{bubbles:!0})};try{new Event("test")}catch{c=function(w){var S=document.createEvent("Event");return S.initEvent(w,!0,!1),S}}function p(w){if(!w||!w.nodeName||w.nodeName!=="TEXTAREA"||l.has(w))return;var S=null,C=null,D=null;function H(){var re=window.getComputedStyle(w,null);re.resize==="vertical"?w.style.resize="none":re.resize==="both"&&(w.style.resize="horizontal"),re.boxSizing==="content-box"?S=-(parseFloat(re.paddingTop)+parseFloat(re.paddingBottom)):S=parseFloat(re.borderTopWidth)+parseFloat(re.borderBottomWidth),isNaN(S)&&(S=0),P()}function J(re){{var he=w.style.width;w.style.width="0px",w.offsetWidth,w.style.width=he}w.style.overflowY=re}function G(re){for(var he=[];re&&re.parentNode&&re.parentNode instanceof Element;)re.parentNode.scrollTop&&he.push({node:re.parentNode,scrollTop:re.parentNode.scrollTop}),re=re.parentNode;return he}function ee(){if(w.scrollHeight!==0){var re=G(w),he=document.documentElement&&document.documentElement.scrollTop;w.style.height="",w.style.height=w.scrollHeight+S+"px",C=w.clientWidth,re.forEach(function(ge){ge.node.scrollTop=ge.scrollTop}),he&&(document.documentElement.scrollTop=he)}}function P(){ee();var re=Math.round(parseFloat(w.style.height)),he=window.getComputedStyle(w,null),ge=he.boxSizing==="content-box"?Math.round(parseFloat(he.height)):w.offsetHeight;if(ge<re?he.overflowY==="hidden"&&(J("scroll"),ee(),ge=he.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(w,null).height)):w.offsetHeight):he.overflowY!=="hidden"&&(J("hidden"),ee(),ge=he.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(w,null).height)):w.offsetHeight),D!==ge){D=ge;var Ie=c("autosize:resized");try{w.dispatchEvent(Ie)}catch{}}}var Z=function(){w.clientWidth!==C&&P()},oe=function(re){window.removeEventListener("resize",Z,!1),w.removeEventListener("input",P,!1),w.removeEventListener("keyup",P,!1),w.removeEventListener("autosize:destroy",oe,!1),w.removeEventListener("autosize:update",P,!1),Object.keys(re).forEach(function(he){w.style[he]=re[he]}),l.delete(w)}.bind(w,{height:w.style.height,resize:w.style.resize,overflowY:w.style.overflowY,overflowX:w.style.overflowX,wordWrap:w.style.wordWrap});w.addEventListener("autosize:destroy",oe,!1),"onpropertychange"in w&&"oninput"in w&&w.addEventListener("keyup",P,!1),window.addEventListener("resize",Z,!1),w.addEventListener("input",P,!1),w.addEventListener("autosize:update",P,!1),w.style.overflowX="hidden",w.style.wordWrap="break-word",l.set(w,{destroy:oe,update:P}),H()}function m(w){var S=l.get(w);S&&S.destroy()}function y(w){var S=l.get(w);S&&S.update()}var b=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(b=function(w){return w},b.destroy=function(w){return w},b.update=function(w){return w}):(b=function(w,S){return w&&Array.prototype.forEach.call(w.length?w:[w],function(C){return p(C)}),w},b.destroy=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],m),w},b.update=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],y),w}),r.default=b,e.exports=r.default})})(eh,eh.exports);var r4=function(i,s,e){return e=window.getComputedStyle,(e?e(i):i.currentStyle)[s.replace(/-(\w)/gi,function(r,l){return l.toUpperCase()})]},o4=r4,th=o4;function s4(i){var s=th(i,"line-height"),e=parseFloat(s,10);if(s===e+""){var r=i.style.lineHeight;i.style.lineHeight=s+"em",s=th(i,"line-height"),e=parseFloat(s,10),r?i.style.lineHeight=r:delete i.style.lineHeight}if(s.indexOf("pt")!==-1?(e*=4,e/=3):s.indexOf("mm")!==-1?(e*=96,e/=25.4):s.indexOf("cm")!==-1?(e*=96,e/=2.54):s.indexOf("in")!==-1?e*=96:s.indexOf("pc")!==-1&&(e*=16),e=Math.round(e),s==="normal"){var l=i.nodeName,c=document.createElement(l);c.innerHTML="&nbsp;",l.toUpperCase()==="TEXTAREA"&&c.setAttribute("rows","1");var p=th(i,"font-size");c.style.fontSize=p,c.style.padding="0px",c.style.border="0px";var m=document.body;m.appendChild(c);var y=c.offsetHeight;e=y,m.removeChild(c)}return e}var a4=s4,l4=ir&&ir.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,e){s.__proto__=e}||function(s,e){for(var r in e)e.hasOwnProperty(r)&&(s[r]=e[r])};return function(s,e){i(s,e);function r(){this.constructor=s}s.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nh=ir&&ir.__assign||Object.assign||function(i){for(var s,e=1,r=arguments.length;e<r;e++){s=arguments[e];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},u4=ir&&ir.__rest||function(i,s){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(e[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)s.indexOf(r[l])<0&&(e[r[l]]=i[r[l]]);return e};$c.__esModule=!0;var Qa=wo,Es=ms.exports,$a=eh.exports,c4=a4,h4=c4,qm="autosize:resized",d4=function(i){l4(s,i);function s(){var e=i!==null&&i.apply(this,arguments)||this;return e.state={lineHeight:null},e.textarea=null,e.onResize=function(r){e.props.onResize&&e.props.onResize(r)},e.updateLineHeight=function(){e.textarea&&e.setState({lineHeight:h4(e.textarea)})},e.onChange=function(r){var l=e.props.onChange;e.currentValue=r.currentTarget.value,l&&l(r)},e}return s.prototype.componentDidMount=function(){var e=this,r=this.props,l=r.maxRows,c=r.async;typeof l=="number"&&this.updateLineHeight(),typeof l=="number"||c?setTimeout(function(){return e.textarea&&$a(e.textarea)}):this.textarea&&$a(this.textarea),this.textarea&&this.textarea.addEventListener(qm,this.onResize)},s.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(qm,this.onResize),$a.destroy(this.textarea))},s.prototype.render=function(){var e=this,r=this,l=r.props;l.onResize;var c=l.maxRows;l.onChange;var p=l.style;l.innerRef;var m=l.children,y=u4(l,["onResize","maxRows","onChange","style","innerRef","children"]),b=r.state.lineHeight,w=c&&b?b*c:null;return Qa.createElement("textarea",nh({},y,{onChange:this.onChange,style:w?nh({},p,{maxHeight:w}):p,ref:function(S){e.textarea=S,typeof e.props.innerRef=="function"?e.props.innerRef(S):e.props.innerRef&&(e.props.innerRef.current=S)}}),m)},s.prototype.componentDidUpdate=function(){this.textarea&&$a.update(this.textarea)},s.defaultProps={rows:1,async:!1},s.propTypes={rows:Es.number,maxRows:Es.number,onResize:Es.func,innerRef:Es.any,async:Es.bool},s}(Qa.Component);$c.TextareaAutosize=Qa.forwardRef(function(i,s){return Qa.createElement(d4,nh({},i,{innerRef:s}))}),function(i){i.__esModule=!0;var s=$c;i.default=s.TextareaAutosize}(Gm);var f4=nx(Gm);class Xm extends me{constructor(s){super(s),u(this,"onKeyDown",e=>{e.which===13&&e.ctrlKey&&this.props.onSaveAndClose()}),this.element=ce()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Re.createElement(f4,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||ri.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function yt(){return yt=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},yt.apply(this,arguments)}function p4(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function g4(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var m4=function(){function i(e){var r=this;this._insertTag=function(l){var c;r.tags.length===0?r.insertionPoint?c=r.insertionPoint.nextSibling:r.prepend?c=r.container.firstChild:c=r.before:c=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(l,c),r.tags.push(l)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(e){e.forEach(this._insertTag)},s.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(g4(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var l=p4(r);try{l.insertRule(e,l.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(e));this.ctr++},s.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},i}(),Hn="-ms-",el="-moz-",Wt="-webkit-",Zm="comm",ih="rule",rh="decl",v4="@import",Ym="@keyframes",y4=Math.abs,tl=String.fromCharCode,b4=Object.assign;function w4(i,s){return(((s<<2^Gn(i,0))<<2^Gn(i,1))<<2^Gn(i,2))<<2^Gn(i,3)}function Km(i){return i.trim()}function _4(i,s){return(i=s.exec(i))?i[0]:i}function Xt(i,s,e){return i.replace(s,e)}function oh(i,s){return i.indexOf(s)}function Gn(i,s){return i.charCodeAt(s)|0}function Ss(i,s,e){return i.slice(s,e)}function Ri(i){return i.length}function sh(i){return i.length}function nl(i,s){return s.push(i),i}function x4(i,s){return i.map(s).join("")}var il=1,ko=1,Jm=0,qn=0,_n=0,Do="";function rl(i,s,e,r,l,c,p){return{value:i,root:s,parent:e,type:r,props:l,children:c,line:il,column:ko,length:p,return:""}}function Ts(i,s){return b4(rl("",null,null,"",null,null,0),i,{length:-i.length},s)}function E4(){return _n}function S4(){return _n=qn>0?Gn(Do,--qn):0,ko--,_n===10&&(ko=1,il--),_n}function oi(){return _n=qn<Jm?Gn(Do,qn++):0,ko++,_n===10&&(ko=1,il++),_n}function Oi(){return Gn(Do,qn)}function ol(){return qn}function Cs(i,s){return Ss(Do,i,s)}function Ps(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qm(i){return il=ko=1,Jm=Ri(Do=i),qn=0,[]}function $m(i){return Do="",i}function sl(i){return Km(Cs(qn-1,ah(i===91?i+2:i===40?i+1:i)))}function T4(i){for(;(_n=Oi())&&_n<33;)oi();return Ps(i)>2||Ps(_n)>3?"":" "}function C4(i,s){for(;--s&&oi()&&!(_n<48||_n>102||_n>57&&_n<65||_n>70&&_n<97););return Cs(i,ol()+(s<6&&Oi()==32&&oi()==32))}function ah(i){for(;oi();)switch(_n){case i:return qn;case 34:case 39:i!==34&&i!==39&&ah(_n);break;case 40:i===41&&ah(i);break;case 92:oi();break}return qn}function P4(i,s){for(;oi()&&i+_n!==47+10&&!(i+_n===42+42&&Oi()===47););return"/*"+Cs(s,qn-1)+"*"+tl(i===47?i:oi())}function A4(i){for(;!Ps(Oi());)oi();return Cs(i,qn)}function R4(i){return $m(al("",null,null,null,[""],i=Qm(i),0,[0],i))}function al(i,s,e,r,l,c,p,m,y){for(var b=0,w=0,S=p,C=0,D=0,H=0,J=1,G=1,ee=1,P=0,Z="",oe=l,re=c,he=r,ge=Z;G;)switch(H=P,P=oi()){case 40:if(H!=108&&ge.charCodeAt(S-1)==58){oh(ge+=Xt(sl(P),"&","&\f"),"&\f")!=-1&&(ee=-1);break}case 34:case 39:case 91:ge+=sl(P);break;case 9:case 10:case 13:case 32:ge+=T4(H);break;case 92:ge+=C4(ol()-1,7);continue;case 47:switch(Oi()){case 42:case 47:nl(O4(P4(oi(),ol()),s,e),y);break;default:ge+="/"}break;case 123*J:m[b++]=Ri(ge)*ee;case 125*J:case 59:case 0:switch(P){case 0:case 125:G=0;case 59+w:D>0&&Ri(ge)-S&&nl(D>32?tv(ge+";",r,e,S-1):tv(Xt(ge," ","")+";",r,e,S-2),y);break;case 59:ge+=";";default:if(nl(he=ev(ge,s,e,b,w,l,m,Z,oe=[],re=[],S),c),P===123)if(w===0)al(ge,s,he,he,oe,c,S,m,re);else switch(C){case 100:case 109:case 115:al(i,he,he,r&&nl(ev(i,he,he,0,0,l,m,Z,l,oe=[],S),re),l,re,S,m,r?oe:re);break;default:al(ge,he,he,he,[""],re,0,m,re)}}b=w=D=0,J=ee=1,Z=ge="",S=p;break;case 58:S=1+Ri(ge),D=H;default:if(J<1){if(P==123)--J;else if(P==125&&J++==0&&S4()==125)continue}switch(ge+=tl(P),P*J){case 38:ee=w>0?1:(ge+="\f",-1);break;case 44:m[b++]=(Ri(ge)-1)*ee,ee=1;break;case 64:Oi()===45&&(ge+=sl(oi())),C=Oi(),w=S=Ri(Z=ge+=A4(ol())),P++;break;case 45:H===45&&Ri(ge)==2&&(J=0)}}return c}function ev(i,s,e,r,l,c,p,m,y,b,w){for(var S=l-1,C=l===0?c:[""],D=sh(C),H=0,J=0,G=0;H<r;++H)for(var ee=0,P=Ss(i,S+1,S=y4(J=p[H])),Z=i;ee<D;++ee)(Z=Km(J>0?C[ee]+" "+P:Xt(P,/&\f/g,C[ee])))&&(y[G++]=Z);return rl(i,s,e,l===0?ih:m,y,b,w)}function O4(i,s,e){return rl(i,s,e,Zm,tl(E4()),Ss(i,2,-2),0)}function tv(i,s,e,r){return rl(i,s,e,rh,Ss(i,0,r),Ss(i,r+1,-1),r)}function nv(i,s){switch(w4(i,s)){case 5103:return Wt+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+i+el+i+Hn+i+i;case 6828:case 4268:return Wt+i+Hn+i+i;case 6165:return Wt+i+Hn+"flex-"+i+i;case 5187:return Wt+i+Xt(i,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Hn+"flex-$1$2")+i;case 5443:return Wt+i+Hn+"flex-item-"+Xt(i,/flex-|-self/,"")+i;case 4675:return Wt+i+Hn+"flex-line-pack"+Xt(i,/align-content|flex-|-self/,"")+i;case 5548:return Wt+i+Hn+Xt(i,"shrink","negative")+i;case 5292:return Wt+i+Hn+Xt(i,"basis","preferred-size")+i;case 6060:return Wt+"box-"+Xt(i,"-grow","")+Wt+i+Hn+Xt(i,"grow","positive")+i;case 4554:return Wt+Xt(i,/([^-])(transform)/g,"$1"+Wt+"$2")+i;case 6187:return Xt(Xt(Xt(i,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),i,"")+i;case 5495:case 3959:return Xt(i,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Xt(Xt(i,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+i+i;case 4095:case 3583:case 4068:case 2532:return Xt(i,/(.+)-inline(.+)/,Wt+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ri(i)-1-s>6)switch(Gn(i,s+1)){case 109:if(Gn(i,s+4)!==45)break;case 102:return Xt(i,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+el+(Gn(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~oh(i,"stretch")?nv(Xt(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(Gn(i,s+1)!==115)break;case 6444:switch(Gn(i,Ri(i)-3-(~oh(i,"!important")&&10))){case 107:return Xt(i,":",":"+Wt)+i;case 101:return Xt(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(Gn(i,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Hn+"$2box$3")+i}break;case 5936:switch(Gn(i,s+11)){case 114:return Wt+i+Hn+Xt(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Wt+i+Hn+Xt(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Wt+i+Hn+Xt(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Wt+i+Hn+i+i}return i}function Mo(i,s){for(var e="",r=sh(i),l=0;l<r;l++)e+=s(i[l],l,i,s)||"";return e}function k4(i,s,e,r){switch(i.type){case v4:case rh:return i.return=i.return||i.value;case Zm:return"";case Ym:return i.return=i.value+"{"+Mo(i.children,r)+"}";case ih:i.value=i.props.join(",")}return Ri(e=Mo(i.children,r))?i.return=i.value+"{"+e+"}":""}function D4(i){var s=sh(i);return function(e,r,l,c){for(var p="",m=0;m<s;m++)p+=i[m](e,r,l,c)||"";return p}}function M4(i){return function(s){s.root||(s=s.return)&&i(s)}}function B4(i,s,e,r){if(i.length>-1&&!i.return)switch(i.type){case rh:i.return=nv(i.value,i.length);break;case Ym:return Mo([Ts(i,{value:Xt(i.value,"@","@"+Wt)})],r);case ih:if(i.length)return x4(i.props,function(l){switch(_4(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mo([Ts(i,{props:[Xt(l,/:(read-\w+)/,":"+el+"$1")]})],r);case"::placeholder":return Mo([Ts(i,{props:[Xt(l,/:(plac\w+)/,":"+Wt+"input-$1")]}),Ts(i,{props:[Xt(l,/:(plac\w+)/,":"+el+"$1")]}),Ts(i,{props:[Xt(l,/:(plac\w+)/,Hn+"input-$1")]})],r)}return""})}}function I4(i){var s=Object.create(null);return function(e){return s[e]===void 0&&(s[e]=i(e)),s[e]}}var N4=function(i,s,e){for(var r=0,l=0;r=l,l=Oi(),r===38&&l===12&&(s[e]=1),!Ps(l);)oi();return Cs(i,qn)},F4=function(i,s){var e=-1,r=44;do switch(Ps(r)){case 0:r===38&&Oi()===12&&(s[e]=1),i[e]+=N4(qn-1,s,e);break;case 2:i[e]+=sl(r);break;case 4:if(r===44){i[++e]=Oi()===58?"&\f":"",s[e]=i[e].length;break}default:i[e]+=tl(r)}while(r=oi());return i},L4=function(i,s){return $m(F4(Qm(i),s))},iv=new WeakMap,H4=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,e=i.parent,r=i.column===e.column&&i.line===e.line;e.type!=="rule";)if(e=e.parent,!e)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!iv.get(e))&&!r){iv.set(i,!0);for(var l=[],c=L4(s,l),p=e.props,m=0,y=0;m<c.length;m++)for(var b=0;b<p.length;b++,y++)i.props[y]=l[m]?c[m].replace(/&\f/g,p[b]):p[b]+" "+c[m]}}},z4=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}},j4=[B4],U4=function(i){var s=i.key;if(s==="css"){var e=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(e,function(H){var J=H.getAttribute("data-emotion");J.indexOf(" ")!==-1&&(document.head.appendChild(H),H.setAttribute("data-s",""))})}var r=i.stylisPlugins||j4,l={},c,p=[];c=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(H){for(var J=H.getAttribute("data-emotion").split(" "),G=1;G<J.length;G++)l[J[G]]=!0;p.push(H)});var m,y=[H4,z4];{var b,w=[k4,M4(function(H){b.insert(H)})],S=D4(y.concat(r,w)),C=function(H){return Mo(R4(H),S)};m=function(H,J,G,ee){b=G,C(H?H+"{"+J.styles+"}":J.styles),ee&&(D.inserted[J.name]=!0)}}var D={key:s,sheet:new m4({key:s,container:c,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:l,registered:{},insert:m};return D.sheet.hydrate(p),D},rv={exports:{}},Yt={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tn=typeof Symbol=="function"&&Symbol.for,lh=Tn?Symbol.for("react.element"):60103,uh=Tn?Symbol.for("react.portal"):60106,ll=Tn?Symbol.for("react.fragment"):60107,ul=Tn?Symbol.for("react.strict_mode"):60108,cl=Tn?Symbol.for("react.profiler"):60114,hl=Tn?Symbol.for("react.provider"):60109,dl=Tn?Symbol.for("react.context"):60110,ch=Tn?Symbol.for("react.async_mode"):60111,fl=Tn?Symbol.for("react.concurrent_mode"):60111,pl=Tn?Symbol.for("react.forward_ref"):60112,gl=Tn?Symbol.for("react.suspense"):60113,V4=Tn?Symbol.for("react.suspense_list"):60120,ml=Tn?Symbol.for("react.memo"):60115,vl=Tn?Symbol.for("react.lazy"):60116,W4=Tn?Symbol.for("react.block"):60121,G4=Tn?Symbol.for("react.fundamental"):60117,q4=Tn?Symbol.for("react.responder"):60118,X4=Tn?Symbol.for("react.scope"):60119;function si(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case lh:switch(i=i.type,i){case ch:case fl:case ll:case cl:case ul:case gl:return i;default:switch(i=i&&i.$$typeof,i){case dl:case pl:case vl:case ml:case hl:return i;default:return s}}case uh:return s}}}function ov(i){return si(i)===fl}Yt.AsyncMode=ch,Yt.ConcurrentMode=fl,Yt.ContextConsumer=dl,Yt.ContextProvider=hl,Yt.Element=lh,Yt.ForwardRef=pl,Yt.Fragment=ll,Yt.Lazy=vl,Yt.Memo=ml,Yt.Portal=uh,Yt.Profiler=cl,Yt.StrictMode=ul,Yt.Suspense=gl,Yt.isAsyncMode=function(i){return ov(i)||si(i)===ch},Yt.isConcurrentMode=ov,Yt.isContextConsumer=function(i){return si(i)===dl},Yt.isContextProvider=function(i){return si(i)===hl},Yt.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===lh},Yt.isForwardRef=function(i){return si(i)===pl},Yt.isFragment=function(i){return si(i)===ll},Yt.isLazy=function(i){return si(i)===vl},Yt.isMemo=function(i){return si(i)===ml},Yt.isPortal=function(i){return si(i)===uh},Yt.isProfiler=function(i){return si(i)===cl},Yt.isStrictMode=function(i){return si(i)===ul},Yt.isSuspense=function(i){return si(i)===gl},Yt.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===ll||i===fl||i===cl||i===ul||i===gl||i===V4||typeof i=="object"&&i!==null&&(i.$$typeof===vl||i.$$typeof===ml||i.$$typeof===hl||i.$$typeof===dl||i.$$typeof===pl||i.$$typeof===G4||i.$$typeof===q4||i.$$typeof===X4||i.$$typeof===W4)},Yt.typeOf=si,rv.exports=Yt;var sv=rv.exports,Z4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Y4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},av={};av[sv.ForwardRef]=Z4,av[sv.Memo]=Y4;var K4=!0;function lv(i,s,e){var r="";return e.split(" ").forEach(function(l){i[l]!==void 0?s.push(i[l]+";"):r+=l+" "}),r}var uv=function(i,s,e){var r=i.key+"-"+s.name;if((e===!1||K4===!1)&&i.registered[r]===void 0&&(i.registered[r]=s.styles),i.inserted[s.name]===void 0){var l=s;do i.insert(s===l?"."+r:"",l,i.sheet,!0),l=l.next;while(l!==void 0)}};function J4(i){for(var s=0,e,r=0,l=i.length;l>=4;++r,l-=4)e=i.charCodeAt(r)&255|(i.charCodeAt(++r)&255)<<8|(i.charCodeAt(++r)&255)<<16|(i.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,s=(e&65535)*1540483477+((e>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(l){case 3:s^=(i.charCodeAt(r+2)&255)<<16;case 2:s^=(i.charCodeAt(r+1)&255)<<8;case 1:s^=i.charCodeAt(r)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var Q4={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$4=/[A-Z]|^ms/g,eA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cv=function(i){return i.charCodeAt(1)===45},hv=function(i){return i!=null&&typeof i!="boolean"},hh=I4(function(i){return cv(i)?i:i.replace($4,"-$&").toLowerCase()}),dv=function(i,s){switch(i){case"animation":case"animationName":if(typeof s=="string")return s.replace(eA,function(e,r,l){return ki={name:r,styles:l,next:ki},r})}return Q4[i]!==1&&!cv(i)&&typeof s=="number"&&s!==0?s+"px":s};function As(i,s,e){if(e==null)return"";if(e.__emotion_styles!==void 0)return e;switch(typeof e){case"boolean":return"";case"object":{if(e.anim===1)return ki={name:e.name,styles:e.styles,next:ki},e.name;if(e.styles!==void 0){var r=e.next;if(r!==void 0)for(;r!==void 0;)ki={name:r.name,styles:r.styles,next:ki},r=r.next;var l=e.styles+";";return l}return tA(i,s,e)}case"function":{if(i!==void 0){var c=ki,p=e(i);return ki=c,As(i,s,p)}break}}if(s==null)return e;var m=s[e];return m!==void 0?m:e}function tA(i,s,e){var r="";if(Array.isArray(e))for(var l=0;l<e.length;l++)r+=As(i,s,e[l])+";";else for(var c in e){var p=e[c];if(typeof p!="object")s!=null&&s[p]!==void 0?r+=c+"{"+s[p]+"}":hv(p)&&(r+=hh(c)+":"+dv(c,p)+";");else if(Array.isArray(p)&&typeof p[0]=="string"&&(s==null||s[p[0]]===void 0))for(var m=0;m<p.length;m++)hv(p[m])&&(r+=hh(c)+":"+dv(c,p[m])+";");else{var y=As(i,s,p);switch(c){case"animation":case"animationName":{r+=hh(c)+":"+y+";";break}default:r+=c+"{"+y+"}"}}}return r}var fv=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ki,dh=function(i,s,e){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var r=!0,l="";ki=void 0;var c=i[0];c==null||c.raw===void 0?(r=!1,l+=As(e,s,c)):l+=c[0];for(var p=1;p<i.length;p++)l+=As(e,s,i[p]),r&&(l+=c[p]);fv.lastIndex=0;for(var m="",y;(y=fv.exec(l))!==null;)m+="-"+y[1];var b=J4(l)+m;return{name:b,styles:l,next:ki}},fh={}.hasOwnProperty,pv=Et(typeof HTMLElement<"u"?U4({key:"css"}):null);pv.Provider;var gv=function(i){return lc(function(s,e){var r=R(pv);return i(s,r,e)})},mv=Et({}),ph="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nA=function(i,s){var e={};for(var r in s)fh.call(s,r)&&(e[r]=s[r]);return e[ph]=i,e},iA=function(){return null},rA=gv(function(i,s,e){var r=i.css;typeof r=="string"&&s.registered[r]!==void 0&&(r=s.registered[r]);var l=i[ph],c=[r],p="";typeof i.className=="string"?p=lv(s.registered,c,i.className):i.className!=null&&(p=i.className+" ");var m=dh(c,void 0,R(mv));uv(s,m,typeof l=="string"),p+=s.key+"-"+m.name;var y={};for(var b in i)fh.call(i,b)&&b!=="css"&&b!==ph&&(y[b]=i[b]);y.ref=e,y.className=p;var w=L(l,y),S=L(iA,null);return L(pe,null,S,w)}),bt=function(i,s){var e=arguments;if(s==null||!fh.call(s,"css"))return L.apply(void 0,e);var r=e.length,l=new Array(r);l[0]=rA,l[1]=nA(i,s);for(var c=2;c<r;c++)l[c]=e[c];return L.apply(null,l)};function gh(){for(var i=arguments.length,s=new Array(i),e=0;e<i;e++)s[e]=arguments[e];return dh(s)}var oA=function(){var i=gh.apply(void 0,arguments),s="animation-"+i.name;return{name:s,styles:"@keyframes "+s+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},sA=function i(s){for(var e=s.length,r=0,l="";r<e;r++){var c=s[r];if(c!=null){var p=void 0;switch(typeof c){case"boolean":break;case"object":{if(Array.isArray(c))p=i(c);else{p="";for(var m in c)c[m]&&m&&(p&&(p+=" "),p+=m)}break}default:p=c}p&&(l&&(l+=" "),l+=p)}}return l};function aA(i,s,e){var r=[],l=lv(i,r,e);return r.length<2?e:l+s(r)}var lA=function(){return null},uA=gv(function(i,s){var e=function(){for(var m=arguments.length,y=new Array(m),b=0;b<m;b++)y[b]=arguments[b];var w=dh(y,s.registered);return uv(s,w,!1),s.key+"-"+w.name},r=function(){for(var m=arguments.length,y=new Array(m),b=0;b<m;b++)y[b]=arguments[b];return aA(s.registered,e,sA(y))},l={css:e,cx:r,theme:R(mv)},c=i.children(l),p=L(lA,null);return L(pe,null,p,c)});function cA(i,s){return s||(s=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(s)}}))}function mh(i,s){if(i==null)return{};var e={},r=Object.keys(i),l,c;for(c=0;c<r.length;c++)l=r[c],!(s.indexOf(l)>=0)&&(e[l]=i[l]);return e}function Bo(i,s){if(i==null)return{};var e=mh(i,s),r,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(l=0;l<c.length;l++)r=c[l],!(s.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(e[r]=i[r]))}return e}function vh(i){return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vh(i)}var vv={};Object.defineProperty(vv,"__esModule",{value:!0});var yh=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},yv=function(){function i(s,e){for(var r=0;r<e.length;r++){var l=e[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,e,r){return e&&i(s.prototype,e),r&&i(s,r),s}}(),bv=wo,Rs=wv(bv),hA=ms.exports,xn=wv(hA);function wv(i){return i&&i.__esModule?i:{default:i}}function dA(i,s){var e={};for(var r in i)s.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(i,r)||(e[r]=i[r]);return e}function fA(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function pA(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function gA(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var _v={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},mA=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],vA=function(i){return mA.forEach(function(s){return delete i[s]}),i},xv=function(i,s){s.style.fontSize=i.fontSize,s.style.fontFamily=i.fontFamily,s.style.fontWeight=i.fontWeight,s.style.fontStyle=i.fontStyle,s.style.letterSpacing=i.letterSpacing,s.style.textTransform=i.textTransform},Ev=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,Sv=function(){return Ev?"_"+Math.random().toString(36).substr(2,12):void 0},bh=function(i){gA(s,i),yv(s,null,[{key:"getDerivedStateFromProps",value:function(e,r){var l=e.id;return l!==r.prevId?{inputId:l||Sv(),prevId:l}:null}}]);function s(e){fA(this,s);var r=pA(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return r.inputRef=function(l){r.input=l,typeof r.props.inputRef=="function"&&r.props.inputRef(l)},r.placeHolderSizerRef=function(l){r.placeHolderSizer=l},r.sizerRef=function(l){r.sizer=l},r.state={inputWidth:e.minWidth,inputId:e.id||Sv(),prevId:e.id},r}return yv(s,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var e=this.input&&window.getComputedStyle(this.input);!e||(xv(e,this.sizer),this.placeHolderSizer&&xv(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var e=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?e=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:e=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;e+=r,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return Ev&&e?Rs.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(p,m){return p!=null?p:m}),r=yh({},this.props.style);r.display||(r.display="inline-block");var l=yh({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),c=dA(this.props,[]);return vA(c),c.className=this.props.inputClassName,c.id=this.state.inputId,c.style=l,Rs.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),Rs.default.createElement("input",yh({},c,{ref:this.inputRef})),Rs.default.createElement("div",{ref:this.sizerRef,style:_v},e),this.props.placeholder?Rs.default.createElement("div",{ref:this.placeHolderSizerRef,style:_v},this.props.placeholder):null)}}]),s}(bv.Component);bh.propTypes={className:xn.default.string,defaultValue:xn.default.any,extraWidth:xn.default.oneOfType([xn.default.number,xn.default.string]),id:xn.default.string,injectStyles:xn.default.bool,inputClassName:xn.default.string,inputRef:xn.default.func,inputStyle:xn.default.object,minWidth:xn.default.oneOfType([xn.default.number,xn.default.string]),onAutosize:xn.default.func,onChange:xn.default.func,placeholder:xn.default.string,placeholderIsMinWidth:xn.default.bool,style:xn.default.object,value:xn.default.any},bh.defaultProps={minWidth:1,injectStyles:!0};var yA=vv.default=bh;function yl(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function Tv(i,s){for(var e=0;e<s.length;e++){var r=s[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function bl(i,s,e){return s&&Tv(i.prototype,s),e&&Tv(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function wl(i,s){return wl=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},wl(i,s)}function _l(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&wl(i,s)}function Hi(i,s,e){return s in i?Object.defineProperty(i,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[s]=e,i}function bA(i,s,e){return s in i?Object.defineProperty(i,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[s]=e,i}function Cv(i,s){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),e.push.apply(e,r)}return e}function An(i){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?Cv(Object(e),!0).forEach(function(r){bA(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Cv(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function xl(i){return xl=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},xl(i)}function wA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _A(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function xA(i,s){return s&&(typeof s=="object"||typeof s=="function")?s:_A(i)}function El(i){var s=wA();return function(){var e=xl(i),r;if(s){var l=xl(this).constructor;r=Reflect.construct(e,arguments,l)}else r=e.apply(this,arguments);return xA(this,r)}}var Sl=function(){};function EA(i,s){return s?s[0]==="-"?i+s:i+"__"+s:i}function SA(i,s,e){var r=[e];if(s&&i)for(var l in s)s.hasOwnProperty(l)&&s[l]&&r.push("".concat(EA(i,l)));return r.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var Pv=function(i){return Array.isArray(i)?i.filter(Boolean):vh(i)==="object"&&i!==null?[i]:[]},Av=function(i){i.className,i.clearValue,i.cx,i.getStyles,i.getValue,i.hasValue,i.isMulti,i.isRtl,i.options,i.selectOption,i.selectProps,i.setValue,i.theme;var s=Bo(i,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return An({},s)};function wh(i){return[document.documentElement,document.body,window].indexOf(i)>-1}function Rv(i){return wh(i)?window.pageYOffset:i.scrollTop}function Tl(i,s){if(wh(i)){window.scrollTo(0,s);return}i.scrollTop=s}function TA(i){var s=getComputedStyle(i),e=s.position==="absolute",r=/(auto|scroll)/,l=document.documentElement;if(s.position==="fixed")return l;for(var c=i;c=c.parentElement;)if(s=getComputedStyle(c),!(e&&s.position==="static")&&r.test(s.overflow+s.overflowY+s.overflowX))return c;return l}function CA(i,s,e,r){return e*((i=i/r-1)*i*i+1)+s}function Cl(i,s){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Sl,l=Rv(i),c=s-l,p=10,m=0;function y(){m+=p;var b=CA(m,l,c,e);Tl(i,b),m<e?window.requestAnimationFrame(y):r(i)}y()}function PA(i,s){var e=i.getBoundingClientRect(),r=s.getBoundingClientRect(),l=s.offsetHeight/3;r.bottom+l>e.bottom?Tl(i,Math.min(s.offsetTop+s.clientHeight-i.offsetHeight+l,i.scrollHeight)):r.top-l<e.top&&Tl(i,Math.max(s.offsetTop-l,0))}function AA(i){var s=i.getBoundingClientRect();return{bottom:s.bottom,height:s.height,left:s.left,right:s.right,top:s.top,width:s.width}}function Ov(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function RA(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kv=!1,OA={get passive(){return kv=!0}},Pl=typeof window<"u"?window:{};Pl.addEventListener&&Pl.removeEventListener&&(Pl.addEventListener("p",Sl,OA),Pl.removeEventListener("p",Sl,!1));var kA=kv;function DA(i){var s=i.maxHeight,e=i.menuEl,r=i.minHeight,l=i.placement,c=i.shouldScroll,p=i.isFixedPosition,m=i.theme,y=m.spacing,b=TA(e),w={placement:"bottom",maxHeight:s};if(!e||!e.offsetParent)return w;var S=b.getBoundingClientRect(),C=S.height,D=e.getBoundingClientRect(),H=D.bottom,J=D.height,G=D.top,ee=e.offsetParent.getBoundingClientRect(),P=ee.top,Z=window.innerHeight,oe=Rv(b),re=parseInt(getComputedStyle(e).marginBottom,10),he=parseInt(getComputedStyle(e).marginTop,10),ge=P-he,Ie=Z-G,ze=ge+oe,Qe=C-oe-G,rt=H-Z+oe+re,$e=oe+G-he,pt=160;switch(l){case"auto":case"bottom":if(Ie>=J)return{placement:"bottom",maxHeight:s};if(Qe>=J&&!p)return c&&Cl(b,rt,pt),{placement:"bottom",maxHeight:s};if(!p&&Qe>=r||p&&Ie>=r){c&&Cl(b,rt,pt);var ft=p?Ie-re:Qe-re;return{placement:"bottom",maxHeight:ft}}if(l==="auto"||p){var Tt=s,_t=p?ge:ze;return _t>=r&&(Tt=Math.min(_t-re-y.controlHeight,s)),{placement:"top",maxHeight:Tt}}if(l==="bottom")return c&&Tl(b,rt),{placement:"bottom",maxHeight:s};break;case"top":if(ge>=J)return{placement:"top",maxHeight:s};if(ze>=J&&!p)return c&&Cl(b,$e,pt),{placement:"top",maxHeight:s};if(!p&&ze>=r||p&&ge>=r){var At=s;return(!p&&ze>=r||p&&ge>=r)&&(At=p?ge-he:ze-he),c&&Cl(b,$e,pt),{placement:"top",maxHeight:At}}return{placement:"bottom",maxHeight:s};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return w}function MA(i){var s={bottom:"top",top:"bottom"};return i?s[i]:"bottom"}var _h=function(i){return i==="auto"?"bottom":i},BA=function(i){var s,e=i.placement,r=i.theme,l=r.borderRadius,c=r.spacing,p=r.colors;return s={label:"menu"},Hi(s,MA(e),"100%"),Hi(s,"backgroundColor",p.neutral0),Hi(s,"borderRadius",l),Hi(s,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Hi(s,"marginBottom",c.menuGutter),Hi(s,"marginTop",c.menuGutter),Hi(s,"position","absolute"),Hi(s,"width","100%"),Hi(s,"zIndex",1),s},Dv=Et({getPortalPlacement:null}),Mv=function(i){_l(e,i);var s=El(e);function e(){var r;yl(this,e);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(m){var y=r.props,b=y.minMenuHeight,w=y.maxMenuHeight,S=y.menuPlacement,C=y.menuPosition,D=y.menuShouldScrollIntoView,H=y.theme;if(m){var J=C==="fixed",G=D&&!J,ee=DA({maxHeight:w,menuEl:m,minHeight:b,placement:S,shouldScroll:G,isFixedPosition:J,theme:H}),P=r.context.getPortalPlacement;P&&P(ee),r.setState(ee)}},r.getUpdatedProps=function(){var m=r.props.menuPlacement,y=r.state.placement||_h(m);return An(An({},r.props),{},{placement:y,maxHeight:r.state.maxHeight})},r}return bl(e,[{key:"render",value:function(){var r=this.props.children;return r({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),e}(me);Mv.contextType=Dv;var IA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerRef,p=i.innerProps;return bt("div",yt({css:l("menu",i),className:r({menu:!0},e),ref:c},p),s)},NA=function(i){var s=i.maxHeight,e=i.theme.spacing.baseUnit;return{maxHeight:s,overflowY:"auto",paddingBottom:e,paddingTop:e,position:"relative",WebkitOverflowScrolling:"touch"}},FA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps,p=i.innerRef,m=i.isMulti;return bt("div",yt({css:l("menuList",i),className:r({"menu-list":!0,"menu-list--is-multi":m},e),ref:p},c),s)},Bv=function(i){var s=i.theme,e=s.spacing.baseUnit,r=s.colors;return{color:r.neutral40,padding:"".concat(e*2,"px ").concat(e*3,"px"),textAlign:"center"}},LA=Bv,HA=Bv,Iv=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("noOptionsMessage",i),className:r({"menu-notice":!0,"menu-notice--no-options":!0},e)},c),s)};Iv.defaultProps={children:"No options"};var Nv=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("loadingMessage",i),className:r({"menu-notice":!0,"menu-notice--loading":!0},e)},c),s)};Nv.defaultProps={children:"Loading..."};var zA=function(i){var s=i.rect,e=i.offset,r=i.position;return{left:s.left,position:r,top:e,width:s.width,zIndex:1}},jA=function(i){_l(e,i);var s=El(e);function e(){var r;yl(this,e);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),r.state={placement:null},r.getPortalPlacement=function(m){var y=m.placement,b=_h(r.props.menuPlacement);y!==b&&r.setState({placement:y})},r}return bl(e,[{key:"render",value:function(){var r=this.props,l=r.appendTo,c=r.children,p=r.className,m=r.controlElement,y=r.cx,b=r.innerProps,w=r.menuPlacement,S=r.menuPosition,C=r.getStyles,D=S==="fixed";if(!l&&!D||!m)return null;var H=this.state.placement||_h(w),J=AA(m),G=D?0:window.pageYOffset,ee=J[H]+G,P={offset:ee,position:S,rect:J},Z=bt("div",yt({css:C("menuPortal",P),className:y({"menu-portal":!0},p)},b),c);return bt(Dv.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},l?uc(Z,l):Z)}}]),e}(me),UA=function(i){var s=i.isDisabled,e=i.isRtl;return{label:"container",direction:e?"rtl":null,pointerEvents:s?"none":null,position:"relative"}},VA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps,p=i.isDisabled,m=i.isRtl;return bt("div",yt({css:l("container",i),className:r({"--is-disabled":p,"--is-rtl":m},e)},c),s)},WA=function(i){var s=i.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},GA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.innerProps,c=i.isMulti,p=i.getStyles,m=i.hasValue;return bt("div",yt({css:p("valueContainer",i),className:r({"value-container":!0,"value-container--is-multi":c,"value-container--has-value":m},e)},l),s)},qA=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},XA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.innerProps,c=i.getStyles;return bt("div",yt({css:c("indicatorsContainer",i),className:r({indicators:!0},e)},l),s)},Fv,ZA={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Lv=function(i){var s=i.size,e=Bo(i,["size"]);return bt("svg",yt({height:s,width:s,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ZA},e))},xh=function(i){return bt(Lv,yt({size:20},i),bt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Hv=function(i){return bt(Lv,yt({size:20},i),bt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zv=function(i){var s=i.isFocused,e=i.theme,r=e.spacing.baseUnit,l=e.colors;return{label:"indicatorContainer",color:s?l.neutral60:l.neutral20,display:"flex",padding:r*2,transition:"color 150ms",":hover":{color:s?l.neutral80:l.neutral40}}},YA=zv,KA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("dropdownIndicator",i),className:r({indicator:!0,"dropdown-indicator":!0},e)},c),s||bt(Hv,null))},JA=zv,QA=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("clearIndicator",i),className:r({indicator:!0,"clear-indicator":!0},e)},c),s||bt(xh,null))},$A=function(i){var s=i.isDisabled,e=i.theme,r=e.spacing.baseUnit,l=e.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:s?l.neutral10:l.neutral20,marginBottom:r*2,marginTop:r*2,width:1}},e3=function(i){var s=i.className,e=i.cx,r=i.getStyles,l=i.innerProps;return bt("span",yt({},l,{css:r("indicatorSeparator",i),className:e({"indicator-separator":!0},s)}))},t3=oA(Fv||(Fv=cA([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),n3=function(i){var s=i.isFocused,e=i.size,r=i.theme,l=r.colors,c=r.spacing.baseUnit;return{label:"loadingIndicator",color:s?l.neutral60:l.neutral20,display:"flex",padding:c*2,transition:"color 150ms",alignSelf:"center",fontSize:e,lineHeight:1,marginRight:e,textAlign:"center",verticalAlign:"middle"}},Eh=function(i){var s=i.delay,e=i.offset;return bt("span",{css:gh({animation:"".concat(t3," 1s ease-in-out ").concat(s,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:e?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jv=function(i){var s=i.className,e=i.cx,r=i.getStyles,l=i.innerProps,c=i.isRtl;return bt("div",yt({css:r("loadingIndicator",i),className:e({indicator:!0,"loading-indicator":!0},s)},l),bt(Eh,{delay:0,offset:c}),bt(Eh,{delay:160,offset:!0}),bt(Eh,{delay:320,offset:!c}))};jv.defaultProps={size:4};var i3=function(i){var s=i.isDisabled,e=i.isFocused,r=i.theme,l=r.colors,c=r.borderRadius,p=r.spacing;return{label:"control",alignItems:"center",backgroundColor:s?l.neutral5:l.neutral0,borderColor:s?l.neutral10:e?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:e?"0 0 0 1px ".concat(l.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:p.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:e?l.primary:l.neutral30}}},r3=function(i){var s=i.children,e=i.cx,r=i.getStyles,l=i.className,c=i.isDisabled,p=i.isFocused,m=i.innerRef,y=i.innerProps,b=i.menuIsOpen;return bt("div",yt({ref:m,css:r("control",i),className:e({control:!0,"control--is-disabled":c,"control--is-focused":p,"control--menu-is-open":b},l)},y),s)},o3=function(i){var s=i.theme.spacing;return{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},s3=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.Heading,p=i.headingProps,m=i.innerProps,y=i.label,b=i.theme,w=i.selectProps;return bt("div",yt({css:l("group",i),className:r({group:!0},e)},m),bt(c,yt({},p,{selectProps:w,theme:b,getStyles:l,cx:r}),y),bt("div",null,s))},a3=function(i){var s=i.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"}},l3=function(i){var s=i.getStyles,e=i.cx,r=i.className,l=Av(i);l.data;var c=Bo(l,["data"]);return bt("div",yt({css:s("groupHeading",i),className:e({"group-heading":!0},r)},c))},u3=function(i){var s=i.isDisabled,e=i.theme,r=e.spacing,l=e.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:s?"hidden":"visible",color:l.neutral80}},c3=function(i){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:i?0:1,outline:0,padding:0,color:"inherit"}},h3=function(i){var s=i.className,e=i.cx,r=i.getStyles,l=Av(i),c=l.innerRef,p=l.isDisabled,m=l.isHidden,y=Bo(l,["innerRef","isDisabled","isHidden"]);return bt("div",{css:r("input",i)},bt(yA,yt({className:e({input:!0},s),inputRef:c,inputStyle:c3(m),disabled:p},y)))},d3=function(i){var s=i.theme,e=s.spacing,r=s.borderRadius,l=s.colors;return{label:"multiValue",backgroundColor:l.neutral10,borderRadius:r/2,display:"flex",margin:e.baseUnit/2,minWidth:0}},f3=function(i){var s=i.theme,e=s.borderRadius,r=s.colors,l=i.cropWithEllipsis;return{borderRadius:e/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:l?"ellipsis":null,whiteSpace:"nowrap"}},p3=function(i){var s=i.theme,e=s.spacing,r=s.borderRadius,l=s.colors,c=i.isFocused;return{alignItems:"center",borderRadius:r/2,backgroundColor:c&&l.dangerLight,display:"flex",paddingLeft:e.baseUnit,paddingRight:e.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}}},Uv=function(i){var s=i.children,e=i.innerProps;return bt("div",e,s)},g3=Uv,m3=Uv;function v3(i){var s=i.children,e=i.innerProps;return bt("div",e,s||bt(xh,{size:14}))}var Vv=function(i){var s=i.children,e=i.className,r=i.components,l=i.cx,c=i.data,p=i.getStyles,m=i.innerProps,y=i.isDisabled,b=i.removeProps,w=i.selectProps,S=r.Container,C=r.Label,D=r.Remove;return bt(uA,null,function(H){var J=H.css,G=H.cx;return bt(S,{data:c,innerProps:An({className:G(J(p("multiValue",i)),l({"multi-value":!0,"multi-value--is-disabled":y},e))},m),selectProps:w},bt(C,{data:c,innerProps:{className:G(J(p("multiValueLabel",i)),l({"multi-value__label":!0},e))},selectProps:w},s),bt(D,{data:c,innerProps:An({className:G(J(p("multiValueRemove",i)),l({"multi-value__remove":!0},e))},b),selectProps:w}))})};Vv.defaultProps={cropWithEllipsis:!0};var y3=function(i){var s=i.isDisabled,e=i.isFocused,r=i.isSelected,l=i.theme,c=l.spacing,p=l.colors;return{label:"option",backgroundColor:r?p.primary:e?p.primary25:"transparent",color:s?p.neutral20:r?p.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!s&&(r?p.primary:p.primary50)}}},b3=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.isDisabled,p=i.isFocused,m=i.isSelected,y=i.innerRef,b=i.innerProps;return bt("div",yt({css:l("option",i),className:r({option:!0,"option--is-disabled":c,"option--is-focused":p,"option--is-selected":m},e),ref:y},b),s)},w3=function(i){var s=i.theme,e=s.spacing,r=s.colors;return{label:"placeholder",color:r.neutral50,marginLeft:e.baseUnit/2,marginRight:e.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},_3=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("placeholder",i),className:r({placeholder:!0},e)},c),s)},x3=function(i){var s=i.isDisabled,e=i.theme,r=e.spacing,l=e.colors;return{label:"singleValue",color:s?l.neutral40:l.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(r.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},E3=function(i){var s=i.children,e=i.className,r=i.cx,l=i.getStyles,c=i.isDisabled,p=i.innerProps;return bt("div",yt({css:l("singleValue",i),className:r({"single-value":!0,"single-value--is-disabled":c},e)},p),s)},S3={ClearIndicator:QA,Control:r3,DropdownIndicator:KA,DownChevron:Hv,CrossIcon:xh,Group:s3,GroupHeading:l3,IndicatorsContainer:XA,IndicatorSeparator:e3,Input:h3,LoadingIndicator:jv,Menu:IA,MenuList:FA,MenuPortal:jA,LoadingMessage:Nv,NoOptionsMessage:Iv,MultiValue:Vv,MultiValueContainer:g3,MultiValueLabel:m3,MultiValueRemove:v3,Option:b3,Placeholder:_3,SelectContainer:VA,SingleValue:E3,ValueContainer:GA},T3=function(i){return An(An({},S3),i.components)};function Sh(i,s){(s==null||s>i.length)&&(s=i.length);for(var e=0,r=new Array(s);e<s;e++)r[e]=i[e];return r}function C3(i){if(Array.isArray(i))return Sh(i)}function P3(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function A3(i,s){if(i){if(typeof i=="string")return Sh(i,s);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Sh(i,s)}}function R3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wv(i){return C3(i)||P3(i)||A3(i)||R3()}var Gv=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function O3(i,s){return!!(i===s||Gv(i)&&Gv(s))}function k3(i,s){if(i.length!==s.length)return!1;for(var e=0;e<i.length;e++)if(!O3(i[e],s[e]))return!1;return!0}function D3(i,s){s===void 0&&(s=k3);var e,r=[],l,c=!1;function p(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return c&&e===this&&s(m,r)||(l=i.apply(this,m),c=!0,e=this,r=m),l}return p}for(var M3={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},B3=function(i){return bt("span",yt({css:M3},i))},I3={guidance:function(i){var s=i.isSearchable,e=i.isMulti,r=i.isDisabled,l=i.tabSelectsValue,c=i.context;switch(c){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(i["aria-label"]||"Select"," is focused ").concat(s?",type to refine list":"",", press Down to open the menu, ").concat(e?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(i){var s=i.action,e=i.label,r=e===void 0?"":e,l=i.isDisabled;switch(s){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return l?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(i){var s=i.context,e=i.focused,r=e===void 0?{}:e,l=i.options,c=i.label,p=c===void 0?"":c,m=i.selectValue,y=i.isDisabled,b=i.isSelected,w=function(D,H){return D&&D.length?"".concat(D.indexOf(H)+1," of ").concat(D.length):""};if(s==="value"&&m)return"value ".concat(p," focused, ").concat(w(m,r),".");if(s==="menu"){var S=y?" disabled":"",C="".concat(b?"selected":"focused").concat(S);return"option ".concat(p," ").concat(C,", ").concat(w(l,r),".")}return""},onFilter:function(i){var s=i.inputValue,e=i.resultsMessage;return"".concat(e).concat(s?" for search term "+s:"",".")}},N3=function(i){var s=i.ariaSelection,e=i.focusedOption,r=i.focusedValue,l=i.focusableOptions,c=i.isFocused,p=i.selectValue,m=i.selectProps,y=m.ariaLiveMessages,b=m.getOptionLabel,w=m.inputValue,S=m.isMulti,C=m.isOptionDisabled,D=m.isSearchable,H=m.menuIsOpen,J=m.options,G=m.screenReaderStatus,ee=m.tabSelectsValue,P=m["aria-label"],Z=m["aria-live"],oe=Be(function(){return An(An({},I3),y||{})},[y]),re=Be(function(){var Qe="";if(s&&oe.onChange){var rt=s.option,$e=s.removedValue,pt=s.value,ft=function(At){return Array.isArray(At)?null:At},Tt=$e||rt||ft(pt),_t=An({isDisabled:Tt&&C(Tt),label:Tt?b(Tt):""},s);Qe=oe.onChange(_t)}return Qe},[s,C,b,oe]),he=Be(function(){var Qe="",rt=e||r,$e=!!(e&&p&&p.includes(e));if(rt&&oe.onFocus){var pt={focused:rt,label:b(rt),isDisabled:C(rt),isSelected:$e,options:J,context:rt===e?"menu":"value",selectValue:p};Qe=oe.onFocus(pt)}return Qe},[e,r,b,C,oe,J,p]),ge=Be(function(){var Qe="";if(H&&J.length&&oe.onFilter){var rt=G({count:l.length});Qe=oe.onFilter({inputValue:w,resultsMessage:rt})}return Qe},[l,w,H,oe,J,G]),Ie=Be(function(){var Qe="";if(oe.guidance){var rt=r?"value":H?"menu":"input";Qe=oe.guidance({"aria-label":P,context:rt,isDisabled:e&&C(e),isMulti:S,isSearchable:D,tabSelectsValue:ee})}return Qe},[P,e,r,S,C,D,H,oe,ee]),ze="".concat(he," ").concat(ge," ").concat(Ie);return bt(B3,{"aria-live":Z,"aria-atomic":"false","aria-relevant":"additions text"},c&&bt(Re.Fragment,null,bt("span",{id:"aria-selection"},re),bt("span",{id:"aria-context"},ze)))},Th=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],F3=new RegExp("["+Th.map(function(i){return i.letters}).join("")+"]","g"),qv={},Ch=0;Ch<Th.length;Ch++)for(var Ph=Th[Ch],Ah=0;Ah<Ph.letters.length;Ah++)qv[Ph.letters[Ah]]=Ph.base;var Xv=function(i){return i.replace(F3,function(s){return qv[s]})},L3=D3(Xv),Zv=function(i){return i.replace(/^\s+|\s+$/g,"")},H3=function(i){return"".concat(i.label," ").concat(i.value)},z3=function(i){return function(s,e){var r=An({ignoreCase:!0,ignoreAccents:!0,stringify:H3,trim:!0,matchFrom:"any"},i),l=r.ignoreCase,c=r.ignoreAccents,p=r.stringify,m=r.trim,y=r.matchFrom,b=m?Zv(e):e,w=m?Zv(p(s)):p(s);return l&&(b=b.toLowerCase(),w=w.toLowerCase()),c&&(b=L3(b),w=Xv(w)),y==="start"?w.substr(0,b.length)===b:w.indexOf(b)>-1}};function j3(i){i.in,i.out,i.onExited,i.appear,i.enter,i.exit;var s=i.innerRef;i.emotion;var e=Bo(i,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return bt("input",yt({ref:s},e,{css:gh({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var U3=function(i){i.preventDefault(),i.stopPropagation()};function V3(i){var s=i.isEnabled,e=i.onBottomArrive,r=i.onBottomLeave,l=i.onTopArrive,c=i.onTopLeave,p=Ve(!1),m=Ve(!1),y=Ve(0),b=Ve(null),w=O(function(G,ee){if(b.current!==null){var P=b.current,Z=P.scrollTop,oe=P.scrollHeight,re=P.clientHeight,he=b.current,ge=ee>0,Ie=oe-re-Z,ze=!1;Ie>ee&&p.current&&(r&&r(G),p.current=!1),ge&&m.current&&(c&&c(G),m.current=!1),ge&&ee>Ie?(e&&!p.current&&e(G),he.scrollTop=oe,ze=!0,p.current=!0):!ge&&-ee>Z&&(l&&!m.current&&l(G),he.scrollTop=0,ze=!0,m.current=!0),ze&&U3(G)}},[]),S=O(function(G){w(G,G.deltaY)},[w]),C=O(function(G){y.current=G.changedTouches[0].clientY},[]),D=O(function(G){var ee=y.current-G.changedTouches[0].clientY;w(G,ee)},[w]),H=O(function(G){if(G){var ee=kA?{passive:!1}:!1;typeof G.addEventListener=="function"&&G.addEventListener("wheel",S,ee),typeof G.addEventListener=="function"&&G.addEventListener("touchstart",C,ee),typeof G.addEventListener=="function"&&G.addEventListener("touchmove",D,ee)}},[D,C,S]),J=O(function(G){!G||(typeof G.removeEventListener=="function"&&G.removeEventListener("wheel",S,!1),typeof G.removeEventListener=="function"&&G.removeEventListener("touchstart",C,!1),typeof G.removeEventListener=="function"&&G.removeEventListener("touchmove",D,!1))},[D,C,S]);return Pe(function(){if(s){var G=b.current;return H(G),function(){J(G)}}},[s,H,J]),function(G){b.current=G}}var Yv=["boxSizing","height","overflow","paddingRight","position"],Kv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Jv(i){i.preventDefault()}function Qv(i){i.stopPropagation()}function $v(){var i=this.scrollTop,s=this.scrollHeight,e=i+this.offsetHeight;i===0?this.scrollTop=1:e===s&&(this.scrollTop=i-1)}function e0(){return"ontouchstart"in window||navigator.maxTouchPoints}var t0=!!(typeof window<"u"&&window.document&&window.document.createElement),Os=0,Io={capture:!1,passive:!1};function W3(i){var s=i.isEnabled,e=i.accountForScrollbars,r=e===void 0?!0:e,l=Ve({}),c=Ve(null),p=O(function(y){if(t0){var b=document.body,w=b&&b.style;if(r&&Yv.forEach(function(H){var J=w&&w[H];l.current[H]=J}),r&&Os<1){var S=parseInt(l.current.paddingRight,10)||0,C=document.body?document.body.clientWidth:0,D=window.innerWidth-C+S||0;Object.keys(Kv).forEach(function(H){var J=Kv[H];w&&(w[H]=J)}),w&&(w.paddingRight="".concat(D,"px"))}b&&e0()&&(b.addEventListener("touchmove",Jv,Io),y&&(y.addEventListener("touchstart",$v,Io),y.addEventListener("touchmove",Qv,Io))),Os+=1}},[]),m=O(function(y){if(t0){var b=document.body,w=b&&b.style;Os=Math.max(Os-1,0),r&&Os<1&&Yv.forEach(function(S){var C=l.current[S];w&&(w[S]=C)}),b&&e0()&&(b.removeEventListener("touchmove",Jv,Io),y&&(y.removeEventListener("touchstart",$v,Io),y.removeEventListener("touchmove",Qv,Io)))}},[]);return Pe(function(){if(s){var y=c.current;return p(y),function(){m(y)}}},[s,p,m]),function(y){c.current=y}}var G3=function(){return document.activeElement&&document.activeElement.blur()},q3={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function X3(i){var s=i.children,e=i.lockEnabled,r=i.captureEnabled,l=r===void 0?!0:r,c=i.onBottomArrive,p=i.onBottomLeave,m=i.onTopArrive,y=i.onTopLeave,b=V3({isEnabled:l,onBottomArrive:c,onBottomLeave:p,onTopArrive:m,onTopLeave:y}),w=W3({isEnabled:e}),S=function(C){b(C),w(C)};return bt(Re.Fragment,null,e&&bt("div",{onClick:G3,css:q3}),s(S))}var Z3=function(i){return i.label},Y3=function(i){return i.label},K3=function(i){return i.value},J3=function(i){return!!i.isDisabled},Q3={clearIndicator:JA,container:UA,control:i3,dropdownIndicator:YA,group:o3,groupHeading:a3,indicatorsContainer:qA,indicatorSeparator:$A,input:u3,loadingIndicator:n3,loadingMessage:HA,menu:BA,menuList:NA,menuPortal:zA,multiValue:d3,multiValueLabel:f3,multiValueRemove:p3,noOptionsMessage:LA,option:y3,placeholder:w3,singleValue:x3,valueContainer:WA},$3={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},eR=4,n0=4,tR=38,nR=n0*2,iR={baseUnit:n0,controlHeight:tR,menuGutter:nR},Rh={borderRadius:eR,colors:$3,spacing:iR},rR={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ov(),captureMenuScroll:!Ov(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:z3(),formatGroupLabel:Z3,getOptionLabel:Y3,getOptionValue:K3,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:J3,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!RA(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(i){var s=i.count;return"".concat(s," result").concat(s!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function i0(i,s,e,r){var l=l0(i,s,e),c=u0(i,s,e),p=a0(i,s),m=Al(i,s);return{type:"option",data:s,isDisabled:l,isSelected:c,label:p,value:m,index:r}}function r0(i,s){return i.options.map(function(e,r){if(e.options){var l=e.options.map(function(p,m){return i0(i,p,s,m)}).filter(function(p){return s0(i,p)});return l.length>0?{type:"group",data:e,options:l,index:r}:void 0}var c=i0(i,e,s,r);return s0(i,c)?c:void 0}).filter(function(e){return!!e})}function o0(i){return i.reduce(function(s,e){return e.type==="group"?s.push.apply(s,Wv(e.options.map(function(r){return r.data}))):s.push(e.data),s},[])}function oR(i,s){return o0(r0(i,s))}function s0(i,s){var e=i.inputValue,r=e===void 0?"":e,l=s.data,c=s.isSelected,p=s.label,m=s.value;return(!h0(i)||!c)&&c0(i,{label:p,value:m,data:l},r)}function sR(i,s){var e=i.focusedValue,r=i.selectValue,l=r.indexOf(e);if(l>-1){var c=s.indexOf(e);if(c>-1)return e;if(l<s.length)return s[l]}return null}function aR(i,s){var e=i.focusedOption;return e&&s.indexOf(e)>-1?e:s[0]}var a0=function(i,s){return i.getOptionLabel(s)},Al=function(i,s){return i.getOptionValue(s)};function l0(i,s,e){return typeof i.isOptionDisabled=="function"?i.isOptionDisabled(s,e):!1}function u0(i,s,e){if(e.indexOf(s)>-1)return!0;if(typeof i.isOptionSelected=="function")return i.isOptionSelected(s,e);var r=Al(i,s);return e.some(function(l){return Al(i,l)===r})}function c0(i,s,e){return i.filterOption?i.filterOption(s,e):!0}var h0=function(i){var s=i.hideSelectedOptions,e=i.isMulti;return s===void 0?e:s},lR=1,d0=function(i){_l(e,i);var s=El(e);function e(r){var l;return yl(this,e),l=s.call(this,r),l.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.instancePrefix="",l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(c){l.controlRef=c},l.focusedOptionRef=null,l.getFocusedOptionRef=function(c){l.focusedOptionRef=c},l.menuListRef=null,l.getMenuListRef=function(c){l.menuListRef=c},l.inputRef=null,l.getInputRef=function(c){l.inputRef=c},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(c,p){var m=l.props,y=m.onChange,b=m.name;p.name=b,l.ariaOnChange(c,p),y(c,p)},l.setValue=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",m=arguments.length>2?arguments[2]:void 0,y=l.props,b=y.closeMenuOnSelect,w=y.isMulti;l.onInputChange("",{action:"set-value"}),b&&(l.setState({inputIsHiddenAfterUpdate:!w}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(c,{action:p,option:m})},l.selectOption=function(c){var p=l.props,m=p.blurInputOnSelect,y=p.isMulti,b=p.name,w=l.state.selectValue,S=y&&l.isOptionSelected(c,w),C=l.isOptionDisabled(c,w);if(S){var D=l.getOptionValue(c);l.setValue(w.filter(function(H){return l.getOptionValue(H)!==D}),"deselect-option",c)}else if(!C)y?l.setValue([].concat(Wv(w),[c]),"select-option",c):l.setValue(c,"select-option");else{l.ariaOnChange(c,{action:"select-option",name:b});return}m&&l.blurInput()},l.removeValue=function(c){var p=l.props.isMulti,m=l.state.selectValue,y=l.getOptionValue(c),b=m.filter(function(S){return l.getOptionValue(S)!==y}),w=p?b:b[0]||null;l.onChange(w,{action:"remove-value",removedValue:c}),l.focusInput()},l.clearValue=function(){var c=l.state.selectValue;l.onChange(l.props.isMulti?[]:null,{action:"clear",removedValues:c})},l.popValue=function(){var c=l.props.isMulti,p=l.state.selectValue,m=p[p.length-1],y=p.slice(0,p.length-1),b=c?y:y[0]||null;l.onChange(b,{action:"pop-value",removedValue:m})},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return SA.apply(void 0,[l.props.classNamePrefix].concat(p))},l.getOptionLabel=function(c){return a0(l.props,c)},l.getOptionValue=function(c){return Al(l.props,c)},l.getStyles=function(c,p){var m=Q3[c](p);m.boxSizing="border-box";var y=l.props.styles[c];return y?y(m,p):m},l.getElementId=function(c){return"".concat(l.instancePrefix,"-").concat(c)},l.getComponents=function(){return T3(l.props)},l.buildCategorizedOptions=function(){return r0(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return o0(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(c,p){l.setState({ariaSelection:An({value:c},p)})},l.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(c){l.blockOptionHover=!1},l.onControlMouseDown=function(c){var p=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&l.onMenuClose():p&&l.openMenu("first"):(p&&(l.openAfterFocus=!0),l.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()},l.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!l.props.isDisabled){var p=l.props,m=p.isMulti,y=p.menuIsOpen;l.focusInput(),y?(l.setState({inputIsHiddenAfterUpdate:!m}),l.onMenuClose()):l.openMenu("first"),c.preventDefault(),c.stopPropagation()}},l.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(l.clearValue(),c.stopPropagation(),l.openAfterFocus=!1,c.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(c){typeof l.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&wh(c.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(c)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(c){var p=c.touches,m=p&&p.item(0);!m||(l.initialTouchX=m.clientX,l.initialTouchY=m.clientY,l.userIsDragging=!1)},l.onTouchMove=function(c){var p=c.touches,m=p&&p.item(0);if(m){var y=Math.abs(m.clientX-l.initialTouchX),b=Math.abs(m.clientY-l.initialTouchY),w=5;l.userIsDragging=y>w||b>w}},l.onTouchEnd=function(c){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(c.target)&&l.menuListRef&&!l.menuListRef.contains(c.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(c){l.userIsDragging||l.onControlMouseDown(c)},l.onClearIndicatorTouchEnd=function(c){l.userIsDragging||l.onClearIndicatorMouseDown(c)},l.onDropdownIndicatorTouchEnd=function(c){l.userIsDragging||l.onDropdownIndicatorMouseDown(c)},l.handleInputChange=function(c){var p=c.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(p,{action:"input-change"}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(c){l.props.onFocus&&l.props.onFocus(c),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(c){if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(c),l.onInputChange("",{action:"input-blur"}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(c){l.blockOptionHover||l.state.focusedOption===c||l.setState({focusedOption:c})},l.shouldHideSelectedOptions=function(){return h0(l.props)},l.onKeyDown=function(c){var p=l.props,m=p.isMulti,y=p.backspaceRemovesValue,b=p.escapeClearsValue,w=p.inputValue,S=p.isClearable,C=p.isDisabled,D=p.menuIsOpen,H=p.onKeyDown,J=p.tabSelectsValue,G=p.openMenuOnFocus,ee=l.state,P=ee.focusedOption,Z=ee.focusedValue,oe=ee.selectValue;if(!C&&!(typeof H=="function"&&(H(c),c.defaultPrevented))){switch(l.blockOptionHover=!0,c.key){case"ArrowLeft":if(!m||w)return;l.focusValue("previous");break;case"ArrowRight":if(!m||w)return;l.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(Z)l.removeValue(Z);else{if(!y)return;m?l.popValue():S&&l.clearValue()}break;case"Tab":if(l.isComposing||c.shiftKey||!D||!J||!P||G&&l.isOptionSelected(P,oe))return;l.selectOption(P);break;case"Enter":if(c.keyCode===229)break;if(D){if(!P||l.isComposing)return;l.selectOption(P);break}return;case"Escape":D?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close"}),l.onMenuClose()):S&&b&&l.clearValue();break;case" ":if(w)return;if(!D){l.openMenu("first");break}if(!P)return;l.selectOption(P);break;case"ArrowUp":D?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":D?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!D)return;l.focusOption("pageup");break;case"PageDown":if(!D)return;l.focusOption("pagedown");break;case"Home":if(!D)return;l.focusOption("first");break;case"End":if(!D)return;l.focusOption("last");break;default:return}c.preventDefault()}},l.instancePrefix="react-select-"+(l.props.instanceId||++lR),l.state.selectValue=Pv(r.value),l}return bl(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(r){var l=this.props,c=l.isDisabled,p=l.menuIsOpen,m=this.state.isFocused;(m&&!c&&r.isDisabled||m&&p&&!r.menuIsOpen)&&this.focusInput(),m&&c&&!r.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(PA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,l){this.props.onInputChange(r,l)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(r){var l=this,c=this.state,p=c.selectValue,m=c.isFocused,y=this.buildFocusableOptions(),b=r==="first"?0:y.length-1;if(!this.props.isMulti){var w=y.indexOf(p[0]);w>-1&&(b=w)}this.scrollToFocusedOptionOnUpdate=!(m&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:y[b]},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(r){var l=this.state,c=l.selectValue,p=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var m=c.indexOf(p);p||(m=-1);var y=c.length-1,b=-1;if(c.length){switch(r){case"previous":m===0?b=0:m===-1?b=y:b=m-1;break;case"next":m>-1&&m<y&&(b=m+1);break}this.setState({inputIsHidden:b!==-1,focusedValue:c[b]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,p=this.getFocusableOptions();if(p.length){var m=0,y=p.indexOf(c);c||(y=-1),r==="up"?m=y>0?y-1:p.length-1:r==="down"?m=(y+1)%p.length:r==="pageup"?(m=y-l,m<0&&(m=0)):r==="pagedown"?(m=y+l,m>p.length-1&&(m=p.length-1)):r==="last"&&(m=p.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:p[m],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Rh):An(An({},Rh),this.props.theme):Rh}},{key:"getCommonProps",value:function(){var r=this.clearValue,l=this.cx,c=this.getStyles,p=this.getValue,m=this.selectOption,y=this.setValue,b=this.props,w=b.isMulti,S=b.isRtl,C=b.options,D=this.hasValue();return{clearValue:r,cx:l,getStyles:c,getValue:p,hasValue:D,isMulti:w,isRtl:S,options:C,selectOption:m,selectProps:b,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,l=r.isClearable,c=r.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(r,l){return l0(this.props,r,l)}},{key:"isOptionSelected",value:function(r,l){return u0(this.props,r,l)}},{key:"filterOption",value:function(r,l){return c0(this.props,r,l)}},{key:"formatOptionLabel",value:function(r,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,p=this.state.selectValue;return this.props.formatOptionLabel(r,{context:l,inputValue:c,selectValue:p})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,l=r.isDisabled,c=r.isSearchable,p=r.inputId,m=r.inputValue,y=r.tabIndex,b=r.form,w=this.getComponents(),S=w.Input,C=this.state.inputIsHidden,D=this.commonProps,H=p||this.getElementId("input"),J={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return c?Re.createElement(S,yt({},D,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:l,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:y,form:b,type:"text",value:m},J)):Re.createElement(j3,yt({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sl,onFocus:this.onInputFocus,readOnly:!0,disabled:l,tabIndex:y,form:b,value:""},J))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,l=this.getComponents(),c=l.MultiValue,p=l.MultiValueContainer,m=l.MultiValueLabel,y=l.MultiValueRemove,b=l.SingleValue,w=l.Placeholder,S=this.commonProps,C=this.props,D=C.controlShouldRenderValue,H=C.isDisabled,J=C.isMulti,G=C.inputValue,ee=C.placeholder,P=this.state,Z=P.selectValue,oe=P.focusedValue,re=P.isFocused;if(!this.hasValue()||!D)return G?null:Re.createElement(w,yt({},S,{key:"placeholder",isDisabled:H,isFocused:re}),ee);if(J){var he=Z.map(function(Ie,ze){var Qe=Ie===oe;return Re.createElement(c,yt({},S,{components:{Container:p,Label:m,Remove:y},isFocused:Qe,isDisabled:H,key:"".concat(r.getOptionValue(Ie)).concat(ze),index:ze,removeProps:{onClick:function(){return r.removeValue(Ie)},onTouchEnd:function(){return r.removeValue(Ie)},onMouseDown:function(rt){rt.preventDefault(),rt.stopPropagation()}},data:Ie}),r.formatOptionLabel(Ie,"value"))});return he}if(G)return null;var ge=Z[0];return Re.createElement(b,yt({},S,{data:ge,isDisabled:H}),this.formatOptionLabel(ge,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),l=r.ClearIndicator,c=this.commonProps,p=this.props,m=p.isDisabled,y=p.isLoading,b=this.state.isFocused;if(!this.isClearable()||!l||m||!this.hasValue()||y)return null;var w={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(l,yt({},c,{innerProps:w,isFocused:b}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),l=r.LoadingIndicator,c=this.commonProps,p=this.props,m=p.isDisabled,y=p.isLoading,b=this.state.isFocused;if(!l||!y)return null;var w={"aria-hidden":"true"};return Re.createElement(l,yt({},c,{innerProps:w,isDisabled:m,isFocused:b}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),l=r.DropdownIndicator,c=r.IndicatorSeparator;if(!l||!c)return null;var p=this.commonProps,m=this.props.isDisabled,y=this.state.isFocused;return Re.createElement(c,yt({},p,{isDisabled:m,isFocused:y}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),l=r.DropdownIndicator;if(!l)return null;var c=this.commonProps,p=this.props.isDisabled,m=this.state.isFocused,y={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(l,yt({},c,{innerProps:y,isDisabled:p,isFocused:m}))}},{key:"renderMenu",value:function(){var r=this,l=this.getComponents(),c=l.Group,p=l.GroupHeading,m=l.Menu,y=l.MenuList,b=l.MenuPortal,w=l.LoadingMessage,S=l.NoOptionsMessage,C=l.Option,D=this.commonProps,H=this.state.focusedOption,J=this.props,G=J.captureMenuScroll,ee=J.inputValue,P=J.isLoading,Z=J.loadingMessage,oe=J.minMenuHeight,re=J.maxMenuHeight,he=J.menuIsOpen,ge=J.menuPlacement,Ie=J.menuPosition,ze=J.menuPortalTarget,Qe=J.menuShouldBlockScroll,rt=J.menuShouldScrollIntoView,$e=J.noOptionsMessage,pt=J.onMenuScrollToTop,ft=J.onMenuScrollToBottom;if(!he)return null;var Tt=function(kt,De){var We=kt.type,Xe=kt.data,Ge=kt.isDisabled,Ke=kt.isSelected,gt=kt.label,Zt=kt.value,hn=H===Xe,Lt=Ge?void 0:function(){return r.onOptionHover(Xe)},gi=Ge?void 0:function(){return r.selectOption(Xe)},Xn="".concat(r.getElementId("option"),"-").concat(De),ai={id:Xn,onClick:gi,onMouseMove:Lt,onMouseOver:Lt,tabIndex:-1};return Re.createElement(C,yt({},D,{innerProps:ai,data:Xe,isDisabled:Ge,isSelected:Ke,key:Xn,label:gt,type:We,value:Zt,isFocused:hn,innerRef:hn?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(kt.data,"menu"))},_t;if(this.hasOptions())_t=this.getCategorizedOptions().map(function(kt){if(kt.type==="group"){var De=kt.data,We=kt.options,Xe=kt.index,Ge="".concat(r.getElementId("group"),"-").concat(Xe),Ke="".concat(Ge,"-heading");return Re.createElement(c,yt({},D,{key:Ge,data:De,options:We,Heading:p,headingProps:{id:Ke,data:kt.data},label:r.formatGroupLabel(kt.data)}),kt.options.map(function(gt){return Tt(gt,"".concat(Xe,"-").concat(gt.index))}))}else if(kt.type==="option")return Tt(kt,"".concat(kt.index))});else if(P){var At=Z({inputValue:ee});if(At===null)return null;_t=Re.createElement(w,D,At)}else{var jt=$e({inputValue:ee});if(jt===null)return null;_t=Re.createElement(S,D,jt)}var Kt={minMenuHeight:oe,maxMenuHeight:re,menuPlacement:ge,menuPosition:Ie,menuShouldScrollIntoView:rt},et=Re.createElement(Mv,yt({},D,Kt),function(kt){var De=kt.ref,We=kt.placerProps,Xe=We.placement,Ge=We.maxHeight;return Re.createElement(m,yt({},D,Kt,{innerRef:De,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:P,placement:Xe}),Re.createElement(X3,{captureEnabled:G,onTopArrive:pt,onBottomArrive:ft,lockEnabled:Qe},function(Ke){return Re.createElement(y,yt({},D,{innerRef:function(gt){r.getMenuListRef(gt),Ke(gt)},isLoading:P,maxHeight:Ge,focusedOption:H}),_t)}))});return ze||Ie==="fixed"?Re.createElement(b,yt({},D,{appendTo:ze,controlElement:this.controlRef,menuPlacement:ge,menuPosition:Ie}),et):et}},{key:"renderFormField",value:function(){var r=this,l=this.props,c=l.delimiter,p=l.isDisabled,m=l.isMulti,y=l.name,b=this.state.selectValue;if(!(!y||p))if(m)if(c){var w=b.map(function(D){return r.getOptionValue(D)}).join(c);return Re.createElement("input",{name:y,type:"hidden",value:w})}else{var S=b.length>0?b.map(function(D,H){return Re.createElement("input",{key:"i-".concat(H),name:y,type:"hidden",value:r.getOptionValue(D)})}):Re.createElement("input",{name:y,type:"hidden"});return Re.createElement("div",null,S)}else{var C=b[0]?this.getOptionValue(b[0]):"";return Re.createElement("input",{name:y,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,l=this.state,c=l.ariaSelection,p=l.focusedOption,m=l.focusedValue,y=l.isFocused,b=l.selectValue,w=this.getFocusableOptions();return Re.createElement(N3,yt({},r,{ariaSelection:c,focusedOption:p,focusedValue:m,isFocused:y,selectValue:b,focusableOptions:w}))}},{key:"render",value:function(){var r=this.getComponents(),l=r.Control,c=r.IndicatorsContainer,p=r.SelectContainer,m=r.ValueContainer,y=this.props,b=y.className,w=y.id,S=y.isDisabled,C=y.menuIsOpen,D=this.state.isFocused,H=this.commonProps=this.getCommonProps();return Re.createElement(p,yt({},H,{className:b,innerProps:{id:w,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:D}),this.renderLiveRegion(),Re.createElement(l,yt({},H,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:D,menuIsOpen:C}),Re.createElement(m,yt({},H,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),Re.createElement(c,yt({},H,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,l){var c=l.prevProps,p=l.clearFocusValueOnUpdate,m=l.inputIsHiddenAfterUpdate,y=r.options,b=r.value,w=r.menuIsOpen,S=r.inputValue,C={};if(c&&(b!==c.value||y!==c.options||w!==c.menuIsOpen||S!==c.inputValue)){var D=Pv(b),H=w?oR(r,D):[],J=p?sR(l,D):null,G=aR(l,H);C={selectValue:D,focusedOption:G,focusedValue:J,clearFocusValueOnUpdate:!1}}var ee=m!=null&&r!==c?{inputIsHidden:m,inputIsHiddenAfterUpdate:void 0}:{};return An(An(An({},C),ee),{},{prevProps:r})}}]),e}(me);d0.defaultProps=rR;var uR={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},cR=function(i){var s,e;return e=s=function(r){_l(c,r);var l=El(c);function c(){var p;yl(this,c);for(var m=arguments.length,y=new Array(m),b=0;b<m;b++)y[b]=arguments[b];return p=l.call.apply(l,[this].concat(y)),p.select=void 0,p.state={inputValue:p.props.inputValue!==void 0?p.props.inputValue:p.props.defaultInputValue,menuIsOpen:p.props.menuIsOpen!==void 0?p.props.menuIsOpen:p.props.defaultMenuIsOpen,value:p.props.value!==void 0?p.props.value:p.props.defaultValue},p.onChange=function(w,S){p.callProp("onChange",w,S),p.setState({value:w})},p.onInputChange=function(w,S){var C=p.callProp("onInputChange",w,S);p.setState({inputValue:C!==void 0?C:w})},p.onMenuOpen=function(){p.callProp("onMenuOpen"),p.setState({menuIsOpen:!0})},p.onMenuClose=function(){p.callProp("onMenuClose"),p.setState({menuIsOpen:!1})},p}return bl(c,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(p){return this.props[p]!==void 0?this.props[p]:this.state[p]}},{key:"callProp",value:function(p){if(typeof this.props[p]=="function"){for(var m,y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return(m=this.props)[p].apply(m,b)}}},{key:"render",value:function(){var p=this,m=this.props;m.defaultInputValue,m.defaultMenuIsOpen,m.defaultValue;var y=Bo(m,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Re.createElement(i,yt({},y,{ref:function(b){p.select=b},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),c}(me),s.defaultProps=uR,e},hR=cR(d0),dR=hR;const Oh=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var f0=i=>{const s=i.content?Oh.find(e=>e.value===i.content):null;return Re.createElement("div",{className:"r6o-purposedropdown"},Re.createElement(dR,{value:s,onChange:i.onChange,options:Oh,isDisabled:!i.editable}))};const fR=i=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:i.width},Re.createElement("metadata",null,"IcoFont Icons"),Re.createElement("title",null,"simple-down"),Re.createElement("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),Re.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),pR=i=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:i.width},Re.createElement("metadata",null,"IcoFont Icons"),Re.createElement("title",null,"close"),Re.createElement("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),Re.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),gR=i=>Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:i.width},Re.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var mR=i=>{const[s,e]=Ae(!1),[r,l]=Ae(!1),c=S=>{e(!0),l(!1)},p=S=>{i.onDelete(i.body),l(!1)},m=S=>i.onUpdate(i.body,{...i.body,value:S.target.value}),y=S=>i.onUpdate(i.body,{...i.body,purpose:S.value}),b=i.body.modified||i.body.created,w=i.body.creator&&Re.createElement("div",{className:"r6o-lastmodified"},Re.createElement("span",{className:"r6o-lastmodified-by"},i.body.creator.name||i.body.creator.id),i.body.created&&Re.createElement("span",{className:"r6o-lastmodified-at"},Re.createElement(gE,{datetime:i.env.toClientTime(b),locale:ri.locale()})));return i.readOnly?Re.createElement("div",{className:"r6o-widget comment"},Re.createElement("div",{className:"r6o-readonly-comment"},i.body.value),w):Re.createElement("div",{className:s?"r6o-widget comment editable":"r6o-widget comment"},Re.createElement(Xm,{editable:s,content:i.body.value,onChange:m,onSaveAndClose:i.onSaveAndClose}),!s&&w,i.purposeSelector&&Re.createElement(f0,{editable:s,content:i.body.purpose,onChange:y,onSaveAndClose:i.onSaveAndClose}),Re.createElement("div",{className:r?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>l(!r)},Re.createElement(fR,{width:12})),r&&Re.createElement(i4,{onEdit:c,onDelete:p,onClickOutside:()=>l(!1)}))};const vR=Oh.map(i=>i.value),p0=(i,s)=>{const e=s?vR.indexOf(i.purpose)>-1:i.purpose=="commenting"||i.purpose=="replying";return i.type==="TextualBody"&&(!i.hasOwnProperty("purpose")||e)},g0=(i,s)=>{var e,r;if(s.editable===!0)return!1;if(s.editable===!1)return!0;if(s.editable==="MINE_ONLY"){const l=(e=i.creator)==null?void 0:e.id;return((r=s.env.user)==null?void 0:r.id)!==l}return s.readOnly},yR=(i,s)=>i||{type:"TextualBody",value:"",purpose:s?"replying":"commenting",draft:!0},m0=i=>{const s=i.annotation?i.annotation.bodies.filter(p=>p0(p,i.purposeSelector)):[],e=yR(s.find(p=>p.draft==!0),s.length>1),r=s.filter(p=>p!=e),l=p=>{const m=e.value,y=p.target.value;m.length===0&&y.length>0?i.onAppendBody({...e,value:y}):m.length>0&&y.length===0?i.onRemoveBody(e):i.onUpdateBody(e,{...e,value:y})},c=p=>i.onUpdateBody(e,{...e,purpose:p.value});return Re.createElement(Re.Fragment,null,r.map((p,m)=>Re.createElement(mR,{key:m,env:i.env,purposeSelector:i.purposeSelector,readOnly:g0(p,i),body:p,onUpdate:i.onUpdateBody,onDelete:i.onRemoveBody,onSaveAndClose:i.onSaveAndClose})),!i.readOnly&&i.annotation&&Re.createElement("div",{className:"r6o-widget comment editable"},Re.createElement(Xm,{focus:i.focus,content:e.value,editable:!0,placeholder:r.length>0?ri.t("Add a reply..."):ri.t("Add a comment..."),onChange:l,onSaveAndClose:()=>i.onSaveAndClose()}),i.purposeSelector&&e.value.length>0&&Re.createElement(f0,{editable:!0,content:e.purpose,onChange:c,onSaveAndClose:()=>i.onSaveAndClose()})))};m0.disableDelete=(i,s)=>i.bodies.filter(e=>p0(e,s.purposeSelector)).some(e=>g0(e,s));var v0=m0;function y0(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,wl(i,s)}function bR(i,s){return i.classList?!!s&&i.classList.contains(s):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+s+" ")!==-1}function wR(i,s){i.classList?i.classList.add(s):bR(i,s)||(typeof i.className=="string"?i.className=i.className+" "+s:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+s))}function b0(i,s){return i.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _R(i,s){i.classList?i.classList.remove(s):typeof i.className=="string"?i.className=b0(i.className,s):i.setAttribute("class",b0(i.className&&i.className.baseVal||"",s))}var w0={disabled:!1},_0=Re.createContext(null),ks="unmounted",zr="exited",jr="entering",No="entered",kh="exiting",zi=function(i){y0(s,i);function s(r,l){var c;c=i.call(this,r,l)||this;var p=l,m=p&&!p.isMounting?r.enter:r.appear,y;return c.appearStatus=null,r.in?m?(y=zr,c.appearStatus=jr):y=No:r.unmountOnExit||r.mountOnEnter?y=ks:y=zr,c.state={status:y},c.nextCallback=null,c}s.getDerivedStateFromProps=function(r,l){var c=r.in;return c&&l.status===ks?{status:zr}:null};var e=s.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(r){var l=null;if(r!==this.props){var c=this.state.status;this.props.in?c!==jr&&c!==No&&(l=jr):(c===jr||c===No)&&(l=kh)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var r=this.props.timeout,l,c,p;return l=c=p=r,r!=null&&typeof r!="number"&&(l=r.exit,c=r.enter,p=r.appear!==void 0?r.appear:c),{exit:l,enter:c,appear:p}},e.updateStatus=function(r,l){r===void 0&&(r=!1),l!==null?(this.cancelNextCallback(),l===jr?this.performEnter(r):this.performExit()):this.props.unmountOnExit&&this.state.status===zr&&this.setState({status:ks})},e.performEnter=function(r){var l=this,c=this.props.enter,p=this.context?this.context.isMounting:r,m=this.props.nodeRef?[p]:[Re.findDOMNode(this),p],y=m[0],b=m[1],w=this.getTimeouts(),S=p?w.appear:w.enter;if(!r&&!c||w0.disabled){this.safeSetState({status:No},function(){l.props.onEntered(y)});return}this.props.onEnter(y,b),this.safeSetState({status:jr},function(){l.props.onEntering(y,b),l.onTransitionEnd(S,function(){l.safeSetState({status:No},function(){l.props.onEntered(y,b)})})})},e.performExit=function(){var r=this,l=this.props.exit,c=this.getTimeouts(),p=this.props.nodeRef?void 0:Re.findDOMNode(this);if(!l||w0.disabled){this.safeSetState({status:zr},function(){r.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:kh},function(){r.props.onExiting(p),r.onTransitionEnd(c.exit,function(){r.safeSetState({status:zr},function(){r.props.onExited(p)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(r,l){l=this.setNextCallback(l),this.setState(r,l)},e.setNextCallback=function(r){var l=this,c=!0;return this.nextCallback=function(p){c&&(c=!1,l.nextCallback=null,r(p))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},e.onTransitionEnd=function(r,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Re.findDOMNode(this),p=r==null&&!this.props.addEndListener;if(!c||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],y=m[0],b=m[1];this.props.addEndListener(y,b)}r!=null&&setTimeout(this.nextCallback,r)},e.render=function(){var r=this.state.status;if(r===ks)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var p=mh(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Re.createElement(_0.Provider,{value:null},typeof c=="function"?c(r,p):Re.cloneElement(Re.Children.only(c),p))},s}(Re.Component);zi.contextType=_0,zi.propTypes={};function Fo(){}zi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fo,onEntering:Fo,onEntered:Fo,onExit:Fo,onExiting:Fo,onExited:Fo},zi.UNMOUNTED=ks,zi.EXITED=zr,zi.ENTERING=jr,zi.ENTERED=No,zi.EXITING=kh;var xR=zi,ER=function(i,s){return i&&s&&s.split(" ").forEach(function(e){return wR(i,e)})},Dh=function(i,s){return i&&s&&s.split(" ").forEach(function(e){return _R(i,e)})},Mh=function(i){y0(s,i);function s(){for(var r,l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=i.call.apply(i,[this].concat(c))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(m,y){var b=r.resolveArguments(m,y),w=b[0],S=b[1];r.removeClasses(w,"exit"),r.addClass(w,S?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(m,y)},r.onEntering=function(m,y){var b=r.resolveArguments(m,y),w=b[0],S=b[1],C=S?"appear":"enter";r.addClass(w,C,"active"),r.props.onEntering&&r.props.onEntering(m,y)},r.onEntered=function(m,y){var b=r.resolveArguments(m,y),w=b[0],S=b[1],C=S?"appear":"enter";r.removeClasses(w,C),r.addClass(w,C,"done"),r.props.onEntered&&r.props.onEntered(m,y)},r.onExit=function(m){var y=r.resolveArguments(m),b=y[0];r.removeClasses(b,"appear"),r.removeClasses(b,"enter"),r.addClass(b,"exit","base"),r.props.onExit&&r.props.onExit(m)},r.onExiting=function(m){var y=r.resolveArguments(m),b=y[0];r.addClass(b,"exit","active"),r.props.onExiting&&r.props.onExiting(m)},r.onExited=function(m){var y=r.resolveArguments(m),b=y[0];r.removeClasses(b,"exit"),r.addClass(b,"exit","done"),r.props.onExited&&r.props.onExited(m)},r.resolveArguments=function(m,y){return r.props.nodeRef?[r.props.nodeRef.current,m]:[m,y]},r.getClassNames=function(m){var y=r.props.classNames,b=typeof y=="string",w=b&&y?y+"-":"",S=b?""+w+m:y[m],C=b?S+"-active":y[m+"Active"],D=b?S+"-done":y[m+"Done"];return{baseClassName:S,activeClassName:C,doneClassName:D}},r}var e=s.prototype;return e.addClass=function(r,l,c){var p=this.getClassNames(l)[c+"ClassName"],m=this.getClassNames("enter"),y=m.doneClassName;l==="appear"&&c==="done"&&y&&(p+=" "+y),c==="active"&&r&&r.scrollTop,p&&(this.appliedClasses[l][c]=p,ER(r,p))},e.removeClasses=function(r,l){var c=this.appliedClasses[l],p=c.base,m=c.active,y=c.done;this.appliedClasses[l]={},p&&Dh(r,p),m&&Dh(r,m),y&&Dh(r,y)},e.render=function(){var r=this.props;r.classNames;var l=mh(r,["classNames"]);return Re.createElement(xR,yt({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(Re.Component);Mh.defaultProps={classNames:""},Mh.propTypes={};var SR=Mh;const TR=(i,s)=>s.filter(e=>(e.label?e.label:e).toLowerCase().startsWith(i.toLowerCase())),CR=(i,s)=>s(i);var PR=i=>{const s=Ve(),[e,r]=Ae(i.initialValue||""),[l,c]=Ae([]),[p,m]=Ae(null);Pe(()=>{i.focus&&s.current.querySelector("input").focus({preventScroll:!0})},[]),Pe(()=>{i.onChange&&i.onChange(e)},[e]);const y=C=>{if(typeof i.vocabulary=="function"){const D=CR(C,i.vocabulary);D.then?D.then(c):c(D)}else{const D=TR(C,i.vocabulary);c(D)}},b=()=>{if(p!==null)i.onSubmit(l[p]);else{const C=e.trim();if(C){const D=Array.isArray(i.vocabulary)?i.vocabulary.find(H=>(H.label||H).toLowerCase()===C.toLowerCase()):null;D?i.onSubmit(D):i.onSubmit(C)}}r(""),c([]),m(null)},w=C=>{if(C.which===13)b();else if(C.which===27)i.onCancel&&i.onCancel();else if(l.length>0){if(C.which===38)if(p===null)m(0);else{const D=Math.max(0,p-1);m(D)}else if(C.which===40)if(p===null)m(0);else{const D=Math.min(l.length-1,p+1);m(D)}}else C.which===40&&Array.isArray(i.vocabulary)&&c(i.vocabulary)},S=C=>{const{value:D}=C.target;r(D),m(null),D?y(D):c([])};return Re.createElement("div",{ref:s,className:"r6o-autocomplete"},Re.createElement("div",null,Re.createElement("input",{onKeyDown:w,onChange:S,value:e,placeholder:i.placeholder})),Re.createElement("ul",null,l.length>0&&l.map((C,D)=>Re.createElement("li",{key:`${C.label?C.label:C}${D}`,onClick:b,onMouseEnter:()=>m(D),style:p===D?{backgroundColor:"#bde4ff"}:{}},C.label?C.label:C))))};const AR=i=>i||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var x0=i=>{const s=i.annotation?i.annotation.bodies.filter(S=>S.purpose==="tagging"):[],e=AR(s.slice().reverse().find(S=>S.draft)),r=s.filter(S=>S!=e),[l,c]=Ae(!1),p=S=>C=>{c(l===S?!1:S)},m=S=>{const C=e.value.trim(),D=S.trim();C.length===0&&D.length>0?i.onAppendBody({...e,value:D}):C.length>0&&D.length===0?i.onRemoveBody(e):C!==D&&i.onUpdateBody(e,{...e,value:D})},y=S=>C=>{C.stopPropagation(),i.onRemoveBody(S)},b=S=>{const C=S.uri?{type:"SpecificResource",purpose:"tagging",source:{id:S.uri,label:S.label}}:{type:"TextualBody",purpose:"tagging",value:S.label||S};e.value.trim().length===0?i.onAppendBody(C):i.onUpdateBody(e,C)},w=S=>S.value||S.source.label;return Re.createElement("div",{className:"r6o-widget r6o-tag"},r.length>0&&Re.createElement("ul",{className:"r6o-taglist"},r.map(S=>Re.createElement("li",{key:w(S),onClick:p(S)},Re.createElement("span",{className:"r6o-label"},w(S)),!i.readOnly&&Re.createElement(SR,{in:l===S,timeout:200,classNames:"r6o-delete"},Re.createElement("span",{className:"r6o-delete-wrapper",onClick:y(S)},Re.createElement("span",{className:"r6o-delete"},Re.createElement(pR,{width:12}))))))),!i.readOnly&&Re.createElement(PR,{focus:i.focus,placeholder:ri.t("Add tag..."),vocabulary:i.vocabulary||[],onChange:m,onSubmit:b}))};class E0 extends me{constructor(s){super(s),this.element=Re.createRef()}renderWidget(s){const e=this.props.widget({annotation:s.annotation,readOnly:s.readOnly,...s.config,onAppendBody:(r,l)=>s.onAppendBody(r,l),onUpdateBody:(r,l,c)=>s.onUpdateBody(r,l,c),onUpsertBody:(r,l,c)=>s.onUpsertBody(r,l,c),onRemoveBody:(r,l)=>s.onRemoveBody(r,l),onBatchModify:(r,l)=>s.onBatchModify(r,l),onSetProperty:(r,l)=>s.onSetProperty(r,l),onAddContext:r=>s.onAddContext(r),onSaveAndClose:()=>s.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(e)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(s){this.element.current&&this.props.annotation!==s.annotation&&this.renderWidget(s)}render(){return Re.createElement("div",{ref:this.element,className:"widget"})}}window.React=Re,window.ReactDOM=Re;const RR={COMMENT:v0,TAG:x0},OR=[Re.createElement(v0,null),Re.createElement(x0,null)],kR=i=>{const s=r=>{var l;return typeof r=="function"&&!!((l=r.prototype)!=null&&l.isReactComponent)},e=r=>typeof r=="function"&&(String(r).match(/return .+\(['|"].+['|"],\s*\{/g)||String(r).match(/return .+preact_compat/)||String(r).match(/return .+\.createElement/g));return s(i)||e(i)},DR=i=>{const s=(e,r,l)=>{if(typeof e=="string"||e instanceof String)return Re.createElement(RR[e],r);if((l==null?void 0:l.toLowerCase())==="react")return Re.createElement(e,r);if((l==null?void 0:l.toLowerCase())==="plainjs")return Re.createElement(E0,{widget:e,config:r});if(kR(e))return Re.createElement(e,r);if(typeof e=="function"||e instanceof Function)return Re.createElement(E0,{widget:e,config:r});throw`${e} is not a valid plugin`};if(i.widget){const{widget:e,force:r,...l}=i;return s(e,l,r)}else return s(i)},S0=14;var T0=(i,s,e,r)=>{const l=i.getBoundingClientRect();s.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:c,top:p,right:m,bottom:y}=e.getBoundingClientRect();if(s.style.top=`${y-l.top+S0}px`,s.style.left=`${c-l.left}px`,r){const b=s.children[1].getBoundingClientRect(),{innerWidth:w,innerHeight:S}=i.ownerDocument.defaultView;if(b.right>w&&(s.classList.remove("r6o-arrow-left"),s.classList.add("r6o-arrow-right"),s.style.left=`${m-b.width-l.left}px`),b.bottom>S){s.classList.remove("r6o-arrow-top"),s.classList.add("r6o-arrow-bottom");const D=s.children[1].getBoundingClientRect().height;s.style.top=`${p-l.top-D-S0}px`}const C=s.children[1].getBoundingClientRect();if(C.top<0){s.classList.add("pushed","down"),s.style.top=`${-l.top}px`;const D=y-l.top;C.height-l.top>D&&s.classList.remove("r6o-arrow-bottom")}C.left<0&&(s.classList.add("pushed","right"),s.style.left=`${-l.left}px`),requestAnimationFrame(()=>s.style.opacity=1)}};const C0=i=>{const{top:s,left:e,width:r,height:l}=i.getBoundingClientRect();return`${s}, ${e}, ${r}, ${l}`};class MR extends me{constructor(s){super(s),u(this,"initResizeObserver",()=>{const e=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const r=new ResizeObserver(()=>{this.state.dragged||T0(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)});return r.observe(this.props.wrapperEl),()=>r.disconnect()}else this.state.dragged||T0(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)}),u(this,"creationMeta",e=>{const r={},{user:l}=this.props.env;return l&&(r.creator={},l.id&&(r.creator.id=l.id),l.displayName&&(r.creator.name=l.displayName),r[e.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),r}),u(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),u(this,"hasChanges",()=>{var e;return!((e=this.props.annotation)!=null&&e.isEqual(this.state.currentAnnotation))}),u(this,"updateCurrentAnnotation",(e,r)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(e)},()=>{r?this.onOk():this.props.onChanged&&this.props.onChanged()})}),u(this,"onAppendBody",(e,r)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...e,...this.creationMeta(e)}]},r)),u(this,"onUpdateBody",(e,r,l)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(c=>c===e?{...r,...this.creationMeta(r)}:c)},l)),u(this,"onRemoveBody",(e,r)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(l=>l!==e)},r)),u(this,"onUpsertBody",(e,r,l)=>{if(e==null&&r!=null)this.onAppendBody(r,l);else if(e!=null&&r!=null)this.onUpdateBody(e,r,l);else if(e!=null&&r==null){const c=this.state.currentAnnotation.bodies.find(p=>p.purpose===e.purpose);c?this.onUpdateBody(c,e,l):this.onAppendBody(e,l)}}),u(this,"onBatchModify",(e,r)=>{const l=e.filter(b=>b.action==="upsert"&&b.body).map(b=>({previous:this.state.currentAnnotation.bodies.find(w=>w.purpose===b.body.purpose),updated:{...b.body,...this.creationMeta(b.body)}})),c=e.filter(b=>b.action==="remove").map(b=>b.body),p=[...e.filter(b=>b.action==="append"||b.action==="upsert"&&b.updated&&!b.previous).map(b=>({...b.body,...this.creationMeta(b.body)})),...l.filter(b=>!b.previous).map(b=>b.updated)],m=[...e.filter(b=>b.action==="update"||b.action==="upsert"&&b.updated&&b.previous).map(b=>({previous:b.previous,updated:{...b.updated,...this.creationMeta(b.updated)}})),...l.filter(b=>b.previous)],y=[...this.state.currentAnnotation.bodies.filter(b=>!c.includes(b)).map(b=>{const w=m.find(S=>S.previous===b);return w?w.updated:b}),...p];this.updateCurrentAnnotation({body:y},r)}),u(this,"onSetProperty",(e,r)=>{if(["@context","id","type","body","target"].includes(e))throw new Exception(`Cannot set ${e} - not allowed`);if(r)this.updateCurrentAnnotation({[e]:r});else{const l=this.currentAnnotation.clone();delete l[e],this.setState({currentAnnotation:l})}}),u(this,"onAddContext",e=>{const{currentAnnotation:r}=this.state,l=Array.isArray(r.context)?r.context:[r.context];l.indexOf(e)<0&&(l.push(e),this.updateCurrentAnnotation({"@context":l}))}),u(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),u(this,"onOk",()=>{const e=l=>l.clone({body:l.bodies.map(({draft:c,...p})=>p)}),{currentAnnotation:r}=this.state;r.bodies.length===0&&!this.props.allowEmpty?r.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):r.isSelection?this.props.onAnnotationCreated(e(r).toAnnotation()):this.props.onAnnotationUpdated(e(r),this.props.annotation)}),u(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Re.createRef(),this.state={currentAnnotation:s.annotation,dragged:!1,selectionBounds:C0(s.selectedElement)}}componentWillReceiveProps(s){var e;const{selectionBounds:r}=this.state,l=C0(s.selectedElement);(e=this.props.annotation)!=null&&e.isEqual(s.annotation)?this.setState({selectionBounds:l}):this.setState({currentAnnotation:s.annotation,selectionBounds:l}),this.props.modifiedTarget!=s.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),r!=l&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:s}=this.state,e=this.props.widgets?this.props.widgets.map(DR):OR,r=c=>c.type.disableDelete?c.type.disableDelete(s,{...c.props,readOnly:this.props.readOnly,env:this.props.env}):!1,l=s&&(s.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!s.isSelection&&!e.some(r);return Re.createElement(nE,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Re.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Re.createElement("div",{className:"r6o-arrow"}),Re.createElement("div",{className:"r6o-editor-inner"},e.map((c,p)=>Re.cloneElement(c,{key:`${p}`,focus:p===0,annotation:s,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Re.createElement("div",{className:"r6o-footer"},Re.createElement("button",{className:"r6o-btn",onClick:this.onCancel},ri.t("Close"))):Re.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},l&&Re.createElement("button",{className:"r6o-btn left delete-annotation",title:ri.t("Delete"),onClick:this.onDelete},Re.createElement(gR,{width:12})),Re.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},ri.t("Cancel")),Re.createElement("button",{className:"r6o-btn ",onClick:this.onOk},ri.t("Ok"))))))}}var Rl,BR=new Uint8Array(16);function IR(){if(!Rl&&(Rl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Rl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rl(BR)}var NR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function FR(i){return typeof i=="string"&&NR.test(i)}for(var Rn=[],Bh=0;Bh<256;++Bh)Rn.push((Bh+256).toString(16).substr(1));function LR(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Rn[i[s+0]]+Rn[i[s+1]]+Rn[i[s+2]]+Rn[i[s+3]]+"-"+Rn[i[s+4]]+Rn[i[s+5]]+"-"+Rn[i[s+6]]+Rn[i[s+7]]+"-"+Rn[i[s+8]]+Rn[i[s+9]]+"-"+Rn[i[s+10]]+Rn[i[s+11]]+Rn[i[s+12]]+Rn[i[s+13]]+Rn[i[s+14]]+Rn[i[s+15]]).toLowerCase();if(!FR(e))throw TypeError("Stringified UUID is invalid");return e}function P0(i,s,e){i=i||{};var r=i.random||(i.rng||IR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,s){e=e||0;for(var l=0;l<16;++l)s[e+l]=r[l];return s}return LR(r)}var HR=function i(s,e){if(s===e)return!0;if(s&&e&&typeof s=="object"&&typeof e=="object"){if(s.constructor!==e.constructor)return!1;var r,l,c;if(Array.isArray(s)){if(r=s.length,r!=e.length)return!1;for(l=r;l--!==0;)if(!i(s[l],e[l]))return!1;return!0}if(s.constructor===RegExp)return s.source===e.source&&s.flags===e.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===e.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===e.toString();if(c=Object.keys(s),r=c.length,r!==Object.keys(e).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(e,c[l]))return!1;for(l=r;l--!==0;){var p=c[l];if(!i(s[p],e[p]))return!1}return!0}return s!==s&&e!==e},A0=HR;const Ih=class{constructor(i,s){u(this,"clone",(e,r)=>new Ih({...this.underlying,...e},{...this.opts,...r})),u(this,"selector",e=>{const{target:r}=this.underlying;if(r.selector)return(Array.isArray(r.selector)?r.selector:[r.selector]).find(l=>l.type===e)}),this.underlying=i,this.opts=s}isEqual(i){return(i==null?void 0:i.type)!=="Annotation"?!1:this.underlying===i.underlying?!0:!this.underlying.id||!i.underlying.id?!1:A0(this.underlying,i.underlying)}get readOnly(){var i;return(i=this.opts)==null?void 0:i.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(i){this.underlying.body=i}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var i;return(i=this.selector("TextQuoteSelector"))==null?void 0:i.exact}get start(){var i;return(i=this.selector("TextPositionSelector"))==null?void 0:i.start}get end(){var i;return(i=this.selector("TextPositionSelector"))==null?void 0:i.end}};let Ur=Ih;u(Ur,"create",i=>{const s={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${P0()}`,body:[]};return new Ih({...s,...i})});class Ds{constructor(s,e){u(this,"clone",r=>{const l=new Ds;return l.underlying=JSON.parse(JSON.stringify(this.underlying)),r&&(l.underlying={...l.underlying,...r}),l}),u(this,"selector",r=>{const{target:l}=this.underlying;if(l.selector)return(Array.isArray(l.selector)?l.selector:[l.selector]).find(c=>c.type===r)}),u(this,"toAnnotation",()=>{const r=Object.assign({},this.underlying,{type:"Annotation",id:`#${P0()}`});return new Ur(r)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:e||[],target:s}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(s){return s?A0(this.underlying,s.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get isSelection(){return!0}}let Nh=0;var zR=()=>({setServerTime:i=>{const s=Date.now();Nh=i-s},getCurrentTimeAdjusted:()=>new Date(Date.now()+Nh).toISOString(),toClientTime:i=>Date.parse(i)-Nh});const jR=(i,s)=>{if(i){const e=i==="auto"?window.navigator.userLanguage||window.navigator.language:i,r=e.split("-")[0].toLowerCase(),l=[e,r].find(c=>n4.includes(c));l||console.warn(`Unsupported locale '${e}'. Falling back to default en.`),ri.init(l,s)}else ri.init(null,s)};var R0={exports:{}};(function(i){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function s(e){return new s.Viewer(e)}(function(e){e.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,c=Object.prototype.hasOwnProperty;e.isFunction=function(p){return e.type(p)==="function"},e.isArray=Array.isArray||function(p){return e.type(p)==="array"},e.isWindow=function(p){return p&&typeof p=="object"&&"setInterval"in p},e.type=function(p){return p==null?String(p):r[l.call(p)]||"object"},e.isPlainObject=function(p){if(!p||s.type(p)!=="object"||p.nodeType||e.isWindow(p)||p.constructor&&!c.call(p,"constructor")&&!c.call(p.constructor.prototype,"isPrototypeOf"))return!1;var m;for(var y in p)m=y;return m===void 0||c.call(p,m)},e.isEmptyObject=function(p){for(var m in p)return!1;return!0},e.freezeObject=function(p){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(m){return m},e.freezeObject(p)},e.supportsCanvas=function(){var p=document.createElement("canvas");return!!(e.isFunction(p.getContext)&&p.getContext("2d"))}(),e.isCanvasTainted=function(p){var m=!1;try{p.getContext("2d").getImageData(0,0,1,1)}catch{m=!0}return m},e.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),e.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),e.supportsEventListenerOptions=function(){var p=0;if(e.supportsAddEventListener)try{var m={get capture(){return p++,!1},get once(){return p++,!1},get passive(){return p++,!1}};window.addEventListener("test",null,m),window.removeEventListener("test",null,m)}catch{p=0}return p>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var p=document.createElement("canvas").getContext("2d"),m=window.devicePixelRatio||1,y=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return Math.max(m,1)/y}else return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()})(s),function(e){e.extend=function(){var y,b,w,S,C,D,H=arguments[0]||{},J=arguments.length,G=!1,ee=1;for(typeof H=="boolean"&&(G=H,H=arguments[1]||{},ee=2),typeof H!="object"&&!s.isFunction(H)&&(H={}),J===ee&&(H=this,--ee);ee<J;ee++)if(y=arguments[ee],y!==null||y!==void 0)for(b in y)w=H[b],S=y[b],H!==S&&(G&&S&&(s.isPlainObject(S)||(C=s.isArray(S)))?(C?(C=!1,D=w&&s.isArray(w)?w:[]):D=w&&s.isPlainObject(w)?w:{},H[b]=s.extend(G,D,S)):S!==void 0&&(H[b]=S));return H};var r=function(){if(typeof navigator!="object")return!1;var y=navigator.userAgent;return typeof y!="string"?!1:y.indexOf("iPhone")!==-1||y.indexOf("iPad")!==-1||y.indexOf("iPod")!==-1};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:r(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(y,b){return function(){var w=arguments;return w===void 0&&(w=[]),b.apply(y,w)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(y){return e._viewers.get(this.getElement(y))},getElement:function(y){return typeof y=="string"&&(y=document.getElementById(y)),y},getElementPosition:function(y){var b=new e.Point,w,S;for(y=e.getElement(y),w=e.getElementStyle(y).position==="fixed",S=m(y,w);S;)b.x+=y.offsetLeft,b.y+=y.offsetTop,w&&(b=b.plus(e.getPageScroll())),y=S,w=e.getElementStyle(y).position==="fixed",S=m(y,w);return b},getElementOffset:function(y){y=e.getElement(y);var b=y&&y.ownerDocument,w,S,C={top:0,left:0};return b?(w=b.documentElement,typeof y.getBoundingClientRect<"u"&&(C=y.getBoundingClientRect()),S=b===b.window?b:b.nodeType===9?b.defaultView||b.parentWindow:!1,new e.Point(C.left+(S.pageXOffset||w.scrollLeft)-(w.clientLeft||0),C.top+(S.pageYOffset||w.scrollTop)-(w.clientTop||0))):new e.Point},getElementSize:function(y){return y=e.getElement(y),new e.Point(y.clientWidth,y.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(y){return y=e.getElement(y),y.currentStyle}:function(y){return y=e.getElement(y),window.getComputedStyle(y,"")},getCssPropertyWithVendorPrefix:function(y){var b={};return e.getCssPropertyWithVendorPrefix=function(w){if(b[w]!==void 0)return b[w];var S=document.createElement("div").style,C=null;if(S[w]!==void 0)C=w;else for(var D=["Webkit","Moz","MS","O","webkit","moz","ms","o"],H=e.capitalizeFirstLetter(w),J=0;J<D.length;J++){var G=D[J]+H;if(S[G]!==void 0){C=G;break}}return b[w]=C,C},e.getCssPropertyWithVendorPrefix(y)},capitalizeFirstLetter:function(y){return y.charAt(0).toUpperCase()+y.slice(1)},positiveModulo:function(y,b){var w=y%b;return w<0&&(w+=b),w},pointInElement:function(y,b){y=e.getElement(y);var w=e.getElementOffset(y),S=e.getElementSize(y);return b.x>=w.x&&b.x<w.x+S.x&&b.y<w.y+S.y&&b.y>=w.y},getMousePosition:function(y){if(typeof y.pageX=="number")e.getMousePosition=function(b){var w=new e.Point;return w.x=b.pageX,w.y=b.pageY,w};else if(typeof y.clientX=="number")e.getMousePosition=function(b){var w=new e.Point;return w.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,w.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop,w};else throw new Error("Unknown event mouse position, no known technique.");return e.getMousePosition(y)},getPageScroll:function(){var y=document.documentElement||{},b=document.body||{};if(typeof window.pageXOffset=="number")e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(b.scrollLeft||b.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else if(y.scrollLeft||y.scrollTop)e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new e.Point(0,0);return e.getPageScroll()},setPageScroll:function(y){if(typeof window.scrollTo<"u")e.setPageScroll=function(S){window.scrollTo(S.x,S.y)};else{var b=e.getPageScroll();if(b.x===y.x&&b.y===y.y)return;document.body.scrollLeft=y.x,document.body.scrollTop=y.y;var w=e.getPageScroll();if(w.x!==b.x&&w.y!==b.y){e.setPageScroll=function(S){document.body.scrollLeft=S.x,document.body.scrollTop=S.y};return}if(document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y,w=e.getPageScroll(),w.x!==b.x&&w.y!==b.y){e.setPageScroll=function(S){document.documentElement.scrollLeft=S.x,document.documentElement.scrollTop=S.y};return}e.setPageScroll=function(S){}}e.setPageScroll(y)},getWindowSize:function(){var y=document.documentElement||{},b=document.body||{};if(typeof window.innerWidth=="number")e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(y.clientWidth||y.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(b.clientWidth||b.clientHeight)e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return e.getWindowSize()},makeCenteredNode:function(y){y=e.getElement(y);var b=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(b[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(b[1].style,{display:"table-row"}),e.extend(b[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),b[0].appendChild(b[1]),b[1].appendChild(b[2]),b[2].appendChild(y),b[0]},makeNeutralElement:function(y){var b=document.createElement(y),w=b.style;return w.background="transparent none",w.border="none",w.margin="0px",w.padding="0px",w.position="static",b},now:function(){return Date.now?e.now=Date.now:e.now=function(){return new Date().getTime()},e.now()},makeTransparentImage:function(y){var b=e.makeNeutralElement("img");return b.src=y,b},setElementOpacity:function(y,b,w){var S,C;y=e.getElement(y),w&&!e.Browser.alpha&&(b=Math.round(b)),e.Browser.opacity?y.style.opacity=b<1?b:"":b<1?(S=Math.round(100*b),C="alpha(opacity="+S+")",y.style.filter=C):y.style.filter=""},setElementTouchActionNone:function(y){y=e.getElement(y),typeof y.style.touchAction<"u"?y.style.touchAction="none":typeof y.style.msTouchAction<"u"&&(y.style.msTouchAction="none")},setElementPointerEvents:function(y,b){y=e.getElement(y),typeof y.style.pointerEvents<"u"&&(y.style.pointerEvents=b)},setElementPointerEventsNone:function(y){e.setElementPointerEvents(y,"none")},addClass:function(y,b){y=e.getElement(y),y.className?(" "+y.className+" ").indexOf(" "+b+" ")===-1&&(y.className+=" "+b):y.className=b},indexOf:function(y,b,w){return Array.prototype.indexOf?this.indexOf=function(S,C,D){return S.indexOf(C,D)}:this.indexOf=function(S,C,D){var H,J=D||0,G;if(!S)throw new TypeError;if(G=S.length,G===0||J>=G)return-1;for(J<0&&(J=G-Math.abs(J)),H=J;H<G;H++)if(S[H]===C)return H;return-1},this.indexOf(y,b,w)},removeClass:function(y,b){var w,S=[],C;for(y=e.getElement(y),w=y.className.split(/\s+/),C=0;C<w.length;C++)w[C]&&w[C]!==b&&S.push(w[C]);y.className=S.join(" ")},normalizeEventListenerOptions:function(y){var b;return typeof y<"u"?typeof y=="boolean"?b=e.supportsEventListenerOptions?{capture:y}:y:b=e.supportsEventListenerOptions?y:typeof y.capture<"u"?y.capture:!1:b=e.supportsEventListenerOptions?{capture:!1}:!1,b},addEvent:function(){if(e.supportsAddEventListener)return function(y,b,w,S){S=e.normalizeEventListenerOptions(S),y=e.getElement(y),y.addEventListener(b,w,S)};if(document.documentElement.attachEvent&&document.attachEvent)return function(y,b,w){y=e.getElement(y),y.attachEvent("on"+b,w)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(y,b,w,S){S=e.normalizeEventListenerOptions(S),y=e.getElement(y),y.removeEventListener(b,w,S)};if(document.documentElement.detachEvent&&document.detachEvent)return function(y,b,w){y=e.getElement(y),y.detachEvent("on"+b,w)};throw new Error("No known event model.")}(),cancelEvent:function(y){y.preventDefault()},eventIsCanceled:function(y){return y.defaultPrevented},stopEvent:function(y){y.stopPropagation()},createCallback:function(y,b){var w=[],S;for(S=2;S<arguments.length;S++)w.push(arguments[S]);return function(){var C=w.concat([]),D;for(D=0;D<arguments.length;D++)C.push(arguments[D]);return b.apply(y,C)}},getUrlParameter:function(y){var b=p[y];return b||null},getUrlProtocol:function(y){var b=y.match(/^([a-z]+:)\/\//i);return b===null?window.location.protocol:b[1].toLowerCase()},createAjaxRequest:function(y){var b;try{b=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{b=!1}if(b)window.XMLHttpRequest?e.createAjaxRequest=function(w){return w?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)e.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return e.createAjaxRequest(y)},makeAjaxRequest:function(y,b,w){var S,C,D;e.isPlainObject(y)&&(b=y.success,w=y.error,S=y.withCredentials,C=y.headers,D=y.responseType||null,y=y.url);var H=e.getUrlProtocol(y),J=e.createAjaxRequest(H==="file:");if(!e.isFunction(b))throw new Error("makeAjaxRequest requires a success callback");J.onreadystatechange=function(){J.readyState===4&&(J.onreadystatechange=function(){},J.status>=200&&J.status<300||J.status===0&&H!=="http:"&&H!=="https:"?b(J):(e.console.log("AJAX request returned %d: %s",J.status,y),e.isFunction(w)&&w(J)))};try{if(J.open("GET",y,!0),D&&(J.responseType=D),C)for(var G in C)Object.prototype.hasOwnProperty.call(C,G)&&C[G]&&J.setRequestHeader(G,C[G]);S&&(J.withCredentials=!0),J.send(null)}catch(ee){e.console.log("%s while making AJAX request: %s",ee.name,ee.message),J.onreadystatechange=function(){},e.isFunction(w)&&w(J,ee)}return J},jsonp:function(y){var b,w=y.url,S=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=y.callbackName||"openseadragon"+e.now(),D=window[C],H="$1"+C+"$2",J=y.param||"callback",G=y.callback;w=w.replace(/(=)\?(&|$)|\?\?/i,H),w+=(/\?/.test(w)?"&":"?")+J+"="+C,window[C]=function(ee){if(D)window[C]=D;else try{delete window[C]}catch{}G&&e.isFunction(G)&&G(ee)},b=document.createElement("script"),(y.async!==void 0||y.async!==!1)&&(b.async="async"),y.scriptCharset&&(b.charset=y.scriptCharset),b.src=w,b.onload=b.onreadystatechange=function(ee,P){(P||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,S&&b.parentNode&&S.removeChild(b),b=void 0)},S.insertBefore(b,S.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(y){if(window.DOMParser)e.parseXml=function(b){var w=null,S;return S=new DOMParser,w=S.parseFromString(b,"text/xml"),w};else if(window.ActiveXObject)e.parseXml=function(b){var w=null;return w=new ActiveXObject("Microsoft.XMLDOM"),w.async=!1,w.loadXML(b),w};else throw new Error("Browser doesn't support XML DOM.");return e.parseXml(y)},parseJSON:function(y){return e.parseJSON=window.JSON.parse,e.parseJSON(y)},imageFormatSupported:function(y){return y=y||"",!!c[y.toLowerCase()]},setImageFormatsSupported:function(y){e.extend(c,y)}});var l=function(y){};e.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var c={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},p={};(function(){var y=navigator.appVersion,b=navigator.userAgent,w;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(b.substring(b.indexOf("MSIE")+5,b.indexOf(";",b.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(b.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(b.substring(b.indexOf("Edge")+5))):b.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(b.substring(b.indexOf("Edg")+4))):b.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(b.substring(b.indexOf("Firefox")+8))):b.indexOf("Safari")>=0?(e.Browser.vendor=b.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(b.substring(b.substring(0,b.indexOf("Safari")).lastIndexOf("/")+1,b.indexOf("Safari")))):(w=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),w.exec(b)!==null&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(y);break}var S=window.location.search.substring(1),C=S.split("&"),D,H,J;for(J=0;J<C.length;J++)if(D=C[J],H=D.indexOf("="),H>0){var G=D.substring(0,H),ee=D.substring(H+1);try{p[G]=decodeURIComponent(ee)}catch{e.console.error("Ignoring malformed URL parameter: %s=%s",G,ee)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(y){var b=y.requestAnimationFrame||y.mozRequestAnimationFrame||y.webkitRequestAnimationFrame||y.msRequestAnimationFrame,w=y.cancelAnimationFrame||y.mozCancelAnimationFrame||y.webkitCancelAnimationFrame||y.msCancelAnimationFrame;if(b&&w)e.requestAnimationFrame=function(){return b.apply(y,arguments)},e.cancelAnimationFrame=function(){return w.apply(y,arguments)};else{var S=[],C=[],D=0,H;e.requestAnimationFrame=function(J){return S.push([++D,J]),H||(H=setInterval(function(){if(S.length){var G=e.now(),ee=C;for(C=S,S=ee;C.length;)C.shift()[1](G)}else clearInterval(H),H=void 0},1e3/50)),D},e.cancelAnimationFrame=function(J){var G,ee;for(G=0,ee=S.length;G<ee;G+=1)if(S[G][0]===J){S.splice(G,1);return}for(G=0,ee=C.length;G<ee;G+=1)if(C[G][0]===J){C.splice(G,1);return}}}}(window);function m(y,b){return b&&y!==document.body?document.body:y.offsetParent}}(s),function(e,r){i.exports?i.exports=r():e.OpenSeadragon=r()}(ir,function(){return s}),function(e){var r={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.fullscreenElement},r.requestFullScreen=function(l){return l.requestFullscreen()},r.exitFullScreen=function(){document.exitFullscreen()},r.fullScreenEventName="fullscreenchange",r.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.msFullscreenElement},r.requestFullScreen=function(l){return l.msRequestFullscreen()},r.exitFullScreen=function(){document.msExitFullscreen()},r.fullScreenEventName="MSFullscreenChange",r.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitFullscreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullscreen()},r.exitFullScreen=function(){document.webkitExitFullscreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullScreen()},r.exitFullScreen=function(){document.webkitCancelFullScreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.mozFullScreenElement},r.requestFullScreen=function(l){return l.mozRequestFullScreen()},r.exitFullScreen=function(){document.mozCancelFullScreen()},r.fullScreenEventName="mozfullscreenchange",r.fullScreenErrorEventName="mozfullscreenerror"),r.isFullScreen=function(){return r.getFullScreenElement()!==null},r.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),r.exitFullScreen()},e.extend(e,r)}(s),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(r,l,c,p){var m=this;p=p||1;var y=0,b=function(w){y++,y===p&&m.removeHandler(r,b),l(w)};this.addHandler(r,b,c)},addHandler:function(r,l,c){var p=this.events[r];p||(this.events[r]=p=[]),l&&e.isFunction(l)&&(p[p.length]={handler:l,userData:c||null})},removeHandler:function(r,l){var c=this.events[r],p=[],m;if(!!c&&e.isArray(c)){for(m=0;m<c.length;m++)c[m].handler!==l&&p.push(c[m]);this.events[r]=p}},removeAllHandlers:function(r){if(r)this.events[r]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(r){var l=this.events[r];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(c,p){var m,y=l.length;for(m=0;m<y;m++)l[m]&&(p.eventSource=c,p.userData=l[m].userData,l[m].handler(p))})},raiseEvent:function(r,l){var c=this.getHandler(r);c&&(l||(l={}),c(this,l))}}}(s),function(e){var r={};e.MouseTracker=function(I){var k=arguments;e.isPlainObject(I)||(I={element:k[0],clickTimeThreshold:k[1],clickDistThreshold:k[2]}),this.hash=Math.random(),this.element=e.getElement(I.element),this.clickTimeThreshold=I.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=I.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=I.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=I.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=I.userData||null,this.stopDelay=I.stopDelay||50,this.preProcessEventHandler=I.preProcessEventHandler||null,this.contextMenuHandler=I.contextMenuHandler||null,this.enterHandler=I.enterHandler||null,this.leaveHandler=I.leaveHandler||null,this.exitHandler=I.exitHandler||null,this.overHandler=I.overHandler||null,this.outHandler=I.outHandler||null,this.pressHandler=I.pressHandler||null,this.nonPrimaryPressHandler=I.nonPrimaryPressHandler||null,this.releaseHandler=I.releaseHandler||null,this.nonPrimaryReleaseHandler=I.nonPrimaryReleaseHandler||null,this.moveHandler=I.moveHandler||null,this.scrollHandler=I.scrollHandler||null,this.clickHandler=I.clickHandler||null,this.dblClickHandler=I.dblClickHandler||null,this.dragHandler=I.dragHandler||null,this.dragEndHandler=I.dragEndHandler||null,this.pinchHandler=I.pinchHandler||null,this.stopHandler=I.stopHandler||null,this.keyDownHandler=I.keyDownHandler||null,this.keyUpHandler=I.keyUpHandler||null,this.keyHandler=I.keyHandler||null,this.focusHandler=I.focusHandler||null,this.blurHandler=I.blurHandler||null;var U=this;r[this.hash]={click:function(q){Z(U,q)},dblclick:function(q){oe(U,q)},keydown:function(q){re(U,q)},keyup:function(q){he(U,q)},keypress:function(q){ge(U,q)},focus:function(q){Ie(U,q)},blur:function(q){ze(U,q)},contextmenu:function(q){Qe(U,q)},wheel:function(q){rt(U,q)},mousewheel:function(q){$e(U,q)},DOMMouseScroll:function(q){$e(U,q)},MozMousePixelScroll:function(q){$e(U,q)},losecapture:function(q){ft(U,q)},mouseenter:function(q){We(U,q)},mouseleave:function(q){Xe(U,q)},mouseover:function(q){Ge(U,q)},mouseout:function(q){Ke(U,q)},mousedown:function(q){gt(U,q)},mouseup:function(q){Zt(U,q)},mousemove:function(q){gi(U,q)},touchstart:function(q){Tt(U,q)},touchend:function(q){_t(U,q)},touchmove:function(q){At(U,q)},touchcancel:function(q){jt(U,q)},gesturestart:function(q){Kt(U,q)},gesturechange:function(q){et(U,q)},gotpointercapture:function(q){kt(U,q)},lostpointercapture:function(q){De(U,q)},pointerenter:function(q){We(U,q)},pointerleave:function(q){Xe(U,q)},pointerover:function(q){Ge(U,q)},pointerout:function(q){Ke(U,q)},pointerdown:function(q){gt(U,q)},pointerup:function(q){Zt(U,q)},pointermove:function(q){gi(U,q)},pointercancel:function(q){A(U,q)},pointerupcaptured:function(q){hn(U,q)},pointermovecaptured:function(q){Xn(U,q)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),I.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){y(this),this.element=null,r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(I){return I?m(this):y(this),this},getActivePointersListByType:function(I){var k=r[this.hash],U,q=k.activePointersLists.length,Ee;for(U=0;U<q;U++)if(k.activePointersLists[U].type===I)return k.activePointersLists[U];return Ee=new e.MouseTracker.GesturePointList(I),k.activePointersLists.push(Ee),Ee},getActivePointerCount:function(){var I=r[this.hash],k,U=I.activePointersLists.length,q=0;for(k=0;k<U;k++)q+=I.activePointersLists[k].getLength();return q},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function c(I){try{return I.addEventListener&&I.removeEventListener}catch{return!1}}e.MouseTracker.gesturePointVelocityTracker=function(){var I=[],k=0,U=0,q=function(Jt,vt){return Jt.hash.toString()+vt.type+vt.id.toString()},Ee=function(){var Jt,vt=I.length,li,Cn,jo=e.now(),Q0,$0,ey;for(Q0=jo-U,U=jo,Jt=0;Jt<vt;Jt++)li=I[Jt],Cn=li.gPoint,Cn.direction=Math.atan2(Cn.currentPos.y-li.lastPos.y,Cn.currentPos.x-li.lastPos.x),$0=li.lastPos.distanceTo(Cn.currentPos),li.lastPos=Cn.currentPos,ey=1e3*$0/(Q0+1),Cn.speed=.75*ey+.25*Cn.speed},je=function(Jt,vt){var li=q(Jt,vt);I.push({guid:li,gPoint:vt,lastPos:vt.currentPos}),I.length===1&&(U=e.now(),k=window.setInterval(Ee,50))},mt=function(Jt,vt){var li=q(Jt,vt),Cn,jo=I.length;for(Cn=0;Cn<jo;Cn++)if(I[Cn].guid===li){I.splice(Cn,1),jo--,jo===0&&window.clearInterval(k);break}};return{addPoint:je,removePoint:mt}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],e.MouseTracker.wheelEventName==="DOMMouseScroll"&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var I=document.createElement("div");return e.isFunction(I.setPointerCapture)&&e.isFunction(I.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var I=document.createElement("div");return e.isFunction(I.setCapture)&&e.isFunction(I.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(I){this._gPoints=[],this.type=I,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(I){return this._gPoints.push(I)},removeById:function(I){var k,U=this._gPoints.length;for(k=0;k<U;k++)if(this._gPoints[k].id===I){this._gPoints.splice(k,1);break}return this._gPoints.length},getByIndex:function(I){return I<this._gPoints.length?this._gPoints[I]:null},getById:function(I){var k,U=this._gPoints.length;for(k=0;k<U;k++)if(this._gPoints[k].id===I)return this._gPoints[k];return null},getPrimary:function(I){var k,U=this._gPoints.length;for(k=0;k<U;k++)if(this._gPoints[k].isPrimary)return this._gPoints[k];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(e.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function p(I){var k=r[I.hash],U,q,Ee,je,mt,Jt=k.activePointersLists.length;for(U=0;U<Jt;U++)if(Ee=k.activePointersLists[U],Ee.getLength()>0){for(mt=[],je=Ee.asArray(),q=0;q<je.length;q++)mt.push(je[q]);for(q=0;q<mt.length;q++)we(I,Ee,mt[q])}for(U=0;U<Jt;U++)k.activePointersLists.pop();k.sentDragEvent=!1}function m(I){var k=r[I.hash],U,q;if(!k.tracking){for(q=0;q<e.MouseTracker.subscribeEvents.length;q++)U=e.MouseTracker.subscribeEvents[q],e.addEvent(I.element,U,k[U],U===e.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);p(I),k.tracking=!0}}function y(I){var k=r[I.hash],U,q;if(k.tracking){for(q=0;q<e.MouseTracker.subscribeEvents.length;q++)U=e.MouseTracker.subscribeEvents[q],e.removeEvent(I.element,U,k[U],!1);p(I),k.tracking=!1}}function b(I,k){var U=r[I.hash];if(k==="pointerevent")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(k==="mouse")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(k==="touch")return{upName:"touchend",upHandler:U.touchendcaptured,moveName:"touchmove",moveHandler:U.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function w(I,k){var U;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{I.element.setPointerCapture(k.id)}catch{e.console.warn("setPointerCapture() called on invalid pointer ID");return}else I.element.setCapture(!0);else U=b(I,e.MouseTracker.havePointerEvents?"pointerevent":k.type),l&&c(window.top)&&e.addEvent(window.top,U.upName,U.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,U.upName,U.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,U.moveName,U.moveHandler,!0);ht(I,k,!0)}function S(I,k){var U,q,Ee;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(q=I.getActivePointersListByType(k.type),Ee=q.getById(k.id),!Ee||!Ee.captured)return;try{I.element.releasePointerCapture(k.id)}catch{}}else I.element.releaseCapture();else U=b(I,e.MouseTracker.havePointerEvents?"pointerevent":k.type),l&&c(window.top)&&e.removeEvent(window.top,U.upName,U.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,U.moveName,U.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,U.upName,U.upHandler,!0);ht(I,k,!1)}function C(I){return e.MouseTracker.havePointerEvents?I.pointerId:e.MouseTracker.mousePointerId}function D(I){return e.MouseTracker.havePointerEvents?I.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function H(I){return e.MouseTracker.havePointerEvents?I.isPrimary:!0}function J(I){return e.getMousePosition(I)}function G(I,k){return ee(J(I),k)}function ee(I,k){var U=e.getElementOffset(k);return I.minus(U)}function P(I,k){return new e.Point((I.x+k.x)/2,(I.y+k.y)/2)}function Z(I,k){var U={originalEvent:k,eventType:"click",pointerType:"mouse",isEmulated:!1};ke(I,U),U.preventDefault&&!U.defaultPrevented&&e.cancelEvent(k),U.stopPropagation&&e.stopEvent(k)}function oe(I,k){var U={originalEvent:k,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};ke(I,U),U.preventDefault&&!U.defaultPrevented&&e.cancelEvent(k),U.stopPropagation&&e.stopEvent(k)}function re(I,k){var U=null,q={originalEvent:k,eventType:"keydown",pointerType:"",isEmulated:!1};ke(I,q),I.keyDownHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:k.keyCode?k.keyCode:k.charCode,ctrl:k.ctrlKey,shift:k.shiftKey,alt:k.altKey,meta:k.metaKey,originalEvent:k,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyDownHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function he(I,k){var U=null,q={originalEvent:k,eventType:"keyup",pointerType:"",isEmulated:!1};ke(I,q),I.keyUpHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:k.keyCode?k.keyCode:k.charCode,ctrl:k.ctrlKey,shift:k.shiftKey,alt:k.altKey,meta:k.metaKey,originalEvent:k,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyUpHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function ge(I,k){var U=null,q={originalEvent:k,eventType:"keypress",pointerType:"",isEmulated:!1};ke(I,q),I.keyHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:k.keyCode?k.keyCode:k.charCode,ctrl:k.ctrlKey,shift:k.shiftKey,alt:k.altKey,meta:k.metaKey,originalEvent:k,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function Ie(I,k){var U={originalEvent:k,eventType:"focus",pointerType:"",isEmulated:!1};ke(I,U),I.focusHandler&&!U.preventGesture&&I.focusHandler({eventSource:I,originalEvent:k,userData:I.userData})}function ze(I,k){var U={originalEvent:k,eventType:"blur",pointerType:"",isEmulated:!1};ke(I,U),I.blurHandler&&!U.preventGesture&&I.blurHandler({eventSource:I,originalEvent:k,userData:I.userData})}function Qe(I,k){var U=null,q={originalEvent:k,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};ke(I,q),I.contextMenuHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,position:ee(J(k),I.element),originalEvent:q.originalEvent,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.contextMenuHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function rt(I,k){pt(I,k,k)}function $e(I,k){var U={target:k.target||k.srcElement,type:"wheel",shiftKey:k.shiftKey||!1,clientX:k.clientX,clientY:k.clientY,pageX:k.pageX?k.pageX:k.clientX,pageY:k.pageY?k.pageY:k.clientY,deltaMode:k.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};e.MouseTracker.wheelEventName==="mousewheel"?U.deltaY=-k.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:U.deltaY=k.detail,pt(I,U,k)}function pt(I,k,U){var q=0,Ee,je=null;q=k.deltaY<0?1:-1,Ee={originalEvent:k,eventType:"wheel",pointerType:"mouse",isEmulated:k!==U},ke(I,Ee),I.scrollHandler&&!Ee.preventGesture&&!Ee.defaultPrevented&&(je={eventSource:I,pointerType:"mouse",position:G(k,I.element),scroll:q,shift:k.shiftKey,isTouchEvent:!1,originalEvent:U,preventDefault:Ee.preventDefault||Ee.defaultPrevented,userData:I.userData},I.scrollHandler(je)),Ee.stopPropagation&&e.stopEvent(U),(je&&je.preventDefault||Ee.preventDefault&&!Ee.defaultPrevented)&&e.cancelEvent(U)}function ft(I,k){var U={id:e.MouseTracker.mousePointerId,type:"mouse"},q={originalEvent:k,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};ke(I,q),k.target===I.element&&ht(I,U,!1),q.stopPropagation&&e.stopEvent(k)}function Tt(I,k){var U,q,Ee=k.changedTouches.length,je,mt=I.getActivePointersListByType("touch");U=e.now(),mt.getLength()>k.touches.length-Ee&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var Jt={originalEvent:k,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(ke(I,Jt),q=0;q<Ee;q++)je={id:k.changedTouches[q].identifier,type:"touch",isPrimary:mt.getLength()===0,currentPos:J(k.changedTouches[q]),currentTime:U},tt(I,Jt,je),Ct(I,Jt,je,0),ht(I,je,!0);Jt.preventDefault&&!Jt.defaultPrevented&&e.cancelEvent(k),Jt.stopPropagation&&e.stopEvent(k)}function _t(I,k){var U,q,Ee=k.changedTouches.length,je;U=e.now();var mt={originalEvent:k,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(ke(I,mt),q=0;q<Ee;q++)je={id:k.changedTouches[q].identifier,type:"touch",currentPos:J(k.changedTouches[q]),currentTime:U},gn(I,mt,je,0),ht(I,je,!1),Ut(I,mt,je);mt.preventDefault&&!mt.defaultPrevented&&e.cancelEvent(k),mt.stopPropagation&&e.stopEvent(k)}function At(I,k){var U,q,Ee=k.changedTouches.length,je;U=e.now();var mt={originalEvent:k,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(ke(I,mt),q=0;q<Ee;q++)je={id:k.changedTouches[q].identifier,type:"touch",currentPos:J(k.changedTouches[q]),currentTime:U},It(I,mt,je);mt.preventDefault&&!mt.defaultPrevented&&e.cancelEvent(k),mt.stopPropagation&&e.stopEvent(k)}function jt(I,k){var U=k.changedTouches.length,q,Ee,je={originalEvent:k,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(ke(I,je),q=0;q<U;q++)Ee={id:k.changedTouches[q].identifier,type:"touch"},On(I,je,Ee);je.stopPropagation&&e.stopEvent(k)}function Kt(I,k){return e.eventIsCanceled(k)||k.preventDefault(),!1}function et(I,k){return e.eventIsCanceled(k)||k.preventDefault(),!1}function kt(I,k){var U={originalEvent:k,eventType:"gotpointercapture",pointerType:D(k),isEmulated:!1};ke(I,U),k.target===I.element&&ht(I,{id:k.pointerId,type:D(k)},!0),U.stopPropagation&&e.stopEvent(k)}function De(I,k){var U={originalEvent:k,eventType:"lostpointercapture",pointerType:D(k),isEmulated:!1};ke(I,U),k.target===I.element&&ht(I,{id:k.pointerId,type:D(k)},!1),U.stopPropagation&&e.stopEvent(k)}function We(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q={originalEvent:k,eventType:"pointerenter",pointerType:U.type,isEmulated:!1};ke(I,q),tt(I,q,U)}function Xe(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q={originalEvent:k,eventType:"pointerleave",pointerType:U.type,isEmulated:!1};ke(I,q),Ut(I,q,U)}function Ge(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q={originalEvent:k,eventType:"pointerover",pointerType:U.type,isEmulated:!1};ke(I,q),rn(I,q,U),q.preventDefault&&!q.defaultPrevented&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function Ke(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q={originalEvent:k,eventType:"pointerout",pointerType:U.type,isEmulated:!1};ke(I,q),Vt(I,q,U),q.preventDefault&&!q.defaultPrevented&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function gt(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q=e.MouseTracker.havePointerEvents&&U.type==="touch"&&e.Browser.vendor!==e.BROWSERS.IE,Ee={originalEvent:k,eventType:"pointerdown",pointerType:U.type,isEmulated:!1};ke(I,Ee),Ct(I,Ee,U,k.button),Ee.preventDefault&&!Ee.defaultPrevented&&e.cancelEvent(k),Ee.stopPropagation&&e.stopEvent(k),Ee.shouldCapture&&(q?ht(I,U,!0):w(I,U))}function Zt(I,k){Lt(I,k)}function hn(I,k){var U=I.getActivePointersListByType(D(k));U.getById(k.pointerId)&&Lt(I,k),e.stopEvent(k)}function Lt(I,k){var U;U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()};var q={originalEvent:k,eventType:"pointerup",pointerType:U.type,isEmulated:!1};ke(I,q),gn(I,q,U,k.button),q.preventDefault&&!q.defaultPrevented&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k),q.shouldReleaseCapture&&(k.target===I.element?S(I,U):ht(I,U,!1))}function gi(I,k){ai(I,k)}function Xn(I,k){var U=I.getActivePointersListByType(D(k));U.getById(k.pointerId)&&ai(I,k),e.stopEvent(k)}function ai(I,k){var U={id:C(k),type:D(k),isPrimary:H(k),currentPos:J(k),currentTime:e.now()},q={originalEvent:k,eventType:"pointermove",pointerType:U.type,isEmulated:!1};ke(I,q),It(I,q,U),q.preventDefault&&!q.defaultPrevented&&e.cancelEvent(k),q.stopPropagation&&e.stopEvent(k)}function A(I,k){var U={id:k.pointerId,type:D(k)},q={originalEvent:k,eventType:"pointercancel",pointerType:U.type,isEmulated:!1};ke(I,q),On(I,q,U),q.stopPropagation&&e.stopEvent(k)}function $(I,k){return k.speed=0,k.direction=0,k.contactPos=k.currentPos,k.contactTime=k.currentTime,k.lastPos=k.currentPos,k.lastTime=k.currentTime,I.add(k)}function we(I,k,U){var q,Ee=k.getById(U.id);return Ee?(Ee.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),S(I,Ee)),(k.type==="mouse"||k.type==="pen")&&k.contacts>0&&k.removeContact(),q=k.removeById(U.id)):q=k.getLength(),q}function Le(I,k){switch(k.eventType){case"pointermove":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!1,k.preventGesture=!I.hasGestureHandlers,k.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!1,k.preventGesture=!1,k.stopPropagation=!1;break;case"pointerdown":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!1,k.preventGesture=!I.hasGestureHandlers,k.stopPropagation=!1;break;case"pointerup":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!1,k.preventGesture=!I.hasGestureHandlers,k.stopPropagation=!1;break;case"wheel":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!1,k.preventGesture=!I.hasScrollHandler,k.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":k.isStoppable=!0,k.isCancelable=!1,k.preventDefault=!1,k.preventGesture=!1,k.stopPropagation=!1;break;case"click":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!!I.clickHandler,k.preventGesture=!1,k.stopPropagation=!1;break;case"dblclick":k.isStoppable=!0,k.isCancelable=!0,k.preventDefault=!!I.dblClickHandler,k.preventGesture=!1,k.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:k.isStoppable=!1,k.isCancelable=!1,k.preventDefault=!1,k.preventGesture=!1,k.stopPropagation=!1;break}}function ke(I,k){k.eventSource=I,k.eventPhase=k.originalEvent&&typeof k.originalEvent.eventPhase<"u"?k.originalEvent.eventPhase:0,k.defaultPrevented=e.eventIsCanceled(k.originalEvent),k.shouldCapture=!1,k.shouldReleaseCapture=!1,k.userData=I.userData,Le(I,k),I.preProcessEventHandler&&I.preProcessEventHandler(k)}function ht(I,k,U){var q=I.getActivePointersListByType(k.type),Ee=q.getById(k.id);Ee?U&&!Ee.captured?(Ee.captured=!0,q.captureCount++):!U&&Ee.captured&&(Ee.captured=!1,q.captureCount--,q.captureCount<0&&(q.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function tt(I,k,U){var q=I.getActivePointersListByType(U.type),Ee;Ee=q.getById(U.id),Ee?(Ee.insideElement=!0,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=U.currentPos,Ee.currentTime=U.currentTime,U=Ee):(U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,$(q,U)),I.enterHandler&&I.enterHandler({eventSource:I,pointerType:U.type,position:ee(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData})}function Ut(I,k,U){var q=I.getActivePointersListByType(U.type),Ee,je;Ee=q.getById(U.id),Ee?(Ee.captured?(Ee.insideElement=!1,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=U.currentPos,Ee.currentTime=U.currentTime):we(I,q,Ee),U=Ee):(U.captured=!1,U.insideElementPressed=!1),(I.leaveHandler||I.exitHandler)&&(je={eventSource:I,pointerType:U.type,position:U.currentPos&&ee(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData},I.leaveHandler&&I.leaveHandler(je),I.exitHandler&&I.exitHandler(je))}function rn(I,k,U){var q,Ee;q=I.getActivePointersListByType(U.type),Ee=q.getById(U.id),Ee?U=Ee:(U.captured=!1,U.insideElementPressed=!1),I.overHandler&&I.overHandler({eventSource:I,pointerType:U.type,position:ee(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData})}function Vt(I,k,U){var q,Ee;q=I.getActivePointersListByType(U.type),Ee=q.getById(U.id),Ee?U=Ee:(U.captured=!1,U.insideElementPressed=!1),I.outHandler&&I.outHandler({eventSource:I,pointerType:U.type,position:U.currentPos&&ee(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData})}function Ct(I,k,U,q){var Ee=r[I.hash],je=I.getActivePointersListByType(U.type),mt;if(typeof k.originalEvent.buttons<"u"?je.buttons=k.originalEvent.buttons:q===0?je.buttons|=1:q===1?je.buttons|=4:q===2?je.buttons|=2:q===3?je.buttons|=8:q===4?je.buttons|=16:q===5&&(je.buttons|=32),q!==0){k.shouldCapture=!1,k.shouldReleaseCapture=!1,I.nonPrimaryPressHandler&&!k.preventGesture&&!k.defaultPrevented&&(k.preventDefault=!0,I.nonPrimaryPressHandler({eventSource:I,pointerType:U.type,position:ee(U.currentPos,I.element),button:q,buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData}));return}if(mt=je.getById(U.id),mt)mt.insideElementPressed=!0,mt.insideElement=!0,mt.originalTarget=k.originalEvent.target,mt.contactPos=U.currentPos,mt.contactTime=U.currentTime,mt.lastPos=mt.currentPos,mt.lastTime=mt.currentTime,mt.currentPos=U.currentPos,mt.currentTime=U.currentTime,U=mt;else{e.console.warn("pointerdown event on untracked pointer"),U.captured=!1,U.insideElementPressed=!0,U.insideElement=!0,U.originalTarget=k.originalEvent.target,$(je,U);return}je.addContact(),!k.preventGesture&&!k.defaultPrevented?(k.shouldCapture=!0,k.shouldReleaseCapture=!1,k.preventDefault=!0,(I.dragHandler||I.dragEndHandler||I.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(I,U),je.contacts===1?I.pressHandler&&!k.preventGesture&&I.pressHandler({eventSource:I,pointerType:U.type,position:ee(U.contactPos,I.element),buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData}):je.contacts===2&&I.pinchHandler&&U.type==="touch"&&(Ee.pinchGPoints=je.asArray(),Ee.lastPinchDist=Ee.currentPinchDist=Ee.pinchGPoints[0].currentPos.distanceTo(Ee.pinchGPoints[1].currentPos),Ee.lastPinchCenter=Ee.currentPinchCenter=P(Ee.pinchGPoints[0].currentPos,Ee.pinchGPoints[1].currentPos))):(k.shouldCapture=!1,k.shouldReleaseCapture=!1)}function gn(I,k,U,q){var Ee=r[I.hash],je=I.getActivePointersListByType(U.type),mt,Jt,vt,li=!1,Cn;if(typeof k.originalEvent.buttons<"u"?je.buttons=k.originalEvent.buttons:q===0?je.buttons^=-2:q===1?je.buttons^=-5:q===2?je.buttons^=-3:q===3?je.buttons^=-9:q===4?je.buttons^=-17:q===5&&(je.buttons^=-33),k.shouldCapture=!1,q!==0){k.shouldReleaseCapture=!1,I.nonPrimaryReleaseHandler&&!k.preventGesture&&!k.defaultPrevented&&(k.preventDefault=!0,I.nonPrimaryReleaseHandler({eventSource:I,pointerType:U.type,position:ee(U.currentPos,I.element),button:q,buttons:je.buttons,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData}));return}vt=je.getById(U.id),vt?(je.removeContact(),vt.captured&&(li=!0),vt.lastPos=vt.currentPos,vt.lastTime=vt.currentTime,vt.currentPos=U.currentPos,vt.currentTime=U.currentTime,vt.insideElement||we(I,je,vt),mt=vt.currentPos,Jt=vt.currentTime):(e.console.warn("updatePointerUp(): pointerup on untracked gPoint"),U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,$(je,U),vt=U),!k.preventGesture&&!k.defaultPrevented&&(li?(k.shouldReleaseCapture=!0,k.preventDefault=!0,(I.dragHandler||I.dragEndHandler||I.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(I,vt),je.contacts===0?(I.releaseHandler&&I.releaseHandler({eventSource:I,pointerType:vt.type,position:ee(mt,I.element),buttons:je.buttons,insideElementPressed:vt.insideElementPressed,insideElementReleased:vt.insideElement,isTouchEvent:vt.type==="touch",originalEvent:k.originalEvent,userData:I.userData}),I.dragEndHandler&&Ee.sentDragEvent&&I.dragEndHandler({eventSource:I,pointerType:vt.type,position:ee(vt.currentPos,I.element),speed:vt.speed,direction:vt.direction,shift:k.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:k.originalEvent,userData:I.userData}),Ee.sentDragEvent=!1,(I.clickHandler||I.dblClickHandler)&&vt.insideElement&&(Cn=Jt-vt.contactTime<=I.clickTimeThreshold&&vt.contactPos.distanceTo(mt)<=I.clickDistThreshold,I.clickHandler&&I.clickHandler({eventSource:I,pointerType:vt.type,position:ee(vt.currentPos,I.element),quick:Cn,shift:k.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:k.originalEvent,originalTarget:vt.originalTarget,userData:I.userData}),I.dblClickHandler&&Cn&&(je.clicks++,je.clicks===1?(Ee.lastClickPos=mt,Ee.dblClickTimeOut=setTimeout(function(){je.clicks=0},I.dblClickTimeThreshold)):je.clicks===2&&(clearTimeout(Ee.dblClickTimeOut),je.clicks=0,Ee.lastClickPos.distanceTo(mt)<=I.dblClickDistThreshold&&I.dblClickHandler({eventSource:I,pointerType:vt.type,position:ee(vt.currentPos,I.element),shift:k.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:k.originalEvent,userData:I.userData}),Ee.lastClickPos=null)))):je.contacts===2&&I.pinchHandler&&vt.type==="touch"&&(Ee.pinchGPoints=je.asArray(),Ee.lastPinchDist=Ee.currentPinchDist=Ee.pinchGPoints[0].currentPos.distanceTo(Ee.pinchGPoints[1].currentPos),Ee.lastPinchCenter=Ee.currentPinchCenter=P(Ee.pinchGPoints[0].currentPos,Ee.pinchGPoints[1].currentPos))):(k.shouldReleaseCapture=!1,I.releaseHandler&&(I.releaseHandler({eventSource:I,pointerType:vt.type,position:ee(mt,I.element),buttons:je.buttons,insideElementPressed:vt.insideElementPressed,insideElementReleased:vt.insideElement,isTouchEvent:vt.type==="touch",originalEvent:k.originalEvent,userData:I.userData}),k.preventDefault=!0)))}function It(I,k,U){var q=r[I.hash],Ee=I.getActivePointersListByType(U.type),je,mt,Jt;if(typeof k.originalEvent.buttons<"u"&&(Ee.buttons=k.originalEvent.buttons),je=Ee.getById(U.id),je)je.lastPos=je.currentPos,je.lastTime=je.currentTime,je.currentPos=U.currentPos,je.currentTime=U.currentTime;else return;k.shouldCapture=!1,k.shouldReleaseCapture=!1,I.stopHandler&&U.type==="mouse"&&(clearTimeout(I.stopTimeOut),I.stopTimeOut=setTimeout(function(){hr(I,k.originalEvent,U.type)},I.stopDelay)),Ee.contacts===0?I.moveHandler&&I.moveHandler({eventSource:I,pointerType:U.type,position:ee(U.currentPos,I.element),buttons:Ee.buttons,isTouchEvent:U.type==="touch",originalEvent:k.originalEvent,userData:I.userData}):Ee.contacts===1?(I.moveHandler&&(je=Ee.asArray()[0],I.moveHandler({eventSource:I,pointerType:je.type,position:ee(je.currentPos,I.element),buttons:Ee.buttons,isTouchEvent:je.type==="touch",originalEvent:k.originalEvent,userData:I.userData})),I.dragHandler&&!k.preventGesture&&!k.defaultPrevented&&(je=Ee.asArray()[0],Jt=je.currentPos.minus(je.lastPos),I.dragHandler({eventSource:I,pointerType:je.type,position:ee(je.currentPos,I.element),buttons:Ee.buttons,delta:Jt,speed:je.speed,direction:je.direction,shift:k.originalEvent.shiftKey,isTouchEvent:je.type==="touch",originalEvent:k.originalEvent,userData:I.userData}),k.preventDefault=!0,q.sentDragEvent=!0)):Ee.contacts===2&&(I.moveHandler&&(mt=Ee.asArray(),I.moveHandler({eventSource:I,pointerType:mt[0].type,position:ee(P(mt[0].currentPos,mt[1].currentPos),I.element),buttons:Ee.buttons,isTouchEvent:mt[0].type==="touch",originalEvent:k.originalEvent,userData:I.userData})),I.pinchHandler&&U.type==="touch"&&!k.preventGesture&&!k.defaultPrevented&&(Jt=q.pinchGPoints[0].currentPos.distanceTo(q.pinchGPoints[1].currentPos),Jt!==q.currentPinchDist&&(q.lastPinchDist=q.currentPinchDist,q.currentPinchDist=Jt,q.lastPinchCenter=q.currentPinchCenter,q.currentPinchCenter=P(q.pinchGPoints[0].currentPos,q.pinchGPoints[1].currentPos),I.pinchHandler({eventSource:I,pointerType:"touch",gesturePoints:q.pinchGPoints,lastCenter:ee(q.lastPinchCenter,I.element),center:ee(q.currentPinchCenter,I.element),lastDistance:q.lastPinchDist,distance:q.currentPinchDist,shift:k.originalEvent.shiftKey,originalEvent:k.originalEvent,userData:I.userData}),k.preventDefault=!0)))}function On(I,k,U){var q=I.getActivePointersListByType(U.type),Ee;Ee=q.getById(U.id),Ee&&we(I,q,Ee)}function hr(I,k,U){I.stopHandler&&I.stopHandler({eventSource:I,pointerType:U,position:G(k,I.element),buttons:I.getActivePointersListByType(U).buttons,isTouchEvent:U==="touch",originalEvent:k,userData:I.userData})}}(s),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(r,l,c){var p=r.parentNode;typeof l=="number"&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=r,this.anchor=l.anchor,this.container=c,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):p.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(r){this.wrapper.style.display=r?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(r){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,r,!0):e.setElementOpacity(this.wrapper,r,!0)}}}(s),function(e){e.ControlDock=function(l){var c=["topleft","topright","bottomright","bottomleft"],p,m;for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(Math.random()*1e6),container:e.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),m=0;m<c.length;m++)p=c[m],this.controls[p]=e.makeNeutralElement("div"),this.controls[p].style.position="absolute",p.match("left")&&(this.controls[p].style.left="0px"),p.match("right")&&(this.controls[p].style.right="0px"),p.match("top")&&(this.controls[p].style.top="0px"),p.match("bottom")&&(this.controls[p].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(l,c){l=e.getElement(l);var p=null;if(!(r(this,l)>=0)){switch(c.anchor){case e.ControlAnchor.TOP_RIGHT:p=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:p=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:p=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:p=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:p=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case e.ControlAnchor.NONE:p=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new e.Control(l,c,p)),l.style.display="inline-block"}},removeControl:function(l){l=e.getElement(l);var c=r(this,l);return c>=0&&(this.controls[c].destroy(),this.controls.splice(c,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var c;for(c=this.controls.length-1;c>=0;c--)this.controls[c].setVisible(l);return this}};function r(l,c){var p=l.controls,m;for(m=p.length-1;m>=0;m--)if(p[m].element===c)return m;return-1}}(s),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(s),function(e){var r={},l=1;e.Viewer=function(A){var $=arguments,we=this,Le;if(e.isPlainObject(A)||(A={id:$[0],xmlPath:$.length>1?$[1]:void 0,prefixUrl:$.length>2?$[2]:void 0,controls:$.length>3?$[3]:void 0,overlays:$.length>4?$[4]:void 0}),A.config&&(e.extend(!0,A,A.config),delete A.config),e.extend(!0,this,{id:A.id,hash:A.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,A),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof r[this.hash]<"u"&&e.console.warn("Hash "+this.hash+" has already been used."),r[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(ke){var ht=e.getString("Errors.OpenFailed",ke.eventSource,ke.message);we._showMessage(ht)}),e.ControlDock.call(this,A),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(ke){ke.width="100%",ke.height="100%",ke.overflow="hidden",ke.position="absolute",ke.top="0px",ke.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),A.tabIndex!==""&&(this.canvas.tabIndex=A.tabIndex===void 0?0:A.tabIndex),this.container.className="openseadragon-container",function(ke){ke.width="100%",ke.height="100%",ke.position="relative",ke.overflow="hidden",ke.left="0px",ke.top="0px",ke.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,G),keyDownHandler:e.delegate(this,ee),keyHandler:e.delegate(this,P),clickHandler:e.delegate(this,Z),dblClickHandler:e.delegate(this,oe),dragHandler:e.delegate(this,re),dragEndHandler:e.delegate(this,he),enterHandler:e.delegate(this,ge),leaveHandler:e.delegate(this,Ie),pressHandler:e.delegate(this,ze),releaseHandler:e.delegate(this,Qe),nonPrimaryPressHandler:e.delegate(this,rt),nonPrimaryReleaseHandler:e.delegate(this,$e),scrollHandler:e.delegate(this,ft),pinchHandler:e.delegate(this,pt)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,Tt),leaveHandler:e.delegate(this,_t)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),r[this.hash].prevContainerSize=c(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(ke){we.source=we.world.getItemAt(0).source,r[we.hash].forceRedraw=!0,we._updateRequestId||(we._updateRequestId=b(we,At))}),this.world.addHandler("remove-item",function(ke){we.world.getItemCount()?we.source=we.world.getItemAt(0).source:we.source=null,r[we.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ke){we.viewport&&we.viewport._setContentBounds(we.world.getHomeBounds(),we.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ke){we.source=we.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:r[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:A.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Le=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Le,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Le=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Le,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Le=0;Le<this.customControls.length;Le++)this.addControl(this.customControls[Le].id,{anchor:this.customControls[Le].anchor});e.requestAnimationFrame(function(){S(we)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(A){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(A)},openTileSource:function(A){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(A)},open:function(A,$){var we=this;if(this.close(),!A)return this;if(this.sequenceMode&&e.isArray(A))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof $<"u"&&!isNaN($)&&(this.initialPage=$),this.tileSources=A,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(A)||(A=[A]),!A.length)return this;this._opening=!0;for(var Le=A.length,ke=0,ht=0,tt,Ut=function(){if(ke+ht===Le)if(ke){(we._firstOpen||!we.preserveViewport)&&(we.viewport.goHome(!0),we.viewport.update()),we._firstOpen=!1;var Ct=A[0];if(Ct.tileSource&&(Ct=Ct.tileSource),we.overlays&&!we.preserveOverlays)for(var gn=0;gn<we.overlays.length;gn++)we.currentOverlays[gn]=m(we,we.overlays[gn]);we._drawOverlays(),we._opening=!1,we.raiseEvent("open",{source:Ct})}else we._opening=!1,we.raiseEvent("open-failed",tt)},rn=function(Ct){(!e.isPlainObject(Ct)||!Ct.tileSource)&&(Ct={tileSource:Ct}),Ct.index!==void 0&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Ct.index),Ct.collectionImmediately===void 0&&(Ct.collectionImmediately=!0);var gn=Ct.success;Ct.success=function(On){if(ke++,Ct.tileSource.overlays)for(var hr=0;hr<Ct.tileSource.overlays.length;hr++)we.addOverlay(Ct.tileSource.overlays[hr]);gn&&gn(On),Ut()};var It=Ct.error;Ct.error=function(On){ht++,tt||(tt=On),It&&It(On),Ut()},we.addTiledImage(Ct)},Vt=0;Vt<A.length;Vt++)rn(A[Vt]);return this},close:function(){return r[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),r[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(r[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),r[this.navigator.hash]=null,delete r[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),r[this.hash]=null,delete r[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(A){return this.innerTracker.setTracking(A),this.outerTracker.setTracking(A),this.raiseEvent("mouse-enabled",{enabled:A}),this},areControlsEnabled:function(){var A=this.controls.length,$;for($=0;$<this.controls.length;$++)A=A&&this.controls[$].isVisible();return A},setControlsEnabled:function(A){return A?D(this):S(this),this.raiseEvent("controls-enabled",{enabled:A}),this},setDebugMode:function(A){for(var $=0;$<this.world.getItemCount();$++)this.world.getItemAt($).debugMode=A;this.debugMode=A,this.forceRedraw()},isFullPage:function(){return r[this.hash].fullPage},setFullPage:function(A){var $=document.body,we=$.style,Le=document.documentElement.style,ke=this,ht,tt;if(A===this.isFullPage())return this;var Ut={fullPage:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Ut),Ut.preventDefaultAction)return this;if(A){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=we.margin,this.docMargin=Le.margin,we.margin="0",Le.margin="0",this.bodyPadding=we.padding,this.docPadding=Le.padding,we.padding="0",Le.padding="0",this.bodyWidth=we.width,this.docWidth=Le.width,we.width="100%",Le.width="100%",this.bodyHeight=we.height,this.docHeight=Le.height,we.height="100%",Le.height="100%",this.bodyDisplay=we.display,we.display="block",this.previousBody=[],r[this.hash].prevElementParent=this.element.parentNode,r[this.hash].prevNextSibling=this.element.nextSibling,r[this.hash].prevElementWidth=this.element.style.width,r[this.hash].prevElementHeight=this.element.style.height,ht=$.childNodes.length,tt=0;tt<ht;tt++)this.previousBody.push($.childNodes[0]),$.removeChild($.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,$.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),$.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),r[this.hash].fullPage=!0,e.delegate(this,Tt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,we.margin=this.bodyMargin,Le.margin=this.docMargin,we.padding=this.bodyPadding,Le.padding=this.docPadding,we.width=this.bodyWidth,Le.width=this.docWidth,we.height=this.bodyHeight,Le.height=this.docHeight,we.display=this.bodyDisplay,$.removeChild(this.element),ht=this.previousBody.length,tt=0;tt<ht;tt++)$.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),r[this.hash].prevElementParent.insertBefore(this.element,r[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&($.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=r[this.hash].prevElementWidth,this.element.style.height=r[this.hash].prevElementHeight;var rn=0,Vt=function(){e.setPageScroll(ke.pageScroll);var Ct=e.getPageScroll();rn++,rn<10&&(Ct.x!==ke.pageScroll.x||Ct.y!==ke.pageScroll.y)&&e.requestAnimationFrame(Vt)};e.requestAnimationFrame(Vt),r[this.hash].fullPage=!1,e.delegate(this,_t)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:A}),this},setFullScreen:function(A){var $=this;if(!e.supportsFullScreen)return this.setFullPage(A);if(e.isFullScreen()===A)return this;var we={fullScreen:A,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",we),we.preventDefaultAction)return this;if(A){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Le=function(){var ke=e.isFullScreen();ke||(e.removeEvent(document,e.fullScreenEventName,Le),e.removeEvent(document,e.fullScreenErrorEventName,Le),$.setFullPage(!1),$.isFullPage()&&($.element.style.width=$.fullPageStyleWidth,$.element.style.height=$.fullPageStyleHeight)),$.navigator&&$.viewport&&setTimeout(function(){$.navigator.update($.viewport)}),$.raiseEvent("full-screen",{fullScreen:ke})};e.addEvent(document,e.fullScreenEventName,Le),e.addEvent(document,e.fullScreenErrorEventName,Le),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(A){return this.container.style.visibility=A?"":"hidden",this.raiseEvent("visible",{visible:A}),this},addTiledImage:function(A){e.console.assert(A,"[Viewer.addTiledImage] options is required"),e.console.assert(A.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!A.replace||A.index>-1&&A.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var $=this;A.replace&&(A.replaceItem=$.world.getItemAt(A.index)),this._hideMessage(),A.placeholderFillStyle===void 0&&(A.placeholderFillStyle=this.placeholderFillStyle),A.opacity===void 0&&(A.opacity=this.opacity),A.preload===void 0&&(A.preload=this.preload),A.compositeOperation===void 0&&(A.compositeOperation=this.compositeOperation),A.crossOriginPolicy===void 0&&(A.crossOriginPolicy=A.tileSource.crossOriginPolicy!==void 0?A.tileSource.crossOriginPolicy:this.crossOriginPolicy),A.ajaxWithCredentials===void 0&&(A.ajaxWithCredentials=this.ajaxWithCredentials),A.loadTilesWithAjax===void 0&&(A.loadTilesWithAjax=this.loadTilesWithAjax),A.ajaxHeaders===void 0||A.ajaxHeaders===null?A.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(A.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(A.ajaxHeaders=e.extend({},this.ajaxHeaders,A.ajaxHeaders));var we={options:A};function Le(tt){for(var Ut=0;Ut<$._loadQueue.length;Ut++)if($._loadQueue[Ut]===we){$._loadQueue.splice(Ut,1);break}$._loadQueue.length===0&&ke(we),$.raiseEvent("add-item-failed",tt),A.error&&A.error(tt)}function ke(tt){$.collectionMode&&($.world.arrange({immediately:tt.options.collectionImmediately,rows:$.collectionRows,columns:$.collectionColumns,layout:$.collectionLayout,tileSize:$.collectionTileSize,tileMargin:$.collectionTileMargin}),$.world.setAutoRefigureSizes(!0))}if(e.isArray(A.tileSource)){setTimeout(function(){Le({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:A.tileSource,options:A})});return}this._loadQueue.push(we);function ht(){for(var tt,Ut,rn;$._loadQueue.length&&(tt=$._loadQueue[0],!!tt.tileSource);){if($._loadQueue.splice(0,1),tt.options.replace){var Vt=$.world.getIndexOfItem(tt.options.replaceItem);Vt!==-1&&(tt.options.index=Vt),$.world.removeItem(tt.options.replaceItem)}Ut=new e.TiledImage({viewer:$,source:tt.tileSource,viewport:$.viewport,drawer:$.drawer,tileCache:$.tileCache,imageLoader:$.imageLoader,x:tt.options.x,y:tt.options.y,width:tt.options.width,height:tt.options.height,fitBounds:tt.options.fitBounds,fitBoundsPlacement:tt.options.fitBoundsPlacement,clip:tt.options.clip,placeholderFillStyle:tt.options.placeholderFillStyle,opacity:tt.options.opacity,preload:tt.options.preload,degrees:tt.options.degrees,flipped:tt.options.flipped,compositeOperation:tt.options.compositeOperation,springStiffness:$.springStiffness,animationTime:$.animationTime,minZoomImageRatio:$.minZoomImageRatio,wrapHorizontal:$.wrapHorizontal,wrapVertical:$.wrapVertical,immediateRender:$.immediateRender,blendTime:$.blendTime,alwaysBlend:$.alwaysBlend,minPixelRatio:$.minPixelRatio,smoothTileEdgesMinZoom:$.smoothTileEdgesMinZoom,iOSDevice:$.iOSDevice,crossOriginPolicy:tt.options.crossOriginPolicy,ajaxWithCredentials:tt.options.ajaxWithCredentials,loadTilesWithAjax:tt.options.loadTilesWithAjax,ajaxHeaders:tt.options.ajaxHeaders,debugMode:$.debugMode}),$.collectionMode&&$.world.setAutoRefigureSizes(!1),$.navigator&&(rn=e.extend({},tt.options,{replace:!1,originalTiledImage:Ut,tileSource:tt.tileSource}),$.navigator.addTiledImage(rn)),$.world.addItem(Ut,{index:tt.options.index}),$._loadQueue.length===0&&ke(tt),$.world.getItemCount()===1&&!$.preserveViewport&&$.viewport.goHome(!0),tt.options.success&&tt.options.success({item:Ut})}}p(this,A.tileSource,A,function(tt){we.tileSource=tt,ht()},function(tt){tt.options=A,Le(tt),ht()})},addSimpleImage:function(A){e.console.assert(A,"[Viewer.addSimpleImage] options is required"),e.console.assert(A.url,"[Viewer.addSimpleImage] options.url is required");var $=e.extend({},A,{tileSource:{type:"image",url:A.url}});delete $.url,this.addTiledImage($)},addLayer:function(A){var $=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var we=e.extend({},A,{success:function(Le){$.raiseEvent("add-layer",{options:A,drawer:Le.item})},error:function(Le){$.raiseEvent("add-layer-failed",Le)}});return this.addTiledImage(we),this},getLayerAtLevel:function(A){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(A)},getLevelOfLayer:function(A){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(A)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(A,$){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(A,$)},removeLayer:function(A){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(A)},forceRedraw:function(){return r[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var A=e.delegate(this,H),$=e.delegate(this,J),we=e.delegate(this,this.goToNextPage),Le=e.delegate(this,this.goToPreviousPage),ke=this.navImages,ht=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ht=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:et(this.prefixUrl,ke.previous.REST),srcGroup:et(this.prefixUrl,ke.previous.GROUP),srcHover:et(this.prefixUrl,ke.previous.HOVER),srcDown:et(this.prefixUrl,ke.previous.DOWN),onRelease:Le,onFocus:A,onBlur:$}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:et(this.prefixUrl,ke.next.REST),srcGroup:et(this.prefixUrl,ke.next.GROUP),srcHover:et(this.prefixUrl,ke.next.HOVER),srcDown:et(this.prefixUrl,ke.next.DOWN),onRelease:we,onFocus:A,onBlur:$}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ht&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var A=e.delegate(this,kt),$=e.delegate(this,We),we=e.delegate(this,Ke),Le=e.delegate(this,De),ke=e.delegate(this,gt),ht=e.delegate(this,hn),tt=e.delegate(this,Lt),Ut=e.delegate(this,gi),rn=e.delegate(this,Xn),Vt=e.delegate(this,ai),Ct=e.delegate(this,H),gn=e.delegate(this,J),It=this.navImages,On=[],hr=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(hr=!1),this.showZoomControl&&(On.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:et(this.prefixUrl,It.zoomIn.REST),srcGroup:et(this.prefixUrl,It.zoomIn.GROUP),srcHover:et(this.prefixUrl,It.zoomIn.HOVER),srcDown:et(this.prefixUrl,It.zoomIn.DOWN),onPress:A,onRelease:$,onClick:we,onEnter:A,onExit:$,onFocus:Ct,onBlur:gn})),On.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:et(this.prefixUrl,It.zoomOut.REST),srcGroup:et(this.prefixUrl,It.zoomOut.GROUP),srcHover:et(this.prefixUrl,It.zoomOut.HOVER),srcDown:et(this.prefixUrl,It.zoomOut.DOWN),onPress:Le,onRelease:$,onClick:ke,onEnter:Le,onExit:$,onFocus:Ct,onBlur:gn}))),this.showHomeControl&&On.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:et(this.prefixUrl,It.home.REST),srcGroup:et(this.prefixUrl,It.home.GROUP),srcHover:et(this.prefixUrl,It.home.HOVER),srcDown:et(this.prefixUrl,It.home.DOWN),onRelease:ht,onFocus:Ct,onBlur:gn})),this.showFullPageControl&&On.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:et(this.prefixUrl,It.fullpage.REST),srcGroup:et(this.prefixUrl,It.fullpage.GROUP),srcHover:et(this.prefixUrl,It.fullpage.HOVER),srcDown:et(this.prefixUrl,It.fullpage.DOWN),onRelease:tt,onFocus:Ct,onBlur:gn})),this.showRotationControl&&(On.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:et(this.prefixUrl,It.rotateleft.REST),srcGroup:et(this.prefixUrl,It.rotateleft.GROUP),srcHover:et(this.prefixUrl,It.rotateleft.HOVER),srcDown:et(this.prefixUrl,It.rotateleft.DOWN),onRelease:Ut,onFocus:Ct,onBlur:gn})),On.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:et(this.prefixUrl,It.rotateright.REST),srcGroup:et(this.prefixUrl,It.rotateright.GROUP),srcHover:et(this.prefixUrl,It.rotateright.HOVER),srcDown:et(this.prefixUrl,It.rotateright.DOWN),onRelease:rn,onFocus:Ct,onBlur:gn}))),this.showFlipControl&&On.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:et(this.prefixUrl,It.flip.REST),srcGroup:et(this.prefixUrl,It.flip.GROUP),srcHover:et(this.prefixUrl,It.flip.HOVER),srcDown:et(this.prefixUrl,It.flip.DOWN),onRelease:Vt,onFocus:Ct,onBlur:gn})),hr?(this.buttonGroup=new e.ButtonGroup({buttons:On,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,Zt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=On),this},currentPage:function(){return this._sequenceIndex},goToPage:function(A){return this.tileSources&&A>=0&&A<this.tileSources.length&&(this._sequenceIndex=A,this._updateSequenceButtons(A),this.open(this.tileSources[A]),this.referenceStrip&&this.referenceStrip.setFocus(A),this.raiseEvent("page",{page:A})),this},addOverlay:function(A,$,we,Le){var ke;if(e.isPlainObject(A)?ke=A:ke={element:A,location:$,placement:we,onDraw:Le},A=e.getElement(ke.element),y(this.currentOverlays,A)>=0)return this;var ht=m(this,ke);return this.currentOverlays.push(ht),ht.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:A,location:ke.location,placement:ke.placement}),this},updateOverlay:function(A,$,we){var Le;return A=e.getElement(A),Le=y(this.currentOverlays,A),Le>=0&&(this.currentOverlays[Le].update($,we),r[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:A,location:$,placement:we})),this},removeOverlay:function(A){var $;return A=e.getElement(A),$=y(this.currentOverlays,A),$>=0&&(this.currentOverlays[$].destroy(),this.currentOverlays.splice($,1),r[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:A})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return r[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(A){var $;return A=e.getElement(A),$=y(this.currentOverlays,A),$>=0?this.currentOverlays[$]:null},_updateSequenceButtons:function(A){this.nextButton&&(!this.tileSources||this.tileSources.length-1===A?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(A>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(A){this._hideMessage();var $=e.makeNeutralElement("div");$.appendChild(document.createTextNode(A)),this.messageDiv=e.makeCenteredNode($),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var A=this.messageDiv;A&&(A.parentNode.removeChild(A),delete this.messageDiv)},gestureSettingsByDeviceType:function(A){switch(A){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var A,$=this.currentOverlays.length;for(A=0;A<$;A++)this.currentOverlays[A].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var A=e.pixelDensityRatio,$=e.getCurrentPixelDensityRatio();A!==$&&(e.pixelDensityRatio=$,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var A=this._sequenceIndex-1;this.navPrevNextWrap&&A<0&&(A+=this.tileSources.length),this.goToPage(A)},goToNextPage:function(){var A=this._sequenceIndex+1;this.navPrevNextWrap&&A>=this.tileSources.length&&(A=0),this.goToPage(A)}});function c(A){return A=e.getElement(A),new e.Point(A.clientWidth===0?1:A.clientWidth,A.clientHeight===0?1:A.clientHeight)}function p(A,$,we,Le,ke){var ht=A;if(e.type($)==="string"){if($.match(/^\s*<.*>\s*$/))$=e.parseXml($);else if($.match(/^\s*[{[].*[}\]]\s*$/))try{var tt=e.parseJSON($);$=tt}catch{}}function Ut(rn,Vt){rn.ready?Le(rn):(rn.addHandler("ready",function(){Le(rn)}),rn.addHandler("open-failed",function(Ct){ke({message:Ct.message,source:Vt})}))}setTimeout(function(){if(e.type($)==="string")$=new e.TileSource({url:$,crossOriginPolicy:we.crossOriginPolicy!==void 0?we.crossOriginPolicy:A.crossOriginPolicy,ajaxWithCredentials:A.ajaxWithCredentials,ajaxHeaders:we.ajaxHeaders?we.ajaxHeaders:A.ajaxHeaders,useCanvas:A.useCanvas,success:function(gn){Le(gn.tileSource)}}),$.addHandler("open-failed",function(gn){ke(gn)});else if(e.isPlainObject($)||$.nodeType)if($.crossOriginPolicy===void 0&&(we.crossOriginPolicy!==void 0||A.crossOriginPolicy!==void 0)&&($.crossOriginPolicy=we.crossOriginPolicy!==void 0?we.crossOriginPolicy:A.crossOriginPolicy),$.ajaxWithCredentials===void 0&&($.ajaxWithCredentials=A.ajaxWithCredentials),$.useCanvas===void 0&&($.useCanvas=A.useCanvas),e.isFunction($.getTileUrl)){var rn=new e.TileSource($);rn.getTileUrl=$.getTileUrl,Le(rn)}else{var Vt=e.TileSource.determineType(ht,$);if(!Vt){ke({message:"Unable to load TileSource",source:$});return}var Ct=Vt.prototype.configure.apply(ht,[$]);Ut(new Vt(Ct),$)}else Ut($,$)})}function m(A,$){if($ instanceof e.Overlay)return $;var we=null;if($.element)we=e.getElement($.element);else{var Le=$.id?$.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);we=e.getElement($.id),we||(we=document.createElement("a"),we.href="#/overlay/"+Le),we.id=Le,e.addClass(we,$.className?$.className:"openseadragon-overlay")}var ke=$.location,ht=$.width,tt=$.height;if(!ke){var Ut=$.x,rn=$.y;if($.px!==void 0){var Vt=A.viewport.imageToViewportRectangle(new e.Rect($.px,$.py,ht||0,tt||0));Ut=Vt.x,rn=Vt.y,ht=ht!==void 0?Vt.width:void 0,tt=tt!==void 0?Vt.height:void 0}ke=new e.Point(Ut,rn)}var Ct=$.placement;return Ct&&e.type(Ct)==="string"&&(Ct=e.Placement[$.placement.toUpperCase()]),new e.Overlay({element:we,location:ke,placement:Ct,onDraw:$.onDraw,checkResize:$.checkResize,width:ht,height:tt,rotationMode:$.rotationMode})}function y(A,$){var we;for(we=A.length-1;we>=0;we--)if(A[we].element===$)return we;return-1}function b(A,$){return e.requestAnimationFrame(function(){$(A)})}function w(A){e.requestAnimationFrame(function(){C(A)})}function S(A){!A.autoHideControls||(A.controlsShouldFade=!0,A.controlsFadeBeginTime=e.now()+A.controlsFadeDelay,window.setTimeout(function(){w(A)},A.controlsFadeDelay))}function C(A){var $,we,Le,ke;if(A.controlsShouldFade){for($=e.now(),we=$-A.controlsFadeBeginTime,Le=1-we/A.controlsFadeLength,Le=Math.min(1,Le),Le=Math.max(0,Le),ke=A.controls.length-1;ke>=0;ke--)A.controls[ke].autoFade&&A.controls[ke].setOpacity(Le);Le>0&&w(A)}}function D(A){var $;for(A.controlsShouldFade=!1,$=A.controls.length-1;$>=0;$--)A.controls[$].setOpacity(1)}function H(){D(this)}function J(){S(this)}function G(A){var $={tracker:A.eventSource,position:A.position,originalEvent:A.originalEvent,preventDefault:A.preventDefault};this.raiseEvent("canvas-contextmenu",$),A.preventDefault=$.preventDefault}function ee(A){var $={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan,preventHorizontalPan:A.preventHorizontalPan};if(this.raiseEvent("canvas-key",$),!$.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:$.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 40:$.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 37:$.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 39:$.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function P(A){var $={originalEvent:A.originalEvent,preventDefaultAction:!1,preventVerticalPan:A.preventVerticalPan,preventHorizontalPan:A.preventHorizontalPan};if(this.raiseEvent("canvas-key",$),!$.preventDefaultAction&&!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 119:case 87:$.preventVerticalPan||(A.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 115:case 83:$.preventVerticalPan||(A.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 97:$.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 100:$.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),A.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),A.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),A.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function Z(A){var $,we=document.activeElement===this.canvas;we||this.canvas.focus(),this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x);var Le={tracker:A.eventSource,position:A.position,quick:A.quick,shift:A.shift,originalEvent:A.originalEvent,originalTarget:A.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Le),!Le.preventDefaultAction&&this.viewport&&A.quick&&($=this.gestureSettingsByDeviceType(A.pointerType),$.clickToZoom&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,$.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()))}function oe(A){var $,we={tracker:A.eventSource,position:A.position,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",we),!we.preventDefaultAction&&this.viewport&&($=this.gestureSettingsByDeviceType(A.pointerType),$.dblClickToZoom&&(this.viewport.zoomBy(A.shift?1/this.zoomPerClick:this.zoomPerClick,$.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints()))}function re(A){var $,we={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,delta:A.delta,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",we),$=this.gestureSettingsByDeviceType(A.pointerType),$.dragToPan&&!we.preventDefaultAction&&this.viewport){if(this.panHorizontal||(A.delta.x=0),this.panVertical||(A.delta.y=0),this.viewport.flipped&&(A.delta.x=-A.delta.x),this.constrainDuringPan){var Le=this.viewport.deltaPointsFromPixels(A.delta.negate());this.viewport.centerSpringX.target.value+=Le.x,this.viewport.centerSpringY.target.value+=Le.y;var ke=this.viewport.getBounds(),ht=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Le.x,this.viewport.centerSpringY.target.value-=Le.y,ke.x!==ht.x&&(A.delta.x=0),ke.y!==ht.y&&(A.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(A.delta.negate()),$.flickEnabled&&!this.constrainDuringPan)}}function he(A){var $={tracker:A.eventSource,pointerType:A.pointerType,position:A.position,speed:A.speed,direction:A.direction,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",$),!$.preventDefaultAction&&this.viewport){var we=this.gestureSettingsByDeviceType(A.pointerType);if(we.flickEnabled&&A.speed>=we.flickMinSpeed){var Le=0;this.panHorizontal&&(Le=we.flickMomentum*A.speed*Math.cos(A.direction));var ke=0;this.panVertical&&(ke=we.flickMomentum*A.speed*Math.sin(A.direction));var ht=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),tt=this.viewport.pointFromPixel(new e.Point(ht.x-Le,ht.y-ke));this.viewport.panTo(tt,!1)}this.viewport.applyConstraints()}}function ge(A){this.raiseEvent("canvas-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function Ie(A){this.raiseEvent("canvas-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function ze(A){this.raiseEvent("canvas-press",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent})}function Qe(A){this.raiseEvent("canvas-release",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,insideElementPressed:A.insideElementPressed,insideElementReleased:A.insideElementReleased,originalEvent:A.originalEvent})}function rt(A){this.raiseEvent("canvas-nonprimary-press",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function $e(A){this.raiseEvent("canvas-nonprimary-release",{tracker:A.eventSource,position:A.position,pointerType:A.pointerType,button:A.button,buttons:A.buttons,originalEvent:A.originalEvent})}function pt(A){var $,we,Le,ke,ht={tracker:A.eventSource,pointerType:A.pointerType,gesturePoints:A.gesturePoints,lastCenter:A.lastCenter,center:A.center,lastDistance:A.lastDistance,distance:A.distance,shift:A.shift,originalEvent:A.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ht),this.viewport&&($=this.gestureSettingsByDeviceType(A.pointerType),$.pinchToZoom&&(!ht.preventDefaultPanAction||!ht.preventDefaultZoomAction)&&(we=this.viewport.pointFromPixel(A.center,!0),ht.preventDefaultZoomAction||this.viewport.zoomBy(A.distance/A.lastDistance,we,!0),$.zoomToRefPoint&&!ht.preventDefaultPanAction&&(Le=this.viewport.pointFromPixel(A.lastCenter,!0),ke=Le.minus(we),this.panHorizontal||(ke.x=0),this.panVertical||(ke.y=0),this.viewport.panBy(ke,!0)),this.viewport.applyConstraints()),$.pinchRotate&&!ht.preventDefaultRotateAction)){var tt=Math.atan2(A.gesturePoints[0].currentPos.y-A.gesturePoints[1].currentPos.y,A.gesturePoints[0].currentPos.x-A.gesturePoints[1].currentPos.x),Ut=Math.atan2(A.gesturePoints[0].lastPos.y-A.gesturePoints[1].lastPos.y,A.gesturePoints[0].lastPos.x-A.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(tt-Ut)*(180/Math.PI))}}function ft(A){var $,we,Le,ke,ht;ke=e.now(),ht=ke-this._lastScrollTime,ht>this.minScrollDeltaTime?(this._lastScrollTime=ke,$={tracker:A.eventSource,position:A.position,scroll:A.scroll,shift:A.shift,originalEvent:A.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",$),!$.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(A.position.x=this.viewport.getContainerSize().x-A.position.x),we=this.gestureSettingsByDeviceType(A.pointerType),we.scrollToZoom&&(Le=Math.pow(this.zoomPerScroll,A.scroll),this.viewport.zoomBy(Le,we.zoomToRefPoint?this.viewport.pointFromPixel(A.position,!0):null),this.viewport.applyConstraints())),A.preventDefault=$.preventDefault):A.preventDefault=!0}function Tt(A){r[this.hash].mouseInside=!0,D(this),this.raiseEvent("container-enter",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function _t(A){A.pointers<1&&(r[this.hash].mouseInside=!1,r[this.hash].animating||S(this)),this.raiseEvent("container-exit",{tracker:A.eventSource,pointerType:A.pointerType,position:A.position,buttons:A.buttons,pointers:A.pointers,insideElementPressed:A.insideElementPressed,buttonDownAny:A.buttonDownAny,originalEvent:A.originalEvent})}function At(A){jt(A),A.isOpen()?A._updateRequestId=b(A,At):A._updateRequestId=!1}function jt(A){if(!(A._opening||!r[A.hash])){if(A.autoResize){var $=c(A.container),we=r[A.hash].prevContainerSize;if(!$.equals(we)){var Le=A.viewport;if(A.preserveImageSizeOnResize){var ke=we.x/$.x,ht=Le.getZoom()*ke,tt=Le.getCenter();Le.resize($,!1),Le.zoomTo(ht,null,!0),Le.panTo(tt,!0)}else{var Ut=Le.getBounds();Le.resize($,!0),Le.fitBoundsWithConstraints(Ut,!0)}r[A.hash].prevContainerSize=$,r[A.hash].forceRedraw=!0}}var rn=A.viewport.update(),Vt=A.world.update()||rn;rn&&A.raiseEvent("viewport-change"),A.referenceStrip&&(Vt=A.referenceStrip.update(A.viewport)||Vt),!r[A.hash].animating&&Vt&&(A.raiseEvent("animation-start"),D(A)),(Vt||r[A.hash].forceRedraw||A.world.needsDraw())&&(Kt(A),A._drawOverlays(),A.navigator&&A.navigator.update(A.viewport),r[A.hash].forceRedraw=!1,Vt&&A.raiseEvent("animation")),r[A.hash].animating&&!Vt&&(A.raiseEvent("animation-finish"),r[A.hash].mouseInside||S(A)),r[A.hash].animating=Vt}}function Kt(A){A.imageLoader.clear(),A.drawer.clear(),A.world.draw(),A.raiseEvent("update-viewport",{})}function et(A,$){return A?A+$:$}function kt(){r[this.hash].lastZoomTime=e.now(),r[this.hash].zoomFactor=this.zoomPerSecond,r[this.hash].zooming=!0,Xe(this)}function De(){r[this.hash].lastZoomTime=e.now(),r[this.hash].zoomFactor=1/this.zoomPerSecond,r[this.hash].zooming=!0,Xe(this)}function We(){r[this.hash].zooming=!1}function Xe(A){e.requestAnimationFrame(e.delegate(A,Ge))}function Ge(){var A,$,we;r[this.hash].zooming&&this.viewport&&(A=e.now(),$=A-r[this.hash].lastZoomTime,we=Math.pow(r[this.hash].zoomFactor,$/1e3),this.viewport.zoomBy(we),this.viewport.applyConstraints(),r[this.hash].lastZoomTime=A,Xe(this))}function Ke(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function gt(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Zt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function hn(){this.viewport&&this.viewport.goHome()}function Lt(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function gi(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A=e.positiveModulo(A+this.rotationIncrement,360):A=e.positiveModulo(A-this.rotationIncrement,360),this.viewport.setRotation(A)}}function Xn(){if(this.viewport){var A=this.viewport.getRotation();this.viewport.flipped?A=e.positiveModulo(A-this.rotationIncrement,360):A=e.positiveModulo(A+this.rotationIncrement,360),this.viewport.setRotation(A)}}function ai(){this.viewport.toggleFlip()}}(s),function(e){e.Navigator=function(b){var w=b.viewer,S=this,C,D;b.id?(this.element=document.getElementById(b.id),b.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(b.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),b.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:b.autoFade},b.position&&(b.position==="BOTTOM_RIGHT"?b.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:b.position==="BOTTOM_LEFT"?b.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:b.position==="TOP_RIGHT"?b.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:b.position==="TOP_LEFT"?b.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:b.position==="ABSOLUTE"&&(b.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,b.controlOptions.top=b.top,b.controlOptions.left=b.left,b.controlOptions.height=b.height,b.controlOptions.width=b.width))),this.element.id=b.id,this.element.className+=" navigator",b=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},b,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:b.autoResize,minZoomImageRatio:1,background:b.background,opacity:b.opacity,borderColor:b.borderColor,displayRegionColor:b.displayRegionColor}),b.minPixelRatio=this.minPixelRatio=w.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),b.controlOptions.anchor!==e.ControlAnchor.NONE&&function(G,ee){G.margin="0px",G.border=ee+"px solid "+b.borderColor,G.padding="0px",G.background=b.background,G.opacity=b.opacity,G.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(G,ee){G.position="relative",G.top="0px",G.left="0px",G.fontSize="0px",G.overflow="hidden",G.border=ee+"px solid "+b.displayRegionColor,G.margin="0px",G.padding="0px",G.background="transparent",G.float="left",G.cssFloat="left",G.styleFloat="left",G.zIndex=999999999,G.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),w.addControl(this.element,b.controlOptions),this._resizeWithViewer=b.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&b.controlOptions.anchor!==e.ControlAnchor.NONE,b.width&&b.height?(this.setWidth(b.width),this.setHeight(b.height)):this._resizeWithViewer&&(C=e.getElementSize(w.element),this.element.style.height=Math.round(C.y*b.sizeRatio)+"px",this.element.style.width=Math.round(C.x*b.sizeRatio)+"px",this.oldViewerSize=C,D=e.getElementSize(this.element),this.elementArea=D.x*D.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[b]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function H(G){m(S.displayRegionContainer,G),m(S.displayRegion,-G),S.viewport.setRotation(G)}if(b.navigatorRotate){var J=b.viewer.viewport?b.viewer.viewport.getRotation():b.viewer.degrees||0;H(J),b.viewer.addHandler("rotate",function(G){H(G.degrees)})}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,l),clickHandler:e.delegate(this,r),releaseHandler:e.delegate(this,c),scrollHandler:e.delegate(this,p),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){S.viewport&&S.viewport.goHome(!0)}),w.world.addHandler("item-index-change",function(G){window.setTimeout(function(){var ee=S.world.getItemAt(G.previousIndex);S.world.setItemIndex(ee,G.newIndex)},1)}),w.world.addHandler("remove-item",function(G){var ee=G.item,P=S._getMatchingItem(ee);P&&S.world.removeItem(P)}),this.update(w.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var b=new e.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);b.equals(this.oldContainerSize)||(this.viewport.resize(b,!0),this.viewport.goHome(!0),this.oldContainerSize=b,this.drawer.clear(),this.world.draw())}},setWidth:function(b){this.width=b,this.element.style.width=typeof b=="number"?b+"px":b,this._resizeWithViewer=!1},setHeight:function(b){this.height=b,this.element.style.height=typeof b=="number"?b+"px":b,this._resizeWithViewer=!1},setFlip:function(b){return this.viewport.setFlip(b),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(b){y(this.displayRegion,b),y(this.canvas,b),y(this.element,b)},update:function(b){var w,S,C,D,H,J;if(w=e.getElementSize(this.viewer.element),this._resizeWithViewer&&w.x&&w.y&&!w.equals(this.oldViewerSize)&&(this.oldViewerSize=w,this.maintainSizeRatio||!this.elementArea?(S=w.x*this.sizeRatio,C=w.y*this.sizeRatio):(S=Math.sqrt(this.elementArea*(w.x/w.y)),C=this.elementArea/S),this.element.style.width=Math.round(S)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=S*C),this.updateSize()),b&&this.viewport){D=b.getBoundsNoRotate(!0),H=this.viewport.pixelFromPointNoRotate(D.getTopLeft(),!1),J=this.viewport.pixelFromPointNoRotate(D.getBottomRight(),!1).minus(this.totalBorderWidths);var G=this.displayRegion.style;G.display=this.world.getItemCount()?"block":"none",G.top=Math.round(H.y)+"px",G.left=Math.round(H.x)+"px";var ee=Math.abs(H.x-J.x),P=Math.abs(H.y-J.y);G.width=Math.round(Math.max(ee,0))+"px",G.height=Math.round(Math.max(P,0))+"px"}},addTiledImage:function(b){var w=this,S=b.originalTiledImage;delete b.original;var C=e.extend({},b,{success:function(D){var H=D.item;H._originalForNavigator=S,w._matchBounds(H,S,!0),w._matchOpacity(H,S),w._matchCompositeOperation(H,S);function J(){w._matchBounds(H,S)}function G(){w._matchOpacity(H,S)}function ee(){w._matchCompositeOperation(H,S)}S.addHandler("bounds-change",J),S.addHandler("clip-change",J),S.addHandler("opacity-change",G),S.addHandler("composite-operation-change",ee)}});return e.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(b){for(var w=this.world.getItemCount(),S,C=0;C<w;C++)if(S=this.world.getItemAt(C),S._originalForNavigator===b)return S;return null},_matchBounds:function(b,w,S){var C=w.getBoundsNoRotate();b.setPosition(C.getTopLeft(),S),b.setWidth(C.width,S),b.setRotation(w.getRotation(),S),b.setClip(w.getClip()),b.setFlip(w.getFlip())},_matchOpacity:function(b,w){b.setOpacity(w.opacity)},_matchCompositeOperation:function(b,w){b.setCompositeOperation(w.compositeOperation)}});function r(b){var w={tracker:b.eventSource,position:b.position,quick:b.quick,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",w),!w.preventDefaultAction&&b.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(b.position.x=this.viewport.getContainerSize().x-b.position.x);var S=this.viewport.pointFromPixel(b.position);this.panVertical?this.panHorizontal||(S.x=this.viewer.viewport.getCenter(!0).x):S.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(S),this.viewer.viewport.applyConstraints()}}function l(b){var w={tracker:b.eventSource,position:b.position,delta:b.delta,speed:b.speed,direction:b.direction,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",w),!w.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(b.delta.x=0),this.panVertical||(b.delta.y=0),this.viewer.viewport.flipped&&(b.delta.x=-b.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(b.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function c(b){b.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function p(b){var w={tracker:b.eventSource,position:b.position,scroll:b.scroll,shift:b.shift,originalEvent:b.originalEvent,preventDefault:b.preventDefault};this.viewer.raiseEvent("navigator-scroll",w),b.preventDefault=w.preventDefault}function m(b,w){y(b,"rotate("+w+"deg)")}function y(b,w){b.style.webkitTransform=w,b.style.mozTransform=w,b.style.msTransform=w,b.style.oTransform=w,b.style.transform=w}}(s),function(e){var r={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(l){var c=l.split("."),p=null,m=arguments,y=r,b;for(b=0;b<c.length-1;b++)y=y[c[b]]||{};return p=y[c[b]],typeof p!="string"&&(e.console.log("Untranslated source string:",l),p=""),p.replace(/\{\d+\}/g,function(w){var S=parseInt(w.match(/\d+/),10)+1;return S<m.length?m[S]:""})},setString:function(l,c){var p=l.split("."),m=r,y;for(y=0;y<p.length-1;y++)m[p[y]]||(m[p[y]]={}),m=m[p[y]];m[p[y]]=c}})}(s),function(e){e.Point=function(r,l){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(r){return new e.Point(this.x+r.x,this.y+r.y)},minus:function(r){return new e.Point(this.x-r.x,this.y-r.y)},times:function(r){return new e.Point(this.x*r,this.y*r)},divide:function(r){return new e.Point(this.x/r,this.y/r)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(r){return Math.sqrt(Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2))},squaredDistanceTo:function(r){return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)},apply:function(r){return new e.Point(r(this.x),r(this.y))},equals:function(r){return r instanceof e.Point&&this.x===r.x&&this.y===r.y},rotate:function(r,l){l=l||new e.Point(0,0);var c,p;if(r%90===0){var m=e.positiveModulo(r,360);switch(m){case 0:c=1,p=0;break;case 90:c=0,p=1;break;case 180:c=-1,p=0;break;case 270:c=0,p=-1;break}}else{var y=r*Math.PI/180;c=Math.cos(y),p=Math.sin(y)}var b=c*(this.x-l.x)-p*(this.y-l.y)+l.x,w=p*(this.x-l.x)+c*(this.y-l.y)+l.y;return new e.Point(b,w)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(s),function(e){e.TileSource=function(l,c,p,m,y,b){var w=this,S=arguments,C,D;if(e.isPlainObject(l)?C=l:C={width:S[0],height:S[1],tileSize:S[2],tileOverlap:S[3],minLevel:S[4],maxLevel:S[5]},e.EventSource.call(this),e.extend(!0,this,C),!this.success){for(D=0;D<arguments.length;D++)if(e.isFunction(arguments[D])){this.success=arguments[D];break}}this.success&&this.addHandler("ready",function(H){w.success(H)}),e.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new e.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(l){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},c;for(c=0;c<=this.maxLevel;c++)l[c]=1/Math.pow(2,this.maxLevel-c);this.getLevelScale=function(p){return l[p]}},getNumTiles:function(l){var c=this.getLevelScale(l),p=Math.ceil(c*this.dimensions.x/this.getTileWidth(l)),m=Math.ceil(c*this.dimensions.y/this.getTileHeight(l));return new e.Point(p,m)},getPixelRatio:function(l){var c=this.dimensions.times(this.getLevelScale(l)),p=1/c.x*e.pixelDensityRatio,m=1/c.y*e.pixelDensityRatio;return new e.Point(p,m)},getClosestLevel:function(){var l,c;for(l=this.minLevel+1;l<=this.maxLevel&&(c=this.getNumTiles(l),!(c.x>1||c.y>1));l++);return l-1},getTileAtPoint:function(l,c){var p=c.x>=0&&c.x<=1&&c.y>=0&&c.y<=1/this.aspectRatio;e.console.assert(p,"[TileSource.getTileAtPoint] must be called with a valid point.");var m=this.dimensions.x*this.getLevelScale(l),y=c.x*m,b=c.y*m,w=Math.floor(y/this.getTileWidth(l)),S=Math.floor(b/this.getTileHeight(l));c.x>=1&&(w=this.getNumTiles(l).x-1);var C=1e-15;return c.y>=1/this.aspectRatio-C&&(S=this.getNumTiles(l).y-1),new e.Point(w,S)},getTileBounds:function(l,c,p,m){var y=this.dimensions.times(this.getLevelScale(l)),b=this.getTileWidth(l),w=this.getTileHeight(l),S=c===0?0:b*c-this.tileOverlap,C=p===0?0:w*p-this.tileOverlap,D=b+(c===0?1:2)*this.tileOverlap,H=w+(p===0?1:2)*this.tileOverlap,J=1/y.x;return D=Math.min(D,y.x-S),H=Math.min(H,y.y-C),m?new e.Rect(0,0,D,H):new e.Rect(S*J,C*J,D*J,H*J)},getImageInfo:function(l){var c=this,p,m,y,b,w,S,C;l&&(w=l.split("/"),S=w[w.length-1],C=S.lastIndexOf("."),C>-1&&(w[w.length-1]=S.slice(0,C))),m=function(D){typeof D=="string"&&(D=e.parseXml(D));var H=e.TileSource.determineType(c,D,l);if(!H){c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}b=H.prototype.configure.apply(c,[D,l]),b.ajaxWithCredentials===void 0&&(b.ajaxWithCredentials=c.ajaxWithCredentials),y=new H(b),c.ready=!0,c.raiseEvent("ready",{tileSource:y})},l.match(/\.js$/)?(p=l.split("/").pop().replace(".js",""),e.jsonp({url:l,async:!1,callbackName:p,callback:m})):e.makeAjaxRequest({url:l,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(D){var H=r(D);m(H)},error:function(D,H){var J;try{J="HTTP "+D.status+" attempting to load TileSource"}catch{var G;typeof H>"u"||!H.toString?G="Unknown error":G=H.toString(),J=G+" attempting to load TileSource"}c.raiseEvent("open-failed",{message:J,source:l})}})},supports:function(l,c){return!1},configure:function(l,c){throw new Error("Method not implemented.")},getTileUrl:function(l,c,p){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(l,c,p){return{}},tileExists:function(l,c,p){var m=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&c>=0&&p>=0&&c<m.x&&p<m.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype);function r(l){var c=l.responseText,p=l.status,m,y;if(l){if(l.status!==200&&l.status!==0)throw p=l.status,m=p===404?"Not Found":l.statusText,new Error(e.getString("Errors.Status",p,m))}else throw new Error(e.getString("Errors.Security"));if(c.match(/\s*<.*/))try{y=l.responseXML&&l.responseXML.documentElement?l.responseXML:e.parseXml(c)}catch{y=l.responseText}else if(c.match(/\s*[{[].*/))try{y=e.parseJSON(c)}catch{y=c}else y=c;return y}e.TileSource.determineType=function(l,c,p){var m;for(m in s)if(m.match(/.+TileSource$/)&&e.isFunction(s[m])&&e.isFunction(s[m].prototype.supports)&&s[m].prototype.supports.call(l,c,p))return s[m];return e.console.error("No TileSource was able to open %s %s",p,c),null}}(s),function(e){e.DziTileSource=function(c,p,m,y,b,w,S,C,D){var H,J,G,ee;if(e.isPlainObject(c)?ee=c:ee={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=ee.tilesUrl,this.fileFormat=ee.fileFormat,this.displayRects=ee.displayRects,this.displayRects)for(H=this.displayRects.length-1;H>=0;H--)for(J=this.displayRects[H],G=J.minLevel;G<=J.maxLevel;G++)this._levelRects[G]||(this._levelRects[G]=[]),this._levelRects[G].push(J);e.TileSource.apply(this,[ee])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(c,p){var m;return c.Image?m=c.Image.xmlns:c.documentElement&&(c.documentElement.localName==="Image"||c.documentElement.tagName==="Image")&&(m=c.documentElement.namespaceURI),m=(m||"").toLowerCase(),m.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||m.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(c,p){var m;return e.isPlainObject(c)?m=l(this,c):m=r(this,c),p&&!m.tilesUrl&&(m.tilesUrl=p.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),p.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=p.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(c,p,m){return[this.tilesUrl,c,"/",p,"_",m,".",this.fileFormat,this.queryParams].join("")},tileExists:function(c,p,m){var y=this._levelRects[c],b,w,S,C,D,H,J;if(this.minLevel&&c<this.minLevel||this.maxLevel&&c>this.maxLevel)return!1;if(!y||!y.length)return!0;for(J=y.length-1;J>=0;J--)if(b=y[J],!(c<b.minLevel||c>b.maxLevel)&&(w=this.getLevelScale(c),S=b.x*w,C=b.y*w,D=S+b.width*w,H=C+b.height*w,S=Math.floor(S/this._tileWidth),C=Math.floor(C/this._tileWidth),D=Math.ceil(D/this._tileWidth),H=Math.ceil(H/this._tileWidth),S<=p&&p<D&&C<=m&&m<H))return!0;return!1}});function r(c,p){if(!p||!p.documentElement)throw new Error(e.getString("Errors.Xml"));var m=p.documentElement,y=m.localName||m.tagName,b=p.documentElement.namespaceURI,w=null,S=[],C,D,H,J,G;if(y==="Image")try{if(J=m.getElementsByTagName("Size")[0],J===void 0&&(J=m.getElementsByTagNameNS(b,"Size")[0]),w={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:m.getAttribute("Url"),Format:m.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(m.getAttribute("Overlap"),10),TileSize:parseInt(m.getAttribute("TileSize"),10),Size:{Height:parseInt(J.getAttribute("Height"),10),Width:parseInt(J.getAttribute("Width"),10)}}},!e.imageFormatSupported(w.Image.Format))throw new Error(e.getString("Errors.ImageFormat",w.Image.Format.toUpperCase()));for(C=m.getElementsByTagName("DisplayRect"),C===void 0&&(C=m.getElementsByTagNameNS(b,"DisplayRect")[0]),G=0;G<C.length;G++)D=C[G],H=D.getElementsByTagName("Rect")[0],H===void 0&&(H=D.getElementsByTagNameNS(b,"Rect")[0]),S.push({Rect:{X:parseInt(H.getAttribute("X"),10),Y:parseInt(H.getAttribute("Y"),10),Width:parseInt(H.getAttribute("Width"),10),Height:parseInt(H.getAttribute("Height"),10),MinLevel:parseInt(D.getAttribute("MinLevel"),10),MaxLevel:parseInt(D.getAttribute("MaxLevel"),10)}});return S.length&&(w.Image.DisplayRect=S),l(c,w)}catch(Z){throw Z instanceof Error?Z:new Error(e.getString("Errors.Dzi"))}else{if(y==="Collection")throw new Error(e.getString("Errors.Dzc"));if(y==="Error"){var ee=m.getElementsByTagName("Message")[0],P=ee.firstChild.nodeValue;throw new Error(P)}}throw new Error(e.getString("Errors.Dzi"))}function l(c,p){var m=p.Image,y=m.Url,b=m.Format,w=m.Size,S=m.DisplayRect||[],C=parseInt(w.Width,10),D=parseInt(w.Height,10),H=parseInt(m.TileSize,10),J=parseInt(m.Overlap,10),G=[],ee,P;for(P=0;P<S.length;P++)ee=S[P].Rect,G.push(new e.DisplayRect(parseInt(ee.X,10),parseInt(ee.Y,10),parseInt(ee.Width,10),parseInt(ee.Height,10),parseInt(ee.MinLevel,10),parseInt(ee.MaxLevel,10)));return e.extend(!0,{width:C,height:D,tileSize:H,tileOverlap:J,minLevel:null,maxLevel:null,tilesUrl:y,fileFormat:b,displayRects:G},p)}}(s),function(e){e.IIIFTileSource=function(m){if(e.extend(!0,this,m),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(m.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=m.version,this.tile_width&&this.tile_height)m.tileWidth=this.tile_width,m.tileHeight=this.tile_height;else if(this.tile_width)m.tileSize=this.tile_width;else if(this.tile_height)m.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)m.tileWidth=this.tiles[0].width,m.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var y=0;y<this.tiles.length;y++)for(var b=0;b<this.tiles[y].scaleFactors.length;b++){var w=this.tiles[y].scaleFactors[b];this.scale_factors.push(w),m.tileSizePerScaleFactor[w]={width:this.tiles[y].width,height:this.tiles[y].height||this.tiles[y].width}}}else if(r(m)){for(var S=Math.min(this.height,this.width),C=[256,512,1024],D=[],H=0;H<C.length;H++)C[H]<=S&&D.push(C[H]);D.length>0?m.tileSize=Math.max.apply(null,D):m.tileSize=S}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,m.levels=l(this),e.extend(!0,m,{width:m.levels[m.levels.length-1].width,height:m.levels[m.levels.length-1].height,tileSize:Math.max(m.height,m.width),tileOverlap:0,minLevel:0,maxLevel:m.levels.length-1}),this.levels=m.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!m.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)m.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var J=Math.max.apply(null,this.scale_factors);m.maxLevel=Math.round(Math.log(J)*Math.LOG2E)}e.TileSource.apply(this,[m])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(m,y){return m.protocol&&m.protocol==="http://iiif.io/api/image"||m["@context"]&&(m["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||m["@context"]==="http://iiif.io/api/image/1/context.json")||m.profile&&m.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||m.identifier&&m.width&&m.height?!0:!!(m.documentElement&&m.documentElement.tagName==="info"&&m.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(m,y){if(e.isPlainObject(m)){if(!m["@context"])m["@context"]="http://iiif.io/api/image/1.0/context.json",m["@id"]=y.replace("/info.json",""),m.version=1;else{var b=m["@context"];if(Array.isArray(b)){for(var w=0;w<b.length;w++)if(typeof b[w]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(b[w])||b[w]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){b=b[w];break}}switch(b){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":m.version=1;break;case"http://iiif.io/api/image/2/context.json":m.version=2;break;case"http://iiif.io/api/image/3/context.json":m.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!m["@id"]&&m.id&&(m["@id"]=m.id),m.preferredFormats){for(var S=0;S<m.preferredFormats.length;S++)if(s.imageFormatSupported(m.preferredFormats[S])){m.tileFormat=m.preferredFormats[S];break}}return m}else{var C=c(m);return C["@context"]="http://iiif.io/api/image/1.0/context.json",C["@id"]=y.replace("/info.xml",""),C.version=1,C}},getTileWidth:function(m){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,m);var y=Math.pow(2,this.maxLevel-m);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].width:this._tileWidth},getTileHeight:function(m){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,m);var y=Math.pow(2,this.maxLevel-m);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].height:this._tileHeight},getLevelScale:function(m){if(this.emulateLegacyImagePyramid){var y=NaN;return this.levels.length>0&&m>=this.minLevel&&m<=this.maxLevel&&(y=this.levels[m].width/this.levels[this.maxLevel].width),y}return e.TileSource.prototype.getLevelScale.call(this,m)},getNumTiles:function(m){if(this.emulateLegacyImagePyramid){var y=this.getLevelScale(m);return y?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,m)},getTileAtPoint:function(m,y){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,m,y)},getTileUrl:function(m,y,b){if(this.emulateLegacyImagePyramid){var w=null;return this.levels.length>0&&m>=this.minLevel&&m<=this.maxLevel&&(w=this.levels[m].url),w}var S="0",C=Math.pow(.5,this.maxLevel-m),D=Math.ceil(this.width*C),H=Math.ceil(this.height*C),J,G,ee,P,Z,oe,re,he,ge,Ie,ze,Qe,rt,$e;return J=this.getTileWidth(m),G=this.getTileHeight(m),ee=Math.ceil(J/C),P=Math.ceil(G/C),this.version===1?rt="native."+this.tileFormat:rt="default."+this.tileFormat,D<J&&H<G?(this.version===2&&D===this.width?Ie="full":this.version===3&&D===this.width&&H===this.height?Ie="max":this.version===3?Ie=D+","+H:Ie=D+",",Z="full"):(oe=y*ee,re=b*P,he=Math.min(ee,this.width-oe),ge=Math.min(P,this.height-re),y===0&&b===0&&he===this.width&&ge===this.height?Z="full":Z=[oe,re,he,ge].join(","),ze=Math.ceil(he*C),Qe=Math.ceil(ge*C),this.version===2&&ze===this.width?Ie="full":this.version===3&&ze===this.width&&Qe===this.height?Ie="max":this.version===3?Ie=ze+","+Qe:Ie=ze+","),$e=[this["@id"],Z,Ie,S,rt].join("/"),$e},__testonly__:{canBeTiled:r,constructLevels:l}});function r(m){var y=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],b=Array.isArray(m.profile)?m.profile[0]:m.profile,w=y.indexOf(b)!==-1,S=!1;return m.version===2&&m.profile.length>1&&m.profile[1].supports&&(S=m.profile[1].supports.indexOf("sizeByW")!==-1),m.version===3&&m.extraFeatures&&(S=m.extraFeatures.indexOf("sizeByWh")!==-1),!w||S}function l(m){for(var y=[],b=0;b<m.sizes.length;b++)y.push({url:m["@id"]+"/full/"+m.sizes[b].width+","+(m.version===3?m.sizes[b].height:"")+"/0/default."+m.tileFormat,width:m.sizes[b].width,height:m.sizes[b].height});return y.sort(function(w,S){return w.width-S.width})}function c(m){if(!m||!m.documentElement)throw new Error(e.getString("Errors.Xml"));var y=m.documentElement,b=y.tagName,w=null;if(b==="info")try{return w={},p(y,w),w}catch(S){throw S instanceof Error?S:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function p(m,y,b){var w,S;if(m.nodeType===3&&b)S=m.nodeValue.trim(),S.match(/^\d*$/)&&(S=Number(S)),y[b]?(e.isArray(y[b])||(y[b]=[y[b]]),y[b].push(S)):y[b]=S;else if(m.nodeType===1)for(w=0;w<m.childNodes.length;w++)p(m.childNodes[w],y,m.nodeName)}}(s),function(e){e.OsmTileSource=function(r,l,c,p,m){var y;e.isPlainObject(r)?y=r:y={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!y.width||!y.height)&&(y.width=65572864,y.height=65572864),y.tileSize||(y.tileSize=256,y.tileOverlap=0),y.tilesUrl||(y.tilesUrl="http://tile.openstreetmap.org/"),y.minLevel=8,e.TileSource.apply(this,[y])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="openstreetmaps"},configure:function(r,l){return r},getTileUrl:function(r,l,c){return this.tilesUrl+(r-8)+"/"+l+"/"+c+".png"}})}(s),function(e){e.TmsTileSource=function(r,l,c,p,m){var y;e.isPlainObject(r)?y=r:y={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var b=Math.ceil(y.width/256)*256,w=Math.ceil(y.height/256)*256,S;b>w?S=b/256:S=w/256,y.maxLevel=Math.ceil(Math.log(S)/Math.log(2))-1,y.tileSize=256,y.width=b,y.height=w,e.TileSource.apply(this,[y])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="tiledmapservice"},configure:function(r,l){return r},getTileUrl:function(r,l,c){var p=this.getNumTiles(r).y-1;return this.tilesUrl+r+"/"+l+"/"+(p-c)+".png"}})}(s),function(e){e.ZoomifyTileSource=function(r){typeof r.tileSize>"u"&&(r.tileSize=256),typeof r.fileFormat>"u"&&(r.fileFormat="jpg",this.fileFormat=r.fileFormat);var l={x:r.width,y:r.height};for(r.imageSizes=[{x:r.width,y:r.height}],r.gridSize=[this._getGridSize(r.width,r.height,r.tileSize)];parseInt(l.x,10)>r.tileSize||parseInt(l.y,10)>r.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),r.imageSizes.push({x:l.x,y:l.y}),r.gridSize.push(this._getGridSize(l.x,l.y,r.tileSize));r.imageSizes.reverse(),r.gridSize.reverse(),r.minLevel=0,r.maxLevel=r.gridSize.length-1,s.TileSource.apply(this,[r])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(r,l,c){return{x:Math.ceil(r/c),y:Math.ceil(l/c)}},_calculateAbsoluteTileNumber:function(r,l,c){for(var p=0,m={},y=0;y<r;y++)m=this.gridSize[y],p+=m.x*m.y;return m=this.gridSize[r],p+=m.x*c+l,p},supports:function(r,l){return r.type&&r.type==="zoomifytileservice"},configure:function(r,l){return r},getTileUrl:function(r,l,c){var p=0,m=this._calculateAbsoluteTileNumber(r,l,c);return p=Math.floor(m/256),this.tilesUrl+"TileGroup"+p+"/"+r+"-"+l+"-"+c+"."+this.fileFormat}})}(s),function(e){e.LegacyTileSource=function(p){var m,y,b;e.isArray(p)&&(m={type:"legacy-image-pyramid",levels:p}),m.levels=r(m.levels),m.levels.length>0?(y=m.levels[m.levels.length-1].width,b=m.levels[m.levels.length-1].height):(y=0,b=0,e.console.error("No supported image formats found")),e.extend(!0,m,{width:y,height:b,tileSize:Math.max(b,y),tileOverlap:0,minLevel:0,maxLevel:m.levels.length>0?m.levels.length-1:0}),e.TileSource.apply(this,[m]),this.levels=m.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(p,m){return p.type&&p.type==="legacy-image-pyramid"||p.documentElement&&p.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(p,m){var y;return e.isPlainObject(p)?y=c(this,p):y=l(this,p),y},getLevelScale:function(p){var m=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(m=this.levels[p].width/this.levels[this.maxLevel].width),m},getNumTiles:function(p){var m=this.getLevelScale(p);return m?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(p,m,y){var b=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(b=this.levels[p].url),b}});function r(p){var m=[],y,b;for(b=0;b<p.length;b++)y=p[b],y.height&&y.width&&y.url?m.push({url:y.url,width:Number(y.width),height:Number(y.height)}):e.console.error("Unsupported image format: %s",y.url?y.url:"<no URL>");return m.sort(function(w,S){return w.height-S.height})}function l(p,m){if(!m||!m.documentElement)throw new Error(e.getString("Errors.Xml"));var y=m.documentElement,b=y.tagName,w=null,S=[],C,D;if(b==="image")try{for(w={type:y.getAttribute("type"),levels:[]},S=y.getElementsByTagName("level"),D=0;D<S.length;D++)C=S[D],w.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return c(p,w)}catch(H){throw H instanceof Error?H:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(b==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(b==="error")throw new Error("Error: "+m)}throw new Error("Unknown element "+b)}function c(p,m){return m.levels}}(s),function(e){e.ImageTileSource=function(r){r=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},r),e.TileSource.apply(this,[r])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="image"},configure:function(r,l){return r},getImageInfo:function(r){var l=this._image=new Image,c=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),e.addEvent(l,"load",function(){c.width=l.naturalWidth,c.height=l.naturalHeight,c.aspectRatio=c.width/c.height,c.dimensions=new e.Point(c.width,c.height),c._tileWidth=c.width,c._tileHeight=c.height,c.tileOverlap=0,c.minLevel=0,c.levels=c._buildLevels(),c.maxLevel=c.levels.length-1,c.ready=!0,c.raiseEvent("ready",{tileSource:c})}),e.addEvent(l,"error",function(){c.raiseEvent("open-failed",{message:"Error loading image at "+r,source:r})}),l.src=r},getLevelScale:function(r){var l=NaN;return r>=this.minLevel&&r<=this.maxLevel&&(l=this.levels[r].width/this.levels[this.maxLevel].width),l},getNumTiles:function(r){var l=this.getLevelScale(r);return l?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(r,l,c){var p=null;return r>=this.minLevel&&r<=this.maxLevel&&(p=this.levels[r].url),p},getContext2D:function(r,l,c){var p=null;return r>=this.minLevel&&r<=this.maxLevel&&(p=this.levels[r].context2D),p},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var r=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,r;var l=this._image.naturalWidth,c=this._image.naturalHeight,p=document.createElement("canvas"),m=p.getContext("2d");if(p.width=l,p.height=c,m.drawImage(this._image,0,0,l,c),r[0].context2D=m,delete this._image,e.isCanvasTainted(p))return r;for(;l>=2&&c>=2;){l=Math.floor(l/2),c=Math.floor(c/2);var y=document.createElement("canvas"),b=y.getContext("2d");y.width=l,y.height=c,b.drawImage(p,0,0,l,c),r.splice(0,0,{context2D:b,width:l,height:c}),p=y,m=b}return r},_freeupCanvasMemory:function(){for(var r=0;r<this.levels.length;r++)this.levels[r].context2D.canvas.height=0,this.levels[r].context2D.canvas.width=0}})}(s),function(e){e.TileSourceCollection=function(r,l,c,p){e.console.error("TileSourceCollection is deprecated; use World instead")}}(s),function(e){e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(b){var w=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},b),this.element=b.element||e.makeNeutralElement("div"),b.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(S){S.insideElementPressed?(m(w,e.ButtonState.DOWN),w.raiseEvent("enter",{originalEvent:S.originalEvent})):S.buttonDownAny||m(w,e.ButtonState.HOVER)},focusHandler:function(S){w.tracker.enterHandler(S),w.raiseEvent("focus",{originalEvent:S.originalEvent})},leaveHandler:function(S){y(w,e.ButtonState.GROUP),S.insideElementPressed&&w.raiseEvent("exit",{originalEvent:S.originalEvent})},blurHandler:function(S){w.tracker.leaveHandler(S),w.raiseEvent("blur",{originalEvent:S.originalEvent})},pressHandler:function(S){m(w,e.ButtonState.DOWN),w.raiseEvent("press",{originalEvent:S.originalEvent})},releaseHandler:function(S){S.insideElementPressed&&S.insideElementReleased?(y(w,e.ButtonState.HOVER),w.raiseEvent("release",{originalEvent:S.originalEvent})):S.insideElementPressed?y(w,e.ButtonState.GROUP):m(w,e.ButtonState.HOVER)},clickHandler:function(S){S.quick&&w.raiseEvent("click",{originalEvent:S.originalEvent})},keyHandler:function(S){S.keyCode===13?(w.raiseEvent("click",{originalEvent:S.originalEvent}),w.raiseEvent("release",{originalEvent:S.originalEvent}),S.preventDefault=!0):S.preventDefault=!1}}),y(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){m(this,e.ButtonState.GROUP)},notifyGroupExit:function(){y(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function r(b){e.requestAnimationFrame(function(){l(b)})}function l(b){var w,S,C;b.shouldFade&&(w=e.now(),S=w-b.fadeBeginTime,C=1-S/b.fadeLength,C=Math.min(1,C),C=Math.max(0,C),b.imgGroup&&e.setElementOpacity(b.imgGroup,C,!0),C>0&&r(b))}function c(b){b.shouldFade=!0,b.fadeBeginTime=e.now()+b.fadeDelay,window.setTimeout(function(){r(b)},b.fadeDelay)}function p(b){b.shouldFade=!1,b.imgGroup&&e.setElementOpacity(b.imgGroup,1,!0)}function m(b,w){b.element.disabled||(w>=e.ButtonState.GROUP&&b.currentState===e.ButtonState.REST&&(p(b),b.currentState=e.ButtonState.GROUP),w>=e.ButtonState.HOVER&&b.currentState===e.ButtonState.GROUP&&(b.imgHover&&(b.imgHover.style.visibility=""),b.currentState=e.ButtonState.HOVER),w>=e.ButtonState.DOWN&&b.currentState===e.ButtonState.HOVER&&(b.imgDown&&(b.imgDown.style.visibility=""),b.currentState=e.ButtonState.DOWN))}function y(b,w){b.element.disabled||(w<=e.ButtonState.HOVER&&b.currentState===e.ButtonState.DOWN&&(b.imgDown&&(b.imgDown.style.visibility="hidden"),b.currentState=e.ButtonState.HOVER),w<=e.ButtonState.GROUP&&b.currentState===e.ButtonState.HOVER&&(b.imgHover&&(b.imgHover.style.visibility="hidden"),b.currentState=e.ButtonState.GROUP),w<=e.ButtonState.REST&&b.currentState===e.ButtonState.GROUP&&(c(b),b.currentState=e.ButtonState.REST))}}(s),function(e){e.ButtonGroup=function(r){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},r);var l=this.buttons.concat([]),c=this,p;if(this.element=r.element||e.makeNeutralElement("div"),!r.group)for(this.element.style.display="inline-block",p=0;p<l.length;p++)this.element.appendChild(l[p].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(m){var y;for(y=0;y<c.buttons.length;y++)c.buttons[y].notifyGroupEnter()},leaveHandler:function(m){var y;if(!m.insideElementPressed)for(y=0;y<c.buttons.length;y++)c.buttons[y].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var r=this.buttons.pop();this.element.removeChild(r.element),r.destroy()}this.tracker.destroy(),this.element=null}}}(s),function(e){e.Rect=function(r,l,c,p,m){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0,this.width=typeof c=="number"?c:0,this.height=typeof p=="number"?p:0,this.degrees=typeof m=="number"?m:0,this.degrees=e.positiveModulo(this.degrees,360);var y,b;this.degrees>=270?(y=this.getTopRight(),this.x=y.x,this.y=y.y,b=this.height,this.height=this.width,this.width=b,this.degrees-=270):this.degrees>=180?(y=this.getBottomRight(),this.x=y.x,this.y=y.y,this.degrees-=180):this.degrees>=90&&(y=this.getBottomLeft(),this.x=y.x,this.y=y.y,b=this.height,this.height=this.width,this.width=b,this.degrees-=90)},e.Rect.fromSummits=function(r,l,c){var p=r.distanceTo(l),m=r.distanceTo(c),y=l.minus(r),b=Math.atan(y.y/y.x);return y.x<0?b+=Math.PI:y.y<0&&(b+=2*Math.PI),new e.Rect(r.x,r.y,p,m,b/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(r){return r instanceof e.Rect&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height&&this.degrees===r.degrees},times:function(r){return new e.Rect(this.x*r,this.y*r,this.width*r,this.height*r,this.degrees)},translate:function(r){return new e.Rect(this.x+r.x,this.y+r.y,this.width,this.height,this.degrees)},union:function(r){var l=this.getBoundingBox(),c=r.getBoundingBox(),p=Math.min(l.x,c.x),m=Math.min(l.y,c.y),y=Math.max(l.x+l.width,c.x+c.width),b=Math.max(l.y+l.height,c.y+c.height);return new e.Rect(p,m,y-p,b-m)},intersection:function(r){var l=1e-10,c=[],p=this.getTopLeft();r.containsPoint(p,l)&&c.push(p);var m=this.getTopRight();r.containsPoint(m,l)&&c.push(m);var y=this.getBottomLeft();r.containsPoint(y,l)&&c.push(y);var b=this.getBottomRight();r.containsPoint(b,l)&&c.push(b);var w=r.getTopLeft();this.containsPoint(w,l)&&c.push(w);var S=r.getTopRight();this.containsPoint(S,l)&&c.push(S);var C=r.getBottomLeft();this.containsPoint(C,l)&&c.push(C);var D=r.getBottomRight();this.containsPoint(D,l)&&c.push(D);for(var H=this._getSegments(),J=r._getSegments(),G=0;G<H.length;G++)for(var ee=H[G],P=0;P<J.length;P++){var Z=J[P],oe=re(ee[0],ee[1],Z[0],Z[1]);oe&&c.push(oe)}function re($e,pt,ft,Tt){var _t=pt.minus($e),At=Tt.minus(ft),jt=-At.x*_t.y+_t.x*At.y;if(jt===0)return null;var Kt=(_t.x*($e.y-ft.y)-_t.y*($e.x-ft.x))/jt,et=(At.x*($e.y-ft.y)-At.y*($e.x-ft.x))/jt;return-l<=Kt&&Kt<=1-l&&-l<=et&&et<=1-l?new e.Point($e.x+et*_t.x,$e.y+et*_t.y):null}if(c.length===0)return null;for(var he=c[0].x,ge=c[0].x,Ie=c[0].y,ze=c[0].y,Qe=1;Qe<c.length;Qe++){var rt=c[Qe];rt.x<he&&(he=rt.x),rt.x>ge&&(ge=rt.x),rt.y<Ie&&(Ie=rt.y),rt.y>ze&&(ze=rt.y)}return new e.Rect(he,Ie,ge-he,ze-Ie)},_getSegments:function(){var r=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),p=this.getBottomRight();return[[r,l],[l,p],[p,c],[c,r]]},rotate:function(r,l){if(r=e.positiveModulo(r,360),r===0)return this.clone();l=l||this.getCenter();var c=this.getTopLeft().rotate(r,l),p=this.getTopRight().rotate(r,l),m=p.minus(c);m=m.apply(function(b){var w=1e-15;return Math.abs(b)<w?0:b});var y=Math.atan(m.y/m.x);return m.x<0?y+=Math.PI:m.y<0&&(y+=2*Math.PI),new e.Rect(c.x,c.y,this.width,this.height,y/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var r=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),p=this.getBottomRight(),m=Math.min(r.x,l.x,c.x,p.x),y=Math.max(r.x,l.x,c.x,p.x),b=Math.min(r.y,l.y,c.y,p.y),w=Math.max(r.y,l.y,c.y,p.y);return new e.Rect(m,b,y-m,w-b)},getIntegerBoundingBox:function(){var r=this.getBoundingBox(),l=Math.floor(r.x),c=Math.floor(r.y),p=Math.ceil(r.width+r.x-l),m=Math.ceil(r.height+r.y-c);return new e.Rect(l,c,p,m)},containsPoint:function(r,l){l=l||0;var c=this.getTopLeft(),p=this.getTopRight(),m=this.getBottomLeft(),y=p.minus(c),b=m.minus(c);return(r.x-c.x)*y.x+(r.y-c.y)*y.y>=-l&&(r.x-p.x)*y.x+(r.y-p.y)*y.y<=l&&(r.x-c.x)*b.x+(r.y-c.y)*b.y>=-l&&(r.x-m.x)*b.x+(r.y-m.y)*b.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(s),function(e){var r={};e.ReferenceStrip=function(C){var D=this,H=C.viewer,J=e.getElementSize(H.element),G,ee,P;for(C.id||(C.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),e.extend(this,C),r[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,ee=this.element.style,ee.marginTop="0px",ee.marginRight="0px",ee.marginBottom="0px",ee.marginLeft="0px",ee.left="0px",ee.bottom="0px",ee.border="0px",ee.background="#000",ee.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=H,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,l),dragHandler:e.delegate(this,c),scrollHandler:e.delegate(this,p),enterHandler:e.delegate(this,y),leaveHandler:e.delegate(this,b),keyDownHandler:e.delegate(this,w),keyHandler:e.delegate(this,S),preProcessEventHandler:function(Z){Z.eventType==="wheel"&&(Z.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",H.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=J.x*C.sizeRatio*H.tileSources.length+12*H.tileSources.length+"px",this.element.style.height=J.y*C.sizeRatio+"px",H.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=J.y*C.sizeRatio*H.tileSources.length+12*H.tileSources.length+"px",this.element.style.width=J.x*C.sizeRatio+"px",H.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=J.x*this.sizeRatio+8,this.panelHeight=J.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},P=0;P<H.tileSources.length;P++)G=e.makeNeutralElement("div"),G.id=this.element.id+"-"+P,G.style.width=D.panelWidth+"px",G.style.height=D.panelHeight+"px",G.style.display="inline",G.style.float="left",G.style.cssFloat="left",G.style.styleFloat="left",G.style.padding="2px",e.setElementTouchActionNone(G),e.setElementPointerEventsNone(G),this.element.appendChild(G),G.activePanel=!1,this.panels.push(G);m(this,this.scroll==="vertical"?J.y:J.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(C){var D=this.element.querySelector("#"+this.element.id+"-"+C),H=e.getElementSize(this.viewer.canvas),J=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),ee=-Number(this.element.style.marginLeft.replace("px","")),P=-Number(this.element.style.marginTop.replace("px","")),Z;this.currentSelected!==D&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=D,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Z=Number(C)*(this.panelWidth+3),Z>ee+H.x-this.panelWidth?(Z=Math.min(Z,J-H.x),this.element.style.marginLeft=-Z+"px",m(this,H.x,-Z)):Z<ee&&(Z=Math.max(0,Z-H.x/2),this.element.style.marginLeft=-Z+"px",m(this,H.x,-Z))):(Z=Number(C)*(this.panelHeight+3),Z>P+H.y-this.panelHeight?(Z=Math.min(Z,G-H.y),this.element.style.marginTop=-Z+"px",m(this,H.y,-Z)):Z<P&&(Z=Math.max(0,Z-H.y/2),this.element.style.marginTop=-Z+"px",m(this,H.y,-Z))),this.currentPage=C,y.call(this,{eventSource:this.tracker}))},update:function(){return r[this.id].animating?(e.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var D;this.scroll==="horizontal"?D=Math.floor(C.position.x/this.panelWidth):D=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(D)}this.element.focus()}function c(C){if(this.dragging=!0,this.element){var D=Number(this.element.style.marginLeft.replace("px","")),H=Number(this.element.style.marginTop.replace("px","")),J=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),ee=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?D>-(J-ee.x)&&(this.element.style.marginLeft=D+C.delta.x*2+"px",m(this,ee.x,D+C.delta.x*2)):-C.delta.x<0&&D<0&&(this.element.style.marginLeft=D+C.delta.x*2+"px",m(this,ee.x,D+C.delta.x*2)):-C.delta.y>0?H>-(G-ee.y)&&(this.element.style.marginTop=H+C.delta.y*2+"px",m(this,ee.y,H+C.delta.y*2)):-C.delta.y<0&&H<0&&(this.element.style.marginTop=H+C.delta.y*2+"px",m(this,ee.y,H+C.delta.y*2))}}function p(C){if(this.element){var D=Number(this.element.style.marginLeft.replace("px","")),H=Number(this.element.style.marginTop.replace("px","")),J=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),ee=e.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?D>-(J-ee.x)&&(this.element.style.marginLeft=D-C.scroll*60+"px",m(this,ee.x,D-C.scroll*60)):C.scroll<0&&D<0&&(this.element.style.marginLeft=D-C.scroll*60+"px",m(this,ee.x,D-C.scroll*60)):C.scroll<0?H>ee.y-G&&(this.element.style.marginTop=H+C.scroll*60+"px",m(this,ee.y,H+C.scroll*60)):C.scroll>0&&H<0&&(this.element.style.marginTop=H+C.scroll*60+"px",m(this,ee.y,H+C.scroll*60)),C.preventDefault=!0}}function m(C,D,H){var J,G,ee,P,Z,oe;for(C.scroll==="horizontal"?J=C.panelWidth:J=C.panelHeight,G=Math.ceil(D/J)+5,ee=Math.ceil((Math.abs(H)+D)/J)+1,G=ee-G,G=G<0?0:G,Z=G;Z<ee&&Z<C.panels.length;Z++)if(oe=C.panels[Z],!oe.activePanel){var re,he=C.viewer.tileSources[Z];he.referenceStripThumbnailUrl?re={type:"image",url:he.referenceStripThumbnailUrl}:re=he,P=new e.Viewer({id:oe.id,tileSources:[re],element:oe,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),e.setElementPointerEventsNone(P.canvas),e.setElementPointerEventsNone(P.container),P.innerTracker.setTracking(!1),P.outerTracker.setTracking(!1),C.miniViewers[oe.id]=P,oe.activePanel=!0}}function y(C){var D=C.eventSource.element;this.scroll==="horizontal"?D.style.marginBottom="0px":D.style.marginLeft="0px"}function b(C){var D=C.eventSource.element;this.scroll==="horizontal"?D.style.marginBottom="-"+e.getElementSize(D).y/2+"px":D.style.marginLeft="-"+e.getElementSize(D).x/2+"px"}function w(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function S(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(s),function(e){e.DisplayRect=function(r,l,c,p,m,y){e.Rect.apply(this,[r,l,c,p]),this.minLevel=m,this.maxLevel=y},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(s),function(e){e.Spring=function(l){var c=arguments;typeof l!="object"&&(l={initial:c.length&&typeof c[0]=="number"?c[0]:void 0,springStiffness:c.length>1?c[1].springStiffness:5,animationTime:c.length>1?c[1].animationTime:1.5}),e.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),e.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(l){e.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){e.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(e.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(e.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=e.now();var l,c;this._exponential?(l=this.start._logValue,c=this.target._logValue):(l=this.start.value,c=this.target.value);var p=this.current.time>=this.target.time?c:l+(c-l)*r(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),m=this.current.value;return this._exponential?this.current.value=Math.exp(p):this.current.value=p,m!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function r(l,c){return(1-Math.exp(l*-c))/(1-Math.exp(-l))}}(s),function(e){function r(c){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},c),this.image=null}r.prototype={errorMsg:null,start:function(){var c=this,p=this.abort;this.image=new Image,this.image.onload=function(){c.finish(!0)},this.image.onabort=this.image.onerror=function(){c.errorMsg="Image load aborted",c.finish(!1)},this.jobId=window.setTimeout(function(){c.errorMsg="Image load exceeded timeout ("+c.timeout+" ms)",c.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(m){var y;try{y=new window.Blob([m.response])}catch(C){var b=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&b){var w=new b;w.append(m.response),y=w.getBlob()}}y.size===0&&(c.errorMsg="Empty image response.",c.finish(!1));var S=(window.URL||window.webkitURL).createObjectURL(y);c.image.src=S},error:function(m){c.errorMsg="Image load aborted - XHR error",c.finish(!1)}}),this.abort=function(){c.request.abort(),typeof p=="function"&&p()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(c){this.image.onload=this.image.onerror=this.image.onabort=null,c||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(c){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},c)},e.ImageLoader.prototype={addJob:function(c){var p=this,m=function(w){l(p,w,c.callback)},y={src:c.src,loadWithAjax:c.loadWithAjax,ajaxHeaders:c.loadWithAjax?c.ajaxHeaders:null,crossOriginPolicy:c.crossOriginPolicy,ajaxWithCredentials:c.ajaxWithCredentials,callback:m,abort:c.abort,timeout:this.timeout},b=new r(y);!this.jobLimit||this.jobsInProgress<this.jobLimit?(b.start(),this.jobsInProgress++):this.jobQueue.push(b)},clear:function(){for(var c=0;c<this.jobQueue.length;c++){var p=this.jobQueue[c];typeof p.abort=="function"&&p.abort()}this.jobQueue=[]}};function l(c,p,m){var y;c.jobsInProgress--,(!c.jobLimit||c.jobsInProgress<c.jobLimit)&&c.jobQueue.length>0&&(y=c.jobQueue.shift(),y.start(),c.jobsInProgress++),m(p.image,p.errorMsg,p.request)}}(s),function(e){e.Tile=function(r,l,c,p,m,y,b,w,S,C){this.level=r,this.x=l,this.y=c,this.bounds=p,this.sourceBounds=C,this.exists=m,this.url=y,this.context2D=b,this.loadWithAjax=w,this.ajaxHeaders=S,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(r){if(!this.cacheImageRecord){e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==r&&r.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)},drawCanvas:function(r,l,c,p){var m=this.position.times(e.pixelDensityRatio),y=this.size.times(e.pixelDensityRatio),b;if(!this.context2D&&!this.cacheImageRecord){e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(b=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!b){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}r.save(),r.globalAlpha=this.opacity,typeof c=="number"&&c!==1&&(m=m.times(c),y=y.times(c)),p instanceof e.Point&&(m=m.plus(p)),r.globalAlpha===1&&this._hasTransparencyChannel()&&r.clearRect(m.x,m.y,y.x,y.y),l({context:r,tile:this,rendered:b});var w,S;this.sourceBounds?(w=Math.min(this.sourceBounds.width,b.canvas.width),S=Math.min(this.sourceBounds.height,b.canvas.height)):(w=b.canvas.width,S=b.canvas.height),r.translate(m.x+y.x/2,0),this.flipped&&r.scale(-1,1),r.drawImage(b.canvas,0,0,w,S,-y.x/2,m.y,y.x,y.y),r.restore()},getScaleForEdgeSmoothing:function(){var r;if(this.cacheImageRecord)r=this.cacheImageRecord.getRenderedContext();else if(this.context2D)r=this.context2D;else return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return r.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(r,l,c){var p=Math.max(1,Math.ceil((c.x-l.x)/2)),m=Math.max(1,Math.ceil((c.y-l.y)/2));return new e.Point(p,m).minus(this.position.times(e.pixelDensityRatio).times(r||1).apply(function(y){return y%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(s),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(r,l,c){var p;e.isPlainObject(r)?p=r:p={element:r,location:l,placement:c},this.element=p.element,this.style=p.element.style,this._init(p)},e.Overlay.prototype={_init:function(r){this.location=r.location,this.placement=r.placement===void 0?e.Placement.TOP_LEFT:r.placement,this.onDraw=r.onDraw,this.checkResize=r.checkResize===void 0?!0:r.checkResize,this.width=r.width===void 0?null:r.width,this.height=r.height===void 0?null:r.height,this.rotationMode=r.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(r,l){var c=e.Placement.properties[this.placement];!c||(c.isHorizontallyCentered?r.x-=l.x/2:c.isRight&&(r.x-=l.x),c.isVerticallyCentered?r.y-=l.y/2:c.isBottom&&(r.y-=l.y))},destroy:function(){var r=this.element,l=this.style;r.parentNode&&(r.parentNode.removeChild(r),r.prevElementParent&&(l.display="none",document.body.appendChild(r))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),p=e.getCssPropertyWithVendorPrefix("transform");c&&p&&(l[c]="",l[p]="")},drawHTML:function(r,l){var c=this.element;c.parentNode!==r&&(c.prevElementParent=c.parentNode,c.prevNextSibling=c.nextSibling,r.appendChild(c),this.style.position="absolute",this.size=e.getElementSize(c));var p=this._getOverlayPositionAndSize(l),m=p.position,y=this.size=p.size,b=p.rotate;if(this.onDraw)this.onDraw(m,y,this.element);else{var w=this.style;w.left=m.x+"px",w.top=m.y+"px",this.width!==null&&(w.width=y.x+"px"),this.height!==null&&(w.height=y.y+"px");var S=e.getCssPropertyWithVendorPrefix("transformOrigin"),C=e.getCssPropertyWithVendorPrefix("transform");S&&C&&(b?(w[S]=this._getTransformOrigin(),w[C]="rotate("+b+"deg)"):(w[S]="",w[C]="")),w.display="block"}},_getOverlayPositionAndSize:function(r){var l=r.pixelFromPoint(this.location,!0),c=this._getSizeInPixels(r);this.adjust(l,c);var p=0;if(r.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var m=new e.Rect(l.x,l.y,c.x,c.y),y=this._getBoundingBox(m,r.degrees);l=y.getTopLeft(),c=y.getSize()}else p=r.degrees;return{position:l,size:c,rotate:p}},_getSizeInPixels:function(r){var l=this.size.x,c=this.size.y;if(this.width!==null||this.height!==null){var p=r.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=p.x),this.height!==null&&(c=p.y)}if(this.checkResize&&(this.width===null||this.height===null)){var m=this.size=e.getElementSize(this.element);this.width===null&&(l=m.x),this.height===null&&(c=m.y)}return new e.Point(l,c)},_getBoundingBox:function(r,l){var c=this._getPlacementPoint(r);return r.rotate(l,c).getBoundingBox()},_getPlacementPoint:function(r){var l=new e.Point(r.x,r.y),c=e.Placement.properties[this.placement];return c&&(c.isHorizontallyCentered?l.x+=r.width/2:c.isRight&&(l.x+=r.width),c.isVerticallyCentered?l.y+=r.height/2:c.isBottom&&(l.y+=r.height)),l},_getTransformOrigin:function(){var r="",l=e.Placement.properties[this.placement];return l&&(l.isLeft?r="left":l.isRight&&(r="right"),l.isTop?r+=" top":l.isBottom&&(r+=" bottom")),r},update:function(r,l){var c=e.isPlainObject(r)?r:{location:r,placement:l};this._init({location:c.location||this.location,placement:c.placement!==void 0?c.placement:this.placement,onDraw:c.onDraw||this.onDraw,checkResize:c.checkResize||this.checkResize,width:c.width!==void 0?c.width:this.width,height:c.height!==void 0?c.height:this.height,rotationMode:c.rotationMode||this.rotationMode})},getBounds:function(r){e.console.assert(r,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,c=this.height;if(l===null||c===null){var p=r.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=p.x),c===null&&(c=p.y)}var m=this.location.clone();return this.adjust(m,new e.Point(l,c)),this._adjustBoundsForRotation(r,new e.Rect(m.x,m.y,l,c))},_adjustBoundsForRotation:function(r,l){if(!r||r.degrees===0||this.rotationMode===e.OverlayRotationMode.EXACT)return l;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var c=this._getOverlayPositionAndSize(r);return r.viewerElementToViewportRectangle(new e.Rect(c.position.x,c.position.y,c.size.x,c.size.y))}return l.rotate(-r.degrees,this._getPlacementPoint(l))}}}(s),function(e){e.Drawer=function(r){e.console.assert(r.viewer,"[Drawer] options.viewer is required");var l=arguments;if(e.isPlainObject(r)||(r={source:l[0],viewport:l[1],element:l[2]}),e.console.assert(r.viewport,"[Drawer] options.viewport is required"),e.console.assert(r.element,"[Drawer] options.element is required"),r.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=r.viewer,this.viewport=r.viewport,this.debugGridColor=typeof r.debugGridColor=="string"?[r.debugGridColor]:r.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,r.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=e.getElement(r.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var c=this._calculateCanvasSize();this.canvas.width=c.x,this.canvas.height=c.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(r,l,c,p){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(r,l,c,p),this},updateOverlay:function(r,l,c){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(r,l,c),this},removeOverlay:function(r){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(r),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(r){var l=this.viewport.pixelFromPointNoRotate(r,!0);return new e.Point(l.x*e.pixelDensityRatio,l.y*e.pixelDensityRatio)},clipWithPolygons:function(r,l){if(this.useCanvas){var c=this._getContext(l);c.beginPath(),r.forEach(function(p){p.forEach(function(m,y){c[y===0?"moveTo":"lineTo"](m.x,m.y)})}),c.clip()}},setOpacity:function(r){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,c=0;c<l.getItemCount();c++)l.getItemAt(c).setOpacity(r);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var r=this.viewer.world,l=0,c=0;c<r.getItemCount();c++){var p=r.getItemAt(c).getOpacity();p>l&&(l=p)}return l},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var r=this._calculateCanvasSize();if((this.canvas.width!==r.x||this.canvas.height!==r.y)&&(this.canvas.width=r.x,this.canvas.height=r.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(r,l){if(this.useCanvas){var c=this._getContext(r);if(l)c.clearRect(l.x,l.y,l.width,l.height);else{var p=c.canvas;c.clearRect(0,0,p.width,p.height)}}},viewportToDrawerRectangle:function(r){var l=this.viewport.pixelFromPointNoRotate(r.getTopLeft(),!0),c=this.viewport.deltaPixelsFromPointsNoRotate(r.getSize(),!0);return new e.Rect(l.x*e.pixelDensityRatio,l.y*e.pixelDensityRatio,c.x*e.pixelDensityRatio,c.y*e.pixelDensityRatio)},drawTile:function(r,l,c,p,m){if(e.console.assert(r,"[Drawer.drawTile] tile is required"),e.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var y=this._getContext(c);p=p||1,r.drawCanvas(y,l,p,m)}else r.drawHTML(this.canvas)},_getContext:function(r){var l=this.context;if(r){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var c=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=c.x,this.sketchCanvas.height=c.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var p=this;this.viewer.addHandler("rotate",function m(){if(p.viewport.getRotation()!==0){p.viewer.removeHandler("rotate",m);var y=p._calculateSketchCanvasSize();p.sketchCanvas.width=y.x,p.sketchCanvas.height=y.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(r){!this.useCanvas||this._getContext(r).save()},restoreContext:function(r){!this.useCanvas||this._getContext(r).restore()},setClip:function(r,l){if(this.useCanvas){var c=this._getContext(l);c.beginPath(),c.rect(r.x,r.y,r.width,r.height),c.clip()}},drawRectangle:function(r,l,c){if(this.useCanvas){var p=this._getContext(c);p.save(),p.fillStyle=l,p.fillRect(r.x,r.y,r.width,r.height),p.restore()}},blendSketch:function(r,l,c,p){var m=r;if(e.isPlainObject(m)||(m={opacity:r,scale:l,translate:c,compositeOperation:p}),!(!this.useCanvas||!this.sketchCanvas)){r=m.opacity,p=m.compositeOperation;var y=m.bounds;if(this.context.save(),this.context.globalAlpha=r,p&&(this.context.globalCompositeOperation=p),y)y.x<0&&(y.width+=y.x,y.x=0),y.x+y.width>this.canvas.width&&(y.width=this.canvas.width-y.x),y.y<0&&(y.height+=y.y,y.y=0),y.y+y.height>this.canvas.height&&(y.height=this.canvas.height-y.y),this.context.drawImage(this.sketchCanvas,y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height);else{l=m.scale||1,c=m.translate;var b=c instanceof e.Point?c:new e.Point(0,0),w=0,S=0;if(c){var C=this.sketchCanvas.width-this.canvas.width,D=this.sketchCanvas.height-this.canvas.height;w=Math.round(C/2),S=Math.round(D/2)}this.context.drawImage(this.sketchCanvas,b.x-w*l,b.y-S*l,(this.canvas.width+2*w)*l,(this.canvas.height+2*S)*l,-w,-S,this.canvas.width+2*w,this.canvas.height+2*S)}this.context.restore()}},drawDebugInfo:function(r,l,c,p){if(this.useCanvas){var m=this.viewer.world.getIndexOfItem(p)%this.debugGridColor.length,y=this.context;y.save(),y.lineWidth=2*e.pixelDensityRatio,y.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",y.strokeStyle=this.debugGridColor[m],y.fillStyle=this.debugGridColor[m],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),p.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:p.getRotation(!0),point:p.viewport.pixelFromPointNoRotate(p._getRotationPoint(!0),!0)}),p.viewport.degrees===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),y.strokeRect(r.position.x*e.pixelDensityRatio,r.position.y*e.pixelDensityRatio,r.size.x*e.pixelDensityRatio,r.size.y*e.pixelDensityRatio);var b=(r.position.x+r.size.x/2)*e.pixelDensityRatio,w=(r.position.y+r.size.y/2)*e.pixelDensityRatio;y.translate(b,w),y.rotate(Math.PI/180*-this.viewport.degrees),y.translate(-b,-w),r.x===0&&r.y===0&&(y.fillText("Zoom: "+this.viewport.getZoom(),r.position.x*e.pixelDensityRatio,(r.position.y-30)*e.pixelDensityRatio),y.fillText("Pan: "+this.viewport.getBounds().toString(),r.position.x*e.pixelDensityRatio,(r.position.y-20)*e.pixelDensityRatio)),y.fillText("Level: "+r.level,(r.position.x+10)*e.pixelDensityRatio,(r.position.y+20)*e.pixelDensityRatio),y.fillText("Column: "+r.x,(r.position.x+10)*e.pixelDensityRatio,(r.position.y+30)*e.pixelDensityRatio),y.fillText("Row: "+r.y,(r.position.x+10)*e.pixelDensityRatio,(r.position.y+40)*e.pixelDensityRatio),y.fillText("Order: "+c+" of "+l,(r.position.x+10)*e.pixelDensityRatio,(r.position.y+50)*e.pixelDensityRatio),y.fillText("Size: "+r.size.toString(),(r.position.x+10)*e.pixelDensityRatio,(r.position.y+60)*e.pixelDensityRatio),y.fillText("Position: "+r.position.toString(),(r.position.x+10)*e.pixelDensityRatio,(r.position.y+70)*e.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),p.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.viewport.degrees===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),y.restore()}},debugRect:function(r){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio,r.width*e.pixelDensityRatio,r.height*e.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(r){this.useCanvas&&(this._imageSmoothingEnabled=r,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(r){r.msImageSmoothingEnabled=this._imageSmoothingEnabled,r.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(r){var l=this._getContext(r).canvas;return new e.Point(l.width,l.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(r){var l=r.point?r.point.times(e.pixelDensityRatio):this.getCanvasCenter(),c=this._getContext(r.useSketch);c.save(),c.translate(l.x,l.y),this.viewer.viewport.flipped?(c.rotate(Math.PI/180*-r.degrees),c.scale(-1,1)):c.rotate(Math.PI/180*r.degrees),c.translate(-l.x,-l.y)},_flip:function(r){r=r||{};var l=r.point?r.point.times(e.pixelDensityRatio):this.getCanvasCenter(),c=this._getContext(r.useSketch);c.translate(l.x,0),c.scale(-1,1),c.translate(-l.x,0)},_restoreRotationChanges:function(r){var l=this._getContext(r);l.restore()},_calculateCanvasSize:function(){var r=e.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*r),y:Math.round(l.y*r)}},_calculateSketchCanvasSize:function(){var r=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return r;var l=Math.ceil(Math.sqrt(r.x*r.x+r.y*r.y));return{x:l,y:l}}}}(s),function(e){e.Viewport=function(r){var l=arguments;l.length&&l[0]instanceof e.Point&&(r={containerSize:l[0],contentSize:l[1],config:l[2]}),r.config&&(e.extend(!0,r,r.config),delete r.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},r.margins||{}),delete r.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},r),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(r){return e.console.assert(r,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(r instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(r.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(r.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,r.y/r.x),r.x),this},setHomeBounds:function(r,l){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(r,l)},_setContentBounds:function(r,l){e.console.assert(r,"[Viewport._setContentBounds] bounds is required"),e.console.assert(r instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(r.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(r.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=r.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=r.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var r=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=r>=1?r:1:l=r>=1?1:r,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var r=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),c=l/this.getAspectRatio();return new e.Rect(r.x-l/2,r.y-c/2,l,c)},goHome:function(r){return this.viewer&&this.viewer.raiseEvent("home",{immediately:r}),this.fitBounds(this.getHomeBounds(),r)},getMinZoom:function(){var r=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*r;return l},getMaxZoom:function(){var r=this.maxZoomLevel;return r||(r=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,r/=this._contentBounds.width),Math.max(r,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(r){e.console.assert(e.type(r)==="object","[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},r),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(r){return this.getBoundsNoRotate(r).rotate(-this.getRotation())},getBoundsNoRotate:function(r){var l=this.getCenter(r),c=1/this.getZoom(r),p=c/this.getAspectRatio();return new e.Rect(l.x-c/2,l.y-p/2,c,p)},getBoundsWithMargins:function(r){return this.getBoundsNoRotateWithMargins(r).rotate(-this.getRotation(),this.getCenter(r))},getBoundsNoRotateWithMargins:function(r){var l=this.getBoundsNoRotate(r),c=this._containerInnerSize.x*this.getZoom(r);return l.x-=this._margins.left/c,l.y-=this._margins.top/c,l.width+=(this._margins.left+this._margins.right)/c,l.height+=(this._margins.top+this._margins.bottom)/c,l},getCenter:function(r){var l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),p,m,y,b,w,S,C,D;return r?l:this.zoomPoint?(p=this.pixelFromPoint(this.zoomPoint,!0),m=this.getZoom(),y=1/m,b=y/this.getAspectRatio(),w=new e.Rect(l.x-y/2,l.y-b/2,y,b),S=this._pixelFromPoint(this.zoomPoint,w),C=S.minus(p),D=C.divide(this._containerInnerSize.x*m),c.plus(D)):c},getZoom:function(r){return r?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(r){return Math.max(Math.min(r,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(r){var l=new e.Rect(r.x,r.y,r.width,r.height);if(!this.wrapHorizontal){var c=this.visibilityRatio*l.width,p=l.x+l.width,m=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,y=this._contentBoundsNoRotate.x-p+c,b=m-l.x-c;c>this._contentBoundsNoRotate.width?l.x+=(y+b)/2:b<0?l.x+=b:y>0&&(l.x+=y)}if(!this.wrapVertical){var w=this.visibilityRatio*l.height,S=l.y+l.height,C=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,D=this._contentBoundsNoRotate.y-S+w,H=C-l.y-w;w>this._contentBoundsNoRotate.height?l.y+=(D+H)/2:H<0?l.y+=H:D>0&&(l.y+=D)}return l},_raiseConstraintsEvent:function(r){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:r})},applyConstraints:function(r){var l=this.getZoom(),c=this._applyZoomConstraints(l);l!==c&&this.zoomTo(c,this.zoomPoint,r);var p=this.getBoundsNoRotate(),m=this._applyBoundaryConstraints(p);return this._raiseConstraintsEvent(r),(p.x!==m.x||p.y!==m.y||r)&&this.fitBounds(m.rotate(-this.getRotation()),r),this},ensureVisible:function(r){return this.applyConstraints(r)},_fitBounds:function(r,l){l=l||{};var c=l.immediately||!1,p=l.constraints||!1,m=this.getAspectRatio(),y=r.getCenter(),b=new e.Rect(r.x,r.y,r.width,r.height,r.degrees+this.getRotation()).getBoundingBox();b.getAspectRatio()>=m?b.height=b.width/m:b.width=b.height*m,b.x=y.x-b.width/2,b.y=y.y-b.height/2;var w=1/b.width;if(p){var S=b.getAspectRatio(),C=this._applyZoomConstraints(w);w!==C&&(w=C,b.width=1/w,b.x=y.x-b.width/2,b.height=b.width/S,b.y=y.y-b.height/2),b=this._applyBoundaryConstraints(b),y=b.getCenter(),this._raiseConstraintsEvent(c)}if(c)return this.panTo(y,!0),this.zoomTo(w,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var D=this.getBounds(),H=this.getZoom();if(H===0||Math.abs(w/H-1)<1e-8)return this.zoomTo(w,!0),this.panTo(y,c);b=b.rotate(-this.getRotation());var J=b.getTopLeft().times(w).minus(D.getTopLeft().times(H)).divide(w-H);return this.zoomTo(w,J,c)},fitBounds:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!0})},fitVertically:function(r){var l=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,r)},fitHorizontally:function(r){var l=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,r)},getConstrainedBounds:function(r){var l,c;return l=this.getBounds(r),c=this._applyBoundaryConstraints(l),c},panBy:function(r,l){var c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(c.plus(r),l)},panTo:function(r,l){return l?(this.centerSpringX.resetTo(r.x),this.centerSpringY.resetTo(r.y)):(this.centerSpringX.springTo(r.x),this.centerSpringY.springTo(r.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:r,immediately:l}),this},zoomBy:function(r,l,c){return this.zoomTo(this.zoomSpring.target.value*r,l,c)},zoomTo:function(r,l,c){var p=this;return this.zoomPoint=l instanceof e.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,c?this._adjustCenterSpringsForZoomPoint(function(){p.zoomSpring.resetTo(r)}):this.zoomSpring.springTo(r),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:r,refPoint:l,immediately:c}),this},setRotation:function(r){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=e.positiveModulo(r,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:r}),this)},getRotation:function(){return this.degrees},resize:function(r,l){var c=this.getBoundsNoRotate(),p=c,m;return this.containerSize.x=r.x,this.containerSize.y=r.y,this._updateContainerInnerSize(),l&&(m=r.x/this.containerSize.x,p.width=c.width*m,p.height=p.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:r,maintain:l}),this.fitBounds(p,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var r=this;this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,l},_adjustCenterSpringsForZoomPoint:function(r){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);r();var c=this.pixelFromPoint(this.zoomPoint,!0),p=c.minus(l),m=this.deltaPointsFromPixels(p,!0);this.centerSpringX.shiftBy(m.x),this.centerSpringY.shiftBy(m.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else r()},deltaPixelsFromPointsNoRotate:function(r,l){return r.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(r,l){return this.deltaPixelsFromPointsNoRotate(r.rotate(this.getRotation()),l)},deltaPointsFromPixelsNoRotate:function(r,l){return r.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(r,l){return this.deltaPointsFromPixelsNoRotate(r,l).rotate(-this.getRotation())},pixelFromPointNoRotate:function(r,l){return this._pixelFromPointNoRotate(r,this.getBoundsNoRotate(l))},pixelFromPoint:function(r,l){return this._pixelFromPoint(r,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(r,l){return r.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(r,l){return this._pixelFromPointNoRotate(r.rotate(this.getRotation(),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(r,l){var c=this.getBoundsNoRotate(l);return r.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/c.width).plus(c.getTopLeft())},pointFromPixel:function(r,l){return this.pointFromPixelNoRotate(r,l).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(r,l){var c=this._contentBoundsNoRotate.width;return new e.Point(r*this._contentSizeNoRotate.x/c,l*this._contentSizeNoRotate.x/c)},viewportToImageCoordinates:function(r,l){if(r instanceof e.Point)return this.viewportToImageCoordinates(r.x,r.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(c===1){var p=this.viewer.world.getItemAt(0);return p.viewportToImageCoordinates(r,l,!0)}}return this._viewportToImageDelta(r-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(r,l){var c=this._contentBoundsNoRotate.width;return new e.Point(r/this._contentSizeNoRotate.x*c,l/this._contentSizeNoRotate.x*c)},imageToViewportCoordinates:function(r,l){if(r instanceof e.Point)return this.imageToViewportCoordinates(r.x,r.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(c===1){var p=this.viewer.world.getItemAt(0);return p.imageToViewportCoordinates(r,l,!0)}}var m=this._imageToViewportDelta(r,l);return m.x+=this._contentBoundsNoRotate.x,m.y+=this._contentBoundsNoRotate.y,m},imageToViewportRectangle:function(r,l,c,p){var m=r;if(m instanceof e.Rect||(m=new e.Rect(r,l,c,p)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(y===1){var b=this.viewer.world.getItemAt(0);return b.imageToViewportRectangle(r,l,c,p,!0)}}var w=this.imageToViewportCoordinates(m.x,m.y),S=this._imageToViewportDelta(m.width,m.height);return new e.Rect(w.x,w.y,S.x,S.y,m.degrees)},viewportToImageRectangle:function(r,l,c,p){var m=r;if(m instanceof e.Rect||(m=new e.Rect(r,l,c,p)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(y===1){var b=this.viewer.world.getItemAt(0);return b.viewportToImageRectangle(r,l,c,p,!0)}}var w=this.viewportToImageCoordinates(m.x,m.y),S=this._viewportToImageDelta(m.width,m.height);return new e.Rect(w.x,w.y,S.x,S.y,m.degrees)},viewerElementToImageCoordinates:function(r){var l=this.pointFromPixel(r,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(r){var l=this.imageToViewportCoordinates(r);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(r){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=r.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(r){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(r);return l.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(r){return this.pointFromPixel(r,!0)},viewportToViewerElementCoordinates:function(r){return this.pixelFromPoint(r,!0)},viewerElementToViewportRectangle:function(r){return e.Rect.fromSummits(this.pointFromPixel(r.getTopLeft(),!0),this.pointFromPixel(r.getTopRight(),!0),this.pointFromPixel(r.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(r){return e.Rect.fromSummits(this.pixelFromPoint(r.getTopLeft(),!0),this.pixelFromPoint(r.getTopRight(),!0),this.pixelFromPoint(r.getBottomLeft(),!0))},windowToViewportCoordinates:function(r){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=r.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(r){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(r);return l.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageZoom(r)}}var p=this._contentSizeNoRotate.x,m=this._containerInnerSize.x,y=this._contentBoundsNoRotate.width,b=m/p*y;return r*b},imageToViewportZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportZoom(r)}}var p=this._contentSizeNoRotate.x,m=this._containerInnerSize.x,y=this._contentBoundsNoRotate.width,b=p/m/y;return r*b},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(r){return this.flipped===r?this:(this.flipped=r,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:r}),this)}}}(s),function(e){e.TiledImage=function(P){var Z=this;e.console.assert(P.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(P.drawer,"[TiledImage] options.drawer is required"),e.console.assert(P.viewer,"[TiledImage] options.viewer is required"),e.console.assert(P.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(P.source,"[TiledImage] options.source is required"),e.console.assert(!P.clip||P.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=P.tileCache,delete P.tileCache,this._drawer=P.drawer,delete P.drawer,this._imageLoader=P.imageLoader,delete P.imageLoader,P.clip instanceof e.Rect&&(this._clip=P.clip.clone()),delete P.clip;var oe=P.x||0;delete P.x;var re=P.y||0;delete P.y,this.normHeight=P.source.dimensions.y/P.source.dimensions.x,this.contentAspectX=P.source.dimensions.x/P.source.dimensions.y;var he=1;P.width?(he=P.width,delete P.width,P.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete P.height)):P.height&&(he=P.height/this.normHeight,delete P.height);var ge=P.fitBounds;delete P.fitBounds;var Ie=P.fitBoundsPlacement||s.Placement.CENTER;delete P.fitBoundsPlacement;var ze=P.degrees||0;delete P.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},P),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:oe,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:re,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:he,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:ze,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),ge&&this.fitBounds(ge,Ie,!0),this._drawingHandler=function(Qe){Z.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:Z},Qe))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(P){P!==this._fullyLoaded&&(this._fullyLoaded=P,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var P=this._xSpring.update(),Z=this._ySpring.update(),oe=this._scaleSpring.update(),re=this._degreesSpring.update();return P||Z||oe||re?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(P){return this.getBoundsNoRotate(P).rotate(this.getRotation(P),this._getRotationPoint(P))},getBoundsNoRotate:function(P){return P?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(P){var Z=this.getBoundsNoRotate(P);if(this._clip){var oe=P?this._worldWidthCurrent:this._worldWidthTarget,re=oe/this.source.dimensions.x,he=this._clip.times(re);Z=new e.Rect(Z.x+he.x,Z.y+he.y,he.width,he.height)}return Z.rotate(this.getRotation(P),this._getRotationPoint(P))},getTileBounds:function(P,Z,oe){var re=this.source.getNumTiles(P),he=(re.x+Z%re.x)%re.x,ge=(re.y+oe%re.y)%re.y,Ie=this.source.getTileBounds(P,he,ge);return this.getFlip()&&(Ie.x=1-Ie.x-Ie.width),Ie.x+=(Z-he)/re.x,Ie.y+=this._worldHeightCurrent/this._worldWidthCurrent*((oe-ge)/re.y),Ie},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var P=this.imageToWindowCoordinates(new e.Point(0,0)),Z=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(Z.x-P.x,Z.y-P.y)},_viewportToImageDelta:function(P,Z,oe){var re=oe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(P*(this.source.dimensions.x/re),Z*(this.source.dimensions.y*this.contentAspectX/re))},viewportToImageCoordinates:function(P,Z,oe){var re;return P instanceof e.Point?(oe=Z,re=P):re=new e.Point(P,Z),re=re.rotate(-this.getRotation(oe),this._getRotationPoint(oe)),oe?this._viewportToImageDelta(re.x-this._xSpring.current.value,re.y-this._ySpring.current.value):this._viewportToImageDelta(re.x-this._xSpring.target.value,re.y-this._ySpring.target.value)},_imageToViewportDelta:function(P,Z,oe){var re=oe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(P/this.source.dimensions.x*re,Z/this.source.dimensions.y/this.contentAspectX*re)},imageToViewportCoordinates:function(P,Z,oe){P instanceof e.Point&&(oe=Z,Z=P.y,P=P.x);var re=this._imageToViewportDelta(P,Z);return oe?(re.x+=this._xSpring.current.value,re.y+=this._ySpring.current.value):(re.x+=this._xSpring.target.value,re.y+=this._ySpring.target.value),re.rotate(this.getRotation(oe),this._getRotationPoint(oe))},imageToViewportRectangle:function(P,Z,oe,re,he){var ge=P;ge instanceof e.Rect?he=Z:ge=new e.Rect(P,Z,oe,re);var Ie=this.imageToViewportCoordinates(ge.getTopLeft(),he),ze=this._imageToViewportDelta(ge.width,ge.height,he);return new e.Rect(Ie.x,Ie.y,ze.x,ze.y,ge.degrees+this.getRotation(he))},viewportToImageRectangle:function(P,Z,oe,re,he){var ge=P;P instanceof e.Rect?he=Z:ge=new e.Rect(P,Z,oe,re);var Ie=this.viewportToImageCoordinates(ge.getTopLeft(),he),ze=this._viewportToImageDelta(ge.width,ge.height,he);return new e.Rect(Ie.x,Ie.y,ze.x,ze.y,ge.degrees-this.getRotation(he))},viewerElementToImageCoordinates:function(P){var Z=this.viewport.pointFromPixel(P,!0);return this.viewportToImageCoordinates(Z)},imageToViewerElementCoordinates:function(P){var Z=this.imageToViewportCoordinates(P);return this.viewport.pixelFromPoint(Z,!0)},windowToImageCoordinates:function(P){var Z=P.minus(s.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(Z)},imageToWindowCoordinates:function(P){var Z=this.imageToViewerElementCoordinates(P);return Z.plus(s.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(P){var Z=this._scaleSpring.current.value;return P=P.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((P.x-this._xSpring.current.value)/Z,(P.y-this._ySpring.current.value)/Z,P.width/Z,P.height/Z,P.degrees)},viewportToImageZoom:function(P){var Z=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Z*P},imageToViewportZoom:function(P){var Z=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return P/Z},setPosition:function(P,Z){var oe=this._xSpring.target.value===P.x&&this._ySpring.target.value===P.y;if(Z){if(oe&&this._xSpring.current.value===P.x&&this._ySpring.current.value===P.y)return;this._xSpring.resetTo(P.x),this._ySpring.resetTo(P.y),this._needsDraw=!0}else{if(oe)return;this._xSpring.springTo(P.x),this._ySpring.springTo(P.y),this._needsDraw=!0}oe||this._raiseBoundsChange()},setWidth:function(P,Z){this._setScale(P,Z)},setHeight:function(P,Z){this._setScale(P/this.normHeight,Z)},setCroppingPolygons:function(P){var Z=function(re){return re instanceof e.Point||typeof re.x=="number"&&typeof re.y=="number"},oe=function(re){return re.map(function(he){try{if(Z(he))return{x:he.x,y:he.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!e.isArray(P))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=P.map(function(re){return oe(re)})}catch(re){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(re),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(P,Z,oe){Z=Z||e.Placement.CENTER;var re=e.Placement.properties[Z],he=this.contentAspectX,ge=0,Ie=0,ze=1,Qe=1;if(this._clip&&(he=this._clip.getAspectRatio(),ze=this._clip.width/this.source.dimensions.x,Qe=this._clip.height/this.source.dimensions.y,P.getAspectRatio()>he?(ge=this._clip.x/this._clip.height*P.height,Ie=this._clip.y/this._clip.height*P.height):(ge=this._clip.x/this._clip.width*P.width,Ie=this._clip.y/this._clip.width*P.width)),P.getAspectRatio()>he){var rt=P.height/Qe,$e=0;re.isHorizontallyCentered?$e=(P.width-P.height*he)/2:re.isRight&&($e=P.width-P.height*he),this.setPosition(new e.Point(P.x-ge+$e,P.y-Ie),oe),this.setHeight(rt,oe)}else{var pt=P.width/ze,ft=0;re.isVerticallyCentered?ft=(P.height-P.width/he)/2:re.isBottom&&(ft=P.height-P.width/he),this.setPosition(new e.Point(P.x-ge,P.y-Ie+ft),oe),this.setWidth(pt,oe)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(P){e.console.assert(!P||P instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),P instanceof e.Rect?this._clip=P.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(P){this.flipped=!!P,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(P){P!==this.opacity&&(this.opacity=P,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(P){this._preload=!!P,this._needsDraw=!0},getRotation:function(P){return P?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(P,Z){this._degreesSpring.target.value===P&&this._degreesSpring.isAtTargetValue()||(Z?this._degreesSpring.resetTo(P):this._degreesSpring.springTo(P),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(P){return this.getBoundsNoRotate(P).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(P){P!==this.compositeOperation&&(this.compositeOperation=P,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(P,Z){var oe=this._scaleSpring.target.value===P;if(Z){if(oe&&this._scaleSpring.current.value===P)return;this._scaleSpring.resetTo(P),this._updateForScale(),this._needsDraw=!0}else{if(oe)return;this._scaleSpring.springTo(P),this._updateForScale(),this._needsDraw=!0}oe||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var P=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),Z=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,oe=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(Z/this.minPixelRatio)/Math.log(2))));return oe=Math.max(oe,this.source.minLevel||0),P=Math.min(P,oe),{lowestLevel:P,highestLevel:oe}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var P=this.lastDrawn.pop();P.beingDrawn=!1}var Z=this.viewport,oe=this._viewportToTiledImageRectangle(Z.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var re=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(oe=oe.intersection(re),oe===null)return}for(var he=this._getLevelsInterval(),ge=he.lowestLevel,Ie=he.highestLevel,ze=null,Qe=!1,rt=e.now(),$e=Ie;$e>=ge;$e--){var pt=!1,ft=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio($e),!0).x*this._scaleSpring.current.value;if($e===ge||!Qe&&ft>=this.minPixelRatio)pt=!0,Qe=!0;else if(!Qe)continue;var Tt=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio($e),!1).x*this._scaleSpring.current.value,_t=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,At=this.immediateRender?1:_t,jt=Math.min(1,(ft-.5)/.5),Kt=At/Math.abs(At-Tt);if(ze=r(this,Qe,pt,$e,jt,Kt,oe,rt,ze),S(this.coverage,$e))break}G(this,this.lastDrawn),ze&&!ze.context2D?(p(this,ze,rt),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(P,Z,oe){var re,he;this.wrapHorizontal?(re=e.positiveModulo(Z.x,1),he=e.positiveModulo(oe.x,1)):(re=Math.max(0,Z.x),he=Math.min(1,oe.x));var ge,Ie,ze=1/this.source.aspectRatio;this.wrapVertical?(ge=e.positiveModulo(Z.y,ze),Ie=e.positiveModulo(oe.y,ze)):(ge=Math.max(0,Z.y),Ie=Math.min(ze,oe.y));var Qe=this.source.getTileAtPoint(P,new e.Point(re,ge)),rt=this.source.getTileAtPoint(P,new e.Point(he,Ie)),$e=this.source.getNumTiles(P);return this.wrapHorizontal&&(Qe.x+=$e.x*Math.floor(Z.x),rt.x+=$e.x*Math.floor(oe.x)),this.wrapVertical&&(Qe.y+=$e.y*Math.floor(Z.y/ze),rt.y+=$e.y*Math.floor(oe.y/ze)),{topLeft:Qe,bottomRight:rt}}});function r(P,Z,oe,re,he,ge,Ie,ze,Qe){var rt=Ie.getBoundingBox().getTopLeft(),$e=Ie.getBoundingBox().getBottomRight();P.viewer&&P.viewer.raiseEvent("update-level",{tiledImage:P,havedrawn:Z,level:re,opacity:he,visibility:ge,drawArea:Ie,topleft:rt,bottomright:$e,currenttime:ze,best:Qe}),H(P.coverage,re),H(P.loadingCoverage,re);var pt=P._getCornerTiles(re,rt,$e),ft=pt.topLeft,Tt=pt.bottomRight,_t=P.source.getNumTiles(re),At=P.viewport.pixelFromPoint(P.viewport.getCenter());P.getFlip()&&(Tt.x+=1,P.wrapHorizontal||(Tt.x=Math.min(Tt.x,_t.x-1)));for(var jt=ft.x;jt<=Tt.x;jt++)for(var Kt=ft.y;Kt<=Tt.y;Kt++){var et;if(P.getFlip()){var kt=(_t.x+jt%_t.x)%_t.x;et=jt+_t.x-kt-kt-1}else et=jt;Ie.intersection(P.getTileBounds(re,et,Kt))!==null&&(Qe=l(P,oe,Z,et,Kt,re,he,ge,At,_t,ze,Qe))}return Qe}function l(P,Z,oe,re,he,ge,Ie,ze,Qe,rt,$e,pt){var ft=c(re,he,ge,P,P.source,P.tilesMatrix,$e,rt,P._worldWidthCurrent,P._worldHeightCurrent),Tt=oe;P.viewer&&P.viewer.raiseEvent("update-tile",{tiledImage:P,tile:ft}),D(P.coverage,ge,re,he,!1);var _t=ft.loaded||ft.loading||C(P.loadingCoverage,ge,re,he);if(D(P.loadingCoverage,ge,re,he,_t),!ft.exists||(Z&&!Tt&&(C(P.coverage,ge,re,he)?D(P.coverage,ge,re,he,!0):Tt=!0),!Tt))return pt;if(b(ft,P.source.tileOverlap,P.viewport,Qe,ze,P),!ft.loaded)if(ft.context2D)y(P,ft);else{var At=P._tileCache.getImageRecord(ft.cacheKey);if(At){var jt=At.getImage();y(P,ft,jt)}}if(ft.loaded){var Kt=w(P,ft,re,he,ge,Ie,$e);Kt&&(P._needsDraw=!0)}else ft.loading?P._tilesLoading++:_t||(pt=J(pt,ft));return pt}function c(P,Z,oe,re,he,ge,Ie,ze,Qe,rt){var $e,pt,ft,Tt,_t,At,jt,Kt,et;return ge[oe]||(ge[oe]={}),ge[oe][P]||(ge[oe][P]={}),(!ge[oe][P][Z]||!ge[oe][P][Z].flipped!=!re.flipped)&&($e=(ze.x+P%ze.x)%ze.x,pt=(ze.y+Z%ze.y)%ze.y,ft=re.getTileBounds(oe,P,Z),Tt=he.getTileBounds(oe,$e,pt,!0),_t=he.tileExists(oe,$e,pt),At=he.getTileUrl(oe,$e,pt),re.loadTilesWithAjax?(jt=he.getTileAjaxHeaders(oe,$e,pt),e.isPlainObject(re.ajaxHeaders)&&(jt=e.extend({},re.ajaxHeaders,jt))):jt=null,Kt=he.getContext2D?he.getContext2D(oe,$e,pt):void 0,et=new e.Tile(oe,P,Z,ft,_t,At,Kt,re.loadTilesWithAjax,jt,Tt),re.getFlip()?$e===0&&(et.isRightMost=!0):$e===ze.x-1&&(et.isRightMost=!0),pt===ze.y-1&&(et.isBottomMost=!0),et.flipped=re.flipped,ge[oe][P][Z]=et),et=ge[oe][P][Z],et.lastTouchTime=Ie,et}function p(P,Z,oe){Z.loading=!0,P._imageLoader.addJob({src:Z.url,loadWithAjax:Z.loadWithAjax,ajaxHeaders:Z.ajaxHeaders,crossOriginPolicy:P.crossOriginPolicy,ajaxWithCredentials:P.ajaxWithCredentials,callback:function(re,he,ge){m(P,Z,oe,re,he,ge)},abort:function(){Z.loading=!1}})}function m(P,Z,oe,re,he,ge){if(!re){e.console.log("Tile %s failed to load: %s - error: %s",Z,Z.url,he),P.viewer.raiseEvent("tile-load-failed",{tile:Z,tiledImage:P,time:oe,message:he,tileRequest:ge}),Z.loading=!1,Z.exists=!1;return}if(oe<P.lastResetTime){e.console.log("Ignoring tile %s loaded before reset: %s",Z,Z.url),Z.loading=!1;return}var Ie=function(){var ze=P.source.getClosestLevel();y(P,Z,re,ze,ge)};P._midDraw?window.setTimeout(Ie,1):Ie()}function y(P,Z,oe,re,he){var ge=0;function Ie(){return ge++,ze}function ze(){ge--,ge===0&&(Z.loading=!1,Z.loaded=!0,Z.context2D||P._tileCache.cacheTile({image:oe,tile:Z,cutoff:re,tiledImage:P}),P._needsDraw=!0)}P.viewer.raiseEvent("tile-loaded",{tile:Z,tiledImage:P,tileRequest:he,image:oe,getCompletionCallback:Ie}),Ie()()}function b(P,Z,oe,re,he,ge){var Ie=P.bounds.getTopLeft();Ie.x*=ge._scaleSpring.current.value,Ie.y*=ge._scaleSpring.current.value,Ie.x+=ge._xSpring.current.value,Ie.y+=ge._ySpring.current.value;var ze=P.bounds.getSize();ze.x*=ge._scaleSpring.current.value,ze.y*=ge._scaleSpring.current.value;var Qe=oe.pixelFromPointNoRotate(Ie,!0),rt=oe.pixelFromPointNoRotate(Ie,!1),$e=oe.deltaPixelsFromPointsNoRotate(ze,!0),pt=oe.deltaPixelsFromPointsNoRotate(ze,!1),ft=rt.plus(pt.divide(2)),Tt=re.squaredDistanceTo(ft);Z||($e=$e.plus(new e.Point(1,1))),P.isRightMost&&ge.wrapHorizontal&&($e.x+=.75),P.isBottomMost&&ge.wrapVertical&&($e.y+=.75),P.position=Qe,P.size=$e,P.squaredDistance=Tt,P.visibility=he}function w(P,Z,oe,re,he,ge,Ie){var ze=1e3*P.blendTime,Qe,rt;if(Z.blendStart||(Z.blendStart=Ie),Qe=Ie-Z.blendStart,rt=ze?Math.min(1,Qe/ze):1,P.alwaysBlend&&(rt*=ge),Z.opacity=rt,P.lastDrawn.push(Z),rt===1)D(P.coverage,he,oe,re,!0),P._hasOpaqueTile=!0;else if(Qe<ze)return!0;return!1}function S(P,Z,oe,re){var he,ge,Ie,ze;if(!P[Z])return!1;if(oe===void 0||re===void 0){he=P[Z];for(Ie in he)if(Object.prototype.hasOwnProperty.call(he,Ie)){ge=he[Ie];for(ze in ge)if(Object.prototype.hasOwnProperty.call(ge,ze)&&!ge[ze])return!1}return!0}return P[Z][oe]===void 0||P[Z][oe][re]===void 0||P[Z][oe][re]===!0}function C(P,Z,oe,re){return oe===void 0||re===void 0?S(P,Z+1):S(P,Z+1,2*oe,2*re)&&S(P,Z+1,2*oe,2*re+1)&&S(P,Z+1,2*oe+1,2*re)&&S(P,Z+1,2*oe+1,2*re+1)}function D(P,Z,oe,re,he){if(!P[Z]){e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",Z);return}P[Z][oe]||(P[Z][oe]={}),P[Z][oe][re]=he}function H(P,Z){P[Z]={}}function J(P,Z){return!P||Z.visibility>P.visibility||Z.visibility===P.visibility&&Z.squaredDistance<P.squaredDistance?Z:P}function G(P,Z){if(!(P.opacity===0||Z.length===0&&!P.placeholderFillStyle)){var oe=Z[0],re;oe&&(re=P.opacity<1||P.compositeOperation&&P.compositeOperation!=="source-over"||!P._isBottomItem()&&oe._hasTransparencyChannel());var he,ge,Ie=P.viewport.getZoom(!0),ze=P.viewportToImageZoom(Ie);Z.length>1&&ze>P.smoothTileEdgesMinZoom&&!P.iOSDevice&&P.getRotation(!0)%360===0&&e.supportsCanvas&&(re=!0,he=oe.getScaleForEdgeSmoothing(),ge=oe.getTranslationForEdgeSmoothing(he,P._drawer.getCanvasSize(!1),P._drawer.getCanvasSize(!0)));var Qe;re&&(he||(Qe=P.viewport.viewportToViewerElementRectangle(P.getClippedBounds(!0)).getIntegerBoundingBox(),P._drawer.viewer.viewport.getFlip()&&(P.viewport.degrees!==0||P.getRotation(!0)%360!==0)&&(Qe.x=P._drawer.viewer.container.clientWidth-(Qe.x+Qe.width)),Qe=Qe.times(e.pixelDensityRatio)),P._drawer._clear(!0,Qe)),he||(P.viewport.degrees!==0&&P._drawer._offsetForRotation({degrees:P.viewport.degrees,useSketch:re}),P.getRotation(!0)%360!==0&&P._drawer._offsetForRotation({degrees:P.getRotation(!0),point:P.viewport.pixelFromPointNoRotate(P._getRotationPoint(!0),!0),useSketch:re}),P.viewport.degrees===0&&P.getRotation(!0)%360===0&&P._drawer.viewer.viewport.getFlip()&&P._drawer._flip());var rt=!1;if(P._clip){P._drawer.saveContext(re);var $e=P.imageToViewportRectangle(P._clip,!0);$e=$e.rotate(-P.getRotation(!0),P._getRotationPoint(!0));var pt=P._drawer.viewportToDrawerRectangle($e);he&&(pt=pt.times(he)),ge&&(pt=pt.translate(ge)),P._drawer.setClip(pt,re),rt=!0}if(P._croppingPolygons){P._drawer.saveContext(re);try{var ft=P._croppingPolygons.map(function(jt){return jt.map(function(Kt){var et=P.imageToViewportCoordinates(Kt.x,Kt.y,!0).rotate(-P.getRotation(!0),P._getRotationPoint(!0)),kt=P._drawer.viewportCoordToDrawerCoord(et);return he&&(kt=kt.times(he)),kt})});P._drawer.clipWithPolygons(ft,re)}catch(jt){e.console.error(jt)}rt=!0}if(P.placeholderFillStyle&&P._hasOpaqueTile===!1){var Tt=P._drawer.viewportToDrawerRectangle(P.getBounds(!0));he&&(Tt=Tt.times(he)),ge&&(Tt=Tt.translate(ge));var _t=null;typeof P.placeholderFillStyle=="function"?_t=P.placeholderFillStyle(P,P._drawer.context):_t=P.placeholderFillStyle,P._drawer.drawRectangle(Tt,_t,re)}for(var At=Z.length-1;At>=0;At--)oe=Z[At],P._drawer.drawTile(oe,P._drawingHandler,re,he,ge),oe.beingDrawn=!0,P.viewer&&P.viewer.raiseEvent("tile-drawn",{tiledImage:P,tile:oe});rt&&P._drawer.restoreContext(re),he||(P.getRotation(!0)%360!==0&&P._drawer._restoreRotationChanges(re),P.viewport.degrees!==0&&P._drawer._restoreRotationChanges(re)),re&&(he&&(P.viewport.degrees!==0&&P._drawer._offsetForRotation({degrees:P.viewport.degrees,useSketch:!1}),P.getRotation(!0)%360!==0&&P._drawer._offsetForRotation({degrees:P.getRotation(!0),point:P.viewport.pixelFromPointNoRotate(P._getRotationPoint(!0),!0),useSketch:!1})),P._drawer.blendSketch({opacity:P.opacity,scale:he,translate:ge,compositeOperation:P.compositeOperation,bounds:Qe}),he&&(P.getRotation(!0)%360!==0&&P._drawer._restoreRotationChanges(!1),P.viewport.degrees!==0&&P._drawer._restoreRotationChanges(!1))),he||P.viewport.degrees===0&&P.getRotation(!0)%360===0&&P._drawer.viewer.viewport.getFlip()&&P._drawer._flip(),ee(P,Z)}}function ee(P,Z){if(P.debugMode)for(var oe=Z.length-1;oe>=0;oe--){var re=Z[oe];try{P._drawer.drawDebugInfo(re,Z.length,oe,P)}catch(he){e.console.error(he)}}}}(s),function(e){var r=function(c){e.console.assert(c,"[TileCache.cacheTile] options is required"),e.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=c.tile,this.tiledImage=c.tiledImage},l=function(c){e.console.assert(c,"[ImageRecord] options is required"),e.console.assert(c.image,"[ImageRecord] options.image is required"),this._image=c.image,this._tiles=[]};l.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var c=document.createElement("canvas");c.width=this._image.width,c.height=this._image.height,this._renderedContext=c.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(c){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=c},addTile:function(c){e.console.assert(c,"[ImageRecord.addTile] tile is required"),this._tiles.push(c)},removeTile:function(c){for(var p=0;p<this._tiles.length;p++)if(this._tiles[p]===c){this._tiles.splice(p,1);return}e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",c)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(c){c=c||{},this._maxImageCacheCount=c.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(c){e.console.assert(c,"[TileCache.cacheTile] options is required"),e.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(c.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var p=c.cutoff||0,m=this._tilesLoaded.length,y=this._imagesLoaded[c.tile.cacheKey];if(y||(e.console.assert(c.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),y=this._imagesLoaded[c.tile.cacheKey]=new l({image:c.image}),this._imagesLoadedCount++),y.addTile(c.tile),c.tile.cacheImageRecord=y,this._imagesLoadedCount>this._maxImageCacheCount){for(var b=null,w=-1,S=null,C,D,H,J,G,ee,P=this._tilesLoaded.length-1;P>=0;P--)if(ee=this._tilesLoaded[P],C=ee.tile,!(C.level<=p||C.beingDrawn)){if(!b){b=C,w=P,S=ee;continue}J=C.lastTouchTime,D=b.lastTouchTime,G=C.level,H=b.level,(J<D||J===D&&G>H)&&(b=C,w=P,S=ee)}b&&w>=0&&(this._unloadTile(S),m=w)}this._tilesLoaded[m]=new r({tile:c.tile,tiledImage:c.tiledImage})},clearTilesFor:function(c){e.console.assert(c,"[TileCache.clearTilesFor] tiledImage is required");for(var p,m=0;m<this._tilesLoaded.length;++m)p=this._tilesLoaded[m],p.tiledImage===c&&(this._unloadTile(p),this._tilesLoaded.splice(m,1),m--)},getImageRecord:function(c){return e.console.assert(c,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[c]},_unloadTile:function(c){e.console.assert(c,"[TileCache._unloadTile] tileRecord is required");var p=c.tile,m=c.tiledImage;p.unload(),p.cacheImageRecord=null;var y=this._imagesLoaded[p.cacheKey];y.removeTile(p),y.getTileCount()||(y.destroy(),delete this._imagesLoaded[p.cacheKey],this._imagesLoadedCount--),m.viewer.raiseEvent("tile-unloaded",{tile:p,tiledImage:m})}}}(s),function(e){e.World=function(r){var l=this;e.console.assert(r.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=r.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(c){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(r,l){if(e.console.assert(r,"[World.addItem] item is required"),e.console.assert(r instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var c=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(c,0,r)}else this._items.push(r);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,r.addHandler("bounds-change",this._delegatedFigureSizes),r.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:r})},getItemAt:function(r){return e.console.assert(r!==void 0,"[World.getItemAt] index is required"),this._items[r]},getIndexOfItem:function(r){return e.console.assert(r,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,r)},getItemCount:function(){return this._items.length},setItemIndex:function(r,l){e.console.assert(r,"[World.setItemIndex] item is required"),e.console.assert(l!==void 0,"[World.setItemIndex] index is required");var c=this.getIndexOfItem(r);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===c||c===-1||(this._items.splice(c,1),this._items.splice(l,0,r),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:r,previousIndex:c,newIndex:l}))},removeItem:function(r){e.console.assert(r,"[World.removeItem] item is required");var l=e.indexOf(this._items,r);l!==-1&&(r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(r))},removeAll:function(){this.viewer._cancelPendingImages();var r,l;for(l=0;l<this._items.length;l++)r=this._items[l],r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy();var c=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<c.length;l++)r=c[l],this._raiseRemoveItem(r)},resetItems:function(){for(var r=0;r<this._items.length;r++)this._items[r].reset()},update:function(){for(var r=!1,l=0;l<this._items.length;l++)r=this._items[l].update()||r;return r},draw:function(){for(var r=0;r<this._items.length;r++)this._items[r].draw();this._needsDraw=!1},needsDraw:function(){for(var r=0;r<this._items.length;r++)if(this._items[r].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(r){this._autoRefigureSizes=r,r&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(r){r=r||{};var l=r.immediately||!1,c=r.layout||e.DEFAULT_SETTINGS.collectionLayout,p=r.rows||e.DEFAULT_SETTINGS.collectionRows,m=r.columns||e.DEFAULT_SETTINGS.collectionColumns,y=r.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,b=r.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,w=y+b,S;!r.rows&&m?S=m:S=Math.ceil(this._items.length/p);var C=0,D=0,H,J,G,ee,P;this.setAutoRefigureSizes(!1);for(var Z=0;Z<this._items.length;Z++)Z&&Z%S===0&&(c==="horizontal"?(D+=w,C=0):(C+=w,D=0)),H=this._items[Z],J=H.getBounds(),J.width>J.height?G=y:G=y*(J.width/J.height),ee=G*(J.height/J.width),P=new e.Point(C+(y-G)/2,D+(y-ee)/2),H.setPosition(P,l),H.setWidth(G,l),c==="horizontal"?C+=w:D+=w;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var r=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,c=this._contentFactor||0;if(!this._items.length)this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;else{var p=this._items[0],m=p.getBounds();this._contentFactor=p.getContentSize().x/m.width;for(var y=p.getClippedBounds().getBoundingBox(),b=y.x,w=y.y,S=y.x+y.width,C=y.y+y.height,D=1;D<this._items.length;D++)p=this._items[D],m=p.getBounds(),this._contentFactor=Math.max(this._contentFactor,p.getContentSize().x/m.width),y=p.getClippedBounds().getBoundingBox(),b=Math.min(b,y.x),w=Math.min(w,y.y),S=Math.max(S,y.x+y.width),C=Math.max(C,y.y+y.height);this._homeBounds=new e.Rect(b,w,S-b,C-w),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==c||!this._homeBounds.equals(r)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(r){this.raiseEvent("remove-item",{item:r})}})}(s)})(R0);var ur=R0.exports;const Bt="http://www.w3.org/2000/svg",Fh=i=>{const s=i.getAttribute("class");return s?new Set(s.split(" ")):new Set},ji=(i,s)=>{const e=Fh(i);e.add(s),i.setAttribute("class",Array.from(e).join(" "))},Ol=(i,s)=>{const e=Fh(i);e.delete(s),e.size===0?i.removeAttribute("class"):i.setAttribute("class",Array.from(e).join(" "))},Lh=(i,s)=>Fh(i).has(s),cr=(i,s)=>{const e=i.selector("FragmentSelector");if(e!=null&&e.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:r}=e,l=r.includes(":")?r.substring(r.indexOf("=")+1,r.indexOf(":")):"pixel",c=r.includes(":")?r.substring(r.indexOf(":")+1):r.substring(r.indexOf("=")+1);let[p,m,y,b]=c.split(",").map(parseFloat);return l.toLowerCase()==="percent"&&(p=p*s.naturalWidth/100,m=m*s.naturalHeight/100,y=y*s.naturalWidth/100,b=b*s.naturalHeight/100),{x:p,y:m,w:y,h:b}}},UR=(i,s,e,r,l)=>({source:l==null?void 0:l.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${i},${s},${e},${r}`}}),VR=(i,s,e,r,l)=>{const c=i/l.naturalWidth*100,p=s/l.naturalHeight*100,m=e/l.naturalWidth*100,y=r/l.naturalHeight*100;return{source:l.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${c},${p},${m},${y}`}}},Lo=(i,s,e,r,l,c)=>(c==null?void 0:c.toLowerCase())==="percent"?VR(i,s,e,r,l):UR(i,s,e,r,l),kl=(i,s,e,r,l)=>{i.setAttribute("x",s),i.setAttribute("y",e),i.setAttribute("width",r),i.setAttribute("height",l)},Dl=(i,s,e)=>{i.setAttribute("cx",s),i.setAttribute("cy",e),i.setAttribute("r",7)},O0=(i,s,e,r,l)=>{const c=document.createElementNS(Bt,"path");c.setAttribute("fill-rule","evenodd");const{naturalWidth:p,naturalHeight:m}=i;return c.setAttribute("d",`M0 0 h${p} v${m} h-${p} z M${s} ${e} h${r} v${l} h-${r} z`),c},Hh=(i,s,e,r,l,c)=>{const{naturalWidth:p,naturalHeight:m}=s;i.setAttribute("d",`M0 0 h${p} v${m} h-${p} z M${e} ${r} h${l} v${c} h-${l} z`)},zh=(i,s,e,r)=>{const{x:l,y:c,w:p,h:m}=i.type==="Annotation"||i.type==="Selection"?cr(i,s):{x:i,y:s,w:e,h:r},y=document.createElementNS(Bt,"g");if(p===0&&m===0){ji(y,"a9s-point"),ji(y,"a9s-non-scaling"),y.setAttribute("transform-origin",`${l} ${c}`);const b=document.createElementNS(Bt,"circle"),w=document.createElementNS(Bt,"circle");w.setAttribute("class","a9s-inner"),Dl(w,l,c),b.setAttribute("class","a9s-outer"),Dl(b,l,c),y.appendChild(b),y.appendChild(w)}else{const b=document.createElementNS(Bt,"rect"),w=document.createElementNS(Bt,"rect");w.setAttribute("class","a9s-inner"),kl(w,l,c,p,m),b.setAttribute("class","a9s-outer"),kl(b,l,c,p,m),y.appendChild(b),y.appendChild(w)}return y},k0=i=>{const s=i.querySelector(".a9s-outer");if(s.nodeName==="rect"){const e=parseFloat(s.getAttribute("x")),r=parseFloat(s.getAttribute("y")),l=parseFloat(s.getAttribute("width")),c=parseFloat(s.getAttribute("height"));return{x:e,y:r,w:l,h:c}}else{const e=parseFloat(s.getAttribute("cx")),r=parseFloat(s.getAttribute("cy"));return{x:e,y:r,w:0,h:0}}},jh=(i,s,e,r,l)=>{const c=i.querySelector(".a9s-inner"),p=i.querySelector(".a9s-outer");p.nodeName==="rect"?(kl(c,s,e,r,l),kl(p,s,e,r,l)):(Dl(c,s,e),Dl(p,s,e))},WR=(i,s)=>{const{w:e,h:r}=cr(i,s);return e*r};class GR{constructor(s,e,r,l,c){u(this,"dragTo",(p,m)=>{this.group.style.display=null,this.opposite=[p,m];const{x:y,y:b,w,h:S}=this.bbox;Hh(this.mask,this.env.image,y,b,w,S),jh(this.rect,y,b,w,S)}),u(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),u(this,"toSelection",()=>{const{x:p,y:m,w:y,h:b}=this.bbox;return new Ds(Lo(p,m,y,b,this.env.image,this.config.fragmentUnit))}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[s,e],this.opposite=[s,e],this.config=l,this.env=c,this.group=document.createElementNS(Bt,"g"),this.mask=O0(c.image,s,e,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=zh(s,e,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),r.appendChild(this.group)}get bbox(){const s=this.opposite[0]-this.anchor[0],e=this.opposite[1]-this.anchor[1];return{x:s>0?this.anchor[0]:this.opposite[0],y:e>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(s)),h:Math.max(1,Math.abs(e))}}get element(){return this.rect}}const qR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Uh=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,XR=i=>{let s=null;const e=(l,c)=>new MouseEvent(l,{screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,pageX:c.pageX,pageY:c.pageY,bubbles:!0}),r=l=>{const c=l.changedTouches[0],p=e(qR[l.type],c);c.target.dispatchEvent(p),l.preventDefault(),(l.type==="touchstart"||l.type==="touchmove")&&(s&&clearTimeout(s),s=setTimeout(()=>{const m=e("dblclick",c);c.target.dispatchEvent(m)},800)),l.type==="touchend"&&s&&clearTimeout(s)};i.addEventListener("touchstart",r,!0),i.addEventListener("touchmove",r,!0),i.addEventListener("touchend",r,!0),i.addEventListener("touchcancel",r,!0)},Ml="An implementation is missing",ZR=Uh();class D0 extends Ra{constructor(s,e,r){super(),u(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const c=this.svg.getBoundingClientRect(),{width:p,height:m}=this.svg.viewBox.baseVal;this.scale=Math.max(p/c.width,m/c.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),u(this,"getSVGPoint",c=>{const p=this.svg.createSVGPoint();if(ZR){const m=this.svg.getBoundingClientRect(),y=c.clientX-m.x,b=c.clientY-m.y,{left:w,top:S}=this.svg.getBoundingClientRect();return p.x=y+w,p.y=b+S,p.matrixTransform(this.g.getScreenCTM().inverse())}else return p.x=c.offsetX,p.y=c.offsetY,p.matrixTransform(this.g.getCTM().inverse())}),u(this,"drawHandle",(c,p)=>{const m=document.createElementNS(Bt,"g");m.setAttribute("class","a9s-handle");const y=document.createElementNS(Bt,"g"),b=D=>{const H=document.createElementNS(Bt,"circle");return H.setAttribute("cx",c),H.setAttribute("cy",p),H.setAttribute("r",D),H.setAttribute("transform-origin",`${c} ${p}`),H},w=this.config.handleRadius||6,S=b(w);S.setAttribute("class","a9s-handle-inner");const C=b(w+1);return C.setAttribute("class","a9s-handle-outer"),y.appendChild(C),y.appendChild(S),m.appendChild(y),m}),u(this,"setHandleXY",(c,p,m)=>{const y=c.querySelector(".a9s-handle-inner");y.setAttribute("cx",p),y.setAttribute("cy",m),y.setAttribute("transform-origin",`${p} ${m}`);const b=c.querySelector(".a9s-handle-outer");b.setAttribute("cx",p),b.setAttribute("cy",m),b.setAttribute("transform-origin",`${p} ${m}`)}),u(this,"getHandleXY",c=>{const p=c.querySelector(".a9s-handle-outer");return{x:parseFloat(p.getAttribute("cx")),y:parseFloat(p.getAttribute("cy"))}}),u(this,"scaleHandle",c=>{const p=c.querySelector(".a9s-handle-inner"),m=c.querySelector(".a9s-handle-outer"),y=this.scale*(this.config.handleRadius||6);p.setAttribute("r",y),m.setAttribute("r",y)}),this.svg=s.closest("svg"),this.g=s,this.config=e,this.env=r,this.scale=1;const{image:l}=r;(l instanceof Element||l instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Vh extends D0{constructor(s,e,r){super(s,e,r),u(this,"attachListeners",({mouseMove:l,mouseUp:c,dblClick:p})=>{l&&(this.mouseMove=m=>{const{x:y,y:b}=this.getSVGPoint(m);this.started||(this.emit("startSelection",{x:y,y:b}),this.started=!0),l(y,b,m)},this.svg.addEventListener("mousemove",this.mouseMove)),c&&(this.mouseUp=m=>{if(m.button!==0)return;const{x:y,y:b}=this.getSVGPoint(m);c(y,b,m)},document.addEventListener("mouseup",this.mouseUp)),p&&(this.dblClick=m=>{const{x:y,y:b}=this.getSVGPoint(m);p(y,b,m)},document.addEventListener("dblclick",this.dblClick))}),u(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),u(this,"start",(l,c)=>{const{x:p,y:m}=this.getSVGPoint(l);this.startDrawing(p,m,c,l)}),u(this,"startDrawing",l=>{throw new Error(Ml)}),u(this,"createEditableShape",(l,c)=>{throw new Error(Ml)}),this.started=!1}get isDrawing(){throw new Error(Ml)}}Vh.supports=i=>{throw new Error(Ml)};const M0="An implementation is missing";class B0 extends D0{constructor(s,e,r,l){super(e,r,l),u(this,"updateState",c=>{throw new Error(M0)}),this.annotation=s}get element(){throw new Error(M0)}}const YR=/firefox/i.test(navigator.userAgent),I0=(i,s,e,r,l)=>{i.setAttribute("width",r),i.setAttribute("height",l),YR?(i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("transform",`translate(${s}, ${e})`)):(i.setAttribute("x",s),i.setAttribute("y",e))},KR=(i,s)=>{const{x:e,y:r,width:l,height:c}=s.getBBox(),p=document.createElementNS(Bt,"svg");p.setAttribute("class","a9s-formatter-el"),I0(p,e,r,l,c);const m=document.createElementNS(Bt,"g");m.appendChild(i),p.appendChild(m),s.append(p)},Bl=(i,s,e)=>{if(!e)return i;const r=e.reduce((m,y)=>{const b=y(s);if(!b)return m;if(typeof b=="string"||b instanceof String)m.className=m.className?`${m.className} ${b}`:b;else if(b.nodeType===Node.ELEMENT_NODE)m.elements=m.elements?[...m.elements,b]:[b];else{const{className:w,style:S,element:C}=b;w&&(m.className=m.className?`${m.className} ${w}`:w),S&&(m.style=m.style?`${m.style} ${S}`:S),C&&(m.elements=m.elements?[...m.elements,C]:[C])}for(const w in b)b.hasOwnProperty(w)&&w.startsWith("data-")&&(m[w]=b[w]);return m},{}),{className:l,style:c,elements:p}=r;if(l&&ji(i,l),c){const m=i.querySelector(".a9s-outer"),y=i.querySelector(".a9s-inner");m&&y?(m.setAttribute("style","display:none"),y.setAttribute("style",c)):i.setAttribute("style",c)}p&&p.forEach(m=>KR(m,i));for(const m in r)r.hasOwnProperty(m)&&m.startsWith("data-")&&i.setAttribute(m,r[m])},Wh=(i,s,e,r,l)=>{const c=i.querySelector(".a9s-formatter-el");c&&I0(c,s,e,r,l)};class JR extends B0{constructor(s,e,r,l){super(s,e,r,l),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setSize",(b,w,S,C)=>{jh(this.rectangle,b,w,S,C),Hh(this.mask,this.env.image,b,w,S,C),Wh(this.elementGroup,b,w,S,C);const[D,H,J,G]=this.handles;this.setHandleXY(D,b,w),this.setHandleXY(H,b+S,w),this.setHandleXY(J,b+S,w+C),this.setHandleXY(G,b,w+C)}),u(this,"stretchCorners",(b,w,S)=>{const C=this.getHandleXY(w),D=S.x-C.x,H=S.y-C.y,J=D>0?C.x:S.x,G=H>0?C.y:S.y,ee=Math.abs(D),P=Math.abs(H);jh(this.rectangle,J,G,ee,P),Hh(this.mask,this.env.image,J,G,ee,P),Wh(this.elementGroup,J,G,ee,P),this.setHandleXY(this.handles[b],S.x,S.y);const Z=this.handles[(b+3)%4];this.setHandleXY(Z,C.x,S.y);const oe=this.handles[(b+5)%4];return this.setHandleXY(oe,S.x,C.y),{x:J,y:G,w:ee,h:P}}),u(this,"onGrab",b=>w=>{if(w.button!==0)return;this.grabbedElem=b;const S=this.getSVGPoint(w),{x:C,y:D}=k0(this.rectangle);this.mouseOffset={x:S.x-C,y:S.y-D}}),u(this,"onMouseMove",b=>{if(b.button!==0)return;const w=(S,C)=>S<0?0:S>C?C:S;if(this.grabbedElem){const S=this.getSVGPoint(b);if(this.grabbedElem===this.rectangle){const{w:C,h:D}=k0(this.rectangle),{naturalWidth:H,naturalHeight:J}=this.env.image,G=w(S.x-this.mouseOffset.x,H-C),ee=w(S.y-this.mouseOffset.y,J-D);this.setSize(G,ee,C,D),this.emit("update",Lo(G,ee,C,D,this.env.image,this.config.fragmentUnit))}else{const C=this.handles.indexOf(this.grabbedElem),D=C<2?this.handles[C+2]:this.handles[C-2],{x:H,y:J,w:G,h:ee}=this.stretchCorners(C,D,S);this.emit("update",Lo(H,J,G,ee,this.env.image,this.config.fragmentUnit))}}}),u(this,"onMouseUp",b=>{this.grabbedElem=null,this.mouseOffset=null}),u(this,"updateState",b=>{const{x:w,y:S,w:C,h:D}=cr(b,this.env.image);this.setSize(w,S,C,D)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:c,y:p,w:m,h:y}=cr(s,l.image);this.containerGroup=document.createElementNS(Bt,"g"),this.mask=O0(l.image,c,p,m,y),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Bt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",s.id),this.rectangle=zh(c,p,m,y),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[c,p],[c+m,p],[c+m,p+y],[c,p+y]].map(b=>{const[w,S]=b,C=this.drawHandle(w,S);return C.addEventListener("mousedown",this.onGrab(C)),this.elementGroup.appendChild(C),C}),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),Bl(this.rectangle,s,r.formatters),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class Il extends Vh{constructor(s,e,r){super(s,e,r),u(this,"startDrawing",(l,c)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new GR(l,c,this.g,this.config,this.env)}),u(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(l,c)=>this.rubberband.dragTo(l,c)),u(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:l,height:c}=this.rubberband.getBoundingClientRect(),p=this.config.minSelectionWidth||4,m=this.config.minSelectionHeight||4;if(l>=p&&c>=m){const{element:y}=this.rubberband;y.annotation=this.rubberband.toSelection(),this.emit("complete",y)}else this.emit("cancel");this.stop()}),u(this,"createEditableShape",(l,c)=>new JR(l,this.g,{...this.config,formatters:c},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}Il.identifier="rect",Il.supports=i=>{const s=i.selector("FragmentSelector");return s==null?void 0:s.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const Nl=i=>{let s=0,e=i.length-1;for(let r=0;r<i.length;r++)s+=(i[e][0]+i[r][0])*(i[e][1]-i[r][1]),e=r;return Math.abs(.5*s)},QR=(i,s,e,r)=>{const l=i[0]-s,c=i[1]-e;return Math.sqrt(l*l+c*c)<=r},$R=(i,s,e,r,l,c)=>{const p=c||0,m=Math.cos(p),y=Math.sin(p),b=i[0]-s,w=i[1]-e,S=m*b+y*w,C=y*b-m*w;return S*S/(r*r)+C*C/(l*l)<=1},Gh=(i,s)=>{const e=i[0],r=i[1];let l=!1;for(let c=0,p=s.length-1;c<s.length;p=c++){const m=s[c][0],y=s[c][1],b=s[p][0],w=s[p][1];y>r!=w>r&&e<(b-m)*(r-y)/(w-y)+m&&(l=!l)}return l},eO=(i,s)=>{for(let e of i)if(!Gh(e,s))return!1;return!0},tO=(i,s,e,r,l,c)=>{const p=i[0],m=i[1],y=r-s,b=l-e,w=Math.sqrt(y*y+b*b);return Math.abs((p-s)*b-(m-e)*y)/w<=c},N0=i=>{const s=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()),e=[];let r=[];for(let l of s){const c=l.substring(0,1);if(c.toLowerCase()==="z")e.push([...r]),r=[];else{const p=l.substring(1).split(" ").map(w=>parseFloat(w.trim())),m=c===c.toUpperCase(),y=m?p[0]:p[0]+r[r.length-1][0],b=m?p[1]:p[1]+r[r.length-1][1];r.push([y,b])}}return r.length>0&&e.push([...r]),e},nO=i=>{const s=new XMLSerializer().serializeToString(i.documentElement).replace("<svg>",`<svg xmlns="${Bt}">`);return new DOMParser().parseFromString(s,"image/svg+xml").documentElement},F0=i=>{const s=r=>{Array.from(r.attributes).forEach(l=>{l.name.startsWith("on")&&r.removeAttribute(l.name)})},e=i.getElementsByTagName("script");return Array.from(e).reverse().forEach(r=>r.parentNode.removeChild(r)),s(i),Array.from(i.querySelectorAll("*")).forEach(s),i},Vr=i=>{const s=i.selector("SvgSelector");if(s){const e=new DOMParser,{value:r}=s,l=e.parseFromString(r,"image/svg+xml"),c=l.lookupPrefix(Bt),p=l.lookupNamespaceURI(null);return c||p?F0(l).firstChild:F0(nO(l)).firstChild}},L0=i=>{const s=Vr(i),e=document.createElementNS(Bt,"g"),r=s.cloneNode(!0);r.setAttribute("class","a9s-inner");const l=s.cloneNode(!0);return l.setAttribute("class","a9s-outer"),e.appendChild(l),e.appendChild(r),e},qh=(i,s)=>{const e=i.querySelector(".a9s-inner").cloneNode(!0);e.removeAttribute("class"),e.removeAttribute("xmlns");let r=e.outerHTML||new XMLSerializer().serializeToString(e);return r=r.replace(` xmlns="${Bt}"`,""),{source:s==null?void 0:s.src,selector:{type:"SvgSelector",value:`<svg>${r}</svg>`}}},iO=i=>{const s=Vr(i),e=s.nodeName.toLowerCase();if(e==="polygon")return rO(s);if(e==="circle")return oO(s);if(e==="ellipse")return sO(s);if(e=="path")return aO(s);if(e=="line")return 0;throw`Unsupported SVG shape type: ${e}`},rO=i=>{const s=i.getAttribute("points").trim().split(" ").map(e=>e.split(",").map(r=>parseFloat(r.trim())));return Nl(s)},oO=i=>{const s=i.getAttribute("r");return s*s*Math.PI},sO=i=>{const s=i.getAttribute("rx"),e=i.getAttribute("ry");return s*e*Math.PI},aO=i=>{const s=N0(i);if(s.length==1)return Nl(s[0]);{const e=l=>s.find(c=>{if(l!==c)return eO(l,c)});let r=0;for(let l of s)e(l)?r-=Nl(l):r+=Nl(l);return r}};class H0{constructor(s,e){u(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),u(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=s.naturalWidth,this.h=s.naturalHeight,this.polygon=e,this.mask=document.createElementNS(Bt,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class lO{constructor(s,e,r){u(this,"setPoints",l=>{const c=l.map(p=>`${p[0]},${p[1]}`).join(" ");this.outer.setAttribute("points",c),this.inner.setAttribute("points",c)}),u(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),u(this,"dragTo",l=>{this.group.style.display=null,this.mousepos=l;const c=[...this.points,l];this.setPoints(c),this.mask.redraw()}),u(this,"addPoint",()=>{const[l,c]=this.mousepos,p=this.points[this.points.length-1];Math.pow(l-p[0],2)+Math.pow(c-p[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),u(this,"toSelection",()=>new Ds(qh(this.group,this.env.image))),this.points=[s],this.env=r,this.mousepos=s,this.group=document.createElementNS(Bt,"g"),this.polygon=document.createElementNS(Bt,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Bt,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Bt,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new H0(r.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),e.appendChild(this.group)}get element(){return this.polygon}}const Xh=i=>{const s=i.querySelector(".a9s-inner").points,e=[];for(let r=0;r<s.numberOfItems;r++)e.push(s.getItem(r));return e},uO=i=>i.querySelector(".a9s-inner").getBBox();class cO extends B0{constructor(s,e,r,l){super(s,e,r,l),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setPoints",c=>{const p=D=>Math.round(10*D)/10,m=c.map(D=>`${p(D.x)},${p(D.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",m);const y=this.shape.querySelector(".a9s-outer");y.setAttribute("points",m),this.mask.redraw();const{x:b,y:w,width:S,height:C}=y.getBBox();Wh(this.elementGroup,b,w,S,C)}),u(this,"onGrab",c=>p=>{p.button===0&&(this.grabbedElem=c,this.grabbedAt=this.getSVGPoint(p))}),u(this,"onMouseMove",c=>{const p=(m,y,b)=>m+y<0?-m:m+y>b?b-m:y;if(this.grabbedElem){const m=this.getSVGPoint(c);if(this.grabbedElem===this.shape){const{x:y,y:b,width:w,height:S}=uO(this.shape),{naturalWidth:C,naturalHeight:D}=this.env.image,H=p(y,m.x-this.grabbedAt.x,C-w),J=p(b,m.y-this.grabbedAt.y,D-S),G=Xh(this.shape).map(ee=>({x:ee.x+H,y:ee.y+J}));this.grabbedAt=m,this.setPoints(G),G.forEach((ee,P)=>this.setHandleXY(this.handles[P],ee.x,ee.y)),this.emit("update",qh(this.shape,this.env.image))}else{const y=this.handles.indexOf(this.grabbedElem),b=Xh(this.shape).map((w,S)=>S===y?m:w);this.setPoints(b),this.setHandleXY(this.handles[y],m.x,m.y),this.emit("update",qh(this.shape,this.env.image))}}}),u(this,"onMouseUp",c=>{this.grabbedElem=null,this.grabbedAt=null}),u(this,"updateState",c=>{const p=Vr(c).getAttribute("points").split(" ").map(m=>{const[y,b]=m.split(",").map(w=>parseFloat(w.trim()));return{x:y,y:b}});this.setPoints(p),p.forEach((m,y)=>this.setHandleXY(this.handles[y],m.x,m.y))}),u(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Bt,"g"),this.shape=L0(s),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new H0(l.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Bt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",s.id),this.elementGroup.appendChild(this.shape),this.handles=Xh(this.shape).map(c=>{const p=this.drawHandle(c.x,c.y);return p.addEventListener("mousedown",this.onGrab(p)),this.elementGroup.appendChild(p),p}),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),Bl(this.shape,s,r.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Zh extends Vh{constructor(s,e,r){super(s,e,r),u(this,"startDrawing",(l,c,p)=>{this._isDrawing=!0,this._startOnSingleClick=p,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new lO([l,c],this.g,this.env)}),u(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(l,c)=>this.rubberband.dragTo([l,c])),u(this,"onMouseUp",()=>{const{width:l,height:c}=this.rubberband.getBoundingClientRect(),p=this.config.minSelectionWidth||4,m=this.config.minSelectionHeight||4;l>=p||c>=m?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),u(this,"onDblClick",()=>{this._isDrawing=!1;const l=this.rubberband.element;l.annotation=this.rubberband.toSelection(),this.emit("complete",l),this.stop()}),u(this,"createEditableShape",(l,c)=>new cO(l,this.g,{...this.config,formatters:c},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Zh.identifier="polygon",Zh.supports=i=>{var s;const e=i.selector("SvgSelector");if(e)return(s=e.value)==null?void 0:s.match(/^<svg.*<polygon/g)};class hO extends Ra{constructor(s,e,r){super(),u(this,"listTools",()=>this._registered.map(l=>l.identifier)),u(this,"registerTool",l=>{const c=l.identifier;this.listTools().includes(c)&&this.unregisterTool(c),this._registered.unshift(l)}),u(this,"unregisterTool",l=>this._registered=this._registered.filter(c=>c.identifier!==l)),u(this,"setCurrent",l=>{this._current&&this._current.destroy();const c=typeof l=="string"||l instanceof String?this._registered.find(p=>p.identifier===l):l;this._current=new c(this._g,this._config,this._env),this._current.on("startSelection",p=>this.emit("startSelection",p)),this._current.on("complete",p=>this.emit("complete",p)),this._current.on("cancel",p=>this.emit("cancel",p))}),u(this,"forAnnotation",l=>{var c;const[p,...m]=l.targets,y=(c=p.renderedVia)==null?void 0:c.name,b=y?this._registered.find(w=>w.identifier===y):this._registered.find(w=>w.supports(l));return b?new b(this._g,this._config,this._env):null}),this._g=s,this._config=e,this._env=r,this._registered=[Il,Zh],this.setCurrent(Il)}get current(){return this._current}}const dO={FragmentSelector:zh,SvgSelector:L0},fO={FragmentSelector:WR,SvgSelector:iO},z0=i=>{const s=i.targets[0];if(s)return Array.isArray(s.selector)?s.selector[0]:s.selector},Yh=(i,s)=>dO[z0(i).type](i,s),j0=(i,s)=>fO[z0(i).type](i,s);class pO{constructor(s){const e=document.createElementNS(Bt,"svg");e.setAttribute("class","a9s-osd-crosshair-container");const r=document.createElementNS(Bt,"g");r.setAttribute("class","a9s-crosshair"),e.appendChild(r);const l=document.createElementNS(Bt,"line"),c=document.createElementNS(Bt,"line");r.appendChild(l),r.appendChild(c),s.parentElement.appendChild(e);const p=m=>{const{offsetX:y,offsetY:b}=m,w=s.parentElement.offsetWidth,S=s.parentElement.offsetHeight;l.setAttribute("x1",0),l.setAttribute("y1",b),l.setAttribute("x2",w),l.setAttribute("y2",b),c.setAttribute("x1",y),c.setAttribute("y1",0),c.setAttribute("x2",y),c.setAttribute("y2",S)};s.addEventListener("pointermove",p),s.parentElement.addEventListener("pointermove",p)}}function gO(i,s,e,r,l){U0(i,s,e||0,r||i.length-1,l||mO)}function U0(i,s,e,r,l){for(;r>e;){if(r-e>600){var c=r-e+1,p=s-e+1,m=Math.log(c),y=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*y*(c-y)/c)*(p-c/2<0?-1:1),w=Math.max(e,Math.floor(s-p*y/c+b)),S=Math.min(r,Math.floor(s+(c-p)*y/c+b));U0(i,s,w,S,l)}var C=i[s],D=e,H=r;for(Ms(i,e,s),l(i[r],C)>0&&Ms(i,e,r);D<H;){for(Ms(i,D,H),D++,H--;l(i[D],C)<0;)D++;for(;l(i[H],C)>0;)H--}l(i[e],C)===0?Ms(i,e,H):(H++,Ms(i,H,r)),H<=s&&(e=H+1),s<=H&&(r=H-1)}}function Ms(i,s,e){var r=i[s];i[s]=i[e],i[e]=r}function mO(i,s){return i<s?-1:i>s?1:0}class vO{constructor(s=9){this._maxEntries=Math.max(4,s),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(s){let e=this.data;const r=[];if(!Ll(s,e))return r;const l=this.toBBox,c=[];for(;e;){for(let p=0;p<e.children.length;p++){const m=e.children[p],y=e.leaf?l(m):m;Ll(s,y)&&(e.leaf?r.push(m):Jh(s,y)?this._all(m,r):c.push(m))}e=c.pop()}return r}collides(s){let e=this.data;if(!Ll(s,e))return!1;const r=[];for(;e;){for(let l=0;l<e.children.length;l++){const c=e.children[l],p=e.leaf?this.toBBox(c):c;if(Ll(s,p)){if(e.leaf||Jh(s,p))return!0;r.push(c)}}e=r.pop()}return!1}load(s){if(!(s&&s.length))return this;if(s.length<this._minEntries){for(let r=0;r<s.length;r++)this.insert(s[r]);return this}let e=this._build(s.slice(),0,s.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(s){return s&&this._insert(s,this.data.height-1),this}clear(){return this.data=zo([]),this}remove(s,e){if(!s)return this;let r=this.data;const l=this.toBBox(s),c=[],p=[];let m,y,b;for(;r||c.length;){if(r||(r=c.pop(),y=c[c.length-1],m=p.pop(),b=!0),r.leaf){const w=yO(s,r.children,e);if(w!==-1)return r.children.splice(w,1),c.push(r),this._condense(c),this}!b&&!r.leaf&&Jh(r,l)?(c.push(r),p.push(m),m=0,y=r,r=r.children[0]):y?(m++,r=y.children[m],b=!1):r=null}return this}toBBox(s){return s}compareMinX(s,e){return s.minX-e.minX}compareMinY(s,e){return s.minY-e.minY}toJSON(){return this.data}fromJSON(s){return this.data=s,this}_all(s,e){const r=[];for(;s;)s.leaf?e.push(...s.children):r.push(...s.children),s=r.pop();return e}_build(s,e,r,l){const c=r-e+1;let p=this._maxEntries,m;if(c<=p)return m=zo(s.slice(e,r+1)),Ho(m,this.toBBox),m;l||(l=Math.ceil(Math.log(c)/Math.log(p)),p=Math.ceil(c/Math.pow(p,l-1))),m=zo([]),m.leaf=!1,m.height=l;const y=Math.ceil(c/p),b=y*Math.ceil(Math.sqrt(p));V0(s,e,r,b,this.compareMinX);for(let w=e;w<=r;w+=b){const S=Math.min(w+b-1,r);V0(s,w,S,y,this.compareMinY);for(let C=w;C<=S;C+=y){const D=Math.min(C+y-1,S);m.children.push(this._build(s,C,D,l-1))}}return Ho(m,this.toBBox),m}_chooseSubtree(s,e,r,l){for(;l.push(e),!(e.leaf||l.length-1===r);){let c=1/0,p=1/0,m;for(let y=0;y<e.children.length;y++){const b=e.children[y],w=Kh(b),S=_O(s,b)-w;S<p?(p=S,c=w<c?w:c,m=b):S===p&&w<c&&(c=w,m=b)}e=m||e.children[0]}return e}_insert(s,e,r){const l=r?s:this.toBBox(s),c=[],p=this._chooseSubtree(l,this.data,e,c);for(p.children.push(s),Is(p,l);e>=0&&c[e].children.length>this._maxEntries;)this._split(c,e),e--;this._adjustParentBBoxes(l,c,e)}_split(s,e){const r=s[e],l=r.children.length,c=this._minEntries;this._chooseSplitAxis(r,c,l);const p=this._chooseSplitIndex(r,c,l),m=zo(r.children.splice(p,r.children.length-p));m.height=r.height,m.leaf=r.leaf,Ho(r,this.toBBox),Ho(m,this.toBBox),e?s[e-1].children.push(m):this._splitRoot(r,m)}_splitRoot(s,e){this.data=zo([s,e]),this.data.height=s.height+1,this.data.leaf=!1,Ho(this.data,this.toBBox)}_chooseSplitIndex(s,e,r){let l,c=1/0,p=1/0;for(let m=e;m<=r-e;m++){const y=Bs(s,0,m,this.toBBox),b=Bs(s,m,r,this.toBBox),w=xO(y,b),S=Kh(y)+Kh(b);w<c?(c=w,l=m,p=S<p?S:p):w===c&&S<p&&(p=S,l=m)}return l||r-e}_chooseSplitAxis(s,e,r){const l=s.leaf?this.compareMinX:bO,c=s.leaf?this.compareMinY:wO,p=this._allDistMargin(s,e,r,l),m=this._allDistMargin(s,e,r,c);p<m&&s.children.sort(l)}_allDistMargin(s,e,r,l){s.children.sort(l);const c=this.toBBox,p=Bs(s,0,e,c),m=Bs(s,r-e,r,c);let y=Fl(p)+Fl(m);for(let b=e;b<r-e;b++){const w=s.children[b];Is(p,s.leaf?c(w):w),y+=Fl(p)}for(let b=r-e-1;b>=e;b--){const w=s.children[b];Is(m,s.leaf?c(w):w),y+=Fl(m)}return y}_adjustParentBBoxes(s,e,r){for(let l=r;l>=0;l--)Is(e[l],s)}_condense(s){for(let e=s.length-1,r;e>=0;e--)s[e].children.length===0?e>0?(r=s[e-1].children,r.splice(r.indexOf(s[e]),1)):this.clear():Ho(s[e],this.toBBox)}}function yO(i,s,e){if(!e)return s.indexOf(i);for(let r=0;r<s.length;r++)if(e(i,s[r]))return r;return-1}function Ho(i,s){Bs(i,0,i.children.length,s,i)}function Bs(i,s,e,r,l){l||(l=zo(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let c=s;c<e;c++){const p=i.children[c];Is(l,i.leaf?r(p):p)}return l}function Is(i,s){return i.minX=Math.min(i.minX,s.minX),i.minY=Math.min(i.minY,s.minY),i.maxX=Math.max(i.maxX,s.maxX),i.maxY=Math.max(i.maxY,s.maxY),i}function bO(i,s){return i.minX-s.minX}function wO(i,s){return i.minY-s.minY}function Kh(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Fl(i){return i.maxX-i.minX+(i.maxY-i.minY)}function _O(i,s){return(Math.max(s.maxX,i.maxX)-Math.min(s.minX,i.minX))*(Math.max(s.maxY,i.maxY)-Math.min(s.minY,i.minY))}function xO(i,s){const e=Math.max(i.minX,s.minX),r=Math.max(i.minY,s.minY),l=Math.min(i.maxX,s.maxX),c=Math.min(i.maxY,s.maxY);return Math.max(0,l-e)*Math.max(0,c-r)}function Jh(i,s){return i.minX<=s.minX&&i.minY<=s.minY&&s.maxX<=i.maxX&&s.maxY<=i.maxY}function Ll(i,s){return s.minX<=i.maxX&&s.minY<=i.maxY&&s.maxX>=i.minX&&s.maxY>=i.minY}function zo(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V0(i,s,e,r,l){const c=[s,e];for(;c.length;){if(e=c.pop(),s=c.pop(),e-s<=r)continue;const p=s+Math.ceil((e-s)/r/2)*r;gO(i,p,s,e,l),c.push(s,p,p,e)}}const Qh=(i,s)=>{if(i.targets[0].selector.type==="FragmentSelector"){const{x:e,y:r,w:l,h:c}=cr(i);return{minX:e,minY:r,maxX:e+l,maxY:r+c}}else{const e=Yh(i,s),r=document.createElementNS(Bt,"svg");r.style.position="absolute",r.style.opacity=0,r.style.top=0,r.style.left=0,r.appendChild(e),document.body.appendChild(r);const{x:l,y:c,width:p,height:m}=e.getBBox();return document.body.removeChild(r),{minX:l,minY:c,maxX:l+p,maxY:c+m}}},EO=i=>{var s;const e=i.targets[0];return Array.isArray(e.selector)?e.selector[0].type:(s=e.selector)==null?void 0:s.type},SO=(i,s,e,r)=>{const l=Vr(e),c=l.nodeName.toLowerCase(),p=[i,s];if(c==="polygon"){const m=Array.from(l.points).map(y=>[y.x,y.y]);return Gh(p,m)}else if(c==="circle"){const m=l.getAttribute("cx"),y=l.getAttribute("cy"),b=l.getAttribute("r");return QR(p,m,y,b)}else if(c==="ellipse"){const m=l.getAttribute("cx"),y=l.getAttribute("cy"),b=l.getAttribute("rx"),w=l.getAttribute("ry");return $R(p,m,y,b,w)}else{if(c==="path")return N0(l).find(m=>Gh(p,m));if(c==="line"){const m=parseInt(l.getAttribute("x1")),y=parseInt(l.getAttribute("y1")),b=parseInt(l.getAttribute("x2")),w=parseInt(l.getAttribute("y2"));return tO(p,m,y,b,w,r)}else throw`Unsupported SVG shape type: ${c}`}};class TO{constructor(s){u(this,"clear",()=>this.spatial_index.clear()),u(this,"getAnnotationAt",(e,r,l)=>{const c=l?5/l:5,p=this.spatial_index.search({minX:e-c,minY:r-c,maxX:e+c,maxY:r+c}).map(m=>m.annotation).filter(m=>{const y=EO(m);if(y==="FragmentSelector")return!0;if(y==="SvgSelector")return SO(e,r,m,c);throw`Unsupported selector type: ${y}`});if(p.length>0)return p.sort((m,y)=>j0(m,this.env.image)-j0(y,this.env.image)),p[0]}),u(this,"getAnnotationsIntersecting",e=>{const r=e.minX,l=r?e:Qh(e,this.env.image),c=this.spatial_index.search(l).map(p=>p.annotation);return r?c:c.filter(p=>!p.isEqual(e))}),u(this,"insert",e=>{(Array.isArray(e)?e:[e]).forEach(r=>{this.spatial_index.insert({...Qh(r,this.env.image),annotation:r})})}),u(this,"getBounds",e=>this.getBounds(e,this.env.image)),u(this,"remove",e=>{const r={...Qh(e,this.env.image),annotation:e};this.spatial_index.remove(r,(l,c)=>l.annotation.id===c.annotation.id)}),this.env=s,s.store=this,this.spatial_index=new vO}}const W0=(i,s)=>{const e=(Lh(s,".a9s-annotation")?s:s.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:r}=i.drawer,l=r.getBoundingClientRect(),c=r.width/l.width,p=r.height/l.height,m=e.x-l.x,y=e.y-l.y,{width:b,height:w}=e,S=document.createElement("CANVAS"),C=S.getContext("2d");S.width=b,S.height=w,C.drawImage(r,m*c,y*p,b*c,w*p,0,0,b,w);const D=i.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(m,y)),H=i.viewport.viewportToImageZoom(i.viewport.getZoom());return{snippet:S,transform:J=>{const G=D.x+J[0]/c/H,ee=D.y+J[1]/p/H;return[G,ee]}}},CO=Uh();class G0 extends Ra{constructor(s){super(),u(this,"_getShapeAt",r=>{const l=y=>{const b=this.svg.createSVGPoint();if(window.TouchEvent&&y instanceof TouchEvent){const w=this.svg.getBoundingClientRect(),S=y.touches[0],C=S.clientX-w.x,D=S.clientY-w.y,{left:H,top:J}=this.svg.getBoundingClientRect();return b.x=C+H,b.y=D+J,b.matrixTransform(this.g.getScreenCTM().inverse())}else return b.x=y.offsetX,b.y=y.offsetY,b.matrixTransform(this.g.getCTM().inverse())},{x:c,y:p}=l(r),m=this.store.getAnnotationAt(c,p,this.currentScale());if(m)return this.findShape(m)}),u(this,"_initDrawingTools",r=>{var l;let c=!1,p=!1,m=!1;this.tools=new hO(this.g,this.config,this.env),this.tools.on("complete",w=>{p=!1,this.onDrawingComplete(w)}),this.mouseTracker=new ur.MouseTracker({element:this.svg,preProcessEventHandler:w=>{this.mouseTracker.enabled||(w.preventDefault=!1,w.preventGesture=!0),this.selectedShape&&w.eventType==="wheel"&&(w.preventDefault=!1,this.viewer.canvas.dispatchEvent(new w.originalEvent.constructor(w.eventType,w.originalEvent)))},pressHandler:w=>{this.tools.current.isDrawing||(this.tools.current.start(w.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),r||this.scaleTool(this.tools.current))},moveHandler:w=>{if(this.tools.current.isDrawing){const{x:S,y:C}=this.tools.current.getSVGPoint(w.originalEvent);!w.buttons||!p?(w.originalEvent.stopPropagation(),this.tools.current.onMouseMove(S,C,w.originalEvent),c||(this.emit("startSelection",{x:S,y:C}),c=!0)):(!m&&this.tools.current.onDragStart&&this.tools.current.onDragStart(S,C,w.originalEvent),m=!0)}},releaseHandler:w=>{if(this.tools.current.isDrawing){p=!0;const{x:S,y:C}=this.tools.current.getSVGPoint(w.originalEvent);this.tools.current.onMouseUp(S,C,w.originalEvent),m&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}c=!1,m=!1}});const y=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",b=(l=this.config.hotkey)==null?void 0:l.inverted;this.mouseTracker.enabled=b,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=w=>{if(w.key.toLowerCase()===y&&!this.selectedShape){const S=!this.readOnly&&!b;this.mouseTracker.enabled=S,this.tools.current.enabled=S}},this.onKeyUp=w=>{w.key.toLowerCase()===y&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=b,this.tools.current.enabled=b)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),u(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",l=>{var c,p;if(!((c=this.tools)!=null&&c.current.isDrawing)&&!l.target.closest(".a9s-annotation.editable.selected")){const m=this._getShapeAt(l);if((m==null?void 0:m.annotation)!==((p=this.hoveredShape)==null?void 0:p.annotation)){if(this.hoveredShape){const y=this.hoveredShape.element||this.hoveredShape;Ol(y,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}m&&(ji(m,"hover"),this.emit("mouseEnterAnnotation",m.annotation,m))}this.hoveredShape=m}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(Ol(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let r=null;this.viewer.addHandler("canvas-press",()=>r=new Date().getTime()),this.viewer.addHandler("canvas-click",l=>{var c;const{originalEvent:p}=l;if(!(((c=this.tools.current)==null?void 0:c.isDrawing)||this.disableSelect)&&new Date().getTime()-r<250){const m=p.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(p);m?(l.preventDefaultAction=!0,this.selectShape(m)):m||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),u(this,"_lazy",r=>{if(this.viewer.world.getItemAt(0))r();else{const l=()=>{r(),this.viewer.removeHandler("open",l),this.viewer.world.removeHandler("add-item",l)};this.viewer.addHandler("open",l),this.viewer.world.addHandler("add-item",l)}}),u(this,"_refreshNonScalingAnnotations",()=>{const r=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(l=>l.setAttribute("transform",`scale(${1/r})`))}),u(this,"addAnnotation",(r,l)=>{const c=l||this.g,p=Yh(r,this.env.image);return ji(p,"a9s-annotation"),p.setAttribute("data-id",r.id),p.annotation=r,c.appendChild(p),Bl(p,r,this.formatters),this.scaleFormatterElements(p),p}),u(this,"addDrawingTool",r=>this.tools.registerTool(r)),u(this,"addOrUpdateAnnotation",(r,l)=>{var c;const p=(c=this.selectedShape)==null?void 0:c.annotation;(p===r||(p==null?void 0:p.isSelection)||p==l)&&this.deselect(),l&&this.removeAnnotation(r),this.removeAnnotation(r);const m=this.addAnnotation(r);Lh(m,"a9s-non-scaling")&&m.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(r)}),u(this,"currentScale",()=>{const r=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*r/this.viewer.world.getContentFactor()}),u(this,"deselect",()=>{var r;if((r=this.tools)==null||r.current.stop(),this.selectedShape){const{annotation:l}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!l.isSelection){const c=this.addAnnotation(l);Lh(c,"a9s-non-scaling")&&c.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else Ol(this.selectedShape,"selected");this.selectedShape=null}}),u(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),u(this,"findShape",r=>{const l=r!=null&&r.id?r.id:r;return this.g.querySelector(`.a9s-annotation[data-id="${l}"]`)}),u(this,"_fit",(r,l,c)=>{const p=this.findShape(r);if(p){const m=l?typeof l=="boolean"?l:l.immediately:!1,y=(l==null?void 0:l.padding)||0,b=this.viewer.container.getBoundingClientRect(),w=Math.min(2*y/b.width,2*y/b.height),{x:S,y:C,width:D,height:H}=p.getBBox(),J=S-w*D,G=C-w*H,ee=D+2*w*D,P=H+2*w*H,Z=this.viewer.viewport.imageToViewportRectangle(J,G,ee,P);this.viewer.viewport[c](Z,m)}}),u(this,"fitBounds",(r,l)=>this._fit(r,l,"fitBounds")),u(this,"fitBoundsWithConstraints",(r,l)=>this._fit(r,l,"fitBoundsWithConstraints")),u(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(r=>r.annotation)),u(this,"getAnnotationsIntersecting",r=>{const l=r.id?r:this.findShape(r).annotation;return this.store.getAnnotationsIntersecting(l)}),u(this,"getImageSnippetById",r=>{const l=this.findShape(r);if(l)return W0(this.viewer,l)}),u(this,"getSelectedImageSnippet",()=>{var r;if(this.selectedShape){const l=(r=this.selectedShape.element)!=null?r:this.selectedShape;return W0(this.viewer,l)}}),u(this,"init",r=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(l=>this.g.removeChild(l)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),r.forEach(l=>this.addAnnotation(l)),console.log("Indexing..."),this.store.insert(r),console.timeEnd("Took"),this.resize()})}),u(this,"listDrawingTools",()=>this.tools.listTools()),u(this,"overrideId",(r,l)=>{const c=this.findShape(r);c.setAttribute("data-id",l);const{annotation:p}=c,m=p.clone({id:l});return c.annotation=m,this.store.remove(p),this.store.insert(m),m}),u(this,"panTo",(r,l)=>{const c=this.findShape(r);if(c){const{top:p,left:m,width:y,height:b}=c.getBoundingClientRect(),w=m+y/2+window.scrollX,S=p+b/2+window.scrollY,C=this.viewer.viewport.windowToViewportCoordinates(new ur.Point(w,S));this.viewer.viewport.panTo(C,l)}}),u(this,"removeAnnotation",r=>{var l,c;const p=r.type?r.id:r;((l=this.selectedShape)==null?void 0:l.annotation.id)===p&&this.deselect();const m=this.findShape(r);if(m){const{annotation:y}=m;((c=this.selectedShape)==null?void 0:c.annotation)===y&&this.deselect(),m.parentNode.removeChild(m),this.store.remove(y)}}),u(this,"removeDrawingTool",r=>{var l;return(l=this.tools)==null?void 0:l.unregisterTool(r)}),u(this,"scaleFormatterElements",r=>{const l=1/this.currentScale();if(r){const c=r.querySelector(".a9s-formatter-el");c&&c.firstChild.setAttribute("transform",`scale(${l})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(c=>c.firstChild.setAttribute("transform",`scale(${l})`))}),u(this,"scaleTool",r=>{if(r){const l=1/this.currentScale();r.scale=l,r.onScaleChanged&&r.onScaleChanged(l)}}),u(this,"selectAnnotation",(r,l)=>{this.selectedShape&&this.deselect();const c=this.findShape(r);if(c){this.selectShape(c,l);const p=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:c.annotation,element:p}}else this.deselect()}),u(this,"selectShape",(r,l)=>{var c;if(!l&&!r.annotation.isSelection&&this.emit("clickAnnotation",r.annotation,r),((c=this.selectedShape)==null?void 0:c.annotation)===r.annotation)return;this.selectedShape&&this.selectedShape.annotation!==r.annotation&&this.deselect();const{annotation:p}=r;if(this.readOnly||p.readOnly||this.headless)this.selectedShape=r,ji(r,"selected"),l||this.emit("select",{annotation:p,element:r,skipEvent:l});else{const m=this.tools.forAnnotation(p);if(m){setTimeout(()=>{r.parentNode.removeChild(r),l||this.emit("select",{annotation:p,element:this.selectedShape.element})},1),this.selectedShape=m.createEditableShape(p,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=p;const y=new ur.MouseTracker({element:this.svg,preProcessEventHandler:b=>{b.stopPropagation=!0,b.preventDefault=!1,b.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,y.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,y.setTracking(!1)}),this.selectedShape.mouseTracker=y,this.selectedShape.on("update",b=>this.emit("updateTarget",this.selectedShape.element,b))}else this.selectedShape=r,l||this.emit("select",{annotation:p,element:this.selectedShape})}}),u(this,"setDrawingEnabled",r=>{if(this.mouseTracker){const l=r&&!this.readOnly;this.mouseTracker.enabled=l,this.mouseTracker.setTracking(l),this.tools.current&&(this.tools.current.enabled=l)}}),u(this,"setDrawingTool",r=>{var l;this.tools&&((l=this.tools.current)==null||l.stop(),this.tools.setCurrent(r))}),u(this,"setVisible",r=>{r?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),u(this,"stopDrawing",()=>{var r,l;return(l=(r=this.tools)==null?void 0:r.current)==null?void 0:l.stop()}),this.viewer=s.viewer,this.config=s.config,this.env=s.env,this.readOnly=s.config.readOnly,this.headless=s.config.headless,s.config.formatter?this.formatters=[s.config.formatter]:s.config.formatters&&(this.formatters=Array.isArray(s.config.formatters)?s.config.formatters:[s.config.formatters]),this.disableSelect=s.config.disableSelect,this.drawOnSingleClick=s.config.drawOnSingleClick,this.svg=document.createElementNS(Bt,"svg"),CO?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),XR(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Bt,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const e=()=>{const{x:r,y:l}=this.viewer.world.getItemAt(0).source.dimensions,c=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:c,naturalWidth:r,naturalHeight:l},s.config.crosshair&&(this.crosshair||(this.crosshair=new pO(this.svg),ji(this.svg,"no-cursor"))),this.loaded||this.emit("load",c),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",e),this.viewer.world.addHandler("add-item",e),this.viewer.world.getItemAt(0)&&e(),this.store=new TO(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var s;const e=this.viewer.viewport.getFlip(),r=this.viewer.viewport.pixelFromPoint(new ur.Point(0,0),!0);e&&(r.x=this.viewer.viewport._containerInnerSize.x-r.x);const l=this.currentScale(),c=e?-l:l,p=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${r.x}, ${r.y}) scale(${c}, ${l}) rotate(${p})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(s=this.tools)!=null&&s.current&&this.scaleTool(this.tools.current)}}class PO extends G0{constructor(s){super(s),u(this,"onDrawingComplete",e=>{var r;this.mouseTracker.enabled=(r=this.config.hotkey)==null?void 0:r.inverted,this.selectShape(e),this.emit("createSelection",e.annotation)}),this._initDrawingTools()}}const $h=i=>{const s=i.viewport.viewportToImageRectangle(i.viewport.getBounds(!0)),e=i.viewport.getContainerSize().x,r=i.viewport.getZoom(!0)*e/i.world.getContentFactor();return{extent:s,scale:r}},AO=i=>{var s;const e=i.targets[0];return e?Array.isArray(e.selector)?e.selector[0].type:(s=e.selector)==null?void 0:s.type:null},q0=(i,s)=>{const{extent:e,scale:r}=$h(i),{selector:l}=s,c=Ur.create({target:s});if(l.type==="SvgSelector"){const p=Vr(c),m=p.nodeName.toLowerCase();let y=null;if(m==="polygon")y=RO(p,e,r);else if(m==="circle")y=OO(p,e,r);else if(m==="ellipse")y=kO(p,e,r);else if(m==="path")y=DO(p,e,r);else throw`Unsupported SVG shape type: ${m}`;let b=y.outerHTML||new XMLSerializer().serializeToString(y);return b=b.replace(` xmlns="${Bt}"`,""),{...s,selector:{type:"SvgSelector",value:`<svg>${b}</svg>`}}}else if(l.type==="FragmentSelector"){const{x:p,y:m,w:y,h:b}=cr(c),w=e.x+p/r,S=e.y+m/r,C=y/r,D=b/r;return y===0&&b===0?{...Lo(w,S,C,D),renderedVia:{name:"point"}}:Lo(w,S,C,D)}else throw`Unsupported selector type: ${l.type}`},RO=(i,s,e)=>{const r=Array.from(i.points).map(l=>{const c=s.x+l.x/e,p=s.y+l.y/e;return c+","+p}).join(" ");return i.setAttribute("points",r),i},OO=(i,s,e)=>{const r=parseFloat(i.getAttribute("cx")),l=parseFloat(i.getAttribute("cy")),c=parseFloat(i.getAttribute("r"));return i.setAttribute("cx",s.x+r/e),i.setAttribute("cy",s.y+l/e),i.setAttribute("r",c/e),i},kO=(i,s,e)=>{const r=parseFloat(i.getAttribute("cx")),l=parseFloat(i.getAttribute("cy")),c=parseFloat(i.getAttribute("rx")),p=parseFloat(i.getAttribute("ry"));return i.setAttribute("cx",s.x+r/e),i.setAttribute("cy",s.y+l/e),i.setAttribute("rx",c/e),i.setAttribute("ry",p/e),i},DO=(i,s,e)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()).map(l=>{const c=l.substring(0,1);if(c.toLowerCase()==="z")return c;{const p=l.substring(1).split(" ").map(w=>parseFloat(w.trim())),m=c===c.toUpperCase(),y=m?s.x+p[0]/e:p[0]/e,b=m?s.y+p[1]/e:p[1]/e;return c+" "+y+" "+b}}).join(" ");return i.setAttribute("d",r),i},X0=(i,s)=>{const{extent:e,scale:r}=$h(i),l=s.selector("FragmentSelector");if(s.selector("SvgSelector")){const c=Vr(s),p=c.nodeName.toLowerCase();let m=null;if(p==="polygon")m=MO(c,e,r);else if(p==="circle")m=BO(c,e,r);else if(p==="ellipse")m=IO(c,e,r);else if(p==="path")m=NO(c,e,r);else throw`Unsupported SVG shape type: ${p}`;let y=m.outerHTML||new XMLSerializer().serializeToString(m);y=y.replace(` xmlns="${Bt}"`,"");const b={selector:{type:"SvgSelector",value:`<svg>${y}</svg>`}};return s.clone({target:b})}else if(l){const{x:c,y:p,w:m,h:y}=cr(s),b=(c-e.x)*r,w=(p-e.y)*r,S=Lo(b,w,m*r,y*r);return s.clone({target:S})}},MO=(i,s,e)=>{const r=Array.from(i.points).map(l=>{const c=e*(l.x-s.x),p=e*(l.y-s.y);return c+","+p}).join(" ");return i.setAttribute("points",r),i},BO=(i,s,e)=>{const r=i.getAttribute("cx"),l=i.getAttribute("cy"),c=i.getAttribute("r");return i.setAttribute("cx",e*(r-s.x)),i.setAttribute("cy",e*(l-s.y)),i.setAttribute("r",c*e),i},IO=(i,s,e)=>{const r=i.getAttribute("cx"),l=i.getAttribute("cy"),c=i.getAttribute("rx"),p=i.getAttribute("ry");return i.setAttribute("cx",e*(r-s.x)),i.setAttribute("cy",e*(l-s.y)),i.setAttribute("rx",c*e),i.setAttribute("ry",p*e),i},NO=(i,s,e)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()).map(l=>{const c=l.substring(0,1);if(c.toLowerCase()==="z")return c;{const p=l.substring(1).split(" ").filter(w=>w).map(w=>parseFloat(w.trim())),m=c===c.toUpperCase(),y=m?e*(p[0]-s.x):e*p[0],b=m?e*(p[1]-s.y):e*p[1];return c+" "+y+" "+b}}).join(" ");return i.setAttribute("d",r),i},Z0=(i,s)=>{const{extent:e,scale:r}=$h(i),l=AO(s.annotation);if(l==="FragmentSelector")FO(s,e,r);else if(l==="SvgSelector")LO(s,e,r);else throw`Unsupported selector type type: ${l}`;const c=s.querySelector(".a9s-formatter-el");if(c){const{x:p,y:m}=s.querySelector(".a9s-inner").getBBox();c.setAttribute("x",p),c.setAttribute("y",m)}},FO=(i,s,e)=>{const{x:r,y:l,w:c,h:p}=cr(i.annotation),m=i.querySelector(".a9s-outer"),y=i.querySelector(".a9s-inner"),b=e*(r-s.x),w=e*(l-s.y);c===0&&p===0?[m,y].forEach(S=>{S.setAttribute("cx",b),S.setAttribute("cy",w)}):[m,y].forEach(S=>{S.setAttribute("x",b),S.setAttribute("y",w),S.setAttribute("width",c*e),S.setAttribute("height",p*e)})},LO=(i,s,e)=>{const r=Vr(i.annotation),l=r.nodeName.toLowerCase();if(l==="polygon")HO(i,r,s,e);else if(l==="circle")zO(i,r,s,e);else if(l==="ellipse")jO(i,r,s,e);else if(l==="path")UO(i,r,s,e);else throw`Unsupported SVG shape type: ${l}`},HO=(i,s,e,r)=>{const l=Array.from(s.points).map(c=>{const p=r*(c.x-e.x),m=r*(c.y-e.y);return p+","+m}).join(" ");i.querySelector(".a9s-outer").setAttribute("points",l),i.querySelector(".a9s-inner").setAttribute("points",l)},zO=(i,s,e,r)=>{const l=r*(s.getAttribute("cx")-e.x),c=r*(s.getAttribute("cy")-e.y),p=r*s.getAttribute("r"),m=i.querySelector(".a9s-outer");m.setAttribute("cx",l),m.setAttribute("cy",c),m.setAttribute("r",p);const y=i.querySelector(".a9s-inner");y.setAttribute("cx",l),y.setAttribute("cy",c),y.setAttribute("r",p)},jO=(i,s,e,r)=>{const l=r*(s.getAttribute("cx")-e.x),c=r*(s.getAttribute("cy")-e.y),p=r*s.getAttribute("rx"),m=r*s.getAttribute("ry"),y=i.querySelector(".a9s-outer");y.setAttribute("cx",l),y.setAttribute("cy",c),y.setAttribute("rx",p),y.setAttribute("ry",m);const b=i.querySelector(".a9s-inner");b.setAttribute("cx",l),b.setAttribute("cy",c),b.setAttribute("rx",p),b.setAttribute("ry",m)},UO=(i,s,e,r)=>{const l=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(c=>c.trim()).map(c=>{const p=c.substring(0,1);if(p.toLowerCase()==="z")return p;{const m=c.substring(1).split(" ").filter(S=>S).map(S=>parseFloat(S.trim())),y=p===p.toUpperCase(),b=y?r*(m[0]-e.x):r*m[0],w=y?r*(m[1]-e.y):r*m[1];return p+" "+b+" "+w}}).join(" ");i.querySelector(".a9s-inner").setAttribute("d",l),i.querySelector(".a9s-outer").setAttribute("d",l)},VO=Uh();class WO extends G0{constructor(s){super(s),u(this,"_fit",(e,r,l)=>{const c=r?typeof r=="boolean"?r:r.immediately:!1,p=(r==null?void 0:r.padding)||0,m=this.findShape(e);if(m){const y=this.viewer.container.getBoundingClientRect(),b=m.getBoundingClientRect(),w=b.x-y.x,S=b.y-y.y,{width:C,height:D}=b,H=w-p,J=S-p,G=C+2*p,ee=D+2*p,P=this.viewer.viewport.viewerElementToViewportRectangle(new ur.Rect(H,J,G,ee));this.viewer.viewport[l](P,c)}}),u(this,"_getShapeAt",e=>{const r=y=>{if(VO){const b=this.svg.getBoundingClientRect(),w=y.clientX-b.x,S=y.clientY-b.y;return new ur.Point(w,S)}else return new ur.Point(y.offsetX,y.offsetY)},l=this.viewer.viewport.viewerElementToViewportCoordinates(r(e)),{x:c,y:p}=this.viewer.viewport.viewportToImageCoordinates(l.x,l.y),m=this.store.getAnnotationAt(c,p,this.currentScale());if(m)return this.findShape(m)}),u(this,"_refreshNonScalingAnnotations",()=>{}),u(this,"addAnnotation",(e,r)=>{const l=r||this.g,c=Yh(e,this.env.image);return ji(c,"a9s-annotation"),c.setAttribute("data-id",e.id),c.annotation=e,Z0(this.viewer,c),l.appendChild(c),Bl(c,e,this.formatters),c}),u(this,"addOrUpdateAnnotation",(e,r)=>{var l;const c=(l=this.selectedShape)==null?void 0:l.annotation;(c===e||(c==null?void 0:c.isSelection)||c==r)&&this.deselect(),r&&this.removeAnnotation(e),this.removeAnnotation(e),this.addAnnotation(e),this.store.insert(e)}),u(this,"deselect",()=>{var e;if((e=this.tools)==null||e.current.stop(),this.selectedShape){const{annotation:r}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),r.isSelection||this.addAnnotation(r)):Ol(this.selectedShape,"selected"),this.selectedShape=null}}),u(this,"onDrawingComplete",e=>{const r=e.annotation.clone({target:q0(this.viewer,e.annotation.target)});e.annotation=r,this.selectShape(e),this.emit("createSelection",e.annotation),this.mouseTracker.enabled=!1}),u(this,"selectShape",(e,r)=>{var l;if(!r&&!e.annotation.isSelection&&this.emit("clickAnnotation",e.annotation,e),((l=this.selectedShape)==null?void 0:l.annotation)===e.annotation)return;this.selectedShape&&this.selectedShape.annotation!==e.annotation&&this.deselect(!0);const{annotation:c}=e;if(this.readOnly||c.readOnly||this.headless)this.selectedShape=e,ji(e,"selected"),r||this.emit("select",{annotation:c,element:e,skipEvent:r});else{setTimeout(()=>{e.parentNode.removeChild(e),r||this.emit("select",{annotation:c,element:this.selectedShape.element})},1);const p=this.tools.forAnnotation(c);this.selectedShape=p.createEditableShape(c),this.selectedShape.element.annotation=c;const m=X0(this.viewer,c);this.selectedShape.updateState(m);const y=new ur.MouseTracker({element:this.svg,preProcessEventHandler:b=>{b.stopPropagation=!0,b.preventDefault=!1,b.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,y.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,y.setTracking(!1)}),this.selectedShape.mouseTracker=y,this.selectedShape.on("update",b=>{const w=q0(this.viewer,b);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:w}),this.emit("updateTarget",this.selectedShape.element,w)})}}),this._initDrawingTools(!0)}resize(){if(!!this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(s=>Z0(this.viewer,s)),this.selectedShape))if(this.selectedShape.element){const s=X0(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(s),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var GO=Aa(qe),Y0,K0=GO,qO=0;function XO(i,s,e,r,l){var c,p,m={};for(p in s)p=="ref"?c=s[p]:m[p]=s[p];var y={type:i,props:m,key:e,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--qO,__source:r,__self:l};if(typeof i=="function"&&(c=i.defaultProps))for(p in c)m[p]===void 0&&(m[p]=c[p]);return K0.options.vnode&&K0.options.vnode(y),y}Y0=XO;const J0=Y0;class ZO extends me{constructor(s){super(s),u(this,"clearState",e=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},e)),u(this,"forwardEvent",(e,r)=>{this.annotationLayer.on(e,(l,c)=>{this.props[r](l.clone(),c)})}),u(this,"onKeyUp",e=>{if(e.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:r}=this.state;r&&(this.cancelSelected(),this.props.onCancelSelected(r))}else if(e.which===46){const{selectedAnnotation:r}=this.state;r&&(r.isSelection?this.onCancelAnnotation(r):this.onDeleteAnnotation(r))}}),u(this,"handleStartSelect",e=>this.props.onSelectionStarted(e)),u(this,"handleSelect",(e,r)=>{this.state.editorDisabled?this.onHeadlessSelect(e,r):this.onNormalSelect(e,r)}),u(this,"onNormalSelect",(e,r)=>{const{annotation:l,element:c}=e;if(l){const p=()=>{this.setState({selectedAnnotation:l,selectedDOMElement:c,modifiedTarget:null},()=>{r||(l.isSelection?this.props.onSelectionCreated(l.clone()):this.props.onAnnotationSelected(l.clone(),c))})},{selectedAnnotation:m}=this.state;m&&!m.isEqual(l)?this.clearState(()=>{this.props.onCancelSelected(m),p()}):p()}else{const{selectedAnnotation:p}=this.state;p?this.clearState(()=>this.props.onCancelSelected(p)):this.clearState()}}),u(this,"onHeadlessSelect",(e,r)=>{this.saveSelected().then(()=>{this.onNormalSelect(e,r)})}),u(this,"handleUpdateTarget",(e,r)=>{this.setState({selectedDOMElement:e,modifiedTarget:r});const l=JSON.parse(JSON.stringify(r));this.props.onSelectionTargetChanged(l)}),u(this,"handleViewportChange",e=>this.setState({selectedDOMElement:e})),u(this,"overrideAnnotationId",e=>r=>{const{id:l}=e;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(l,r)}):this.annotationLayer.overrideId(l,r)}),u(this,"onCreateOrUpdateAnnotation",(e,r)=>(l,c)=>{let p=l.isSelection?l.toAnnotation():l;p=this.state.modifiedTarget?p.clone({target:this.state.modifiedTarget}):p.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(p,c),c?this.props[e](p,c.clone()):this.props[e](p,this.overrideAnnotationId(p)),r&&r()})}),u(this,"onDeleteAnnotation",e=>{this.clearState(),this.annotationLayer.removeAnnotation(e),this.props.onAnnotationDeleted(e)}),u(this,"onCancelAnnotation",(e,r)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(e),this.clearState(r)}),u(this,"addAnnotation",e=>{var r;e.id===((r=this.state.selectedAnnotation)==null?void 0:r.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(e.clone())}),u(this,"addDrawingTool",e=>this.annotationLayer.addDrawingTool(e)),u(this,"cancelSelected",()=>new Promise(e=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(e):e()})),u(this,"fitBounds",(e,r)=>this.annotationLayer.fitBounds(e,r)),u(this,"fitBoundsWithConstraints",(e,r)=>this.annotationLayer.fitBoundsWithConstraints(e,r)),u(this,"getAnnotationById",e=>{var r;return(r=this.annotationLayer.findShape(e))==null?void 0:r.annotation}),u(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(e=>e.clone())),u(this,"getAnnotationsIntersecting",e=>this.annotationLayer.getAnnotationsIntersecting(e)),u(this,"getImageSnippetById",e=>this.annotationLayer.getImageSnippetById(e)),u(this,"getSelected",()=>{var e;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(e=this._editor.current)==null?void 0:e.getCurrentAnnotation()}),u(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),u(this,"panTo",(e,r)=>this.annotationLayer.panTo(e,r)),u(this,"removeAnnotation",e=>this.annotationLayer.removeAnnotation(e)),u(this,"removeDrawingTool",e=>this.annotationLayer.removeDrawingTool(e)),u(this,"saveSelected",()=>new Promise(e=>{const r=this.state.selectedAnnotation;if(r)if(this._editor.current)this._editor.current.onOk(),e();else if(r.isSelection)r.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",e)(r):(this.annotationLayer.deselect(),e());else{const{beforeHeadlessModify:l,modifiedTarget:c}=this.state;l?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(r,l):c?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(r,r):this.onCancelAnnotation(r,e)}else e()})),u(this,"selectAnnotation",e=>{const r=this.annotationLayer.selectAnnotation(e,!0);if(r)return this.handleSelect(r,!0),r.annotation.clone();this.clearState()}),u(this,"setAnnotations",e=>this.annotationLayer.init(e.map(r=>r.clone()))),u(this,"setDrawingEnabled",e=>this.annotationLayer.setDrawingEnabled(e)),u(this,"setDrawingTool",e=>this.annotationLayer.setDrawingTool(e)),u(this,"setVisible",e=>{this.annotationLayer.setVisible(e),e||this.clearState()}),u(this,"updateSelected",(e,r)=>new Promise(l=>{this.state.selectedAnnotation&&(r?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",l)(e):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",l)(e,this.state.selectedAnnotation):this.setState({selectedAnnotation:e,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},l))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:s.config.readOnly,editorDisabled:s.config.disableEditor,widgets:s.config.widgets,beforeHeadlessModify:null},this._editor=Re.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new WO(this.props):new PO(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(s){this.setState({editorDisabled:s})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(s){this.annotationLayer.disableSelect=s}get formatters(){return this.annotationLayer.formatters}set formatters(s){this.annotationLayer.formatters=s}get readOnly(){return this.state.readOnly}set readOnly(s){this.annotationLayer.readOnly=s,this.setState({readOnly:s})}get widgets(){return this.state.widgets}set widgets(s){this.setState({widgets:s})}render(){var s;const e=this.state.selectedAnnotation&&!this.state.editorDisabled,r=this.state.readOnly||((s=this.state.selectedAnnotation)==null?void 0:s.readOnly);return e&&J0(MR,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:r,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class YO{constructor(s,e){u(this,"handleAnnotationCreated",(l,c)=>this._emitter.emit("createAnnotation",l.underlying,c)),u(this,"handleAnnotationDeleted",l=>this._emitter.emit("deleteAnnotation",l.underlying)),u(this,"handleAnnotationSelected",(l,c)=>this._emitter.emit("selectAnnotation",l.underlying,c)),u(this,"handleAnnotationUpdated",(l,c)=>this._emitter.emit("updateAnnotation",l.underlying,c.underlying)),u(this,"handleCancelSelected",l=>this._emitter.emit("cancelSelected",l.underlying)),u(this,"handleClickAnnotation",(l,c)=>this._emitter.emit("clickAnnotation",l.underlying,c)),u(this,"handleLoad",l=>this._emitter.emit("load",l)),u(this,"handleSelectionCreated",l=>this._emitter.emit("createSelection",l.underlying)),u(this,"handleSelectionStarted",l=>this._emitter.emit("startSelection",l)),u(this,"handleSelectionTargetChanged",l=>this._emitter.emit("changeSelectionTarget",l)),u(this,"handleMouseEnterAnnotation",(l,c)=>this._emitter.emit("mouseEnterAnnotation",l.underlying,c)),u(this,"handleMouseLeaveAnnotation",(l,c)=>this._emitter.emit("mouseLeaveAnnotation",l.underlying,c)),u(this,"_wrap",l=>(l==null?void 0:l.type)==="Annotation"?new Ur(l):l),u(this,"addAnnotation",l=>this._app.current.addAnnotation(new Ur(l))),u(this,"addDrawingTool",l=>this._app.current.addDrawingTool(l)),u(this,"cancelSelected",()=>this._app.current.cancelSelected()),u(this,"clearAnnotations",()=>this.setAnnotations([])),u(this,"clearAuthInfo",()=>this._env.user=null),u(this,"destroy",()=>Re.unmountComponentAtNode(this.appContainerEl)),u(this,"fitBounds",(l,c)=>this._app.current.fitBounds(this._wrap(l),c)),u(this,"fitBoundsWithConstraints",(l,c)=>this._app.current.fitBoundsWithConstraints(this._wrap(l),c)),u(this,"getAnnotationById",l=>{const c=this._app.current.getAnnotationById(l);return c==null?void 0:c.underlying}),u(this,"getAnnotations",()=>this._app.current.getAnnotations().map(l=>l.underlying)),u(this,"getAnnotationsIntersecting",l=>this._app.current.getAnnotationsIntersecting(this._wrap(l))),u(this,"getImageSnippetById",l=>this._app.current.getImageSnippetById(l)),u(this,"getSelected",()=>{const l=this._app.current.getSelected();return l==null?void 0:l.underlying}),u(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),u(this,"loadAnnotations",l=>fetch(l).then(c=>c.json()).then(c=>(this.setAnnotations(c),c))),u(this,"off",(l,c)=>this._emitter.off(l,c)),u(this,"on",(l,c)=>this._emitter.on(l,c)),u(this,"once",(l,c)=>this._emitter.once(l,c)),u(this,"panTo",(l,c)=>this._app.current.panTo(this._wrap(l),c)),u(this,"removeAnnotation",l=>this._app.current.removeAnnotation(this._wrap(l))),u(this,"removeDrawingTool",l=>this._app.current.removeDrawingTool(l)),u(this,"saveSelected",()=>this._app.current.saveSelected()),u(this,"selectAnnotation",l=>{const c=this._app.current.selectAnnotation(this._wrap(l));return c==null?void 0:c.underlying}),u(this,"setAnnotations",l=>{const c=(l||[]).map(p=>new Ur(p));this._app.current.setAnnotations(c)}),u(this,"setAuthInfo",l=>this._env.user=l),u(this,"setDrawingEnabled",l=>this._app.current.setDrawingEnabled(l)),u(this,"setDrawingTool",l=>this._app.current.setDrawingTool(l)),u(this,"setServerTime",l=>this._env.setServerTime(l)),u(this,"setVisible",l=>this._app.current.setVisible(l)),u(this,"updateSelected",(l,c)=>{let p=null;l.type==="Annotation"?p=new Ur(l):l.type==="Selection"&&(p=new Ds(l.target,l.body)),p&&this._app.current.updateSelected(p,c)});const r=e||{};this._app=Re.createRef(),this._emitter=new Ra,this._env=zR(),this._element=s.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),jR(r.locale,r.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Re.render(J0(ZO,{ref:this._app,viewer:s,wrapperEl:this._element,config:r,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(s){this._app.current.disableEditor=s}get disableSelect(){return this._app.current.disableSelect}set disableSelect(s){this._app.current.disableSelect=s}get formatters(){return this._app.current.formatters||[]}set formatters(s){if(s){const e=Array.isArray(s)?s:[s];this._app.current.formatters=e}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(s){this._app.current.readOnly=s}get widgets(){return this._app.current.widgets}set widgets(s){this._app.current.widgets=s}}var KO=(i,s)=>new YO(i,s);return KO})})(u_);const yF=Gw(u_.exports);class bF{static getAnnotoriousAnnoations(o){const n=[];for(let a=0;a<o.length;a++)if(o[a].type=="char"||o[a].type=="word"||o[a].type=="tray"||o[a].type=="mirrored"||o[a].type=="barcode"||o[a].type=="label"){let u=null;const h="box"in o[a];h&&(u=o[a].box.reduce((g,[v,_])=>`${g} ${v},${_}`,""));const f="polygon_list"in o[a];if(f&&(u=o[a].polygon_list[0].reduce((g,[v,_])=>`${g} ${v},${_}`,"")),!f&&!h)continue;const d=`<svg><polygon points="${u}" /></svg>`;n.push({id:"1",type:"Annotation",body:[{type:"TextualBody",purpose:"tagging",value:o[a].type},{type:"TextualBody",purpose:"commenting",value:o[a].type}],target:{selector:[{type:"SvgSelector",value:d}]}})}return n}}const wF={props:{img_url:{type:String,default:"../../src/assets/banana.jpg"},default:{type:String,default:"../../src/assets/banana.jpg"},menu_items:{type:Array},objects:{type:Object},annotations:{type:Object}},methods:{createVueComponent:function(t){var o=Vue.extend(t),n=new o;return n.$mount(),n},createEditor:function(){var t=this.createVueComponent(mF);return t.$el},createSelection:async function(t){this.addObjectToMenu(),this.openObjectsMenu(),t.body=[{type:"TextualBody",purpose:"tagging",value:"MyTag"}],await window.anno.updateSelected(t),window.anno.saveSelected()},openObjectsMenu:function(){for(let t=0;t<this.menu_items.length;t++)this.menu_items[t].active&&this.menu_items[t].name!=="objects"?this.menu_items[t].active="":this.menu_items[t].name==="objects"&&(this.menu_items[t].active=this.cl_menu_item_active)},addObjectToMenu:function(){this.objects.items.push({name:"Object "+String(this.objects.items.length+1),content:{title:"Object "+String(this.objects.items.length+1),items:[{name:"Class",content:"Please select the class"}]}})},selectAnnotation:function(){}},mounted:function(){this.createViewer(),this.createAnnotorious(),this.loadImage()},data(){return{cl_menu_item_active:"border-l-8 border_l_blue",viewer:null,anno:null}},methods:{createViewer(){this.viewer=vF({id:"annotorious_container",minZoomImageRatio:0,maxZoomPixelRatio:1/0,animationTime:.5,showFullPageControl:!1,fitHorizontally:!0,autoResize:!0,rotationIncrement:90,zoomInButton:"ann_nav_btn_zoom_in",zoomOutButton:"ann_nav_btn_zoom_out",homeButton:"ann_nav_btn_home",nextButton:"ann_nav_btn_next",previousButton:"ann_nav_btn_prev",rotateLeftButton:"ann_nav_btn_rotate_left",rotateRightButton:"ann_nav_btn_rotate_right",showRotationControl:!0,tileSources:{type:"image",url:this.img_url,ajaxWithCredentials:!1,fitBounds:!0}})},createAnnotorious(){var t={disableEditor:!0};this.anno=yF(this.viewer,t),this.anno.setDrawingTool("polygon"),this.anno.on("createSelection",this.createSelection),this.anno.on("selectAnnotation",this.selectAnnotation)},loadImage(){if(this.annotations){const t=bF.getAnnotoriousAnnoations(this.annotations);this.anno.setAnnotations(t)}window.viewer=this.viewer,window.anno=this.anno}},watch:{img_url:function(t,o){}}},_F={class:"flex-grow"},xF={class:"flex p-0.5 gap-x-1 justify-center"},EF={class:"bg-primary text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_home"},SF={class:"bg-primary text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_zoom_out"},TF={class:"bg-primary text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_zoom_in"},CF={class:"bg-primary text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_rotate_left"},PF={class:"bg-primary text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_rotate_right"},AF=te("div",{class:"w-full h-full",id:"annotorious_container"},null,-1),RF=te("div",null,"use shift+click to draw. Use shift+double click to end polygon.",-1);function OF(t,o,n,a,u,h){const f=Nt("font-awesome-icon");return Ue(),Ye("div",_F,[te("div",xF,[te("div",EF,[Je(f,{icon:"fa-home"}),sn(" zoom fit ")]),te("div",SF,[Je(f,{icon:"fa-minus-circle"}),sn(" zoom out ")]),te("div",TF,[Je(f,{icon:"fa-plus-circle"}),sn(" zoom in ")]),te("div",CF,[Je(f,{icon:"fa-chevron-circle-left"}),sn(" rotate left ")]),te("div",PF,[Je(f,{icon:"fa-chevron-circle-right"}),sn(" rotate right ")])]),AF,RF])}const kF=on(wF,[["render",OF]]);const DF={props:{dataset_description:null},data(){return{filter:"",gstore:Bn(),datasetstore:Dr()}},mounted(){this.datasetstore.reset(),this.datasetstore.low_resolution=!1,this.datasetstore.load(),jn(()=>this.gstore.selected_col,(t,o)=>{this.reset(!0),this.datasetstore.load()})},methods:{reset(t){this.datasetstore.low_resolution=!1,this.datasetstore.reset(),t&&(this.datasetstore.reset_dataset_description(),this.datasetstore.set_filter(""))},keyClick(t){alert(t)},resetFilter(){this.reset(!1),this.filter="",this.datasetstore.set_filter(""),this.datasetstore.get_data(!0)},find(){this.reset(!1),this.datasetstore.set_filter(this.filter),this.datasetstore.get_data(!0)}},components:{LoadingOverlay:jf,AnnotoriousImage:kF,VueJsonPretty:dF}},MF={class:"grid grid-cols-6 gap-2 grid-rows-auto border-2 shadow rounded p-2 mt-2"},BF={class:"col-span-2 mt-4"},IF={class:"font-bold tracking-tight text-4xl flex justify-center"},NF={class:"flex mt-1 p-0.5 gap-x-1 justify-center"},FF=["disabled"],LF=["disabled"],HF={class:"col-span-4 mt-4 border-2 shadow rounded p-1"},zF={class:"grid grid-cols-6 gap-0"},jF=te("div",{class:"col-span-6 flex mx-4 justify-left"},[te("p",{class:"text-3xl font-bold"},[te("small",null,"DATASET FILTER (MongoDB like)")])],-1),UF={class:"col-span-5 flex border-2 rounded mx-4 relative"},VF={class:"col-span-1 flex p-0.5 gap-x-1 justify-center"},WF={class:"col-span-2 flex flex-col h-full",style:{"min-height":"540px"}},GF={class:"flex-1 overflow-y-auto border-2 shadow rounded p-4"},qF={class:""},XF=te("p",{class:"text-3xl font-bold"},[te("small",null,"JSON")],-1),ZF={class:"col-span-4 border-2 shadow rounded p-4"},YF=te("p",{class:"text-3xl font-bold"},[te("small",null,"IMAGE")],-1),KF={class:"flex",style:{"min-height":"490px"}};function JF(t,o,n,a,u,h){const f=Nt("font-awesome-icon"),d=Nt("vue-json-pretty"),g=Nt("AnnotoriousImage");return Ue(),Ye("div",MF,[te("div",BF,[te("p",IF,[sn("Explorer\xA0"),te("small",null,"("+Dt(u.gstore.selected_db)+" / "+Dt(u.gstore.selected_col)+")",1)]),te("div",NF,[te("button",{onClick:o[0]||(o[0]=v=>u.datasetstore.data_prev()),disabled:!u.datasetstore.data_has_prev(),class:"w-32 bg-primary font-bold text-gray-300 rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},[Je(f,{icon:"fa-chevron-left"}),sn(" previous ")],8,FF),te("button",{onClick:o[1]||(o[1]=v=>u.datasetstore.data_next()),disabled:!u.datasetstore.data_has_next(),class:"w-32 bg-primary font-bold text-gray-300 rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_next"},[sn(" next "),Je(f,{icon:"fa-chevron-right"})],8,LF)])]),te("div",HF,[te("div",zF,[jF,te("div",UF,[hi(te("input",{type:"filter",name:"filter",id:"filter","onUpdate:modelValue":o[2]||(o[2]=v=>u.filter=v),class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Type a query: { field: 'value'}"},null,512),[[Jn,u.filter]])]),te("div",VF,[te("button",{onClick:o[3]||(o[3]=v=>h.resetFilter()),class:"w-32 bg-gray-300 font-bold text-gray-700 rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Reset"),te("button",{onClick:o[4]||(o[4]=v=>h.find()),class:"w-32 bg-green-900 font-bold text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Find")])])]),te("div",WF,[te("div",GF,[te("div",qF,[XF,Je(d,{data:u.datasetstore.data_get_current_documents(),expand:"true",deep:"3",virtual:"true",editable:"true",height:"540",showLength:"true",onOnKeyClick:h.keyClick},null,8,["data","onOnKeyClick"])])])]),te("div",ZF,[YF,te("div",KF,[u.datasetstore.data_has_data()?(Ue(),yi(g,{key:u.datasetstore.data_get_current_image(),img_url:u.datasetstore.data_get_current_image(),annotations:u.datasetstore.data_get_current_documents().annotations,class:""},null,8,["img_url","annotations"])):Qt("",!0)])])])}const QF=on(DF,[["render",JF]]);const $F={props:{dataset_description:null},data(){return{filter:"",selection:[],visible:!0,records_max:24,records_queried:0,gstore:Bn(),datasetstore:Dr(),isMenuVisible:!1,menuPosition:{top:0,left:0},menuItems:[{id:1,label:"Delete"},{id:2,label:"Move"},{id:3,label:"Download selected"},{id:4,label:"Download all"},{id:5,label:"Export selected"},{id:6,label:"Export all"},{id:7,label:"Exit"}]}},mounted(){this.visible=!0,this.reload(),jn(()=>this.gstore.selected_col,(t,o)=>{this.reload()})},unmounted(){this.visible=!1},methods:{showMenu(t){this.selection.length>0&&(this.isMenuVisible=!0,this.menuPosition={top:t.clientY,left:t.clientX},document.addEventListener("click",this.handleOutsideClick))},handleOutsideClick(t){this.$refs.menu.contains(t.target)||(this.isMenuVisible=!1,document.removeEventListener("click",this.handleOutsideClick))},handleMenuItemClick(t){this.isMenuVisible=!1,this.selection=[]},is_selected(t){return this.selection.includes(t)},click_select(t){if(this.is_selected(t)){const n=this.selection.indexOf(t);n>-1&&this.selection.splice(n,1)}else this.selection.push(t)},reload(){this.reset(),this.load()},reset(){this.records_queried=0,this.selection=[],this.datasetstore.reset(),this.datasetstore.load_dataset_description()},async load(){this.datasetstore.low_resolution=!0;let t=this.gstore.selected_col;for(;this.records_queried<this.records_max&&t==this.gstore.selected_col&&this.visible;)await this.datasetstore.get_data(!1),this.records_queried=this.records_queried+1;this.datasetstore.low_resolution=!1},resetFilter(){this.reset(),this.filter="",this.datasetstore.set_filter(""),this.load()},find(){this.reset(),this.datasetstore.set_filter(this.filter),this.load()}},components:{}},eL={class:"border-2 shadow rounded pb-2 px-2"},tL={class:"flex p-0.5 gap-x-1 justify-center pb-2"},nL={class:"grid grid-cols-11 gap-0"},iL=Xu('<div class="col-span-2"></div><div class="col-span-7 flex mx-1 justify-left"><p class="text-3xl font-bold"><small>DATASET FILTER (MongoDB like)</small></p></div><div class="col-span-2"></div><div class="col-span-2"></div>',4),rL={class:"col-span-5 flex border-2 rounded mx-1 relative"},oL={class:"col-span-2 flex p-0.5 gap-x-1 justify-center"},sL=te("div",{class:"col-span-2"},null,-1),aL={class:"grid grid-cols-6 gap-4"},lL=["src","onClick"],uL=["onClick"];function cL(t,o,n,a,u,h){return Nt("font-awesome-icon"),Ue(),Ye("div",eL,[te("div",tL,[Qt("",!0),te("div",nL,[iL,te("div",rL,[hi(te("input",{type:"filter",name:"filter",id:"filter","onUpdate:modelValue":o[1]||(o[1]=f=>u.filter=f),class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Type a query: { field: 'value'}"},null,512),[[Jn,u.filter]])]),te("div",oL,[te("button",{onClick:o[2]||(o[2]=f=>h.resetFilter()),class:"w-44 bg-gray-300 font-bold text-gray-700 rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Reset"),te("button",{onClick:o[3]||(o[3]=f=>h.find()),class:"w-44 bg-green-900 font-bold text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Find next")]),sL])]),te("div",aL,[(Ue(!0),Ye(Gt,null,ei(u.datasetstore.data_get_all_image(),(f,d)=>(Ue(),Ye("img",{onContextmenu:o[4]||(o[4]=Ku(g=>h.showMenu(g),["prevent"])),class:Dn(["h-44",h.is_selected(d)?"opacity-75 border-8 border-red-600":"opacity-100"]),src:f,onClick:g=>h.click_select(d)},null,42,lL))),256))]),hi(te("div",{ref:"menu",class:"absolute bg-primary border-2 p-1 border-black w-48",style:po({top:u.menuPosition.top+"px",left:u.menuPosition.left+"px"})},[te("ul",null,[(Ue(!0),Ye(Gt,null,ei(u.menuItems,(f,d)=>(Ue(),Ye("li",{key:f.id,onClick:g=>h.handleMenuItemClick(f),class:Dn(["p-1 text-gray-300 font-bold",d==u.menuItems.length-1||d==2||d==4?"border-t-2 border-black":""])},Dt(f.label),11,uL))),128))])],4),[[Ju,u.isMenuVisible]])])}const hL=on($F,[["render",cL]]);const dL={data(){return{activeTab:1,tabs:[{active:!0,title:"Explorer",id:1,comp:"DatasetExplorer"},{active:!1,title:"Details",id:2,comp:"DatasetDetails"},{active:!1,title:"Analytics",id:3,comp:"DatasetAnalytics"}],gstore:Bn(),datasetstore:Dr()}},mounted(){},computed:{},methods:{activate(t){this.activeTab=t;for(let o=0;o<this.tabs.length;o++)this.tabs[o].id==t?this.tabs[o].active=!0:this.tabs[o].active=!1}},components:{DatasetDescription:cF,DatasetDetails:QF,DatasetExplorer:hL,DatasetAnalytics:p6}},fL={class:"bg-white w-full h-full"},pL={class:"flex flex-col h-full"},gL={class:"bg-white py-2 px-2 h-full"},mL={class:"flex flex-wrap text-sm font-medium text-center text-gray-300 border-b border-gray-300"},vL={class:"mr-2"},yL=["onClick"],bL={class:"mt-2"},wL={key:0},_L={key:1},xL={key:2};function EL(t,o,n,a,u,h){const f=Nt("DatasetDescription"),d=Nt("DatasetExplorer"),g=Nt("DatasetDetails"),v=Nt("DatasetAnalytics");return Ue(),Ye("div",fL,[te("div",pL,[Je(f),te("div",gL,[te("ul",mL,[(Ue(!0),Ye(Gt,null,ei(u.tabs,_=>(Ue(),Ye("li",vL,[te("div",{onClick:x=>h.activate(_.id),class:Dn([_.active?" bg-gray-500 text-gray-900 border-primary border-b-2 font-bold":"text-gray-600 hover:text-gray-900","inline-block py-2 px-6 bg-gray-300 rounded-t-lg active cursor-pointer"])},Dt(_.title),11,yL)]))),256))]),te("div",bL,[u.activeTab===1?(Ue(),Ye("div",wL,[Je(d)])):Qt("",!0),u.activeTab===2?(Ue(),Ye("div",_L,[Je(g)])):Qt("",!0),u.activeTab===3?(Ue(),Ye("div",xL,[Je(v)])):Qt("",!0)])])])])}const SL=on(dL,[["render",EL]]),TL=Qu("comments",{state:()=>({comments:[{id:1,person:"...",text:"Post the first comment"}],gstore:Bn()}),actions:{load(t,o){var n=this,a=function(u){n.comments=u.data.comments};Yr.get_dataset_comments(a,t,o)},add_comment(t,o){const a={id:this.comments.length+1,person:t,text:o};this.comments.push(a)}}}),CL={data(){return{newComment:{person:"",text:""},showForm:!1,gstore:Bn(),commentsStore:TL()}},mounted(){this.commentsStore.load(this.gstore.selected_db,this.gstore.selected_col),jn(()=>this.gstore.selected_col,(t,o)=>{this.commentsStore.load(this.gstore.selected_db,this.gstore.selected_col)})},computed:{},methods:{addComment(){this.commentsStore.add_comment(this.newComment.person,this.newComment.text),this.newComment.person="",this.newComment.text="",this.showForm=!1}}},PL={class:"flex flex-col justify-center items-stretch"},AL=te("h2",{class:"text-lg font-semibold mb-4 mx-auto"},"Comments",-1),RL={class:"w-full"},OL={class:"text-gray-700 font-bold"},kL={class:"text-gray-600"},DL={key:0,class:"mt-4"},ML={class:"mb-4"},BL=te("label",{class:"block text-gray-700 font-bold mb-2",for:"person"}," Name ",-1),IL={class:"mb-4"},NL=te("label",{class:"block text-gray-700 font-bold mb-2",for:"text"}," Comment ",-1),FL=te("div",{class:"flex justify-end"},[te("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"submit"}," Submit ")],-1);function LL(t,o,n,a,u,h){return Ue(),Ye("div",PL,[AL,te("div",RL,[(Ue(!0),Ye(Gt,null,ei(u.commentsStore.comments,f=>(Ue(),Ye("div",{key:f.id,class:"border rounded-md p-4 mb-4 w-full"},[te("div",OL,Dt(f.person),1),te("div",kL,Dt(f.text),1)]))),128)),te("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:o[0]||(o[0]=f=>u.showForm=!u.showForm)}," Add Comment "),u.showForm?(Ue(),Ye("div",DL,[te("form",{onSubmit:o[3]||(o[3]=Ku((...f)=>h.addComment&&h.addComment(...f),["prevent"]))},[te("div",ML,[BL,hi(te("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"person",type:"text",placeholder:"Name","onUpdate:modelValue":o[1]||(o[1]=f=>u.newComment.person=f)},null,512),[[Jn,u.newComment.person]])]),te("div",IL,[NL,hi(te("textarea",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"text",placeholder:"Write your comment here",rows:"5","onUpdate:modelValue":o[2]||(o[2]=f=>u.newComment.text=f)},null,512),[[Jn,u.newComment.text]])]),FL],32)])):Qt("",!0)])])}const HL=on(CL,[["render",LL]]),zL={data(){return{projects:[{id:1,name:"Fruit Recognition V3",desc:"Fruit Recognition for CustomerX based in CityY Data",link:"https://www.google.de/"},{id:2,name:"DIY Hornbach",desc:"CustomerM Sanitary Article Detection",link:"https://www.google.de/"},{id:3,name:"DIY Hornbach - V2",desc:"CustomerM Sanitary Article Detection - new Model",link:"https://www.google.de/"}]}},mounted(){},computed:{},methods:{},watch:{}},jL={class:"flex flex-col justify-center items-stretch"},UL=te("h2",{class:"text-lg font-semibold mb-4 mx-auto"},"Projects of Dataset",-1),VL={class:"text-gray-700 font-bold"},WL={class:"text-gray-600"},GL={class:"text-gray-600"},qL=["href"];function XL(t,o,n,a,u,h){return Ue(),Ye("div",jL,[UL,(Ue(!0),Ye(Gt,null,ei(u.projects,f=>(Ue(),Ye("div",{key:f.id,class:"border rounded-md p-4 mb-4 w-full"},[te("div",VL,Dt(f.name),1),te("div",WL,Dt(f.desc),1),te("div",GL,[sn("Projekt reference: "),te("a",{href:f.link},"LINK",8,qL)])]))),128))])}const ZL=on(zL,[["render",XL]]),YL={name:"DatasetContainer",data(){return{gstore:Bn(),activeTab:1,tabs:[{icon:"fa-database",active:!0,title:"Datacard",id:1},{icon:"fa-bookmark",active:!1,title:"Projects",id:2},{icon:"fa-comments",active:!1,title:"Comments",id:3},{icon:"fa-code",active:!1,title:"Set-Me-Up",id:4}]}},mounted(){jn(()=>this.gstore.cmd,(t,o)=>{t=="comments"&&(this.gstore.cmd="",this.activate(3))})},methods:{activate(t){this.activeTab=t;for(let o=0;o<this.tabs.length;o++)this.tabs[o].id==t?this.tabs[o].active=!0:this.tabs[o].active=!1}},components:{DatasetMain:SL,DatasetComments:HL,DatasetProjects:ZL,SetMeUp:c6}},KL={class:"bg-white py-2 px-4 h-full"},JL={class:"flex flex-wrap text-sm font-medium text-center text-gray-300 border-b border-gray-300"},QL={class:"mr-2"},$L=["onClick"],eH={class:"mt-2"},tH={key:0},nH={key:1},iH={key:2},rH={key:3};function oH(t,o,n,a,u,h){const f=Nt("font-awesome-icon"),d=Nt("DatasetMain"),g=Nt("DatasetProjects"),v=Nt("DatasetComments"),_=Nt("SetMeUp");return Ue(),Ye("div",KL,[te("ul",JL,[(Ue(!0),Ye(Gt,null,ei(u.tabs,x=>(Ue(),Ye("li",QL,[te("div",{onClick:T=>h.activate(x.id),class:Dn([x.active?"bg-gray-500 text-gray-900 border-primary border-b-2 font-bold":"text-gray-600 hover:text-gray-900","inline-block p-4 bg-gray-300 rounded-t-lg active cursor-pointer"])},[x.id==4?(Ue(),yi(f,{key:0,icon:x.icon},null,8,["icon"])):Qt("",!0),sn(" "+Dt(x.title),1)],10,$L)]))),256))]),te("div",eH,[u.activeTab===1?(Ue(),Ye("div",tH,[Je(d)])):Qt("",!0),u.activeTab===2?(Ue(),Ye("div",nH,[Je(g)])):Qt("",!0),u.activeTab===3?(Ue(),Ye("div",iH,[Je(v)])):Qt("",!0),u.activeTab===4?(Ue(),Ye("div",rH,[Je(_)])):Qt("",!0)])])}const sH=on(YL,[["render",oH]]);const aH={props:{dataset:{type:Object,required:!0}},data(){return{showDescription:!1,gstore:Bn()}},computed:{fixed_titel(){return this.dataset.dataset_display_title.includes("<<Titel>>")?this.dataset.database:this.dataset.dataset_display_title}},methods:{selectDataset(t){this.gstore.selected_db=t.database,this.gstore.selected_col=t.collection}}},lH={key:0,class:"absolute inset-0 bg-black opacity-80 mx-2 mt-20 mb-2"},uH={class:"text-white text-xl font-bold m-2"},cH=["src"],hH={key:1,class:"absolute top-5 right-5 h-5 w-5 bg-green-500 rounded-full"},dH={key:2,class:"absolute top-5 right-5 h-5 w-5 bg-red-500 rounded-full"},fH={class:"bg-white p-4"},pH={class:"font-semibold text-lg"},gH={class:"text-gray-500"};function mH(t,o,n,a,u,h){return Ue(),Ye("div",{class:"relative",onMouseover:o[0]||(o[0]=f=>u.showDescription=!0),onMouseleave:o[1]||(o[1]=f=>u.showDescription=!1),onClick:o[2]||(o[2]=f=>h.selectDataset(n.dataset))},[u.showDescription?(Ue(),Ye("div",lH,[te("p",uH,Dt(n.dataset.dataset_description.slice(0,300)),1)])):Qt("",!0),te("img",{src:n.dataset.image,class:"h-64 object-cover m-2 rounded"},null,8,cH),n.dataset.generated==!1?(Ue(),Ye("span",hH)):(Ue(),Ye("span",dH)),te("div",fH,[te("h3",pH,Dt(h.fixed_titel),1),te("p",gH,Dt(n.dataset.collection),1)])],32)}const vH=on(aH,[["render",mH]]),yH={data(){return{headline:"",datasets_complete:[],datasets_queried:0,query_id:0,showDescription:!1,gstore:Bn(),datasetstore:Dr(),databasestore:Ww()}},mounted(){this.databasestore.load(),this.loadDatasets(""),jn(()=>this.gstore.filter,(t,o)=>{this.loadDatasets(t)})},computed:{},methods:{async loadDatasets(t){t==""?this.headline="Latest changed datasets:":this.headline="Filtered datasets for: "+t,this.query_id=this.query_id+1;let o=this.query_id;this.datasets_complete={},this.datasets_queried=0;let n=await this.datasetstore.filter_datasets(t);if(o==this.query_id)for(let a=0;a<n.length;a++){let u=n[a].database,h=n[a].collection;this.dataset_description(u,h,this.query_id)}return this.datasets_complete},async dataset_description(t,o,n){if(this.datasets_queried>=200)return;this.datasets_queried=this.datasets_queried+1;let a=await this.datasetstore.read_dataset_description(t,o);n==this.query_id&&(this.datasets_complete[t]||(this.datasets_complete[t]=[]),this.datasets_complete[t].push(a))}},components:{DatasetOverviewCard:vH}},bH={class:""},wH={class:"grid grid-cols-1 gap-2"},_H={key:0,class:"font-semibold mx-2 text-3xl underline mt-4"},xH={class:"grid grid-cols-6 gap-2"};function EH(t,o,n,a,u,h){const f=Nt("DatasetOverviewCard");return Ue(),Ye("div",bH,[te("div",wH,[(Ue(!0),Ye(Gt,null,ei(u.databasestore.get_databases(),d=>(Ue(),Ye("div",null,[u.datasets_complete[d.database_name]?(Ue(),Ye("div",_H,Dt(d.database_name),1)):Qt("",!0),te("div",xH,[(Ue(!0),Ye(Gt,null,ei(u.datasets_complete[d.database_name],g=>(Ue(),yi(f,{key:g.collection,dataset:g,class:"flex flex-col m-2 border-2 shadow rounded"},null,8,["dataset"]))),128))])]))),256))])])}const SH=on(yH,[["render",EH]]);const TH={name:"App",setup(){},data(){return{gstore:Bn()}},mounted(){},components:{Header:CM,Footer:DM,VSCodeMenu:Z5,DatasetContainer:sH,DatasetsSummary:SH},methods:{is_db_col_selected(){let t=this.gstore.selected_db,o=this.gstore.selected_col;return t!=""&&o!=""}}},CH={class:"flex flex-col h-screen"},PH={class:"h-22"},AH={class:"flex-1 overflow-auto"},RH={class:"flex flex-row h-full"},OH={class:"w-1/6"},kH={class:"overflow-auto w-5/6"},DH={class:"h-5 fixed bottom-0 w-full"};function MH(t,o,n,a,u,h){const f=Nt("Header"),d=Nt("VSCodeMenu"),g=Nt("DatasetContainer"),v=Nt("DatasetsSummary"),_=Nt("Footer");return Ue(),Ye("div",CH,[te("div",PH,[Je(f)]),te("div",AH,[te("div",RH,[te("div",OH,[Je(d,{class:"w-full h-full"})]),te("div",kH,[h.is_db_col_selected()==!0?(Ue(),yi(g,{key:0,class:"w-full"})):Qt("",!0),h.is_db_col_selected()==!1?(Ue(),yi(v,{key:1,class:"w-full"})):Qt("",!0)])])]),te("div",DH,[Je(_)])])}const BH=on(TH,[["render",MH]]);function a1(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,a)}return n}function st(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?a1(Object(n),!0).forEach(function(a){Sn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Su(t){return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Su(t)}function IH(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function l1(t,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function NH(t,o,n){return o&&l1(t.prototype,o),n&&l1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sn(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}function Uf(t,o){return LH(t)||zH(t,o)||c_(t,o)||UH()}function Ta(t){return FH(t)||HH(t)||c_(t)||jH()}function FH(t){if(Array.isArray(t))return jd(t)}function LH(t){if(Array.isArray(t))return t}function HH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zH(t,o){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a=[],u=!0,h=!1,f,d;try{for(n=n.call(t);!(u=(f=n.next()).done)&&(a.push(f.value),!(o&&a.length===o));u=!0);}catch(g){h=!0,d=g}finally{try{!u&&n.return!=null&&n.return()}finally{if(h)throw d}}return a}}function c_(t,o){if(!!t){if(typeof t=="string")return jd(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jd(t,o)}}function jd(t,o){(o==null||o>t.length)&&(o=t.length);for(var n=0,a=new Array(o);n<o;n++)a[n]=t[n];return a}function jH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u1=function(){},Vf={},h_={},d_=null,f_={mark:u1,measure:u1};try{typeof window<"u"&&(Vf=window),typeof document<"u"&&(h_=document),typeof MutationObserver<"u"&&(d_=MutationObserver),typeof performance<"u"&&(f_=performance)}catch{}var VH=Vf.navigator||{},c1=VH.userAgent,h1=c1===void 0?"":c1,Rr=Vf,ln=h_,d1=d_,Jl=f_;Rr.document;var tr=!!ln.documentElement&&!!ln.head&&typeof ln.addEventListener=="function"&&typeof ln.createElement=="function",p_=~h1.indexOf("MSIE")||~h1.indexOf("Trident/"),Ql,$l,eu,tu,nu,Yi="___FONT_AWESOME___",Ud=16,g_="fa",m_="svg-inline--fa",ho="data-fa-i2svg",Vd="data-fa-pseudo-element",WH="data-fa-pseudo-element-pending",Wf="data-prefix",Gf="data-icon",f1="fontawesome-i2svg",GH="async",qH=["HTML","HEAD","STYLE","SCRIPT"],v_=function(){try{return!0}catch{return!1}}(),an="classic",mn="sharp",qf=[an,mn];function Ca(t){return new Proxy(t,{get:function(n,a){return a in n?n[a]:n[an]}})}var ca=Ca((Ql={},Sn(Ql,an,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Sn(Ql,mn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),Ql)),ha=Ca(($l={},Sn($l,an,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Sn($l,mn,{solid:"fass",regular:"fasr"}),$l)),da=Ca((eu={},Sn(eu,an,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Sn(eu,mn,{fass:"fa-solid",fasr:"fa-regular"}),eu)),XH=Ca((tu={},Sn(tu,an,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Sn(tu,mn,{"fa-solid":"fass","fa-regular":"fasr"}),tu)),ZH=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,y_="fa-layers-text",YH=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,KH=Ca((nu={},Sn(nu,an,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Sn(nu,mn,{900:"fass",400:"fasr"}),nu)),b_=[1,2,3,4,5,6,7,8,9,10],JH=b_.concat([11,12,13,14,15,16,17,18,19,20]),QH=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Jr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fa=new Set;Object.keys(ha[an]).map(fa.add.bind(fa));Object.keys(ha[mn]).map(fa.add.bind(fa));var $H=[].concat(qf,Ta(fa),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Jr.GROUP,Jr.SWAP_OPACITY,Jr.PRIMARY,Jr.SECONDARY]).concat(b_.map(function(t){return"".concat(t,"x")})).concat(JH.map(function(t){return"w-".concat(t)})),Ks=Rr.FontAwesomeConfig||{};function e8(t){var o=ln.querySelector("script["+t+"]");if(o)return o.getAttribute(t)}function t8(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ln&&typeof ln.querySelector=="function"){var n8=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];n8.forEach(function(t){var o=Uf(t,2),n=o[0],a=o[1],u=t8(e8(n));u!=null&&(Ks[a]=u)})}var w_={styleDefault:"solid",familyDefault:"classic",cssPrefix:g_,replacementClass:m_,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ks.familyPrefix&&(Ks.cssPrefix=Ks.familyPrefix);var as=st(st({},w_),Ks);as.autoReplaceSvg||(as.observeMutations=!1);var ct={};Object.keys(w_).forEach(function(t){Object.defineProperty(ct,t,{enumerable:!0,set:function(n){as[t]=n,Js.forEach(function(a){return a(ct)})},get:function(){return as[t]}})});Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(o){as.cssPrefix=o,Js.forEach(function(n){return n(ct)})},get:function(){return as.cssPrefix}});Rr.FontAwesomeConfig=ct;var Js=[];function i8(t){return Js.push(t),function(){Js.splice(Js.indexOf(t),1)}}var mr=Ud,Ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function r8(t){if(!(!t||!tr)){var o=ln.createElement("style");o.setAttribute("type","text/css"),o.innerHTML=t;for(var n=ln.head.childNodes,a=null,u=n.length-1;u>-1;u--){var h=n[u],f=(h.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(a=h)}return ln.head.insertBefore(o,a),t}}var o8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pa(){for(var t=12,o="";t-- >0;)o+=o8[Math.random()*62|0];return o}function ds(t){for(var o=[],n=(t||[]).length>>>0;n--;)o[n]=t[n];return o}function Xf(t){return t.classList?ds(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(o){return o})}function __(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s8(t){return Object.keys(t||{}).reduce(function(o,n){return o+"".concat(n,'="').concat(__(t[n]),'" ')},"").trim()}function rc(t){return Object.keys(t||{}).reduce(function(o,n){return o+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Zf(t){return t.size!==Ni.size||t.x!==Ni.x||t.y!==Ni.y||t.rotate!==Ni.rotate||t.flipX||t.flipY}function a8(t){var o=t.transform,n=t.containerWidth,a=t.iconWidth,u={transform:"translate(".concat(n/2," 256)")},h="translate(".concat(o.x*32,", ").concat(o.y*32,") "),f="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),d="rotate(".concat(o.rotate," 0 0)"),g={transform:"".concat(h," ").concat(f," ").concat(d)},v={transform:"translate(".concat(a/2*-1," -256)")};return{outer:u,inner:g,path:v}}function l8(t){var o=t.transform,n=t.width,a=n===void 0?Ud:n,u=t.height,h=u===void 0?Ud:u,f=t.startCentered,d=f===void 0?!1:f,g="";return d&&p_?g+="translate(".concat(o.x/mr-a/2,"em, ").concat(o.y/mr-h/2,"em) "):d?g+="translate(calc(-50% + ".concat(o.x/mr,"em), calc(-50% + ").concat(o.y/mr,"em)) "):g+="translate(".concat(o.x/mr,"em, ").concat(o.y/mr,"em) "),g+="scale(".concat(o.size/mr*(o.flipX?-1:1),", ").concat(o.size/mr*(o.flipY?-1:1),") "),g+="rotate(".concat(o.rotate,"deg) "),g}var u8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function x_(){var t=g_,o=m_,n=ct.cssPrefix,a=ct.replacementClass,u=u8;if(n!==t||a!==o){var h=new RegExp("\\.".concat(t,"\\-"),"g"),f=new RegExp("\\--".concat(t,"\\-"),"g"),d=new RegExp("\\.".concat(o),"g");u=u.replace(h,".".concat(n,"-")).replace(f,"--".concat(n,"-")).replace(d,".".concat(a))}return u}var p1=!1;function fd(){ct.autoAddCss&&!p1&&(r8(x_()),p1=!0)}var c8={mixout:function(){return{dom:{css:x_,insertCss:fd}}},hooks:function(){return{beforeDOMElementCreation:function(){fd()},beforeI2svg:function(){fd()}}}},Ki=Rr||{};Ki[Yi]||(Ki[Yi]={});Ki[Yi].styles||(Ki[Yi].styles={});Ki[Yi].hooks||(Ki[Yi].hooks={});Ki[Yi].shims||(Ki[Yi].shims=[]);var Ei=Ki[Yi],E_=[],h8=function t(){ln.removeEventListener("DOMContentLoaded",t),Tu=1,E_.map(function(o){return o()})},Tu=!1;tr&&(Tu=(ln.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ln.readyState),Tu||ln.addEventListener("DOMContentLoaded",h8));function d8(t){!tr||(Tu?setTimeout(t,0):E_.push(t))}function Pa(t){var o=t.tag,n=t.attributes,a=n===void 0?{}:n,u=t.children,h=u===void 0?[]:u;return typeof t=="string"?__(t):"<".concat(o," ").concat(s8(a),">").concat(h.map(Pa).join(""),"</").concat(o,">")}function g1(t,o,n){if(t&&t[o]&&t[o][n])return{prefix:o,iconName:n,icon:t[o][n]}}var f8=function(o,n){return function(a,u,h,f){return o.call(n,a,u,h,f)}},pd=function(o,n,a,u){var h=Object.keys(o),f=h.length,d=u!==void 0?f8(n,u):n,g,v,_;for(a===void 0?(g=1,_=o[h[0]]):(g=0,_=a);g<f;g++)v=h[g],_=d(_,o[v],v,o);return _};function p8(t){for(var o=[],n=0,a=t.length;n<a;){var u=t.charCodeAt(n++);if(u>=55296&&u<=56319&&n<a){var h=t.charCodeAt(n++);(h&64512)==56320?o.push(((u&1023)<<10)+(h&1023)+65536):(o.push(u),n--)}else o.push(u)}return o}function Wd(t){var o=p8(t);return o.length===1?o[0].toString(16):null}function g8(t,o){var n=t.length,a=t.charCodeAt(o),u;return a>=55296&&a<=56319&&n>o+1&&(u=t.charCodeAt(o+1),u>=56320&&u<=57343)?(a-55296)*1024+u-56320+65536:a}function m1(t){return Object.keys(t).reduce(function(o,n){var a=t[n],u=!!a.icon;return u?o[a.iconName]=a.icon:o[n]=a,o},{})}function Gd(t,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.skipHooks,u=a===void 0?!1:a,h=m1(o);typeof Ei.hooks.addPack=="function"&&!u?Ei.hooks.addPack(t,m1(o)):Ei.styles[t]=st(st({},Ei.styles[t]||{}),h),t==="fas"&&Gd("fa",o)}var iu,ru,ou,Go=Ei.styles,m8=Ei.shims,v8=(iu={},Sn(iu,an,Object.values(da[an])),Sn(iu,mn,Object.values(da[mn])),iu),Yf=null,S_={},T_={},C_={},P_={},A_={},y8=(ru={},Sn(ru,an,Object.keys(ca[an])),Sn(ru,mn,Object.keys(ca[mn])),ru);function b8(t){return~$H.indexOf(t)}function w8(t,o){var n=o.split("-"),a=n[0],u=n.slice(1).join("-");return a===t&&u!==""&&!b8(u)?u:null}var R_=function(){var o=function(h){return pd(Go,function(f,d,g){return f[g]=pd(d,h,{}),f},{})};S_=o(function(u,h,f){if(h[3]&&(u[h[3]]=f),h[2]){var d=h[2].filter(function(g){return typeof g=="number"});d.forEach(function(g){u[g.toString(16)]=f})}return u}),T_=o(function(u,h,f){if(u[f]=f,h[2]){var d=h[2].filter(function(g){return typeof g=="string"});d.forEach(function(g){u[g]=f})}return u}),A_=o(function(u,h,f){var d=h[2];return u[f]=f,d.forEach(function(g){u[g]=f}),u});var n="far"in Go||ct.autoFetchSvg,a=pd(m8,function(u,h){var f=h[0],d=h[1],g=h[2];return d==="far"&&!n&&(d="fas"),typeof f=="string"&&(u.names[f]={prefix:d,iconName:g}),typeof f=="number"&&(u.unicodes[f.toString(16)]={prefix:d,iconName:g}),u},{names:{},unicodes:{}});C_=a.names,P_=a.unicodes,Yf=oc(ct.styleDefault,{family:ct.familyDefault})};i8(function(t){Yf=oc(t.styleDefault,{family:ct.familyDefault})});R_();function Kf(t,o){return(S_[t]||{})[o]}function _8(t,o){return(T_[t]||{})[o]}function Qr(t,o){return(A_[t]||{})[o]}function O_(t){return C_[t]||{prefix:null,iconName:null}}function x8(t){var o=P_[t],n=Kf("fas",t);return o||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Or(){return Yf}var Jf=function(){return{prefix:null,iconName:null,rest:[]}};function oc(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.family,a=n===void 0?an:n,u=ca[a][t],h=ha[a][t]||ha[a][u],f=t in Ei.styles?t:null;return h||f||null}var v1=(ou={},Sn(ou,an,Object.keys(da[an])),Sn(ou,mn,Object.keys(da[mn])),ou);function sc(t){var o,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.skipLookups,u=a===void 0?!1:a,h=(o={},Sn(o,an,"".concat(ct.cssPrefix,"-").concat(an)),Sn(o,mn,"".concat(ct.cssPrefix,"-").concat(mn)),o),f=null,d=an;(t.includes(h[an])||t.some(function(v){return v1[an].includes(v)}))&&(d=an),(t.includes(h[mn])||t.some(function(v){return v1[mn].includes(v)}))&&(d=mn);var g=t.reduce(function(v,_){var x=w8(ct.cssPrefix,_);if(Go[_]?(_=v8[d].includes(_)?XH[d][_]:_,f=_,v.prefix=_):y8[d].indexOf(_)>-1?(f=_,v.prefix=oc(_,{family:d})):x?v.iconName=x:_!==ct.replacementClass&&_!==h[an]&&_!==h[mn]&&v.rest.push(_),!u&&v.prefix&&v.iconName){var T=f==="fa"?O_(v.iconName):{},B=Qr(v.prefix,v.iconName);T.prefix&&(f=null),v.iconName=T.iconName||B||v.iconName,v.prefix=T.prefix||v.prefix,v.prefix==="far"&&!Go.far&&Go.fas&&!ct.autoFetchSvg&&(v.prefix="fas")}return v},Jf());return(t.includes("fa-brands")||t.includes("fab"))&&(g.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(g.prefix="fad"),!g.prefix&&d===mn&&(Go.fass||ct.autoFetchSvg)&&(g.prefix="fass",g.iconName=Qr(g.prefix,g.iconName)||g.iconName),(g.prefix==="fa"||f==="fa")&&(g.prefix=Or()||"fas"),g}var E8=function(){function t(){IH(this,t),this.definitions={}}return NH(t,[{key:"add",value:function(){for(var n=this,a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];var f=u.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(d){n.definitions[d]=st(st({},n.definitions[d]||{}),f[d]),Gd(d,f[d]);var g=da[an][d];g&&Gd(g,f[d]),R_()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,a){var u=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(u).map(function(h){var f=u[h],d=f.prefix,g=f.iconName,v=f.icon,_=v[2];n[d]||(n[d]={}),_.length>0&&_.forEach(function(x){typeof x=="string"&&(n[d][x]=v)}),n[d][g]=v}),n}}]),t}(),y1=[],qo={},$o={},S8=Object.keys($o);function T8(t,o){var n=o.mixoutsTo;return y1=t,qo={},Object.keys($o).forEach(function(a){S8.indexOf(a)===-1&&delete $o[a]}),y1.forEach(function(a){var u=a.mixout?a.mixout():{};if(Object.keys(u).forEach(function(f){typeof u[f]=="function"&&(n[f]=u[f]),Su(u[f])==="object"&&Object.keys(u[f]).forEach(function(d){n[f]||(n[f]={}),n[f][d]=u[f][d]})}),a.hooks){var h=a.hooks();Object.keys(h).forEach(function(f){qo[f]||(qo[f]=[]),qo[f].push(h[f])})}a.provides&&a.provides($o)}),n}function qd(t,o){for(var n=arguments.length,a=new Array(n>2?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];var h=qo[t]||[];return h.forEach(function(f){o=f.apply(null,[o].concat(a))}),o}function fo(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var u=qo[t]||[];u.forEach(function(h){h.apply(null,n)})}function Ji(){var t=arguments[0],o=Array.prototype.slice.call(arguments,1);return $o[t]?$o[t].apply(null,o):void 0}function Xd(t){t.prefix==="fa"&&(t.prefix="fas");var o=t.iconName,n=t.prefix||Or();if(!!o)return o=Qr(n,o)||o,g1(k_.definitions,n,o)||g1(Ei.styles,n,o)}var k_=new E8,C8=function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,fo("noAuto")},P8={i2svg:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return tr?(fo("beforeI2svg",o),Ji("pseudoElements2svg",o),Ji("i2svg",o)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.autoReplaceSvgRoot;ct.autoReplaceSvg===!1&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,d8(function(){R8({autoReplaceSvgRoot:n}),fo("watch",o)})}},A8={icon:function(o){if(o===null)return null;if(Su(o)==="object"&&o.prefix&&o.iconName)return{prefix:o.prefix,iconName:Qr(o.prefix,o.iconName)||o.iconName};if(Array.isArray(o)&&o.length===2){var n=o[1].indexOf("fa-")===0?o[1].slice(3):o[1],a=oc(o[0]);return{prefix:a,iconName:Qr(a,n)||n}}if(typeof o=="string"&&(o.indexOf("".concat(ct.cssPrefix,"-"))>-1||o.match(ZH))){var u=sc(o.split(" "),{skipLookups:!0});return{prefix:u.prefix||Or(),iconName:Qr(u.prefix,u.iconName)||u.iconName}}if(typeof o=="string"){var h=Or();return{prefix:h,iconName:Qr(h,o)||o}}}},fi={noAuto:C8,config:ct,dom:P8,parse:A8,library:k_,findIconDefinition:Xd,toHtml:Pa},R8=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.autoReplaceSvgRoot,a=n===void 0?ln:n;(Object.keys(Ei.styles).length>0||ct.autoFetchSvg)&&tr&&ct.autoReplaceSvg&&fi.dom.i2svg({node:a})};function ac(t,o){return Object.defineProperty(t,"abstract",{get:o}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(a){return Pa(a)})}}),Object.defineProperty(t,"node",{get:function(){if(!!tr){var a=ln.createElement("div");return a.innerHTML=t.html,a.children}}}),t}function O8(t){var o=t.children,n=t.main,a=t.mask,u=t.attributes,h=t.styles,f=t.transform;if(Zf(f)&&n.found&&!a.found){var d=n.width,g=n.height,v={x:d/g/2,y:.5};u.style=rc(st(st({},h),{},{"transform-origin":"".concat(v.x+f.x/16,"em ").concat(v.y+f.y/16,"em")}))}return[{tag:"svg",attributes:u,children:o}]}function k8(t){var o=t.prefix,n=t.iconName,a=t.children,u=t.attributes,h=t.symbol,f=h===!0?"".concat(o,"-").concat(ct.cssPrefix,"-").concat(n):h;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:st(st({},u),{},{id:f}),children:a}]}]}function Qf(t){var o=t.icons,n=o.main,a=o.mask,u=t.prefix,h=t.iconName,f=t.transform,d=t.symbol,g=t.title,v=t.maskId,_=t.titleId,x=t.extra,T=t.watchable,B=T===void 0?!1:T,M=a.found?a:n,j=M.width,V=M.height,F=u==="fak",L=[ct.replacementClass,h?"".concat(ct.cssPrefix,"-").concat(h):""].filter(function(_e){return x.classes.indexOf(_e)===-1}).filter(function(_e){return _e!==""||!!_e}).concat(x.classes).join(" "),Y={children:[],attributes:st(st({},x.attributes),{},{"data-prefix":u,"data-icon":h,class:L,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(V)})},ce=F&&!~x.classes.indexOf("fa-fw")?{width:"".concat(j/V*16*.0625,"em")}:{};B&&(Y.attributes[ho]=""),g&&(Y.children.push({tag:"title",attributes:{id:Y.attributes["aria-labelledby"]||"title-".concat(_||pa())},children:[g]}),delete Y.attributes.title);var pe=st(st({},Y),{},{prefix:u,iconName:h,main:n,mask:a,maskId:v,transform:f,symbol:d,styles:st(st({},ce),x.styles)}),me=a.found&&n.found?Ji("generateAbstractMask",pe)||{children:[],attributes:{}}:Ji("generateAbstractIcon",pe)||{children:[],attributes:{}},ve=me.children,le=me.attributes;return pe.children=ve,pe.attributes=le,d?k8(pe):O8(pe)}function b1(t){var o=t.content,n=t.width,a=t.height,u=t.transform,h=t.title,f=t.extra,d=t.watchable,g=d===void 0?!1:d,v=st(st(st({},f.attributes),h?{title:h}:{}),{},{class:f.classes.join(" ")});g&&(v[ho]="");var _=st({},f.styles);Zf(u)&&(_.transform=l8({transform:u,startCentered:!0,width:n,height:a}),_["-webkit-transform"]=_.transform);var x=rc(_);x.length>0&&(v.style=x);var T=[];return T.push({tag:"span",attributes:v,children:[o]}),h&&T.push({tag:"span",attributes:{class:"sr-only"},children:[h]}),T}function D8(t){var o=t.content,n=t.title,a=t.extra,u=st(st(st({},a.attributes),n?{title:n}:{}),{},{class:a.classes.join(" ")}),h=rc(a.styles);h.length>0&&(u.style=h);var f=[];return f.push({tag:"span",attributes:u,children:[o]}),n&&f.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),f}var gd=Ei.styles;function Zd(t){var o=t[0],n=t[1],a=t.slice(4),u=Uf(a,1),h=u[0],f=null;return Array.isArray(h)?f={tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Jr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Jr.SECONDARY),fill:"currentColor",d:h[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Jr.PRIMARY),fill:"currentColor",d:h[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:h}},{found:!0,width:o,height:n,icon:f}}var M8={found:!1,width:512,height:512};function B8(t,o){!v_&&!ct.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(o,'" is missing.'))}function Yd(t,o){var n=o;return o==="fa"&&ct.styleDefault!==null&&(o=Or()),new Promise(function(a,u){if(Ji("missingIconAbstract"),n==="fa"){var h=O_(t)||{};t=h.iconName||t,o=h.prefix||o}if(t&&o&&gd[o]&&gd[o][t]){var f=gd[o][t];return a(Zd(f))}B8(t,o),a(st(st({},M8),{},{icon:ct.showMissingIcons&&t?Ji("missingIconAbstract")||{}:{}}))})}var w1=function(){},Kd=ct.measurePerformance&&Jl&&Jl.mark&&Jl.measure?Jl:{mark:w1,measure:w1},js='FA "6.3.0"',I8=function(o){return Kd.mark("".concat(js," ").concat(o," begins")),function(){return D_(o)}},D_=function(o){Kd.mark("".concat(js," ").concat(o," ends")),Kd.measure("".concat(js," ").concat(o),"".concat(js," ").concat(o," begins"),"".concat(js," ").concat(o," ends"))},$f={begin:I8,end:D_},du=function(){};function _1(t){var o=t.getAttribute?t.getAttribute(ho):null;return typeof o=="string"}function N8(t){var o=t.getAttribute?t.getAttribute(Wf):null,n=t.getAttribute?t.getAttribute(Gf):null;return o&&n}function F8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ct.replacementClass)}function L8(){if(ct.autoReplaceSvg===!0)return fu.replace;var t=fu[ct.autoReplaceSvg];return t||fu.replace}function H8(t){return ln.createElementNS("http://www.w3.org/2000/svg",t)}function z8(t){return ln.createElement(t)}function M_(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.ceFn,a=n===void 0?t.tag==="svg"?H8:z8:n;if(typeof t=="string")return ln.createTextNode(t);var u=a(t.tag);Object.keys(t.attributes||[]).forEach(function(f){u.setAttribute(f,t.attributes[f])});var h=t.children||[];return h.forEach(function(f){u.appendChild(M_(f,{ceFn:a}))}),u}function j8(t){var o=" ".concat(t.outerHTML," ");return o="".concat(o,"Font Awesome fontawesome.com "),o}var fu={replace:function(o){var n=o[0];if(n.parentNode)if(o[1].forEach(function(u){n.parentNode.insertBefore(M_(u),n)}),n.getAttribute(ho)===null&&ct.keepOriginalSource){var a=ln.createComment(j8(n));n.parentNode.replaceChild(a,n)}else n.remove()},nest:function(o){var n=o[0],a=o[1];if(~Xf(n).indexOf(ct.replacementClass))return fu.replace(o);var u=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var h=a[0].attributes.class.split(" ").reduce(function(d,g){return g===ct.replacementClass||g.match(u)?d.toSvg.push(g):d.toNode.push(g),d},{toNode:[],toSvg:[]});a[0].attributes.class=h.toSvg.join(" "),h.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",h.toNode.join(" "))}var f=a.map(function(d){return Pa(d)}).join(`
`);n.setAttribute(ho,""),n.innerHTML=f}};function x1(t){t()}function B_(t,o){var n=typeof o=="function"?o:du;if(t.length===0)n();else{var a=x1;ct.mutateApproach===GH&&(a=Rr.requestAnimationFrame||x1),a(function(){var u=L8(),h=$f.begin("mutate");t.map(u),h(),n()})}}var ep=!1;function I_(){ep=!0}function Jd(){ep=!1}var Cu=null;function E1(t){if(!!d1&&!!ct.observeMutations){var o=t.treeCallback,n=o===void 0?du:o,a=t.nodeCallback,u=a===void 0?du:a,h=t.pseudoElementsCallback,f=h===void 0?du:h,d=t.observeMutationsRoot,g=d===void 0?ln:d;Cu=new d1(function(v){if(!ep){var _=Or();ds(v).forEach(function(x){if(x.type==="childList"&&x.addedNodes.length>0&&!_1(x.addedNodes[0])&&(ct.searchPseudoElements&&f(x.target),n(x.target)),x.type==="attributes"&&x.target.parentNode&&ct.searchPseudoElements&&f(x.target.parentNode),x.type==="attributes"&&_1(x.target)&&~QH.indexOf(x.attributeName))if(x.attributeName==="class"&&N8(x.target)){var T=sc(Xf(x.target)),B=T.prefix,M=T.iconName;x.target.setAttribute(Wf,B||_),M&&x.target.setAttribute(Gf,M)}else F8(x.target)&&u(x.target)})}}),tr&&Cu.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function U8(){!Cu||Cu.disconnect()}function V8(t){var o=t.getAttribute("style"),n=[];return o&&(n=o.split(";").reduce(function(a,u){var h=u.split(":"),f=h[0],d=h.slice(1);return f&&d.length>0&&(a[f]=d.join(":").trim()),a},{})),n}function W8(t){var o=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),a=t.innerText!==void 0?t.innerText.trim():"",u=sc(Xf(t));return u.prefix||(u.prefix=Or()),o&&n&&(u.prefix=o,u.iconName=n),u.iconName&&u.prefix||(u.prefix&&a.length>0&&(u.iconName=_8(u.prefix,t.innerText)||Kf(u.prefix,Wd(t.innerText))),!u.iconName&&ct.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(u.iconName=t.firstChild.data)),u}function G8(t){var o=ds(t.attributes).reduce(function(u,h){return u.name!=="class"&&u.name!=="style"&&(u[h.name]=h.value),u},{}),n=t.getAttribute("title"),a=t.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?o["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(a||pa()):(o["aria-hidden"]="true",o.focusable="false")),o}function q8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function S1(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=W8(t),a=n.iconName,u=n.prefix,h=n.rest,f=G8(t),d=qd("parseNodeAttributes",{},t),g=o.styleParser?V8(t):[];return st({iconName:a,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:u,transform:Ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:h,styles:g,attributes:f}},d)}var X8=Ei.styles;function N_(t){var o=ct.autoReplaceSvg==="nest"?S1(t,{styleParser:!1}):S1(t);return~o.extra.classes.indexOf(y_)?Ji("generateLayersText",t,o):Ji("generateSvgReplacementMutation",t,o)}var kr=new Set;qf.map(function(t){kr.add("fa-".concat(t))});Object.keys(ca[an]).map(kr.add.bind(kr));Object.keys(ca[mn]).map(kr.add.bind(kr));kr=Ta(kr);function T1(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!tr)return Promise.resolve();var n=ln.documentElement.classList,a=function(x){return n.add("".concat(f1,"-").concat(x))},u=function(x){return n.remove("".concat(f1,"-").concat(x))},h=ct.autoFetchSvg?kr:qf.map(function(_){return"fa-".concat(_)}).concat(Object.keys(X8));h.includes("fa")||h.push("fa");var f=[".".concat(y_,":not([").concat(ho,"])")].concat(h.map(function(_){return".".concat(_,":not([").concat(ho,"])")})).join(", ");if(f.length===0)return Promise.resolve();var d=[];try{d=ds(t.querySelectorAll(f))}catch{}if(d.length>0)a("pending"),u("complete");else return Promise.resolve();var g=$f.begin("onTree"),v=d.reduce(function(_,x){try{var T=N_(x);T&&_.push(T)}catch(B){v_||B.name==="MissingIcon"&&console.error(B)}return _},[]);return new Promise(function(_,x){Promise.all(v).then(function(T){B_(T,function(){a("active"),a("complete"),u("pending"),typeof o=="function"&&o(),g(),_()})}).catch(function(T){g(),x(T)})})}function Z8(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;N_(t).then(function(n){n&&B_([n],o)})}function Y8(t){return function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(o||{}).icon?o:Xd(o||{}),u=n.mask;return u&&(u=(u||{}).icon?u:Xd(u||{})),t(a,st(st({},n),{},{mask:u}))}}var K8=function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.transform,u=a===void 0?Ni:a,h=n.symbol,f=h===void 0?!1:h,d=n.mask,g=d===void 0?null:d,v=n.maskId,_=v===void 0?null:v,x=n.title,T=x===void 0?null:x,B=n.titleId,M=B===void 0?null:B,j=n.classes,V=j===void 0?[]:j,F=n.attributes,L=F===void 0?{}:F,Y=n.styles,ce=Y===void 0?{}:Y;if(!!o){var pe=o.prefix,me=o.iconName,ve=o.icon;return ac(st({type:"icon"},o),function(){return fo("beforeDOMElementCreation",{iconDefinition:o,params:n}),ct.autoA11y&&(T?L["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(M||pa()):(L["aria-hidden"]="true",L.focusable="false")),Qf({icons:{main:Zd(ve),mask:g?Zd(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:me,transform:st(st({},Ni),u),symbol:f,title:T,maskId:_,titleId:M,extra:{attributes:L,styles:ce,classes:V}})})}},J8={mixout:function(){return{icon:Y8(K8)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=T1,n.nodeCallback=Z8,n}}},provides:function(o){o.i2svg=function(n){var a=n.node,u=a===void 0?ln:a,h=n.callback,f=h===void 0?function(){}:h;return T1(u,f)},o.generateSvgReplacementMutation=function(n,a){var u=a.iconName,h=a.title,f=a.titleId,d=a.prefix,g=a.transform,v=a.symbol,_=a.mask,x=a.maskId,T=a.extra;return new Promise(function(B,M){Promise.all([Yd(u,d),_.iconName?Yd(_.iconName,_.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(j){var V=Uf(j,2),F=V[0],L=V[1];B([n,Qf({icons:{main:F,mask:L},prefix:d,iconName:u,transform:g,symbol:v,maskId:x,title:h,titleId:f,extra:T,watchable:!0})])}).catch(M)})},o.generateAbstractIcon=function(n){var a=n.children,u=n.attributes,h=n.main,f=n.transform,d=n.styles,g=rc(d);g.length>0&&(u.style=g);var v;return Zf(f)&&(v=Ji("generateAbstractTransformGrouping",{main:h,transform:f,containerWidth:h.width,iconWidth:h.width})),a.push(v||h.icon),{children:a,attributes:u}}}},Q8={mixout:function(){return{layer:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.classes,h=u===void 0?[]:u;return ac({type:"layer"},function(){fo("beforeDOMElementCreation",{assembler:n,params:a});var f=[];return n(function(d){Array.isArray(d)?d.map(function(g){f=f.concat(g.abstract)}):f=f.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers")].concat(Ta(h)).join(" ")},children:f}]})}}}},$8={mixout:function(){return{counter:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.title,h=u===void 0?null:u,f=a.classes,d=f===void 0?[]:f,g=a.attributes,v=g===void 0?{}:g,_=a.styles,x=_===void 0?{}:_;return ac({type:"counter",content:n},function(){return fo("beforeDOMElementCreation",{content:n,params:a}),D8({content:n.toString(),title:h,extra:{attributes:v,styles:x,classes:["".concat(ct.cssPrefix,"-layers-counter")].concat(Ta(d))}})})}}}},ez={mixout:function(){return{text:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.transform,h=u===void 0?Ni:u,f=a.title,d=f===void 0?null:f,g=a.classes,v=g===void 0?[]:g,_=a.attributes,x=_===void 0?{}:_,T=a.styles,B=T===void 0?{}:T;return ac({type:"text",content:n},function(){return fo("beforeDOMElementCreation",{content:n,params:a}),b1({content:n,transform:st(st({},Ni),h),title:d,extra:{attributes:x,styles:B,classes:["".concat(ct.cssPrefix,"-layers-text")].concat(Ta(v))}})})}}},provides:function(o){o.generateLayersText=function(n,a){var u=a.title,h=a.transform,f=a.extra,d=null,g=null;if(p_){var v=parseInt(getComputedStyle(n).fontSize,10),_=n.getBoundingClientRect();d=_.width/v,g=_.height/v}return ct.autoA11y&&!u&&(f.attributes["aria-hidden"]="true"),Promise.resolve([n,b1({content:n.innerHTML,width:d,height:g,transform:h,title:u,extra:f,watchable:!0})])}}},tz=new RegExp('"',"ug"),C1=[1105920,1112319];function nz(t){var o=t.replace(tz,""),n=g8(o,0),a=n>=C1[0]&&n<=C1[1],u=o.length===2?o[0]===o[1]:!1;return{value:Wd(u?o[0]:o),isSecondary:a||u}}function P1(t,o){var n="".concat(WH).concat(o.replace(":","-"));return new Promise(function(a,u){if(t.getAttribute(n)!==null)return a();var h=ds(t.children),f=h.filter(function(ve){return ve.getAttribute(Vd)===o})[0],d=Rr.getComputedStyle(t,o),g=d.getPropertyValue("font-family").match(YH),v=d.getPropertyValue("font-weight"),_=d.getPropertyValue("content");if(f&&!g)return t.removeChild(f),a();if(g&&_!=="none"&&_!==""){var x=d.getPropertyValue("content"),T=~["Sharp"].indexOf(g[2])?mn:an,B=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(g[2])?ha[T][g[2].toLowerCase()]:KH[T][v],M=nz(x),j=M.value,V=M.isSecondary,F=g[0].startsWith("FontAwesome"),L=Kf(B,j),Y=L;if(F){var ce=x8(j);ce.iconName&&ce.prefix&&(L=ce.iconName,B=ce.prefix)}if(L&&!V&&(!f||f.getAttribute(Wf)!==B||f.getAttribute(Gf)!==Y)){t.setAttribute(n,Y),f&&t.removeChild(f);var pe=q8(),me=pe.extra;me.attributes[Vd]=o,Yd(L,B).then(function(ve){var le=Qf(st(st({},pe),{},{icons:{main:ve,mask:Jf()},prefix:B,iconName:Y,extra:me,watchable:!0})),_e=ln.createElement("svg");o==="::before"?t.insertBefore(_e,t.firstChild):t.appendChild(_e),_e.outerHTML=le.map(function(He){return Pa(He)}).join(`
`),t.removeAttribute(n),a()}).catch(u)}else a()}else a()})}function iz(t){return Promise.all([P1(t,"::before"),P1(t,"::after")])}function rz(t){return t.parentNode!==document.head&&!~qH.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Vd)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function A1(t){if(!!tr)return new Promise(function(o,n){var a=ds(t.querySelectorAll("*")).filter(rz).map(iz),u=$f.begin("searchPseudoElements");I_(),Promise.all(a).then(function(){u(),Jd(),o()}).catch(function(){u(),Jd(),n()})})}var oz={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=A1,n}}},provides:function(o){o.pseudoElements2svg=function(n){var a=n.node,u=a===void 0?ln:a;ct.searchPseudoElements&&A1(u)}}},R1=!1,sz={mixout:function(){return{dom:{unwatch:function(){I_(),R1=!0}}}},hooks:function(){return{bootstrap:function(){E1(qd("mutationObserverCallbacks",{}))},noAuto:function(){U8()},watch:function(n){var a=n.observeMutationsRoot;R1?Jd():E1(qd("mutationObserverCallbacks",{observeMutationsRoot:a}))}}}},O1=function(o){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return o.toLowerCase().split(" ").reduce(function(a,u){var h=u.toLowerCase().split("-"),f=h[0],d=h.slice(1).join("-");if(f&&d==="h")return a.flipX=!0,a;if(f&&d==="v")return a.flipY=!0,a;if(d=parseFloat(d),isNaN(d))return a;switch(f){case"grow":a.size=a.size+d;break;case"shrink":a.size=a.size-d;break;case"left":a.x=a.x-d;break;case"right":a.x=a.x+d;break;case"up":a.y=a.y-d;break;case"down":a.y=a.y+d;break;case"rotate":a.rotate=a.rotate+d;break}return a},n)},az={mixout:function(){return{parse:{transform:function(n){return O1(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-transform");return u&&(n.transform=O1(u)),n}}},provides:function(o){o.generateAbstractTransformGrouping=function(n){var a=n.main,u=n.transform,h=n.containerWidth,f=n.iconWidth,d={transform:"translate(".concat(h/2," 256)")},g="translate(".concat(u.x*32,", ").concat(u.y*32,") "),v="scale(".concat(u.size/16*(u.flipX?-1:1),", ").concat(u.size/16*(u.flipY?-1:1),") "),_="rotate(".concat(u.rotate," 0 0)"),x={transform:"".concat(g," ").concat(v," ").concat(_)},T={transform:"translate(".concat(f/2*-1," -256)")},B={outer:d,inner:x,path:T};return{tag:"g",attributes:st({},B.outer),children:[{tag:"g",attributes:st({},B.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:st(st({},a.icon.attributes),B.path)}]}]}}}},md={x:0,y:0,width:"100%",height:"100%"};function k1(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||o)&&(t.attributes.fill="black"),t}function lz(t){return t.tag==="g"?t.children:[t]}var uz={hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-mask"),h=u?sc(u.split(" ").map(function(f){return f.trim()})):Jf();return h.prefix||(h.prefix=Or()),n.mask=h,n.maskId=a.getAttribute("data-fa-mask-id"),n}}},provides:function(o){o.generateAbstractMask=function(n){var a=n.children,u=n.attributes,h=n.main,f=n.mask,d=n.maskId,g=n.transform,v=h.width,_=h.icon,x=f.width,T=f.icon,B=a8({transform:g,containerWidth:x,iconWidth:v}),M={tag:"rect",attributes:st(st({},md),{},{fill:"white"})},j=_.children?{children:_.children.map(k1)}:{},V={tag:"g",attributes:st({},B.inner),children:[k1(st({tag:_.tag,attributes:st(st({},_.attributes),B.path)},j))]},F={tag:"g",attributes:st({},B.outer),children:[V]},L="mask-".concat(d||pa()),Y="clip-".concat(d||pa()),ce={tag:"mask",attributes:st(st({},md),{},{id:L,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[M,F]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:Y},children:lz(T)},ce]};return a.push(pe,{tag:"rect",attributes:st({fill:"currentColor","clip-path":"url(#".concat(Y,")"),mask:"url(#".concat(L,")")},md)}),{children:a,attributes:u}}}},cz={provides:function(o){var n=!1;Rr.matchMedia&&(n=Rr.matchMedia("(prefers-reduced-motion: reduce)").matches),o.missingIconAbstract=function(){var a=[],u={fill:"currentColor"},h={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:st(st({},u),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=st(st({},h),{},{attributeName:"opacity"}),d={tag:"circle",attributes:st(st({},u),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||d.children.push({tag:"animate",attributes:st(st({},h),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:st(st({},f),{},{values:"1;0;1;1;0;1;"})}),a.push(d),a.push({tag:"path",attributes:st(st({},u),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:st(st({},f),{},{values:"1;0;0;0;0;1;"})}]}),n||a.push({tag:"path",attributes:st(st({},u),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:st(st({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},hz={hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-symbol"),h=u===null?!1:u===""?!0:u;return n.symbol=h,n}}}},dz=[c8,J8,Q8,$8,ez,oz,sz,az,uz,cz,hz];T8(dz,{mixoutsTo:fi});fi.noAuto;var F_=fi.config,Ot=fi.library;fi.dom;var Pu=fi.parse;fi.findIconDefinition;fi.toHtml;var fz=fi.icon;fi.layer;var pz=fi.text;fi.counter;function D1(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,a)}return n}function xi(t){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?D1(Object(n),!0).forEach(function(a){Zn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Au(t){return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Au(t)}function Zn(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}function gz(t,o){if(t==null)return{};var n={},a=Object.keys(t),u,h;for(h=0;h<a.length;h++)u=a[h],!(o.indexOf(u)>=0)&&(n[u]=t[u]);return n}function mz(t,o){if(t==null)return{};var n=gz(t,o),a,u;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(u=0;u<h.length;u++)a=h[u],!(o.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(n[a]=t[a]))}return n}function Qd(t){return vz(t)||yz(t)||bz(t)||wz()}function vz(t){if(Array.isArray(t))return $d(t)}function yz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bz(t,o){if(!!t){if(typeof t=="string")return $d(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $d(t,o)}}function $d(t,o){(o==null||o>t.length)&&(o=t.length);for(var n=0,a=new Array(o);n<o;n++)a[n]=t[n];return a}function wz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L_={exports:{}};(function(t){(function(o){var n=function(F,L,Y){if(!v(L)||x(L)||T(L)||B(L)||g(L))return L;var ce,pe=0,me=0;if(_(L))for(ce=[],me=L.length;pe<me;pe++)ce.push(n(F,L[pe],Y));else{ce={};for(var ve in L)Object.prototype.hasOwnProperty.call(L,ve)&&(ce[F(ve,Y)]=n(F,L[ve],Y))}return ce},a=function(F,L){L=L||{};var Y=L.separator||"_",ce=L.split||/(?=[A-Z])/;return F.split(ce).join(Y)},u=function(F){return M(F)?F:(F=F.replace(/[\-_\s]+(.)?/g,function(L,Y){return Y?Y.toUpperCase():""}),F.substr(0,1).toLowerCase()+F.substr(1))},h=function(F){var L=u(F);return L.substr(0,1).toUpperCase()+L.substr(1)},f=function(F,L){return a(F,L).toLowerCase()},d=Object.prototype.toString,g=function(F){return typeof F=="function"},v=function(F){return F===Object(F)},_=function(F){return d.call(F)=="[object Array]"},x=function(F){return d.call(F)=="[object Date]"},T=function(F){return d.call(F)=="[object RegExp]"},B=function(F){return d.call(F)=="[object Boolean]"},M=function(F){return F=F-0,F===F},j=function(F,L){var Y=L&&"process"in L?L.process:L;return typeof Y!="function"?F:function(ce,pe){return Y(ce,F,pe)}},V={camelize:u,decamelize:f,pascalize:h,depascalize:f,camelizeKeys:function(F,L){return n(j(u,L),F)},decamelizeKeys:function(F,L){return n(j(f,L),F,L)},pascalizeKeys:function(F,L){return n(j(h,L),F)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=V:o.humps=V})(_z)})(L_);var xz=L_.exports,Ez=["class","style"];function Sz(t){return t.split(";").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,n){var a=n.indexOf(":"),u=xz.camelize(n.slice(0,a)),h=n.slice(a+1).trim();return o[u]=h,o},{})}function Tz(t){return t.split(/\s+/).reduce(function(o,n){return o[n]=!0,o},{})}function tp(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var a=(t.children||[]).map(function(g){return tp(g)}),u=Object.keys(t.attributes||{}).reduce(function(g,v){var _=t.attributes[v];switch(v){case"class":g.class=Tz(_);break;case"style":g.style=Sz(_);break;default:g.attrs[v]=_}return g},{attrs:{},class:{},style:{}});n.class;var h=n.style,f=h===void 0?{}:h,d=mz(n,Ez);return is(t.tag,xi(xi(xi({},o),{},{class:u.class,style:xi(xi({},u.style),f)},u.attrs),d),a)}var H_=!1;try{H_=!0}catch{}function Cz(){if(!H_&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Qs(t,o){return Array.isArray(o)&&o.length>0||!Array.isArray(o)&&o?Zn({},t,o):{}}function Pz(t){var o,n=(o={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Zn(o,"fa-".concat(t.size),t.size!==null),Zn(o,"fa-rotate-".concat(t.rotation),t.rotation!==null),Zn(o,"fa-pull-".concat(t.pull),t.pull!==null),Zn(o,"fa-swap-opacity",t.swapOpacity),Zn(o,"fa-bounce",t.bounce),Zn(o,"fa-shake",t.shake),Zn(o,"fa-beat",t.beat),Zn(o,"fa-fade",t.fade),Zn(o,"fa-beat-fade",t.beatFade),Zn(o,"fa-flash",t.flash),Zn(o,"fa-spin-pulse",t.spinPulse),Zn(o,"fa-spin-reverse",t.spinReverse),o);return Object.keys(n).map(function(a){return n[a]?a:null}).filter(function(a){return a})}function M1(t){if(t&&Au(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Pu.icon)return Pu.icon(t);if(t===null)return null;if(Au(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var Az=vo({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(o){return[!0,!1,"horizontal","vertical","both"].indexOf(o)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(o){return["right","left"].indexOf(o)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(o){return[90,180,270].indexOf(Number.parseInt(o,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(o){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(o)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(o,n){var a=n.attrs,u=Pn(function(){return M1(o.icon)}),h=Pn(function(){return Qs("classes",Pz(o))}),f=Pn(function(){return Qs("transform",typeof o.transform=="string"?Pu.transform(o.transform):o.transform)}),d=Pn(function(){return Qs("mask",M1(o.mask))}),g=Pn(function(){return fz(u.value,xi(xi(xi(xi({},h.value),f.value),d.value),{},{symbol:o.symbol,title:o.title}))});jn(g,function(_){if(!_)return Cz("Could not find one or more icon(s)",u.value,d.value)},{immediate:!0});var v=Pn(function(){return g.value?tp(g.value.abstract[0],{},a):null});return function(){return v.value}}});vo({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(o,n){var a=n.slots,u=F_.familyPrefix,h=Pn(function(){return["".concat(u,"-layers")].concat(Qd(o.fixedWidth?["".concat(u,"-fw")]:[]))});return function(){return is("div",{class:h.value},a.default?a.default():[])}}});vo({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(o){return["bottom-left","bottom-right","top-left","top-right"].indexOf(o)>-1}}},setup:function(o,n){var a=n.attrs,u=F_.familyPrefix,h=Pn(function(){return Qs("classes",[].concat(Qd(o.counter?["".concat(u,"-layers-counter")]:[]),Qd(o.position?["".concat(u,"-layers-").concat(o.position)]:[])))}),f=Pn(function(){return Qs("transform",typeof o.transform=="string"?Pu.transform(o.transform):o.transform)}),d=Pn(function(){var v=pz(o.value.toString(),xi(xi({},f.value),h.value)),_=v.abstract;return o.counter&&(_[0].attributes.class=_[0].attributes.class.replace("fa-layers-text","")),_[0]}),g=Pn(function(){return tp(d.value,{},a)});return function(){return g.value}}});var Rz={prefix:"fas",iconName:"circle-chevron-right",icon:[512,512,["chevron-circle-right"],"f138","M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"]},Oz=Rz,kz={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM184 232H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},Dz=kz,Mz={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},Bz={prefix:"fas",iconName:"code-pull-request",icon:[512,512,[],"e13c","M305.8 2.1C314.4 5.9 320 14.5 320 24V64h16c70.7 0 128 57.3 128 128V358.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V192c0-35.3-28.7-64-64-64H320v40c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1zM104 80c0-13.3-10.7-24-24-24S56 66.7 56 80s10.7 24 24 24s24-10.7 24-24zm8 73.3V358.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80c0 32.8-19.7 61-48 73.3zM104 432c0-13.3-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24s24-10.7 24-24zm328 24c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},Iz={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Nz={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},Fz={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M201.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 173.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},Lz={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},Hz={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},zz={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},jz={prefix:"fas",iconName:"maximize",icon:[448,512,["expand-arrows-alt"],"f31e","M168 32H24C10.7 32 0 42.7 0 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79L81 335 41 295c-6.9-6.9-17.2-8.9-26.2-5.2S0 302.3 0 312V456c0 13.3 10.7 24 24 24H168c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H424c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H280c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S177.7 32 168 32z"]},Uz={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},Vz={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},Wz={prefix:"fas",iconName:"minimize",icon:[512,512,["compress-arrows-alt"],"f78c","M456 224H312c-13.3 0-24-10.7-24-24V56c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l40 40L442.3 5.7C446 2 450.9 0 456 0s10 2 13.7 5.7l36.7 36.7C510 46 512 50.9 512 56s-2 10-5.7 13.7L433 143l40 40c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8zm0 64c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-40 40 73.4 73.4c3.6 3.6 5.7 8.5 5.7 13.7s-2 10-5.7 13.7l-36.7 36.7C466 510 461.1 512 456 512s-10-2-13.7-5.7L369 433l-40 40c-6.9 6.9-17.2 8.9-26.2 5.2s-14.8-12.5-14.8-22.2V312c0-13.3 10.7-24 24-24H456zm-256 0c13.3 0 24 10.7 24 24V456c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-40-40L69.7 506.3C66 510 61.1 512 56 512s-10-2-13.7-5.7L5.7 469.7C2 466 0 461.1 0 456s2-10 5.7-13.7L79 369 39 329c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8H200zM56 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l40-40L5.7 69.7C2 66 0 61.1 0 56s2-10 5.7-13.7L42.3 5.7C46 2 50.9 0 56 0s10 2 13.7 5.7L143 79l40-40c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2V200c0 13.3-10.7 24-24 24H56z"]},Gz={prefix:"fas",iconName:"file-import",icon:[512,512,["arrow-right-to-file"],"f56f","M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z"]},qz={prefix:"fas",iconName:"vector-square",icon:[448,512,[],"f5cb","M368 80h32v32H368V80zM352 32c-17.7 0-32 14.3-32 32H128c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64v64c0 17.7 14.3 32 32 32V352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32H320c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32V160c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H352zM96 160c17.7 0 32-14.3 32-32H320c0 17.7 14.3 32 32 32V352c-17.7 0-32 14.3-32 32H128c0-17.7-14.3-32-32-32V160zM48 400H80v32H48V400zm320 32V400h32v32H368zM48 112V80H80v32H48z"]},Xz={prefix:"fas",iconName:"language",icon:[640,512,[],"f1ab","M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3 0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1 .1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2L179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4c.9 .6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9l-18.9-11.3c-4.5-2.7-8.8-5.5-13.1-8.5c-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8l-12.2-12.2c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6 .5 .5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"]},Zz={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Yz={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},Kz={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16H288 216s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24V440c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"]},Jz={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"]},Qz={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V280.4c-17-15.2-39.4-24.4-64-24.4H64c-24.6 0-47 9.2-64 24.4V96zM64 288H448c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64zM320 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm128-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},$z={prefix:"fas",iconName:"calendar-plus",icon:[448,512,[],"f271","M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192zM224 248c13.3 0 24 10.7 24 24v56h56c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v56c0 13.3-10.7 24-24 24s-24-10.7-24-24V376H144c-13.3 0-24-10.7-24-24s10.7-24 24-24h56V272c0-13.3 10.7-24 24-24z"]},e7={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM384 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},t7={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},n7=t7,i7={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},r7={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},o7=r7,s7={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},z_={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},a7=z_,l7={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},u7={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},c7={prefix:"fas",iconName:"circle-chevron-left",icon:[512,512,["chevron-circle-left"],"f137","M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"]},h7=c7,j_={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},d7=j_,f7={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},p7={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V83.8c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"]},g7={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},m7={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]},v7={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z"]};Ot.add(Hz);Ot.add(g7);Ot.add(o7);Ot.add(Iz);Ot.add(s7);Ot.add(Fz);Ot.add(a7);Ot.add(Lz);Ot.add(v7);Ot.add(Kz);Ot.add(n7);Ot.add(l7);Ot.add(u7);Ot.add(Oz);Ot.add(h7);Ot.add(d7);Ot.add(Dz);Ot.add(zz);Ot.add(Qz);Ot.add(i7);Ot.add(qz);Ot.add(Jz);Ot.add($z);Ot.add(j_);Ot.add(Vz);Ot.add(f7);Ot.add(Mz);Ot.add(Nz);Ot.add(z_);Ot.add(m7);Ot.add(Zz);Ot.add(jz);Ot.add(Wz);Ot.add(Uz);Ot.add(e7);Ot.add(Bz);Ot.add(Yz);Ot.add(Xz);Ot.add(p7);Ot.add(Gz);const U_=uM();xa(U_);const y7=yw(BH).component("font-awesome-icon",Az).use(U_);y7.mount("#app");
