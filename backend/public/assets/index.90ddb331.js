var JR=Object.defineProperty;var QR=(e,o,n)=>o in e?JR(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var ty=(e,o,n)=>(QR(e,typeof o!="symbol"?o+"":o,n),n);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerpolicy&&(h.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?h.credentials="include":u.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=n(u);fetch(u.href,h)}})();function Ru(e,o){const n=Object.create(null),a=e.split(",");for(let u=0;u<a.length;u++)n[a[u]]=!0;return o?u=>!!n[u.toLowerCase()]:u=>!!n[u]}const $R="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",eO=Ru($R);function po(e){if(lt(e)){const o={};for(let n=0;n<e.length;n++){const a=e[n],u=un(a)?rO(a):po(a);if(u)for(const h in u)o[h]=u[h]}return o}else{if(un(e))return e;if(nn(e))return e}}const tO=/;(?![^(]*\))/g,nO=/:([^]+)/,iO=/\/\*.*?\*\//gs;function rO(e){const o={};return e.replace(iO,"").split(tO).forEach(n=>{if(n){const a=n.split(nO);a.length>1&&(o[a[0].trim()]=a[1].trim())}}),o}function Tn(e){let o="";if(un(e))o=e;else if(lt(e))for(let n=0;n<e.length;n++){const a=Tn(e[n]);a&&(o+=a+" ")}else if(nn(e))for(const n in e)e[n]&&(o+=n+" ");return o.trim()}function oO(e){if(!e)return null;let{class:o,style:n}=e;return o&&!un(o)&&(e.class=Tn(o)),n&&(e.style=po(n)),e}const sO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aO=Ru(sO);function B1(e){return!!e||e===""}function lO(e,o){if(e.length!==o.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=Cr(e[a],o[a]);return n}function Cr(e,o){if(e===o)return!0;let n=ny(e),a=ny(o);if(n||a)return n&&a?e.getTime()===o.getTime():!1;if(n=$s(e),a=$s(o),n||a)return e===o;if(n=lt(e),a=lt(o),n||a)return n&&a?lO(e,o):!1;if(n=nn(e),a=nn(o),n||a){if(!n||!a)return!1;const u=Object.keys(e).length,h=Object.keys(o).length;if(u!==h)return!1;for(const f in e){const d=e.hasOwnProperty(f),g=o.hasOwnProperty(f);if(d&&!g||!d&&g||!Cr(e[f],o[f]))return!1}}return String(e)===String(o)}function Ou(e,o){return e.findIndex(n=>Cr(n,o))}const Ot=e=>un(e)?e:e==null?"":lt(e)||nn(e)&&(e.toString===N1||!_t(e.toString))?JSON.stringify(e,I1,2):String(e),I1=(e,o)=>o&&o.__v_isRef?I1(e,o.value):Zo(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((n,[a,u])=>(n[`${a} =>`]=u,n),{})}:go(o)?{[`Set(${o.size})`]:[...o.values()]}:nn(o)&&!lt(o)&&!F1(o)?String(o):o,tn={},Xo=[],Ei=()=>{},uO=()=>!1,cO=/^on[^a-z]/,pa=e=>cO.test(e),tf=e=>e.startsWith("onUpdate:"),wn=Object.assign,nf=(e,o)=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)},hO=Object.prototype.hasOwnProperty,zt=(e,o)=>hO.call(e,o),lt=Array.isArray,Zo=e=>ls(e)==="[object Map]",go=e=>ls(e)==="[object Set]",ny=e=>ls(e)==="[object Date]",dO=e=>ls(e)==="[object RegExp]",_t=e=>typeof e=="function",un=e=>typeof e=="string",$s=e=>typeof e=="symbol",nn=e=>e!==null&&typeof e=="object",rf=e=>nn(e)&&_t(e.then)&&_t(e.catch),N1=Object.prototype.toString,ls=e=>N1.call(e),fO=e=>ls(e).slice(8,-1),F1=e=>ls(e)==="[object Object]",of=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Us=Ru(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=e=>{const o=Object.create(null);return n=>o[n]||(o[n]=e(n))},pO=/-(\w)/g,ei=Du(e=>e.replace(pO,(o,n)=>n?n.toUpperCase():"")),gO=/\B([A-Z])/g,vi=Du(e=>e.replace(gO,"-$1").toLowerCase()),ga=Du(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vs=Du(e=>e?`on${ga(e)}`:""),es=(e,o)=>!Object.is(e,o),Yo=(e,o)=>{for(let n=0;n<e.length;n++)e[n](o)},pu=(e,o,n)=>{Object.defineProperty(e,o,{configurable:!0,enumerable:!1,value:n})},gu=e=>{const o=parseFloat(e);return isNaN(o)?e:o},mu=e=>{const o=un(e)?Number(e):NaN;return isNaN(o)?e:o};let iy;const mO=()=>iy||(iy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ci;class sf{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ci,!o&&ci&&(this.index=(ci.scopes||(ci.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const n=ci;try{return ci=this,o()}finally{ci=n}}}on(){ci=this}off(){ci=this.parent}stop(o){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!o){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function af(e){return new sf(e)}function L1(e,o=ci){o&&o.active&&o.effects.push(e)}function lf(){return ci}function H1(e){ci&&ci.cleanups.push(e)}const uf=e=>{const o=new Set(e);return o.w=0,o.n=0,o},z1=e=>(e.w&Pr)>0,j1=e=>(e.n&Pr)>0,vO=({deps:e})=>{if(e.length)for(let o=0;o<e.length;o++)e[o].w|=Pr},yO=e=>{const{deps:o}=e;if(o.length){let n=0;for(let a=0;a<o.length;a++){const u=o[a];z1(u)&&!j1(u)?u.delete(e):o[n++]=u,u.w&=~Pr,u.n&=~Pr}o.length=n}},vu=new WeakMap;let Hs=0,Pr=1;const yd=30;let bi;const eo=Symbol(""),bd=Symbol("");class ma{constructor(o,n=null,a){this.fn=o,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,L1(this,a)}run(){if(!this.active)return this.fn();let o=bi,n=Sr;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=bi,bi=this,Sr=!0,Pr=1<<++Hs,Hs<=yd?vO(this):ry(this),this.fn()}finally{Hs<=yd&&yO(this),Pr=1<<--Hs,bi=this.parent,Sr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){bi===this?this.deferStop=!0:this.active&&(ry(this),this.onStop&&this.onStop(),this.active=!1)}}function ry(e){const{deps:o}=e;if(o.length){for(let n=0;n<o.length;n++)o[n].delete(e);o.length=0}}function bO(e,o){e.effect&&(e=e.effect.fn);const n=new ma(e);o&&(wn(n,o),o.scope&&L1(n,o.scope)),(!o||!o.lazy)&&n.run();const a=n.run.bind(n);return a.effect=n,a}function wO(e){e.effect.stop()}let Sr=!0;const U1=[];function us(){U1.push(Sr),Sr=!1}function cs(){const e=U1.pop();Sr=e===void 0?!0:e}function ti(e,o,n){if(Sr&&bi){let a=vu.get(e);a||vu.set(e,a=new Map);let u=a.get(n);u||a.set(n,u=uf()),V1(u)}}function V1(e,o){let n=!1;Hs<=yd?j1(e)||(e.n|=Pr,n=!z1(e)):n=!e.has(bi),n&&(e.add(bi),bi.deps.push(e))}function Ki(e,o,n,a,u,h){const f=vu.get(e);if(!f)return;let d=[];if(o==="clear")d=[...f.values()];else if(n==="length"&&lt(e)){const g=Number(a);f.forEach((m,x)=>{(x==="length"||x>=g)&&d.push(m)})}else switch(n!==void 0&&d.push(f.get(n)),o){case"add":lt(e)?of(n)&&d.push(f.get("length")):(d.push(f.get(eo)),Zo(e)&&d.push(f.get(bd)));break;case"delete":lt(e)||(d.push(f.get(eo)),Zo(e)&&d.push(f.get(bd)));break;case"set":Zo(e)&&d.push(f.get(eo));break}if(d.length===1)d[0]&&wd(d[0]);else{const g=[];for(const m of d)m&&g.push(...m);wd(uf(g))}}function wd(e,o){const n=lt(e)?e:[...e];for(const a of n)a.computed&&oy(a);for(const a of n)a.computed||oy(a)}function oy(e,o){(e!==bi||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function xO(e,o){var n;return(n=vu.get(e))===null||n===void 0?void 0:n.get(o)}const _O=Ru("__proto__,__v_isRef,__isVue"),W1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($s)),EO=Mu(),SO=Mu(!1,!0),TO=Mu(!0),CO=Mu(!0,!0),sy=PO();function PO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(o=>{e[o]=function(...n){const a=Bt(this);for(let h=0,f=this.length;h<f;h++)ti(a,"get",h+"");const u=a[o](...n);return u===-1||u===!1?a[o](...n.map(Bt)):u}}),["push","pop","shift","unshift","splice"].forEach(o=>{e[o]=function(...n){us();const a=Bt(this)[o].apply(this,n);return cs(),a}}),e}function kO(e){const o=Bt(this);return ti(o,"has",e),o.hasOwnProperty(e)}function Mu(e=!1,o=!1){return function(a,u,h){if(u==="__v_isReactive")return!e;if(u==="__v_isReadonly")return e;if(u==="__v_isShallow")return o;if(u==="__v_raw"&&h===(e?o?J1:K1:o?Y1:Z1).get(a))return a;const f=lt(a);if(!e){if(f&&zt(sy,u))return Reflect.get(sy,u,h);if(u==="hasOwnProperty")return kO}const d=Reflect.get(a,u,h);return($s(u)?W1.has(u):_O(u))||(e||ti(a,"get",u),o)?d:bn(d)?f&&of(u)?d:d.value:nn(d)?e?hf(d):va(d):d}}const AO=G1(),RO=G1(!0);function G1(e=!1){return function(n,a,u,h){let f=n[a];if(so(f)&&bn(f)&&!bn(u))return!1;if(!e&&(!ea(u)&&!so(u)&&(f=Bt(f),u=Bt(u)),!lt(n)&&bn(f)&&!bn(u)))return f.value=u,!0;const d=lt(n)&&of(a)?Number(a)<n.length:zt(n,a),g=Reflect.set(n,a,u,h);return n===Bt(h)&&(d?es(u,f)&&Ki(n,"set",a,u):Ki(n,"add",a,u)),g}}function OO(e,o){const n=zt(e,o);e[o];const a=Reflect.deleteProperty(e,o);return a&&n&&Ki(e,"delete",o,void 0),a}function DO(e,o){const n=Reflect.has(e,o);return(!$s(o)||!W1.has(o))&&ti(e,"has",o),n}function MO(e){return ti(e,"iterate",lt(e)?"length":eo),Reflect.ownKeys(e)}const q1={get:EO,set:AO,deleteProperty:OO,has:DO,ownKeys:MO},X1={get:TO,set(e,o){return!0},deleteProperty(e,o){return!0}},BO=wn({},q1,{get:SO,set:RO}),IO=wn({},X1,{get:CO}),cf=e=>e,Bu=e=>Reflect.getPrototypeOf(e);function Hl(e,o,n=!1,a=!1){e=e.__v_raw;const u=Bt(e),h=Bt(o);n||(o!==h&&ti(u,"get",o),ti(u,"get",h));const{has:f}=Bu(u),d=a?cf:n?ff:ta;if(f.call(u,o))return d(e.get(o));if(f.call(u,h))return d(e.get(h));e!==u&&e.get(o)}function zl(e,o=!1){const n=this.__v_raw,a=Bt(n),u=Bt(e);return o||(e!==u&&ti(a,"has",e),ti(a,"has",u)),e===u?n.has(e):n.has(e)||n.has(u)}function jl(e,o=!1){return e=e.__v_raw,!o&&ti(Bt(e),"iterate",eo),Reflect.get(e,"size",e)}function ay(e){e=Bt(e);const o=Bt(this);return Bu(o).has.call(o,e)||(o.add(e),Ki(o,"add",e,e)),this}function ly(e,o){o=Bt(o);const n=Bt(this),{has:a,get:u}=Bu(n);let h=a.call(n,e);h||(e=Bt(e),h=a.call(n,e));const f=u.call(n,e);return n.set(e,o),h?es(o,f)&&Ki(n,"set",e,o):Ki(n,"add",e,o),this}function uy(e){const o=Bt(this),{has:n,get:a}=Bu(o);let u=n.call(o,e);u||(e=Bt(e),u=n.call(o,e)),a&&a.call(o,e);const h=o.delete(e);return u&&Ki(o,"delete",e,void 0),h}function cy(){const e=Bt(this),o=e.size!==0,n=e.clear();return o&&Ki(e,"clear",void 0,void 0),n}function Ul(e,o){return function(a,u){const h=this,f=h.__v_raw,d=Bt(f),g=o?cf:e?ff:ta;return!e&&ti(d,"iterate",eo),f.forEach((m,x)=>a.call(u,g(m),g(x),h))}}function Vl(e,o,n){return function(...a){const u=this.__v_raw,h=Bt(u),f=Zo(h),d=e==="entries"||e===Symbol.iterator&&f,g=e==="keys"&&f,m=u[e](...a),x=n?cf:o?ff:ta;return!o&&ti(h,"iterate",g?bd:eo),{next(){const{value:_,done:T}=m.next();return T?{value:_,done:T}:{value:d?[x(_[0]),x(_[1])]:x(_),done:T}},[Symbol.iterator](){return this}}}}function gr(e){return function(...o){return e==="delete"?!1:this}}function NO(){const e={get(h){return Hl(this,h)},get size(){return jl(this)},has:zl,add:ay,set:ly,delete:uy,clear:cy,forEach:Ul(!1,!1)},o={get(h){return Hl(this,h,!1,!0)},get size(){return jl(this)},has:zl,add:ay,set:ly,delete:uy,clear:cy,forEach:Ul(!1,!0)},n={get(h){return Hl(this,h,!0)},get size(){return jl(this,!0)},has(h){return zl.call(this,h,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:Ul(!0,!1)},a={get(h){return Hl(this,h,!0,!0)},get size(){return jl(this,!0)},has(h){return zl.call(this,h,!0)},add:gr("add"),set:gr("set"),delete:gr("delete"),clear:gr("clear"),forEach:Ul(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{e[h]=Vl(h,!1,!1),n[h]=Vl(h,!0,!1),o[h]=Vl(h,!1,!0),a[h]=Vl(h,!0,!0)}),[e,n,o,a]}const[FO,LO,HO,zO]=NO();function Iu(e,o){const n=o?e?zO:HO:e?LO:FO;return(a,u,h)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?a:Reflect.get(zt(n,u)&&u in a?n:a,u,h)}const jO={get:Iu(!1,!1)},UO={get:Iu(!1,!0)},VO={get:Iu(!0,!1)},WO={get:Iu(!0,!0)},Z1=new WeakMap,Y1=new WeakMap,K1=new WeakMap,J1=new WeakMap;function GO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qO(e){return e.__v_skip||!Object.isExtensible(e)?0:GO(fO(e))}function va(e){return so(e)?e:Nu(e,!1,q1,jO,Z1)}function Q1(e){return Nu(e,!1,BO,UO,Y1)}function hf(e){return Nu(e,!0,X1,VO,K1)}function XO(e){return Nu(e,!0,IO,WO,J1)}function Nu(e,o,n,a,u){if(!nn(e)||e.__v_raw&&!(o&&e.__v_isReactive))return e;const h=u.get(e);if(h)return h;const f=qO(e);if(f===0)return e;const d=new Proxy(e,f===2?a:n);return u.set(e,d),d}function Xi(e){return so(e)?Xi(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function ea(e){return!!(e&&e.__v_isShallow)}function df(e){return Xi(e)||so(e)}function Bt(e){const o=e&&e.__v_raw;return o?Bt(o):e}function ao(e){return pu(e,"__v_skip",!0),e}const ta=e=>nn(e)?va(e):e,ff=e=>nn(e)?hf(e):e;function pf(e){Sr&&bi&&(e=Bt(e),V1(e.dep||(e.dep=uf())))}function Fu(e,o){e=Bt(e);const n=e.dep;n&&wd(n)}function bn(e){return!!(e&&e.__v_isRef===!0)}function to(e){return $1(e,!1)}function ZO(e){return $1(e,!0)}function $1(e,o){return bn(e)?e:new YO(e,o)}class YO{constructor(o,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?o:Bt(o),this._value=n?o:ta(o)}get value(){return pf(this),this._value}set value(o){const n=this.__v_isShallow||ea(o)||so(o);o=n?o:Bt(o),es(o,this._rawValue)&&(this._rawValue=o,this._value=n?o:ta(o),Fu(this))}}function KO(e){Fu(e)}function eb(e){return bn(e)?e.value:e}const JO={get:(e,o,n)=>eb(Reflect.get(e,o,n)),set:(e,o,n,a)=>{const u=e[o];return bn(u)&&!bn(n)?(u.value=n,!0):Reflect.set(e,o,n,a)}};function gf(e){return Xi(e)?e:new Proxy(e,JO)}class QO{constructor(o){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:a}=o(()=>pf(this),()=>Fu(this));this._get=n,this._set=a}get value(){return this._get()}set value(o){this._set(o)}}function $O(e){return new QO(e)}function tb(e){const o=lt(e)?new Array(e.length):{};for(const n in e)o[n]=nb(e,n);return o}class eD{constructor(o,n,a){this._object=o,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const o=this._object[this._key];return o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return xO(Bt(this._object),this._key)}}function nb(e,o,n){const a=e[o];return bn(a)?a:new eD(e,o,n)}var ib;class tD{constructor(o,n,a,u){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ib]=!1,this._dirty=!0,this.effect=new ma(o,()=>{this._dirty||(this._dirty=!0,Fu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=a}get value(){const o=Bt(this);return pf(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}ib="__v_isReadonly";function nD(e,o,n=!1){let a,u;const h=_t(e);return h?(a=e,u=Ei):(a=e.get,u=e.set),new tD(a,u,h||!u,n)}function iD(e,...o){}function rD(e,o){}function Zi(e,o,n,a){let u;try{u=a?e(...a):e()}catch(h){mo(h,o,n)}return u}function di(e,o,n,a){if(_t(e)){const h=Zi(e,o,n,a);return h&&rf(h)&&h.catch(f=>{mo(f,o,n)}),h}const u=[];for(let h=0;h<e.length;h++)u.push(di(e[h],o,n,a));return u}function mo(e,o,n,a=!0){const u=o?o.vnode:null;if(o){let h=o.parent;const f=o.proxy,d=n;for(;h;){const m=h.ec;if(m){for(let x=0;x<m.length;x++)if(m[x](e,f,d)===!1)return}h=h.parent}const g=o.appContext.config.errorHandler;if(g){Zi(g,null,10,[e,f,d]);return}}oD(e,n,u,a)}function oD(e,o,n,a=!0){console.error(e)}let na=!1,xd=!1;const Un=[];let Bi=0;const Ko=[];let Vi=null,Yr=0;const rb=Promise.resolve();let mf=null;function Lu(e){const o=mf||rb;return e?o.then(this?e.bind(this):e):o}function sD(e){let o=Bi+1,n=Un.length;for(;o<n;){const a=o+n>>>1;ia(Un[a])<e?o=a+1:n=a}return o}function Hu(e){(!Un.length||!Un.includes(e,na&&e.allowRecurse?Bi+1:Bi))&&(e.id==null?Un.push(e):Un.splice(sD(e.id),0,e),ob())}function ob(){!na&&!xd&&(xd=!0,mf=rb.then(sb))}function aD(e){const o=Un.indexOf(e);o>Bi&&Un.splice(o,1)}function vf(e){lt(e)?Ko.push(...e):(!Vi||!Vi.includes(e,e.allowRecurse?Yr+1:Yr))&&Ko.push(e),ob()}function hy(e,o=na?Bi+1:0){for(;o<Un.length;o++){const n=Un[o];n&&n.pre&&(Un.splice(o,1),o--,n())}}function yu(e){if(Ko.length){const o=[...new Set(Ko)];if(Ko.length=0,Vi){Vi.push(...o);return}for(Vi=o,Vi.sort((n,a)=>ia(n)-ia(a)),Yr=0;Yr<Vi.length;Yr++)Vi[Yr]();Vi=null,Yr=0}}const ia=e=>e.id==null?1/0:e.id,lD=(e,o)=>{const n=ia(e)-ia(o);if(n===0){if(e.pre&&!o.pre)return-1;if(o.pre&&!e.pre)return 1}return n};function sb(e){xd=!1,na=!0,Un.sort(lD);const o=Ei;try{for(Bi=0;Bi<Un.length;Bi++){const n=Un[Bi];n&&n.active!==!1&&Zi(n,null,14)}}finally{Bi=0,Un.length=0,yu(),na=!1,mf=null,(Un.length||Ko.length)&&sb()}}let Wo,Wl=[];function ab(e,o){var n,a;Wo=e,Wo?(Wo.enabled=!0,Wl.forEach(({event:u,args:h})=>Wo.emit(u,...h)),Wl=[]):typeof window<"u"&&window.HTMLElement&&!(!((a=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||a===void 0)&&a.includes("jsdom"))?((o.__VUE_DEVTOOLS_HOOK_REPLAY__=o.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(h=>{ab(h,o)}),setTimeout(()=>{Wo||(o.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wl=[])},3e3)):Wl=[]}function uD(e,o,...n){if(e.isUnmounted)return;const a=e.vnode.props||tn;let u=n;const h=o.startsWith("update:"),f=h&&o.slice(7);if(f&&f in a){const x=`${f==="modelValue"?"model":f}Modifiers`,{number:_,trim:T}=a[x]||tn;T&&(u=n.map(B=>un(B)?B.trim():B)),_&&(u=n.map(gu))}let d,g=a[d=Vs(o)]||a[d=Vs(ei(o))];!g&&h&&(g=a[d=Vs(vi(o))]),g&&di(g,e,6,u);const m=a[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,di(m,e,6,u)}}function lb(e,o,n=!1){const a=o.emitsCache,u=a.get(e);if(u!==void 0)return u;const h=e.emits;let f={},d=!1;if(!_t(e)){const g=m=>{const x=lb(m,o,!0);x&&(d=!0,wn(f,x))};!n&&o.mixins.length&&o.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!h&&!d?(nn(e)&&a.set(e,null),null):(lt(h)?h.forEach(g=>f[g]=null):wn(f,h),nn(e)&&a.set(e,f),f)}function zu(e,o){return!e||!pa(o)?!1:(o=o.slice(2).replace(/Once$/,""),zt(e,o[0].toLowerCase()+o.slice(1))||zt(e,vi(o))||zt(e,o))}let In=null,ju=null;function ra(e){const o=In;return In=e,ju=e&&e.type.__scopeId||null,o}function ub(e){ju=e}function cb(){ju=null}const cD=e=>Di;function Di(e,o=In,n){if(!o||e._n)return e;const a=(...u)=>{a._d&&kd(-1);const h=ra(o);let f;try{f=e(...u)}finally{ra(h),a._d&&kd(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function su(e){const{type:o,vnode:n,proxy:a,withProxy:u,props:h,propsOptions:[f],slots:d,attrs:g,emit:m,render:x,renderCache:_,data:T,setupState:B,ctx:M,inheritAttrs:j}=e;let V,F;const L=ra(e);try{if(n.shapeFlag&4){const ce=u||a;V=hi(x.call(ce,ce,_,h,B,T,M)),F=g}else{const ce=o;V=hi(ce.length>1?ce(h,{attrs:g,slots:d,emit:m}):ce(h,null)),F=o.props?g:dD(g)}}catch(ce){qs.length=0,mo(ce,e,1),V=Ke(Wn)}let Y=V;if(F&&j!==!1){const ce=Object.keys(F),{shapeFlag:pe}=Y;ce.length&&pe&7&&(f&&ce.some(tf)&&(F=fD(F,f)),Y=Fi(Y,F))}return n.dirs&&(Y=Fi(Y),Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&(Y.transition=n.transition),V=Y,ra(L),V}function hD(e){let o;for(let n=0;n<e.length;n++){const a=e[n];if(kr(a)){if(a.type!==Wn||a.children==="v-if"){if(o)return;o=a}}else return}return o}const dD=e=>{let o;for(const n in e)(n==="class"||n==="style"||pa(n))&&((o||(o={}))[n]=e[n]);return o},fD=(e,o)=>{const n={};for(const a in e)(!tf(a)||!(a.slice(9)in o))&&(n[a]=e[a]);return n};function pD(e,o,n){const{props:a,children:u,component:h}=e,{props:f,children:d,patchFlag:g}=o,m=h.emitsOptions;if(o.dirs||o.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return a?dy(a,f,m):!!f;if(g&8){const x=o.dynamicProps;for(let _=0;_<x.length;_++){const T=x[_];if(f[T]!==a[T]&&!zu(m,T))return!0}}}else return(u||d)&&(!d||!d.$stable)?!0:a===f?!1:a?f?dy(a,f,m):!0:!!f;return!1}function dy(e,o,n){const a=Object.keys(o);if(a.length!==Object.keys(e).length)return!0;for(let u=0;u<a.length;u++){const h=a[u];if(o[h]!==e[h]&&!zu(n,h))return!0}return!1}function yf({vnode:e,parent:o},n){for(;o&&o.subTree===e;)(e=o.vnode).el=n,o=o.parent}const hb=e=>e.__isSuspense,gD={name:"Suspense",__isSuspense:!0,process(e,o,n,a,u,h,f,d,g,m){e==null?vD(o,n,a,u,h,f,d,g,m):yD(e,o,n,a,u,f,d,g,m)},hydrate:bD,create:bf,normalize:wD},mD=gD;function oa(e,o){const n=e.props&&e.props[o];_t(n)&&n()}function vD(e,o,n,a,u,h,f,d,g){const{p:m,o:{createElement:x}}=g,_=x("div"),T=e.suspense=bf(e,u,a,o,_,n,h,f,d,g);m(null,T.pendingBranch=e.ssContent,_,null,a,T,h,f),T.deps>0?(oa(e,"onPending"),oa(e,"onFallback"),m(null,e.ssFallback,o,n,a,null,h,f),Jo(T,e.ssFallback)):T.resolve()}function yD(e,o,n,a,u,h,f,d,{p:g,um:m,o:{createElement:x}}){const _=o.suspense=e.suspense;_.vnode=o,o.el=e.el;const T=o.ssContent,B=o.ssFallback,{activeBranch:M,pendingBranch:j,isInFallback:V,isHydrating:F}=_;if(j)_.pendingBranch=T,wi(T,j)?(g(j,T,_.hiddenContainer,null,u,_,h,f,d),_.deps<=0?_.resolve():V&&(g(M,B,n,a,u,null,h,f,d),Jo(_,B))):(_.pendingId++,F?(_.isHydrating=!1,_.activeBranch=j):m(j,u,_),_.deps=0,_.effects.length=0,_.hiddenContainer=x("div"),V?(g(null,T,_.hiddenContainer,null,u,_,h,f,d),_.deps<=0?_.resolve():(g(M,B,n,a,u,null,h,f,d),Jo(_,B))):M&&wi(T,M)?(g(M,T,n,a,u,_,h,f,d),_.resolve(!0)):(g(null,T,_.hiddenContainer,null,u,_,h,f,d),_.deps<=0&&_.resolve()));else if(M&&wi(T,M))g(M,T,n,a,u,_,h,f,d),Jo(_,T);else if(oa(o,"onPending"),_.pendingBranch=T,_.pendingId++,g(null,T,_.hiddenContainer,null,u,_,h,f,d),_.deps<=0)_.resolve();else{const{timeout:L,pendingId:Y}=_;L>0?setTimeout(()=>{_.pendingId===Y&&_.fallback(B)},L):L===0&&_.fallback(B)}}function bf(e,o,n,a,u,h,f,d,g,m,x=!1){const{p:_,m:T,um:B,n:M,o:{parentNode:j,remove:V}}=m,F=e.props?mu(e.props.timeout):void 0,L={vnode:e,parent:o,parentComponent:n,isSVG:f,container:a,hiddenContainer:u,anchor:h,deps:0,pendingId:0,timeout:typeof F=="number"?F:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:x,isUnmounted:!1,effects:[],resolve(Y=!1){const{vnode:ce,activeBranch:pe,pendingBranch:me,pendingId:ve,effects:le,parentComponent:xe,container:ze}=L;if(L.isHydrating)L.isHydrating=!1;else if(!Y){const be=pe&&me.transition&&me.transition.mode==="out-in";be&&(pe.transition.afterLeave=()=>{ve===L.pendingId&&T(me,ze,Se,0)});let{anchor:Se}=L;pe&&(Se=M(pe),B(pe,xe,L,!0)),be||T(me,ze,Se,0)}Jo(L,me),L.pendingBranch=null,L.isInFallback=!1;let J=L.parent,ue=!1;for(;J;){if(J.pendingBranch){J.effects.push(...le),ue=!0;break}J=J.parent}ue||vf(le),L.effects=[],oa(ce,"onResolve")},fallback(Y){if(!L.pendingBranch)return;const{vnode:ce,activeBranch:pe,parentComponent:me,container:ve,isSVG:le}=L;oa(ce,"onFallback");const xe=M(pe),ze=()=>{!L.isInFallback||(_(null,Y,ve,xe,me,null,le,d,g),Jo(L,Y))},J=Y.transition&&Y.transition.mode==="out-in";J&&(pe.transition.afterLeave=ze),L.isInFallback=!0,B(pe,me,null,!0),J||ze()},move(Y,ce,pe){L.activeBranch&&T(L.activeBranch,Y,ce,pe),L.container=Y},next(){return L.activeBranch&&M(L.activeBranch)},registerDep(Y,ce){const pe=!!L.pendingBranch;pe&&L.deps++;const me=Y.vnode.el;Y.asyncDep.catch(ve=>{mo(ve,Y,0)}).then(ve=>{if(Y.isUnmounted||L.isUnmounted||L.pendingId!==Y.suspenseId)return;Y.asyncResolved=!0;const{vnode:le}=Y;Ad(Y,ve,!1),me&&(le.el=me);const xe=!me&&Y.subTree.el;ce(Y,le,j(me||Y.subTree.el),me?null:M(Y.subTree),L,f,g),xe&&V(xe),yf(Y,le.el),pe&&--L.deps===0&&L.resolve()})},unmount(Y,ce){L.isUnmounted=!0,L.activeBranch&&B(L.activeBranch,n,Y,ce),L.pendingBranch&&B(L.pendingBranch,n,Y,ce)}};return L}function bD(e,o,n,a,u,h,f,d,g){const m=o.suspense=bf(o,a,n,e.parentNode,document.createElement("div"),null,u,h,f,d,!0),x=g(e,m.pendingBranch=o.ssContent,n,m,h,f);return m.deps===0&&m.resolve(),x}function wD(e){const{shapeFlag:o,children:n}=e,a=o&32;e.ssContent=fy(a?n.default:n),e.ssFallback=a?fy(n.fallback):Ke(Wn)}function fy(e){let o;if(_t(e)){const n=co&&e._c;n&&(e._d=!1,Le()),e=e(),n&&(e._d=!0,o=$n,jb())}return lt(e)&&(e=hD(e)),e=hi(e),o&&!e.dynamicChildren&&(e.dynamicChildren=o.filter(n=>n!==e)),e}function db(e,o){o&&o.pendingBranch?lt(e)?o.effects.push(...e):o.effects.push(e):vf(e)}function Jo(e,o){e.activeBranch=o;const{vnode:n,parentComponent:a}=e,u=n.el=o.el;a&&a.subTree===n&&(a.vnode.el=u,yf(a,u))}function fb(e,o){if(yn){let n=yn.provides;const a=yn.parent&&yn.parent.provides;a===n&&(n=yn.provides=Object.create(a)),n[e]=o}}function Qo(e,o,n=!1){const a=yn||In;if(a){const u=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(u&&e in u)return u[e];if(arguments.length>1)return n&&_t(o)?o.call(a.proxy):o}}function xD(e,o){return ya(e,null,o)}function pb(e,o){return ya(e,null,{flush:"post"})}function _D(e,o){return ya(e,null,{flush:"sync"})}const Gl={};function dn(e,o,n){return ya(e,o,n)}function ya(e,o,{immediate:n,deep:a,flush:u,onTrack:h,onTrigger:f}=tn){const d=lf()===(yn==null?void 0:yn.scope)?yn:null;let g,m=!1,x=!1;if(bn(e)?(g=()=>e.value,m=ea(e)):Xi(e)?(g=()=>e,a=!0):lt(e)?(x=!0,m=e.some(Y=>Xi(Y)||ea(Y)),g=()=>e.map(Y=>{if(bn(Y))return Y.value;if(Xi(Y))return Jr(Y);if(_t(Y))return Zi(Y,d,2)})):_t(e)?o?g=()=>Zi(e,d,2):g=()=>{if(!(d&&d.isUnmounted))return _&&_(),di(e,d,3,[T])}:g=Ei,o&&a){const Y=g;g=()=>Jr(Y())}let _,T=Y=>{_=F.onStop=()=>{Zi(Y,d,4)}},B;if(ns)if(T=Ei,o?n&&di(o,d,3,[g(),x?[]:void 0,T]):g(),u==="sync"){const Y=$b();B=Y.__watcherHandles||(Y.__watcherHandles=[])}else return Ei;let M=x?new Array(e.length).fill(Gl):Gl;const j=()=>{if(!!F.active)if(o){const Y=F.run();(a||m||(x?Y.some((ce,pe)=>es(ce,M[pe])):es(Y,M)))&&(_&&_(),di(o,d,3,[Y,M===Gl?void 0:x&&M[0]===Gl?[]:M,T]),M=Y)}else F.run()};j.allowRecurse=!!o;let V;u==="sync"?V=j:u==="post"?V=()=>Bn(j,d&&d.suspense):(j.pre=!0,d&&(j.id=d.uid),V=()=>Hu(j));const F=new ma(g,V);o?n?j():M=F.run():u==="post"?Bn(F.run.bind(F),d&&d.suspense):F.run();const L=()=>{F.stop(),d&&d.scope&&nf(d.scope.effects,F)};return B&&B.push(L),L}function ED(e,o,n){const a=this.proxy,u=un(e)?e.includes(".")?gb(a,e):()=>a[e]:e.bind(a,a);let h;_t(o)?h=o:(h=o.handler,n=o);const f=yn;Ar(this);const d=ya(u,h.bind(a),n);return f?Ar(f):Tr(),d}function gb(e,o){const n=o.split(".");return()=>{let a=e;for(let u=0;u<n.length&&a;u++)a=a[n[u]];return a}}function Jr(e,o){if(!nn(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),bn(e))Jr(e.value,o);else if(lt(e))for(let n=0;n<e.length;n++)Jr(e[n],o);else if(go(e)||Zo(e))e.forEach(n=>{Jr(n,o)});else if(F1(e))for(const n in e)Jr(e[n],o);return e}function wf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wa(()=>{e.isMounted=!0}),Gu(()=>{e.isUnmounting=!0}),e}const mi=[Function,Array],SD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mi,onEnter:mi,onAfterEnter:mi,onEnterCancelled:mi,onBeforeLeave:mi,onLeave:mi,onAfterLeave:mi,onLeaveCancelled:mi,onBeforeAppear:mi,onAppear:mi,onAfterAppear:mi,onAppearCancelled:mi},setup(e,{slots:o}){const n=tr(),a=wf();let u;return()=>{const h=o.default&&Uu(o.default(),!0);if(!h||!h.length)return;let f=h[0];if(h.length>1){for(const j of h)if(j.type!==Wn){f=j;break}}const d=Bt(e),{mode:g}=d;if(a.isLeaving)return td(f);const m=py(f);if(!m)return td(f);const x=ts(m,d,a,n);lo(m,x);const _=n.subTree,T=_&&py(_);let B=!1;const{getTransitionKey:M}=m.type;if(M){const j=M();u===void 0?u=j:j!==u&&(u=j,B=!0)}if(T&&T.type!==Wn&&(!wi(m,T)||B)){const j=ts(T,d,a,n);if(lo(T,j),g==="out-in")return a.isLeaving=!0,j.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},td(f);g==="in-out"&&m.type!==Wn&&(j.delayLeave=(V,F,L)=>{const Y=mb(a,T);Y[String(T.key)]=T,V._leaveCb=()=>{F(),V._leaveCb=void 0,delete x.delayedLeave},x.delayedLeave=L})}return f}}},xf=SD;function mb(e,o){const{leavingVNodes:n}=e;let a=n.get(o.type);return a||(a=Object.create(null),n.set(o.type,a)),a}function ts(e,o,n,a){const{appear:u,mode:h,persisted:f=!1,onBeforeEnter:d,onEnter:g,onAfterEnter:m,onEnterCancelled:x,onBeforeLeave:_,onLeave:T,onAfterLeave:B,onLeaveCancelled:M,onBeforeAppear:j,onAppear:V,onAfterAppear:F,onAppearCancelled:L}=o,Y=String(e.key),ce=mb(n,e),pe=(le,xe)=>{le&&di(le,a,9,xe)},me=(le,xe)=>{const ze=xe[1];pe(le,xe),lt(le)?le.every(J=>J.length<=1)&&ze():le.length<=1&&ze()},ve={mode:h,persisted:f,beforeEnter(le){let xe=d;if(!n.isMounted)if(u)xe=j||d;else return;le._leaveCb&&le._leaveCb(!0);const ze=ce[Y];ze&&wi(e,ze)&&ze.el._leaveCb&&ze.el._leaveCb(),pe(xe,[le])},enter(le){let xe=g,ze=m,J=x;if(!n.isMounted)if(u)xe=V||g,ze=F||m,J=L||x;else return;let ue=!1;const be=le._enterCb=Se=>{ue||(ue=!0,Se?pe(J,[le]):pe(ze,[le]),ve.delayedLeave&&ve.delayedLeave(),le._enterCb=void 0)};xe?me(xe,[le,be]):be()},leave(le,xe){const ze=String(e.key);if(le._enterCb&&le._enterCb(!0),n.isUnmounting)return xe();pe(_,[le]);let J=!1;const ue=le._leaveCb=be=>{J||(J=!0,xe(),be?pe(M,[le]):pe(B,[le]),le._leaveCb=void 0,ce[ze]===e&&delete ce[ze])};ce[ze]=e,T?me(T,[le,ue]):ue()},clone(le){return ts(le,o,n,a)}};return ve}function td(e){if(ba(e))return e=Fi(e),e.children=null,e}function py(e){return ba(e)?e.children?e.children[0]:void 0:e}function lo(e,o){e.shapeFlag&6&&e.component?lo(e.component.subTree,o):e.shapeFlag&128?(e.ssContent.transition=o.clone(e.ssContent),e.ssFallback.transition=o.clone(e.ssFallback)):e.transition=o}function Uu(e,o=!1,n){let a=[],u=0;for(let h=0;h<e.length;h++){let f=e[h];const d=n==null?f.key:String(n)+String(f.key!=null?f.key:h);f.type===It?(f.patchFlag&128&&u++,a=a.concat(Uu(f.children,o,d))):(o||f.type!==Wn)&&a.push(d!=null?Fi(f,{key:d}):f)}if(u>1)for(let h=0;h<a.length;h++)a[h].patchFlag=-2;return a}function vo(e){return _t(e)?{setup:e,name:e.name}:e}const no=e=>!!e.type.__asyncLoader;function TD(e){_t(e)&&(e={loader:e});const{loader:o,loadingComponent:n,errorComponent:a,delay:u=200,timeout:h,suspensible:f=!0,onError:d}=e;let g=null,m,x=0;const _=()=>(x++,g=null,T()),T=()=>{let B;return g||(B=g=o().catch(M=>{if(M=M instanceof Error?M:new Error(String(M)),d)return new Promise((j,V)=>{d(M,()=>j(_()),()=>V(M),x+1)});throw M}).then(M=>B!==g&&g?g:(M&&(M.__esModule||M[Symbol.toStringTag]==="Module")&&(M=M.default),m=M,M)))};return vo({name:"AsyncComponentWrapper",__asyncLoader:T,get __asyncResolved(){return m},setup(){const B=yn;if(m)return()=>nd(m,B);const M=L=>{g=null,mo(L,B,13,!a)};if(f&&B.suspense||ns)return T().then(L=>()=>nd(L,B)).catch(L=>(M(L),()=>a?Ke(a,{error:L}):null));const j=to(!1),V=to(),F=to(!!u);return u&&setTimeout(()=>{F.value=!1},u),h!=null&&setTimeout(()=>{if(!j.value&&!V.value){const L=new Error(`Async component timed out after ${h}ms.`);M(L),V.value=L}},h),T().then(()=>{j.value=!0,B.parent&&ba(B.parent.vnode)&&Hu(B.parent.update)}).catch(L=>{M(L),V.value=L}),()=>{if(j.value&&m)return nd(m,B);if(V.value&&a)return Ke(a,{error:V.value});if(n&&!F.value)return Ke(n)}}})}function nd(e,o){const{ref:n,props:a,children:u,ce:h}=o.vnode,f=Ke(e,a,u);return f.ref=n,f.ce=h,delete o.vnode.ce,f}const ba=e=>e.type.__isKeepAlive,CD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:o}){const n=tr(),a=n.ctx;if(!a.renderer)return()=>{const L=o.default&&o.default();return L&&L.length===1?L[0]:L};const u=new Map,h=new Set;let f=null;const d=n.suspense,{renderer:{p:g,m,um:x,o:{createElement:_}}}=a,T=_("div");a.activate=(L,Y,ce,pe,me)=>{const ve=L.component;m(L,Y,ce,0,d),g(ve.vnode,L,Y,ce,ve,d,pe,L.slotScopeIds,me),Bn(()=>{ve.isDeactivated=!1,ve.a&&Yo(ve.a);const le=L.props&&L.props.onVnodeMounted;le&&Qn(le,ve.parent,L)},d)},a.deactivate=L=>{const Y=L.component;m(L,T,null,1,d),Bn(()=>{Y.da&&Yo(Y.da);const ce=L.props&&L.props.onVnodeUnmounted;ce&&Qn(ce,Y.parent,L),Y.isDeactivated=!0},d)};function B(L){id(L),x(L,n,d,!0)}function M(L){u.forEach((Y,ce)=>{const pe=Od(Y.type);pe&&(!L||!L(pe))&&j(ce)})}function j(L){const Y=u.get(L);!f||!wi(Y,f)?B(Y):f&&id(f),u.delete(L),h.delete(L)}dn(()=>[e.include,e.exclude],([L,Y])=>{L&&M(ce=>zs(L,ce)),Y&&M(ce=>!zs(Y,ce))},{flush:"post",deep:!0});let V=null;const F=()=>{V!=null&&u.set(V,rd(n.subTree))};return wa(F),Wu(F),Gu(()=>{u.forEach(L=>{const{subTree:Y,suspense:ce}=n,pe=rd(Y);if(L.type===pe.type&&L.key===pe.key){id(pe);const me=pe.component.da;me&&Bn(me,ce);return}B(L)})}),()=>{if(V=null,!o.default)return null;const L=o.default(),Y=L[0];if(L.length>1)return f=null,L;if(!kr(Y)||!(Y.shapeFlag&4)&&!(Y.shapeFlag&128))return f=null,Y;let ce=rd(Y);const pe=ce.type,me=Od(no(ce)?ce.type.__asyncResolved||{}:pe),{include:ve,exclude:le,max:xe}=e;if(ve&&(!me||!zs(ve,me))||le&&me&&zs(le,me))return f=ce,Y;const ze=ce.key==null?pe:ce.key,J=u.get(ze);return ce.el&&(ce=Fi(ce),Y.shapeFlag&128&&(Y.ssContent=ce)),V=ze,J?(ce.el=J.el,ce.component=J.component,ce.transition&&lo(ce,ce.transition),ce.shapeFlag|=512,h.delete(ze),h.add(ze)):(h.add(ze),xe&&h.size>parseInt(xe,10)&&j(h.values().next().value)),ce.shapeFlag|=256,f=ce,hb(Y.type)?Y:ce}}},PD=CD;function zs(e,o){return lt(e)?e.some(n=>zs(n,o)):un(e)?e.split(",").includes(o):dO(e)?e.test(o):!1}function vb(e,o){bb(e,"a",o)}function yb(e,o){bb(e,"da",o)}function bb(e,o,n=yn){const a=e.__wdc||(e.__wdc=()=>{let u=n;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(Vu(o,a,n),n){let u=n.parent;for(;u&&u.parent;)ba(u.parent.vnode)&&kD(a,o,n,u),u=u.parent}}function kD(e,o,n,a){const u=Vu(o,e,a,!0);qu(()=>{nf(a[o],u)},n)}function id(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function rd(e){return e.shapeFlag&128?e.ssContent:e}function Vu(e,o,n=yn,a=!1){if(n){const u=n[e]||(n[e]=[]),h=o.__weh||(o.__weh=(...f)=>{if(n.isUnmounted)return;us(),Ar(n);const d=di(o,n,e,f);return Tr(),cs(),d});return a?u.unshift(h):u.push(h),h}}const er=e=>(o,n=yn)=>(!ns||e==="sp")&&Vu(e,(...a)=>o(...a),n),wb=er("bm"),wa=er("m"),xb=er("bu"),Wu=er("u"),Gu=er("bum"),qu=er("um"),_b=er("sp"),Eb=er("rtg"),Sb=er("rtc");function Tb(e,o=yn){Vu("ec",e,o)}function Vn(e,o){const n=In;if(n===null)return e;const a=Zu(n)||n.proxy,u=e.dirs||(e.dirs=[]);for(let h=0;h<o.length;h++){let[f,d,g,m=tn]=o[h];f&&(_t(f)&&(f={mounted:f,updated:f}),f.deep&&Jr(d),u.push({dir:f,instance:a,value:d,oldValue:void 0,arg:g,modifiers:m}))}return e}function Mi(e,o,n,a){const u=e.dirs,h=o&&o.dirs;for(let f=0;f<u.length;f++){const d=u[f];h&&(d.oldValue=h[f].value);let g=d.dir[a];g&&(us(),di(g,n,8,[e.el,d,e,o]),cs())}}const _f="components",AD="directives";function Mt(e,o){return Ef(_f,e,!0,o)||e}const Cb=Symbol();function Pb(e){return un(e)?Ef(_f,e,!1)||e:e||Cb}function RD(e){return Ef(AD,e)}function Ef(e,o,n=!0,a=!1){const u=In||yn;if(u){const h=u.type;if(e===_f){const d=Od(h,!1);if(d&&(d===o||d===ei(o)||d===ga(ei(o))))return h}const f=gy(u[e]||h[e],o)||gy(u.appContext[e],o);return!f&&a?h:f}}function gy(e,o){return e&&(e[o]||e[ei(o)]||e[ga(ei(o))])}function Nn(e,o,n,a){let u;const h=n&&n[a];if(lt(e)||un(e)){u=new Array(e.length);for(let f=0,d=e.length;f<d;f++)u[f]=o(e[f],f,void 0,h&&h[f])}else if(typeof e=="number"){u=new Array(e);for(let f=0;f<e;f++)u[f]=o(f+1,f,void 0,h&&h[f])}else if(nn(e))if(e[Symbol.iterator])u=Array.from(e,(f,d)=>o(f,d,void 0,h&&h[d]));else{const f=Object.keys(e);u=new Array(f.length);for(let d=0,g=f.length;d<g;d++){const m=f[d];u[d]=o(e[m],m,d,h&&h[d])}}else u=[];return n&&(n[a]=u),u}function OD(e,o){for(let n=0;n<o.length;n++){const a=o[n];if(lt(a))for(let u=0;u<a.length;u++)e[a[u].name]=a[u].fn;else a&&(e[a.name]=a.key?(...u)=>{const h=a.fn(...u);return h&&(h.key=a.key),h}:a.fn)}return e}function kb(e,o,n={},a,u){if(In.isCE||In.parent&&no(In.parent)&&In.parent.isCE)return o!=="default"&&(n.name=o),Ke("slot",n,a&&a());let h=e[o];h&&h._c&&(h._d=!1),Le();const f=h&&Ab(h(n)),d=Si(It,{key:n.key||f&&f.key||`_${o}`},f||(a?a():[]),f&&e._===1?64:-2);return!u&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),h&&h._c&&(h._d=!0),d}function Ab(e){return e.some(o=>kr(o)?!(o.type===Wn||o.type===It&&!Ab(o.children)):!0)?e:null}function DD(e,o){const n={};for(const a in e)n[o&&/[A-Z]/.test(a)?`on:${a}`:Vs(a)]=e[a];return n}const _d=e=>e?Xb(e)?Zu(e)||e.proxy:_d(e.parent):null,Ws=wn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_d(e.parent),$root:e=>_d(e.root),$emit:e=>e.emit,$options:e=>Sf(e),$forceUpdate:e=>e.f||(e.f=()=>Hu(e.update)),$nextTick:e=>e.n||(e.n=Lu.bind(e.proxy)),$watch:e=>ED.bind(e)}),od=(e,o)=>e!==tn&&!e.__isScriptSetup&&zt(e,o),Ed={get({_:e},o){const{ctx:n,setupState:a,data:u,props:h,accessCache:f,type:d,appContext:g}=e;let m;if(o[0]!=="$"){const B=f[o];if(B!==void 0)switch(B){case 1:return a[o];case 2:return u[o];case 4:return n[o];case 3:return h[o]}else{if(od(a,o))return f[o]=1,a[o];if(u!==tn&&zt(u,o))return f[o]=2,u[o];if((m=e.propsOptions[0])&&zt(m,o))return f[o]=3,h[o];if(n!==tn&&zt(n,o))return f[o]=4,n[o];Sd&&(f[o]=0)}}const x=Ws[o];let _,T;if(x)return o==="$attrs"&&ti(e,"get",o),x(e);if((_=d.__cssModules)&&(_=_[o]))return _;if(n!==tn&&zt(n,o))return f[o]=4,n[o];if(T=g.config.globalProperties,zt(T,o))return T[o]},set({_:e},o,n){const{data:a,setupState:u,ctx:h}=e;return od(u,o)?(u[o]=n,!0):a!==tn&&zt(a,o)?(a[o]=n,!0):zt(e.props,o)||o[0]==="$"&&o.slice(1)in e?!1:(h[o]=n,!0)},has({_:{data:e,setupState:o,accessCache:n,ctx:a,appContext:u,propsOptions:h}},f){let d;return!!n[f]||e!==tn&&zt(e,f)||od(o,f)||(d=h[0])&&zt(d,f)||zt(a,f)||zt(Ws,f)||zt(u.config.globalProperties,f)},defineProperty(e,o,n){return n.get!=null?e._.accessCache[o]=0:zt(n,"value")&&this.set(e,o,n.value,null),Reflect.defineProperty(e,o,n)}},MD=wn({},Ed,{get(e,o){if(o!==Symbol.unscopables)return Ed.get(e,o,e)},has(e,o){return o[0]!=="_"&&!eO(o)}});let Sd=!0;function BD(e){const o=Sf(e),n=e.proxy,a=e.ctx;Sd=!1,o.beforeCreate&&my(o.beforeCreate,e,"bc");const{data:u,computed:h,methods:f,watch:d,provide:g,inject:m,created:x,beforeMount:_,mounted:T,beforeUpdate:B,updated:M,activated:j,deactivated:V,beforeDestroy:F,beforeUnmount:L,destroyed:Y,unmounted:ce,render:pe,renderTracked:me,renderTriggered:ve,errorCaptured:le,serverPrefetch:xe,expose:ze,inheritAttrs:J,components:ue,directives:be,filters:Se}=o;if(m&&ID(m,a,null,e.appContext.config.unwrapInjectedRef),f)for(const _e in f){const Ce=f[_e];_t(Ce)&&(a[_e]=Ce.bind(n))}if(u){const _e=u.call(n,n);nn(_e)&&(e.data=va(_e))}if(Sd=!0,h)for(const _e in h){const Ce=h[_e],nt=_t(Ce)?Ce.bind(n,n):_t(Ce.get)?Ce.get.bind(n,n):Ei,Ne=!_t(Ce)&&_t(Ce.set)?Ce.set.bind(n):Ei,wt=Rn({get:nt,set:Ne});Object.defineProperty(a,_e,{enumerable:!0,configurable:!0,get:()=>wt.value,set:kt=>wt.value=kt})}if(d)for(const _e in d)Rb(d[_e],a,n,_e);if(g){const _e=_t(g)?g.call(n):g;Reflect.ownKeys(_e).forEach(Ce=>{fb(Ce,_e[Ce])})}x&&my(x,e,"c");function at(_e,Ce){lt(Ce)?Ce.forEach(nt=>_e(nt.bind(n))):Ce&&_e(Ce.bind(n))}if(at(wb,_),at(wa,T),at(xb,B),at(Wu,M),at(vb,j),at(yb,V),at(Tb,le),at(Sb,me),at(Eb,ve),at(Gu,L),at(qu,ce),at(_b,xe),lt(ze))if(ze.length){const _e=e.exposed||(e.exposed={});ze.forEach(Ce=>{Object.defineProperty(_e,Ce,{get:()=>n[Ce],set:nt=>n[Ce]=nt})})}else e.exposed||(e.exposed={});pe&&e.render===Ei&&(e.render=pe),J!=null&&(e.inheritAttrs=J),ue&&(e.components=ue),be&&(e.directives=be)}function ID(e,o,n=Ei,a=!1){lt(e)&&(e=Td(e));for(const u in e){const h=e[u];let f;nn(h)?"default"in h?f=Qo(h.from||u,h.default,!0):f=Qo(h.from||u):f=Qo(h),bn(f)&&a?Object.defineProperty(o,u,{enumerable:!0,configurable:!0,get:()=>f.value,set:d=>f.value=d}):o[u]=f}}function my(e,o,n){di(lt(e)?e.map(a=>a.bind(o.proxy)):e.bind(o.proxy),o,n)}function Rb(e,o,n,a){const u=a.includes(".")?gb(n,a):()=>n[a];if(un(e)){const h=o[e];_t(h)&&dn(u,h)}else if(_t(e))dn(u,e.bind(n));else if(nn(e))if(lt(e))e.forEach(h=>Rb(h,o,n,a));else{const h=_t(e.handler)?e.handler.bind(n):o[e.handler];_t(h)&&dn(u,h,e)}}function Sf(e){const o=e.type,{mixins:n,extends:a}=o,{mixins:u,optionsCache:h,config:{optionMergeStrategies:f}}=e.appContext,d=h.get(o);let g;return d?g=d:!u.length&&!n&&!a?g=o:(g={},u.length&&u.forEach(m=>bu(g,m,f,!0)),bu(g,o,f)),nn(o)&&h.set(o,g),g}function bu(e,o,n,a=!1){const{mixins:u,extends:h}=o;h&&bu(e,h,n,!0),u&&u.forEach(f=>bu(e,f,n,!0));for(const f in o)if(!(a&&f==="expose")){const d=ND[f]||n&&n[f];e[f]=d?d(e[f],o[f]):o[f]}return e}const ND={data:vy,props:Zr,emits:Zr,methods:Zr,computed:Zr,beforeCreate:qn,created:qn,beforeMount:qn,mounted:qn,beforeUpdate:qn,updated:qn,beforeDestroy:qn,beforeUnmount:qn,destroyed:qn,unmounted:qn,activated:qn,deactivated:qn,errorCaptured:qn,serverPrefetch:qn,components:Zr,directives:Zr,watch:LD,provide:vy,inject:FD};function vy(e,o){return o?e?function(){return wn(_t(e)?e.call(this,this):e,_t(o)?o.call(this,this):o)}:o:e}function FD(e,o){return Zr(Td(e),Td(o))}function Td(e){if(lt(e)){const o={};for(let n=0;n<e.length;n++)o[e[n]]=e[n];return o}return e}function qn(e,o){return e?[...new Set([].concat(e,o))]:o}function Zr(e,o){return e?wn(wn(Object.create(null),e),o):o}function LD(e,o){if(!e)return o;if(!o)return e;const n=wn(Object.create(null),e);for(const a in o)n[a]=qn(e[a],o[a]);return n}function HD(e,o,n,a=!1){const u={},h={};pu(h,Xu,1),e.propsDefaults=Object.create(null),Ob(e,o,u,h);for(const f in e.propsOptions[0])f in u||(u[f]=void 0);n?e.props=a?u:Q1(u):e.type.props?e.props=u:e.props=h,e.attrs=h}function zD(e,o,n,a){const{props:u,attrs:h,vnode:{patchFlag:f}}=e,d=Bt(u),[g]=e.propsOptions;let m=!1;if((a||f>0)&&!(f&16)){if(f&8){const x=e.vnode.dynamicProps;for(let _=0;_<x.length;_++){let T=x[_];if(zu(e.emitsOptions,T))continue;const B=o[T];if(g)if(zt(h,T))B!==h[T]&&(h[T]=B,m=!0);else{const M=ei(T);u[M]=Cd(g,d,M,B,e,!1)}else B!==h[T]&&(h[T]=B,m=!0)}}}else{Ob(e,o,u,h)&&(m=!0);let x;for(const _ in d)(!o||!zt(o,_)&&((x=vi(_))===_||!zt(o,x)))&&(g?n&&(n[_]!==void 0||n[x]!==void 0)&&(u[_]=Cd(g,d,_,void 0,e,!0)):delete u[_]);if(h!==d)for(const _ in h)(!o||!zt(o,_)&&!0)&&(delete h[_],m=!0)}m&&Ki(e,"set","$attrs")}function Ob(e,o,n,a){const[u,h]=e.propsOptions;let f=!1,d;if(o)for(let g in o){if(Us(g))continue;const m=o[g];let x;u&&zt(u,x=ei(g))?!h||!h.includes(x)?n[x]=m:(d||(d={}))[x]=m:zu(e.emitsOptions,g)||(!(g in a)||m!==a[g])&&(a[g]=m,f=!0)}if(h){const g=Bt(n),m=d||tn;for(let x=0;x<h.length;x++){const _=h[x];n[_]=Cd(u,g,_,m[_],e,!zt(m,_))}}return f}function Cd(e,o,n,a,u,h){const f=e[n];if(f!=null){const d=zt(f,"default");if(d&&a===void 0){const g=f.default;if(f.type!==Function&&_t(g)){const{propsDefaults:m}=u;n in m?a=m[n]:(Ar(u),a=m[n]=g.call(null,o),Tr())}else a=g}f[0]&&(h&&!d?a=!1:f[1]&&(a===""||a===vi(n))&&(a=!0))}return a}function Db(e,o,n=!1){const a=o.propsCache,u=a.get(e);if(u)return u;const h=e.props,f={},d=[];let g=!1;if(!_t(e)){const x=_=>{g=!0;const[T,B]=Db(_,o,!0);wn(f,T),B&&d.push(...B)};!n&&o.mixins.length&&o.mixins.forEach(x),e.extends&&x(e.extends),e.mixins&&e.mixins.forEach(x)}if(!h&&!g)return nn(e)&&a.set(e,Xo),Xo;if(lt(h))for(let x=0;x<h.length;x++){const _=ei(h[x]);yy(_)&&(f[_]=tn)}else if(h)for(const x in h){const _=ei(x);if(yy(_)){const T=h[x],B=f[_]=lt(T)||_t(T)?{type:T}:Object.assign({},T);if(B){const M=xy(Boolean,B.type),j=xy(String,B.type);B[0]=M>-1,B[1]=j<0||M<j,(M>-1||zt(B,"default"))&&d.push(_)}}}const m=[f,d];return nn(e)&&a.set(e,m),m}function yy(e){return e[0]!=="$"}function by(e){const o=e&&e.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:e===null?"null":""}function wy(e,o){return by(e)===by(o)}function xy(e,o){return lt(o)?o.findIndex(n=>wy(n,e)):_t(o)&&wy(o,e)?0:-1}const Mb=e=>e[0]==="_"||e==="$stable",Tf=e=>lt(e)?e.map(hi):[hi(e)],jD=(e,o,n)=>{if(o._n)return o;const a=Di((...u)=>Tf(o(...u)),n);return a._c=!1,a},Bb=(e,o,n)=>{const a=e._ctx;for(const u in e){if(Mb(u))continue;const h=e[u];if(_t(h))o[u]=jD(u,h,a);else if(h!=null){const f=Tf(h);o[u]=()=>f}}},Ib=(e,o)=>{const n=Tf(o);e.slots.default=()=>n},UD=(e,o)=>{if(e.vnode.shapeFlag&32){const n=o._;n?(e.slots=Bt(o),pu(o,"_",n)):Bb(o,e.slots={})}else e.slots={},o&&Ib(e,o);pu(e.slots,Xu,1)},VD=(e,o,n)=>{const{vnode:a,slots:u}=e;let h=!0,f=tn;if(a.shapeFlag&32){const d=o._;d?n&&d===1?h=!1:(wn(u,o),!n&&d===1&&delete u._):(h=!o.$stable,Bb(o,u)),f=o}else o&&(Ib(e,o),f={default:1});if(h)for(const d in u)!Mb(d)&&!(d in f)&&delete u[d]};function Nb(){return{app:null,config:{isNativeTag:uO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WD=0;function GD(e,o){return function(a,u=null){_t(a)||(a=Object.assign({},a)),u!=null&&!nn(u)&&(u=null);const h=Nb(),f=new Set;let d=!1;const g=h.app={_uid:WD++,_component:a,_props:u,_container:null,_context:h,_instance:null,version:tw,get config(){return h.config},set config(m){},use(m,...x){return f.has(m)||(m&&_t(m.install)?(f.add(m),m.install(g,...x)):_t(m)&&(f.add(m),m(g,...x))),g},mixin(m){return h.mixins.includes(m)||h.mixins.push(m),g},component(m,x){return x?(h.components[m]=x,g):h.components[m]},directive(m,x){return x?(h.directives[m]=x,g):h.directives[m]},mount(m,x,_){if(!d){const T=Ke(a,u);return T.appContext=h,x&&o?o(T,m):e(T,m,_),d=!0,g._container=m,m.__vue_app__=g,Zu(T.component)||T.component.proxy}},unmount(){d&&(e(null,g._container),delete g._container.__vue_app__)},provide(m,x){return h.provides[m]=x,g}};return g}}function wu(e,o,n,a,u=!1){if(lt(e)){e.forEach((T,B)=>wu(T,o&&(lt(o)?o[B]:o),n,a,u));return}if(no(a)&&!u)return;const h=a.shapeFlag&4?Zu(a.component)||a.component.proxy:a.el,f=u?null:h,{i:d,r:g}=e,m=o&&o.r,x=d.refs===tn?d.refs={}:d.refs,_=d.setupState;if(m!=null&&m!==g&&(un(m)?(x[m]=null,zt(_,m)&&(_[m]=null)):bn(m)&&(m.value=null)),_t(g))Zi(g,d,12,[f,x]);else{const T=un(g),B=bn(g);if(T||B){const M=()=>{if(e.f){const j=T?zt(_,g)?_[g]:x[g]:g.value;u?lt(j)&&nf(j,h):lt(j)?j.includes(h)||j.push(h):T?(x[g]=[h],zt(_,g)&&(_[g]=x[g])):(g.value=[h],e.k&&(x[e.k]=g.value))}else T?(x[g]=f,zt(_,g)&&(_[g]=f)):B&&(g.value=f,e.k&&(x[e.k]=f))};f?(M.id=-1,Bn(M,n)):M()}}}let mr=!1;const ql=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Xl=e=>e.nodeType===8;function qD(e){const{mt:o,p:n,o:{patchProp:a,createText:u,nextSibling:h,parentNode:f,remove:d,insert:g,createComment:m}}=e,x=(F,L)=>{if(!L.hasChildNodes()){n(null,F,L),yu(),L._vnode=F;return}mr=!1,_(L.firstChild,F,null,null,null),yu(),L._vnode=F,mr&&console.error("Hydration completed but contains mismatches.")},_=(F,L,Y,ce,pe,me=!1)=>{const ve=Xl(F)&&F.data==="[",le=()=>j(F,L,Y,ce,pe,ve),{type:xe,ref:ze,shapeFlag:J,patchFlag:ue}=L;let be=F.nodeType;L.el=F,ue===-2&&(me=!1,L.dynamicChildren=null);let Se=null;switch(xe){case uo:be!==3?L.children===""?(g(L.el=u(""),f(F),F),Se=F):Se=le():(F.data!==L.children&&(mr=!0,F.data=L.children),Se=h(F));break;case Wn:be!==8||ve?Se=le():Se=h(F);break;case io:if(ve&&(F=h(F),be=F.nodeType),be===1||be===3){Se=F;const ut=!L.children.length;for(let at=0;at<L.staticCount;at++)ut&&(L.children+=Se.nodeType===1?Se.outerHTML:Se.data),at===L.staticCount-1&&(L.anchor=Se),Se=h(Se);return ve?h(Se):Se}else le();break;case It:ve?Se=M(F,L,Y,ce,pe,me):Se=le();break;default:if(J&1)be!==1||L.type.toLowerCase()!==F.tagName.toLowerCase()?Se=le():Se=T(F,L,Y,ce,pe,me);else if(J&6){L.slotScopeIds=pe;const ut=f(F);if(o(L,ut,null,Y,ce,ql(ut),me),Se=ve?V(F):h(F),Se&&Xl(Se)&&Se.data==="teleport end"&&(Se=h(Se)),no(L)){let at;ve?(at=Ke(It),at.anchor=Se?Se.previousSibling:ut.lastChild):at=F.nodeType===3?$t(""):Ke("div"),at.el=F,L.component.subTree=at}}else J&64?be!==8?Se=le():Se=L.type.hydrate(F,L,Y,ce,pe,me,e,B):J&128&&(Se=L.type.hydrate(F,L,Y,ce,ql(f(F)),pe,me,e,_))}return ze!=null&&wu(ze,null,ce,L),Se},T=(F,L,Y,ce,pe,me)=>{me=me||!!L.dynamicChildren;const{type:ve,props:le,patchFlag:xe,shapeFlag:ze,dirs:J}=L,ue=ve==="input"&&J||ve==="option";if(ue||xe!==-1){if(J&&Mi(L,null,Y,"created"),le)if(ue||!me||xe&48)for(const Se in le)(ue&&Se.endsWith("value")||pa(Se)&&!Us(Se))&&a(F,Se,null,le[Se],!1,void 0,Y);else le.onClick&&a(F,"onClick",null,le.onClick,!1,void 0,Y);let be;if((be=le&&le.onVnodeBeforeMount)&&Qn(be,Y,L),J&&Mi(L,null,Y,"beforeMount"),((be=le&&le.onVnodeMounted)||J)&&db(()=>{be&&Qn(be,Y,L),J&&Mi(L,null,Y,"mounted")},ce),ze&16&&!(le&&(le.innerHTML||le.textContent))){let Se=B(F.firstChild,L,F,Y,ce,pe,me);for(;Se;){mr=!0;const ut=Se;Se=Se.nextSibling,d(ut)}}else ze&8&&F.textContent!==L.children&&(mr=!0,F.textContent=L.children)}return F.nextSibling},B=(F,L,Y,ce,pe,me,ve)=>{ve=ve||!!L.dynamicChildren;const le=L.children,xe=le.length;for(let ze=0;ze<xe;ze++){const J=ve?le[ze]:le[ze]=hi(le[ze]);if(F)F=_(F,J,ce,pe,me,ve);else{if(J.type===uo&&!J.children)continue;mr=!0,n(null,J,Y,null,ce,pe,ql(Y),me)}}return F},M=(F,L,Y,ce,pe,me)=>{const{slotScopeIds:ve}=L;ve&&(pe=pe?pe.concat(ve):ve);const le=f(F),xe=B(h(F),L,le,Y,ce,pe,me);return xe&&Xl(xe)&&xe.data==="]"?h(L.anchor=xe):(mr=!0,g(L.anchor=m("]"),le,xe),xe)},j=(F,L,Y,ce,pe,me)=>{if(mr=!0,L.el=null,me){const xe=V(F);for(;;){const ze=h(F);if(ze&&ze!==xe)d(ze);else break}}const ve=h(F),le=f(F);return d(F),n(null,L,le,ve,Y,ce,ql(le),pe),ve},V=F=>{let L=0;for(;F;)if(F=h(F),F&&Xl(F)&&(F.data==="["&&L++,F.data==="]")){if(L===0)return h(F);L--}return F};return[x,_]}const Bn=db;function Fb(e){return Hb(e)}function Lb(e){return Hb(e,qD)}function Hb(e,o){const n=mO();n.__VUE__=!0;const{insert:a,remove:u,patchProp:h,createElement:f,createText:d,createComment:g,setText:m,setElementText:x,parentNode:_,nextSibling:T,setScopeId:B=Ei,insertStaticContent:M}=e,j=(X,ne,E,N=null,$=null,ae=null,se=!1,ie=null,fe=!!ne.dynamicChildren)=>{if(X===ne)return;X&&!wi(X,ne)&&(N=fn(X),kt(X,$,ae,!0),X=null),ne.patchFlag===-2&&(fe=!1,ne.dynamicChildren=null);const{type:de,ref:ke,shapeFlag:Me}=ne;switch(de){case uo:V(X,ne,E,N);break;case Wn:F(X,ne,E,N);break;case io:X==null&&L(ne,E,N,se);break;case It:ue(X,ne,E,N,$,ae,se,ie,fe);break;default:Me&1?pe(X,ne,E,N,$,ae,se,ie,fe):Me&6?be(X,ne,E,N,$,ae,se,ie,fe):(Me&64||Me&128)&&de.process(X,ne,E,N,$,ae,se,ie,fe,Et)}ke!=null&&$&&wu(ke,X&&X.ref,ae,ne||X,!ne)},V=(X,ne,E,N)=>{if(X==null)a(ne.el=d(ne.children),E,N);else{const $=ne.el=X.el;ne.children!==X.children&&m($,ne.children)}},F=(X,ne,E,N)=>{X==null?a(ne.el=g(ne.children||""),E,N):ne.el=X.el},L=(X,ne,E,N)=>{[X.el,X.anchor]=M(X.children,ne,E,N,X.el,X.anchor)},Y=({el:X,anchor:ne},E,N)=>{let $;for(;X&&X!==ne;)$=T(X),a(X,E,N),X=$;a(ne,E,N)},ce=({el:X,anchor:ne})=>{let E;for(;X&&X!==ne;)E=T(X),u(X),X=E;u(ne)},pe=(X,ne,E,N,$,ae,se,ie,fe)=>{se=se||ne.type==="svg",X==null?me(ne,E,N,$,ae,se,ie,fe):xe(X,ne,$,ae,se,ie,fe)},me=(X,ne,E,N,$,ae,se,ie)=>{let fe,de;const{type:ke,props:Me,shapeFlag:Pe,transition:Ye,dirs:Ve}=X;if(fe=X.el=f(X.type,ae,Me&&Me.is,Me),Pe&8?x(fe,X.children):Pe&16&&le(X.children,fe,null,N,$,ae&&ke!=="foreignObject",se,ie),Ve&&Mi(X,null,N,"created"),ve(fe,X,X.scopeId,se,N),Me){for(const Be in Me)Be!=="value"&&!Us(Be)&&h(fe,Be,null,Me[Be],ae,X.children,N,$,Rt);"value"in Me&&h(fe,"value",null,Me.value),(de=Me.onVnodeBeforeMount)&&Qn(de,N,X)}Ve&&Mi(X,null,N,"beforeMount");const Te=(!$||$&&!$.pendingBranch)&&Ye&&!Ye.persisted;Te&&Ye.beforeEnter(fe),a(fe,ne,E),((de=Me&&Me.onVnodeMounted)||Te||Ve)&&Bn(()=>{de&&Qn(de,N,X),Te&&Ye.enter(fe),Ve&&Mi(X,null,N,"mounted")},$)},ve=(X,ne,E,N,$)=>{if(E&&B(X,E),N)for(let ae=0;ae<N.length;ae++)B(X,N[ae]);if($){let ae=$.subTree;if(ne===ae){const se=$.vnode;ve(X,se,se.scopeId,se.slotScopeIds,$.parent)}}},le=(X,ne,E,N,$,ae,se,ie,fe=0)=>{for(let de=fe;de<X.length;de++){const ke=X[de]=ie?_r(X[de]):hi(X[de]);j(null,ke,ne,E,N,$,ae,se,ie)}},xe=(X,ne,E,N,$,ae,se)=>{const ie=ne.el=X.el;let{patchFlag:fe,dynamicChildren:de,dirs:ke}=ne;fe|=X.patchFlag&16;const Me=X.props||tn,Pe=ne.props||tn;let Ye;E&&qr(E,!1),(Ye=Pe.onVnodeBeforeUpdate)&&Qn(Ye,E,ne,X),ke&&Mi(ne,X,E,"beforeUpdate"),E&&qr(E,!0);const Ve=$&&ne.type!=="foreignObject";if(de?ze(X.dynamicChildren,de,ie,E,N,Ve,ae):se||Ce(X,ne,ie,null,E,N,Ve,ae,!1),fe>0){if(fe&16)J(ie,ne,Me,Pe,E,N,$);else if(fe&2&&Me.class!==Pe.class&&h(ie,"class",null,Pe.class,$),fe&4&&h(ie,"style",Me.style,Pe.style,$),fe&8){const Te=ne.dynamicProps;for(let Be=0;Be<Te.length;Be++){const R=Te[Be],A=Me[R],z=Pe[R];(z!==A||R==="value")&&h(ie,R,A,z,$,X.children,E,N,Rt)}}fe&1&&X.children!==ne.children&&x(ie,ne.children)}else!se&&de==null&&J(ie,ne,Me,Pe,E,N,$);((Ye=Pe.onVnodeUpdated)||ke)&&Bn(()=>{Ye&&Qn(Ye,E,ne,X),ke&&Mi(ne,X,E,"updated")},N)},ze=(X,ne,E,N,$,ae,se)=>{for(let ie=0;ie<ne.length;ie++){const fe=X[ie],de=ne[ie],ke=fe.el&&(fe.type===It||!wi(fe,de)||fe.shapeFlag&70)?_(fe.el):E;j(fe,de,ke,null,N,$,ae,se,!0)}},J=(X,ne,E,N,$,ae,se)=>{if(E!==N){if(E!==tn)for(const ie in E)!Us(ie)&&!(ie in N)&&h(X,ie,E[ie],null,se,ne.children,$,ae,Rt);for(const ie in N){if(Us(ie))continue;const fe=N[ie],de=E[ie];fe!==de&&ie!=="value"&&h(X,ie,de,fe,se,ne.children,$,ae,Rt)}"value"in N&&h(X,"value",E.value,N.value)}},ue=(X,ne,E,N,$,ae,se,ie,fe)=>{const de=ne.el=X?X.el:d(""),ke=ne.anchor=X?X.anchor:d("");let{patchFlag:Me,dynamicChildren:Pe,slotScopeIds:Ye}=ne;Ye&&(ie=ie?ie.concat(Ye):Ye),X==null?(a(de,E,N),a(ke,E,N),le(ne.children,E,ke,$,ae,se,ie,fe)):Me>0&&Me&64&&Pe&&X.dynamicChildren?(ze(X.dynamicChildren,Pe,E,$,ae,se,ie),(ne.key!=null||$&&ne===$.subTree)&&Cf(X,ne,!0)):Ce(X,ne,E,ke,$,ae,se,ie,fe)},be=(X,ne,E,N,$,ae,se,ie,fe)=>{ne.slotScopeIds=ie,X==null?ne.shapeFlag&512?$.ctx.activate(ne,E,N,se,fe):Se(ne,E,N,$,ae,se,fe):ut(X,ne,fe)},Se=(X,ne,E,N,$,ae,se)=>{const ie=X.component=qb(X,N,$);if(ba(X)&&(ie.ctx.renderer=Et),Zb(ie),ie.asyncDep){if($&&$.registerDep(ie,at),!X.el){const fe=ie.subTree=Ke(Wn);F(null,fe,ne,E)}return}at(ie,X,ne,E,$,ae,se)},ut=(X,ne,E)=>{const N=ne.component=X.component;if(pD(X,ne,E))if(N.asyncDep&&!N.asyncResolved){_e(N,ne,E);return}else N.next=ne,aD(N.update),N.update();else ne.el=X.el,N.vnode=ne},at=(X,ne,E,N,$,ae,se)=>{const ie=()=>{if(X.isMounted){let{next:ke,bu:Me,u:Pe,parent:Ye,vnode:Ve}=X,Te=ke,Be;qr(X,!1),ke?(ke.el=Ve.el,_e(X,ke,se)):ke=Ve,Me&&Yo(Me),(Be=ke.props&&ke.props.onVnodeBeforeUpdate)&&Qn(Be,Ye,ke,Ve),qr(X,!0);const R=su(X),A=X.subTree;X.subTree=R,j(A,R,_(A.el),fn(A),X,$,ae),ke.el=R.el,Te===null&&yf(X,R.el),Pe&&Bn(Pe,$),(Be=ke.props&&ke.props.onVnodeUpdated)&&Bn(()=>Qn(Be,Ye,ke,Ve),$)}else{let ke;const{el:Me,props:Pe}=ne,{bm:Ye,m:Ve,parent:Te}=X,Be=no(ne);if(qr(X,!1),Ye&&Yo(Ye),!Be&&(ke=Pe&&Pe.onVnodeBeforeMount)&&Qn(ke,Te,ne),qr(X,!0),Me&&ot){const R=()=>{X.subTree=su(X),ot(Me,X.subTree,X,$,null)};Be?ne.type.__asyncLoader().then(()=>!X.isUnmounted&&R()):R()}else{const R=X.subTree=su(X);j(null,R,E,N,X,$,ae),ne.el=R.el}if(Ve&&Bn(Ve,$),!Be&&(ke=Pe&&Pe.onVnodeMounted)){const R=ne;Bn(()=>Qn(ke,Te,R),$)}(ne.shapeFlag&256||Te&&no(Te.vnode)&&Te.vnode.shapeFlag&256)&&X.a&&Bn(X.a,$),X.isMounted=!0,ne=E=N=null}},fe=X.effect=new ma(ie,()=>Hu(de),X.scope),de=X.update=()=>fe.run();de.id=X.uid,qr(X,!0),de()},_e=(X,ne,E)=>{ne.component=X;const N=X.vnode.props;X.vnode=ne,X.next=null,zD(X,ne.props,N,E),VD(X,ne.children,E),us(),hy(),cs()},Ce=(X,ne,E,N,$,ae,se,ie,fe=!1)=>{const de=X&&X.children,ke=X?X.shapeFlag:0,Me=ne.children,{patchFlag:Pe,shapeFlag:Ye}=ne;if(Pe>0){if(Pe&128){Ne(de,Me,E,N,$,ae,se,ie,fe);return}else if(Pe&256){nt(de,Me,E,N,$,ae,se,ie,fe);return}}Ye&8?(ke&16&&Rt(de,$,ae),Me!==de&&x(E,Me)):ke&16?Ye&16?Ne(de,Me,E,N,$,ae,se,ie,fe):Rt(de,$,ae,!0):(ke&8&&x(E,""),Ye&16&&le(Me,E,N,$,ae,se,ie,fe))},nt=(X,ne,E,N,$,ae,se,ie,fe)=>{X=X||Xo,ne=ne||Xo;const de=X.length,ke=ne.length,Me=Math.min(de,ke);let Pe;for(Pe=0;Pe<Me;Pe++){const Ye=ne[Pe]=fe?_r(ne[Pe]):hi(ne[Pe]);j(X[Pe],Ye,E,null,$,ae,se,ie,fe)}de>ke?Rt(X,$,ae,!0,!1,Me):le(ne,E,N,$,ae,se,ie,fe,Me)},Ne=(X,ne,E,N,$,ae,se,ie,fe)=>{let de=0;const ke=ne.length;let Me=X.length-1,Pe=ke-1;for(;de<=Me&&de<=Pe;){const Ye=X[de],Ve=ne[de]=fe?_r(ne[de]):hi(ne[de]);if(wi(Ye,Ve))j(Ye,Ve,E,null,$,ae,se,ie,fe);else break;de++}for(;de<=Me&&de<=Pe;){const Ye=X[Me],Ve=ne[Pe]=fe?_r(ne[Pe]):hi(ne[Pe]);if(wi(Ye,Ve))j(Ye,Ve,E,null,$,ae,se,ie,fe);else break;Me--,Pe--}if(de>Me){if(de<=Pe){const Ye=Pe+1,Ve=Ye<ke?ne[Ye].el:N;for(;de<=Pe;)j(null,ne[de]=fe?_r(ne[de]):hi(ne[de]),E,Ve,$,ae,se,ie,fe),de++}}else if(de>Pe)for(;de<=Me;)kt(X[de],$,ae,!0),de++;else{const Ye=de,Ve=de,Te=new Map;for(de=Ve;de<=Pe;de++){const it=ne[de]=fe?_r(ne[de]):hi(ne[de]);it.key!=null&&Te.set(it.key,de)}let Be,R=0;const A=Pe-Ve+1;let z=!1,W=0;const ye=new Array(A);for(de=0;de<A;de++)ye[de]=0;for(de=Ye;de<=Me;de++){const it=X[de];if(R>=A){kt(it,$,ae,!0);continue}let St;if(it.key!=null)St=Te.get(it.key);else for(Be=Ve;Be<=Pe;Be++)if(ye[Be-Ve]===0&&wi(it,ne[Be])){St=Be;break}St===void 0?kt(it,$,ae,!0):(ye[St-Ve]=de+1,St>=W?W=St:z=!0,j(it,ne[St],E,null,$,ae,se,ie,fe),R++)}const Fe=z?XD(ye):Xo;for(Be=Fe.length-1,de=A-1;de>=0;de--){const it=Ve+de,St=ne[it],dt=it+1<ke?ne[it+1].el:N;ye[de]===0?j(null,St,E,dt,$,ae,se,ie,fe):z&&(Be<0||de!==Fe[Be]?wt(St,E,dt,2):Be--)}}},wt=(X,ne,E,N,$=null)=>{const{el:ae,type:se,transition:ie,children:fe,shapeFlag:de}=X;if(de&6){wt(X.component.subTree,ne,E,N);return}if(de&128){X.suspense.move(ne,E,N);return}if(de&64){se.move(X,ne,E,Et);return}if(se===It){a(ae,ne,E);for(let Me=0;Me<fe.length;Me++)wt(fe[Me],ne,E,N);a(X.anchor,ne,E);return}if(se===io){Y(X,ne,E);return}if(N!==2&&de&1&&ie)if(N===0)ie.beforeEnter(ae),a(ae,ne,E),Bn(()=>ie.enter(ae),$);else{const{leave:Me,delayLeave:Pe,afterLeave:Ye}=ie,Ve=()=>a(ae,ne,E),Te=()=>{Me(ae,()=>{Ve(),Ye&&Ye()})};Pe?Pe(ae,Ve,Te):Te()}else a(ae,ne,E)},kt=(X,ne,E,N=!1,$=!1)=>{const{type:ae,props:se,ref:ie,children:fe,dynamicChildren:de,shapeFlag:ke,patchFlag:Me,dirs:Pe}=X;if(ie!=null&&wu(ie,null,E,X,!0),ke&256){ne.ctx.deactivate(X);return}const Ye=ke&1&&Pe,Ve=!no(X);let Te;if(Ve&&(Te=se&&se.onVnodeBeforeUnmount)&&Qn(Te,ne,X),ke&6)en(X.component,E,N);else{if(ke&128){X.suspense.unmount(E,N);return}Ye&&Mi(X,null,ne,"beforeUnmount"),ke&64?X.type.remove(X,ne,E,$,Et,N):de&&(ae!==It||Me>0&&Me&64)?Rt(de,ne,E,!1,!0):(ae===It&&Me&384||!$&&ke&16)&&Rt(fe,ne,E),N&&Xt(X)}(Ve&&(Te=se&&se.onVnodeUnmounted)||Ye)&&Bn(()=>{Te&&Qn(Te,ne,X),Ye&&Mi(X,null,ne,"unmounted")},E)},Xt=X=>{const{type:ne,el:E,anchor:N,transition:$}=X;if(ne===It){cn(E,N);return}if(ne===io){ce(X);return}const ae=()=>{u(E),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(X.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:ie}=$,fe=()=>se(E,ae);ie?ie(X.el,ae,fe):fe()}else ae()},cn=(X,ne)=>{let E;for(;X!==ne;)E=T(X),u(X),X=E;u(ne)},en=(X,ne,E)=>{const{bum:N,scope:$,update:ae,subTree:se,um:ie}=X;N&&Yo(N),$.stop(),ae&&(ae.active=!1,kt(se,X,ne,E)),ie&&Bn(ie,ne),Bn(()=>{X.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Rt=(X,ne,E,N=!1,$=!1,ae=0)=>{for(let se=ae;se<X.length;se++)kt(X[se],ne,E,N,$)},fn=X=>X.shapeFlag&6?fn(X.component.subTree):X.shapeFlag&128?X.suspense.next():T(X.anchor||X.el),on=(X,ne,E)=>{X==null?ne._vnode&&kt(ne._vnode,null,null,!0):j(ne._vnode||null,X,ne,null,null,null,E),hy(),yu(),ne._vnode=X},Et={p:j,um:kt,m:wt,r:Xt,mt:Se,mc:le,pc:Ce,pbc:ze,n:fn,o:e};let Xe,ot;return o&&([Xe,ot]=o(Et)),{render:on,hydrate:Xe,createApp:GD(on,Xe)}}function qr({effect:e,update:o},n){e.allowRecurse=o.allowRecurse=n}function Cf(e,o,n=!1){const a=e.children,u=o.children;if(lt(a)&&lt(u))for(let h=0;h<a.length;h++){const f=a[h];let d=u[h];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=u[h]=_r(u[h]),d.el=f.el),n||Cf(f,d)),d.type===uo&&(d.el=f.el)}}function XD(e){const o=e.slice(),n=[0];let a,u,h,f,d;const g=e.length;for(a=0;a<g;a++){const m=e[a];if(m!==0){if(u=n[n.length-1],e[u]<m){o[a]=u,n.push(a);continue}for(h=0,f=n.length-1;h<f;)d=h+f>>1,e[n[d]]<m?h=d+1:f=d;m<e[n[h]]&&(h>0&&(o[a]=n[h-1]),n[h]=a)}}for(h=n.length,f=n[h-1];h-- >0;)n[h]=f,f=o[f];return n}const ZD=e=>e.__isTeleport,Gs=e=>e&&(e.disabled||e.disabled===""),_y=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Pd=(e,o)=>{const n=e&&e.to;return un(n)?o?o(n):null:n},YD={__isTeleport:!0,process(e,o,n,a,u,h,f,d,g,m){const{mc:x,pc:_,pbc:T,o:{insert:B,querySelector:M,createText:j,createComment:V}}=m,F=Gs(o.props);let{shapeFlag:L,children:Y,dynamicChildren:ce}=o;if(e==null){const pe=o.el=j(""),me=o.anchor=j("");B(pe,n,a),B(me,n,a);const ve=o.target=Pd(o.props,M),le=o.targetAnchor=j("");ve&&(B(le,ve),f=f||_y(ve));const xe=(ze,J)=>{L&16&&x(Y,ze,J,u,h,f,d,g)};F?xe(n,me):ve&&xe(ve,le)}else{o.el=e.el;const pe=o.anchor=e.anchor,me=o.target=e.target,ve=o.targetAnchor=e.targetAnchor,le=Gs(e.props),xe=le?n:me,ze=le?pe:ve;if(f=f||_y(me),ce?(T(e.dynamicChildren,ce,xe,u,h,f,d),Cf(e,o,!0)):g||_(e,o,xe,ze,u,h,f,d,!1),F)le||Zl(o,n,pe,m,1);else if((o.props&&o.props.to)!==(e.props&&e.props.to)){const J=o.target=Pd(o.props,M);J&&Zl(o,J,null,m,0)}else le&&Zl(o,me,ve,m,1)}zb(o)},remove(e,o,n,a,{um:u,o:{remove:h}},f){const{shapeFlag:d,children:g,anchor:m,targetAnchor:x,target:_,props:T}=e;if(_&&h(x),(f||!Gs(T))&&(h(m),d&16))for(let B=0;B<g.length;B++){const M=g[B];u(M,o,n,!0,!!M.dynamicChildren)}},move:Zl,hydrate:KD};function Zl(e,o,n,{o:{insert:a},m:u},h=2){h===0&&a(e.targetAnchor,o,n);const{el:f,anchor:d,shapeFlag:g,children:m,props:x}=e,_=h===2;if(_&&a(f,o,n),(!_||Gs(x))&&g&16)for(let T=0;T<m.length;T++)u(m[T],o,n,2);_&&a(d,o,n)}function KD(e,o,n,a,u,h,{o:{nextSibling:f,parentNode:d,querySelector:g}},m){const x=o.target=Pd(o.props,g);if(x){const _=x._lpa||x.firstChild;if(o.shapeFlag&16)if(Gs(o.props))o.anchor=m(f(e),o,d(e),n,a,u,h),o.targetAnchor=_;else{o.anchor=f(e);let T=_;for(;T;)if(T=f(T),T&&T.nodeType===8&&T.data==="teleport anchor"){o.targetAnchor=T,x._lpa=o.targetAnchor&&f(o.targetAnchor);break}m(_,o,x,n,a,u,h)}zb(o)}return o.anchor&&f(o.anchor)}const JD=YD;function zb(e){const o=e.ctx;if(o&&o.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",o.uid),n=n.nextSibling;o.ut()}}const It=Symbol(void 0),uo=Symbol(void 0),Wn=Symbol(void 0),io=Symbol(void 0),qs=[];let $n=null;function Le(e=!1){qs.push($n=e?null:[])}function jb(){qs.pop(),$n=qs[qs.length-1]||null}let co=1;function kd(e){co+=e}function Ub(e){return e.dynamicChildren=co>0?$n||Xo:null,jb(),co>0&&$n&&$n.push(e),e}function Ge(e,o,n,a,u,h){return Ub(K(e,o,n,a,u,h,!0))}function Si(e,o,n,a,u){return Ub(Ke(e,o,n,a,u,!0))}function kr(e){return e?e.__v_isVNode===!0:!1}function wi(e,o){return e.type===o.type&&e.key===o.key}function QD(e){}const Xu="__vInternal",Vb=({key:e})=>e!=null?e:null,au=({ref:e,ref_key:o,ref_for:n})=>e!=null?un(e)||bn(e)||_t(e)?{i:In,r:e,k:o,f:!!n}:e:null;function K(e,o=null,n=null,a=0,u=null,h=e===It?0:1,f=!1,d=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:o,key:o&&Vb(o),ref:o&&au(o),scopeId:ju,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:In};return d?(kf(g,n),h&128&&e.normalize(g)):n&&(g.shapeFlag|=un(n)?8:16),co>0&&!f&&$n&&(g.patchFlag>0||h&6)&&g.patchFlag!==32&&$n.push(g),g}const Ke=$D;function $D(e,o=null,n=null,a=0,u=null,h=!1){if((!e||e===Cb)&&(e=Wn),kr(e)){const d=Fi(e,o,!0);return n&&kf(d,n),co>0&&!h&&$n&&(d.shapeFlag&6?$n[$n.indexOf(e)]=d:$n.push(d)),d.patchFlag|=-2,d}if(s9(e)&&(e=e.__vccOpts),o){o=Wb(o);let{class:d,style:g}=o;d&&!un(d)&&(o.class=Tn(d)),nn(g)&&(df(g)&&!lt(g)&&(g=wn({},g)),o.style=po(g))}const f=un(e)?1:hb(e)?128:ZD(e)?64:nn(e)?4:_t(e)?2:0;return K(e,o,n,a,u,f,h,!0)}function Wb(e){return e?df(e)||Xu in e?wn({},e):e:null}function Fi(e,o,n=!1){const{props:a,ref:u,patchFlag:h,children:f}=e,d=o?Gb(a||{},o):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Vb(d),ref:o&&o.ref?n&&u?lt(u)?u.concat(au(o)):[u,au(o)]:au(o):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:o&&e.type!==It?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fi(e.ssContent),ssFallback:e.ssFallback&&Fi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function $t(e=" ",o=0){return Ke(uo,null,e,o)}function Pf(e,o){const n=Ke(io,null,e);return n.staticCount=o,n}function qt(e="",o=!1){return o?(Le(),Si(Wn,null,e)):Ke(Wn,null,e)}function hi(e){return e==null||typeof e=="boolean"?Ke(Wn):lt(e)?Ke(It,null,e.slice()):typeof e=="object"?_r(e):Ke(uo,null,String(e))}function _r(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fi(e)}function kf(e,o){let n=0;const{shapeFlag:a}=e;if(o==null)o=null;else if(lt(o))n=16;else if(typeof o=="object")if(a&65){const u=o.default;u&&(u._c&&(u._d=!1),kf(e,u()),u._c&&(u._d=!0));return}else{n=32;const u=o._;!u&&!(Xu in o)?o._ctx=In:u===3&&In&&(In.slots._===1?o._=1:(o._=2,e.patchFlag|=1024))}else _t(o)?(o={default:o,_ctx:In},n=32):(o=String(o),a&64?(n=16,o=[$t(o)]):n=8);e.children=o,e.shapeFlag|=n}function Gb(...e){const o={};for(let n=0;n<e.length;n++){const a=e[n];for(const u in a)if(u==="class")o.class!==a.class&&(o.class=Tn([o.class,a.class]));else if(u==="style")o.style=po([o.style,a.style]);else if(pa(u)){const h=o[u],f=a[u];f&&h!==f&&!(lt(h)&&h.includes(f))&&(o[u]=h?[].concat(h,f):f)}else u!==""&&(o[u]=a[u])}return o}function Qn(e,o,n,a=null){di(e,o,7,[n,a])}const e9=Nb();let t9=0;function qb(e,o,n){const a=e.type,u=(o?o.appContext:e.appContext)||e9,h={uid:t9++,vnode:e,type:a,parent:o,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new sf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Db(a,u),emitsOptions:lb(a,u),emit:null,emitted:null,propsDefaults:tn,inheritAttrs:a.inheritAttrs,ctx:tn,data:tn,props:tn,attrs:tn,slots:tn,refs:tn,setupState:tn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=uD.bind(null,h),e.ce&&e.ce(h),h}let yn=null;const tr=()=>yn||In,Ar=e=>{yn=e,e.scope.on()},Tr=()=>{yn&&yn.scope.off(),yn=null};function Xb(e){return e.vnode.shapeFlag&4}let ns=!1;function Zb(e,o=!1){ns=o;const{props:n,children:a}=e.vnode,u=Xb(e);HD(e,n,u,o),UD(e,a);const h=u?n9(e,o):void 0;return ns=!1,h}function n9(e,o){const n=e.type;e.accessCache=Object.create(null),e.proxy=ao(new Proxy(e.ctx,Ed));const{setup:a}=n;if(a){const u=e.setupContext=a.length>1?Kb(e):null;Ar(e),us();const h=Zi(a,e,0,[e.props,u]);if(cs(),Tr(),rf(h)){if(h.then(Tr,Tr),o)return h.then(f=>{Ad(e,f,o)}).catch(f=>{mo(f,e,0)});e.asyncDep=h}else Ad(e,h,o)}else Yb(e,o)}function Ad(e,o,n){_t(o)?e.type.__ssrInlineRender?e.ssrRender=o:e.render=o:nn(o)&&(e.setupState=gf(o)),Yb(e,n)}let xu,Rd;function i9(e){xu=e,Rd=o=>{o.render._rc&&(o.withProxy=new Proxy(o.ctx,MD))}}const r9=()=>!xu;function Yb(e,o,n){const a=e.type;if(!e.render){if(!o&&xu&&!a.render){const u=a.template||Sf(e).template;if(u){const{isCustomElement:h,compilerOptions:f}=e.appContext.config,{delimiters:d,compilerOptions:g}=a,m=wn(wn({isCustomElement:h,delimiters:d},f),g);a.render=xu(u,m)}}e.render=a.render||Ei,Rd&&Rd(e)}Ar(e),us(),BD(e),cs(),Tr()}function o9(e){return new Proxy(e.attrs,{get(o,n){return ti(e,"get","$attrs"),o[n]}})}function Kb(e){const o=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=o9(e))},slots:e.slots,emit:e.emit,expose:o}}function Zu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(gf(ao(e.exposed)),{get(o,n){if(n in o)return o[n];if(n in Ws)return Ws[n](e)},has(o,n){return n in o||n in Ws}}))}function Od(e,o=!0){return _t(e)?e.displayName||e.name:e.name||o&&e.__name}function s9(e){return _t(e)&&"__vccOpts"in e}const Rn=(e,o)=>nD(e,o,ns);function a9(){return null}function l9(){return null}function u9(e){}function c9(e,o){return null}function h9(){return Jb().slots}function d9(){return Jb().attrs}function Jb(){const e=tr();return e.setupContext||(e.setupContext=Kb(e))}function f9(e,o){const n=lt(e)?e.reduce((a,u)=>(a[u]={},a),{}):e;for(const a in o){const u=n[a];u?lt(u)||_t(u)?n[a]={type:u,default:o[a]}:u.default=o[a]:u===null&&(n[a]={default:o[a]})}return n}function p9(e,o){const n={};for(const a in e)o.includes(a)||Object.defineProperty(n,a,{enumerable:!0,get:()=>e[a]});return n}function g9(e){const o=tr();let n=e();return Tr(),rf(n)&&(n=n.catch(a=>{throw Ar(o),a})),[n,()=>Ar(o)]}function is(e,o,n){const a=arguments.length;return a===2?nn(o)&&!lt(o)?kr(o)?Ke(e,null,[o]):Ke(e,o):Ke(e,null,o):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&kr(n)&&(n=[n]),Ke(e,o,n))}const Qb=Symbol(""),$b=()=>Qo(Qb);function m9(){}function v9(e,o,n,a){const u=n[a];if(u&&ew(u,e))return u;const h=o();return h.memo=e.slice(),n[a]=h}function ew(e,o){const n=e.memo;if(n.length!=o.length)return!1;for(let a=0;a<n.length;a++)if(es(n[a],o[a]))return!1;return co>0&&$n&&$n.push(e),!0}const tw="3.2.47",y9={createComponentInstance:qb,setupComponent:Zb,renderComponentRoot:su,setCurrentRenderingInstance:ra,isVNode:kr,normalizeVNode:hi},b9=y9,w9=null,x9=null,_9="http://www.w3.org/2000/svg",Kr=typeof document<"u"?document:null,Ey=Kr&&Kr.createElement("template"),E9={insert:(e,o,n)=>{o.insertBefore(e,n||null)},remove:e=>{const o=e.parentNode;o&&o.removeChild(e)},createElement:(e,o,n,a)=>{const u=o?Kr.createElementNS(_9,e):Kr.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:e=>Kr.createTextNode(e),createComment:e=>Kr.createComment(e),setText:(e,o)=>{e.nodeValue=o},setElementText:(e,o)=>{e.textContent=o},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kr.querySelector(e),setScopeId(e,o){e.setAttribute(o,"")},insertStaticContent(e,o,n,a,u,h){const f=n?n.previousSibling:o.lastChild;if(u&&(u===h||u.nextSibling))for(;o.insertBefore(u.cloneNode(!0),n),!(u===h||!(u=u.nextSibling)););else{Ey.innerHTML=a?`<svg>${e}</svg>`:e;const d=Ey.content;if(a){const g=d.firstChild;for(;g.firstChild;)d.appendChild(g.firstChild);d.removeChild(g)}o.insertBefore(d,n)}return[f?f.nextSibling:o.firstChild,n?n.previousSibling:o.lastChild]}};function S9(e,o,n){const a=e._vtc;a&&(o=(o?[o,...a]:[...a]).join(" ")),o==null?e.removeAttribute("class"):n?e.setAttribute("class",o):e.className=o}function T9(e,o,n){const a=e.style,u=un(n);if(n&&!u){if(o&&!un(o))for(const h in o)n[h]==null&&Dd(a,h,"");for(const h in n)Dd(a,h,n[h])}else{const h=a.display;u?o!==n&&(a.cssText=n):o&&e.removeAttribute("style"),"_vod"in e&&(a.display=h)}}const Sy=/\s*!important$/;function Dd(e,o,n){if(lt(n))n.forEach(a=>Dd(e,o,a));else if(n==null&&(n=""),o.startsWith("--"))e.setProperty(o,n);else{const a=C9(e,o);Sy.test(n)?e.setProperty(vi(a),n.replace(Sy,""),"important"):e[a]=n}}const Ty=["Webkit","Moz","ms"],sd={};function C9(e,o){const n=sd[o];if(n)return n;let a=ei(o);if(a!=="filter"&&a in e)return sd[o]=a;a=ga(a);for(let u=0;u<Ty.length;u++){const h=Ty[u]+a;if(h in e)return sd[o]=h}return o}const Cy="http://www.w3.org/1999/xlink";function P9(e,o,n,a,u){if(a&&o.startsWith("xlink:"))n==null?e.removeAttributeNS(Cy,o.slice(6,o.length)):e.setAttributeNS(Cy,o,n);else{const h=aO(o);n==null||h&&!B1(n)?e.removeAttribute(o):e.setAttribute(o,h?"":n)}}function k9(e,o,n,a,u,h,f){if(o==="innerHTML"||o==="textContent"){a&&f(a,u,h),e[o]=n==null?"":n;return}if(o==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const g=n==null?"":n;(e.value!==g||e.tagName==="OPTION")&&(e.value=g),n==null&&e.removeAttribute(o);return}let d=!1;if(n===""||n==null){const g=typeof e[o];g==="boolean"?n=B1(n):n==null&&g==="string"?(n="",d=!0):g==="number"&&(n=0,d=!0)}try{e[o]=n}catch{}d&&e.removeAttribute(o)}function Wi(e,o,n,a){e.addEventListener(o,n,a)}function A9(e,o,n,a){e.removeEventListener(o,n,a)}function R9(e,o,n,a,u=null){const h=e._vei||(e._vei={}),f=h[o];if(a&&f)f.value=a;else{const[d,g]=O9(o);if(a){const m=h[o]=B9(a,u);Wi(e,d,m,g)}else f&&(A9(e,d,f,g),h[o]=void 0)}}const Py=/(?:Once|Passive|Capture)$/;function O9(e){let o;if(Py.test(e)){o={};let a;for(;a=e.match(Py);)e=e.slice(0,e.length-a[0].length),o[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vi(e.slice(2)),o]}let ad=0;const D9=Promise.resolve(),M9=()=>ad||(D9.then(()=>ad=0),ad=Date.now());function B9(e,o){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;di(I9(a,n.value),o,5,[a])};return n.value=e,n.attached=M9(),n}function I9(e,o){if(lt(o)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},o.map(a=>u=>!u._stopped&&a&&a(u))}else return o}const ky=/^on[a-z]/,N9=(e,o,n,a,u=!1,h,f,d,g)=>{o==="class"?S9(e,a,u):o==="style"?T9(e,n,a):pa(o)?tf(o)||R9(e,o,n,a,f):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):F9(e,o,a,u))?k9(e,o,a,h,f,d,g):(o==="true-value"?e._trueValue=a:o==="false-value"&&(e._falseValue=a),P9(e,o,a,u))};function F9(e,o,n,a){return a?!!(o==="innerHTML"||o==="textContent"||o in e&&ky.test(o)&&_t(n)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&e.tagName==="INPUT"||o==="type"&&e.tagName==="TEXTAREA"||ky.test(o)&&un(n)?!1:o in e}function nw(e,o){const n=vo(e);class a extends Yu{constructor(h){super(n,h,o)}}return a.def=n,a}const L9=e=>nw(e,vw),H9=typeof HTMLElement<"u"?HTMLElement:class{};class Yu extends H9{constructor(o,n={},a){super(),this._def=o,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Lu(()=>{this._connected||(Id(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const u of a)this._setAttr(u.attributeName)}).observe(this,{attributes:!0});const o=(a,u=!1)=>{const{props:h,styles:f}=a;let d;if(h&&!lt(h))for(const g in h){const m=h[g];(m===Number||m&&m.type===Number)&&(g in this._props&&(this._props[g]=mu(this._props[g])),(d||(d=Object.create(null)))[ei(g)]=!0)}this._numberProps=d,u&&this._resolveProps(a),this._applyStyles(f),this._update()},n=this._def.__asyncLoader;n?n().then(a=>o(a,!0)):o(this._def)}_resolveProps(o){const{props:n}=o,a=lt(n)?n:Object.keys(n||{});for(const u of Object.keys(this))u[0]!=="_"&&a.includes(u)&&this._setProp(u,this[u],!0,!1);for(const u of a.map(ei))Object.defineProperty(this,u,{get(){return this._getProp(u)},set(h){this._setProp(u,h)}})}_setAttr(o){let n=this.getAttribute(o);const a=ei(o);this._numberProps&&this._numberProps[a]&&(n=mu(n)),this._setProp(a,n,!1)}_getProp(o){return this._props[o]}_setProp(o,n,a=!0,u=!0){n!==this._props[o]&&(this._props[o]=n,u&&this._instance&&this._update(),a&&(n===!0?this.setAttribute(vi(o),""):typeof n=="string"||typeof n=="number"?this.setAttribute(vi(o),n+""):n||this.removeAttribute(vi(o))))}_update(){Id(this._createVNode(),this.shadowRoot)}_createVNode(){const o=Ke(this._def,wn({},this._props));return this._instance||(o.ce=n=>{this._instance=n,n.isCE=!0;const a=(h,f)=>{this.dispatchEvent(new CustomEvent(h,{detail:f}))};n.emit=(h,...f)=>{a(h,f),vi(h)!==h&&a(vi(h),f)};let u=this;for(;u=u&&(u.parentNode||u.host);)if(u instanceof Yu){n.parent=u._instance,n.provides=u._instance.provides;break}}),o}_applyStyles(o){o&&o.forEach(n=>{const a=document.createElement("style");a.textContent=n,this.shadowRoot.appendChild(a)})}}function z9(e="$style"){{const o=tr();if(!o)return tn;const n=o.type.__cssModules;if(!n)return tn;const a=n[e];return a||tn}}function j9(e){const o=tr();if(!o)return;const n=o.ut=(u=e(o.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${o.uid}"]`)).forEach(h=>Bd(h,u))},a=()=>{const u=e(o.proxy);Md(o.subTree,u),n(u)};pb(a),wa(()=>{const u=new MutationObserver(a);u.observe(o.subTree.el.parentNode,{childList:!0}),qu(()=>u.disconnect())})}function Md(e,o){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Md(n.activeBranch,o)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Bd(e.el,o);else if(e.type===It)e.children.forEach(n=>Md(n,o));else if(e.type===io){let{el:n,anchor:a}=e;for(;n&&(Bd(n,o),n!==a);)n=n.nextSibling}}function Bd(e,o){if(e.nodeType===1){const n=e.style;for(const a in o)n.setProperty(`--${a}`,o[a])}}const vr="transition",Ns="animation",Af=(e,{slots:o})=>is(xf,rw(e),o);Af.displayName="Transition";const iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U9=Af.props=wn({},xf.props,iw),Xr=(e,o=[])=>{lt(e)?e.forEach(n=>n(...o)):e&&e(...o)},Ay=e=>e?lt(e)?e.some(o=>o.length>1):e.length>1:!1;function rw(e){const o={};for(const ue in e)ue in iw||(o[ue]=e[ue]);if(e.css===!1)return o;const{name:n="v",type:a,duration:u,enterFromClass:h=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:g=h,appearActiveClass:m=f,appearToClass:x=d,leaveFromClass:_=`${n}-leave-from`,leaveActiveClass:T=`${n}-leave-active`,leaveToClass:B=`${n}-leave-to`}=e,M=V9(u),j=M&&M[0],V=M&&M[1],{onBeforeEnter:F,onEnter:L,onEnterCancelled:Y,onLeave:ce,onLeaveCancelled:pe,onBeforeAppear:me=F,onAppear:ve=L,onAppearCancelled:le=Y}=o,xe=(ue,be,Se)=>{wr(ue,be?x:d),wr(ue,be?m:f),Se&&Se()},ze=(ue,be)=>{ue._isLeaving=!1,wr(ue,_),wr(ue,B),wr(ue,T),be&&be()},J=ue=>(be,Se)=>{const ut=ue?ve:L,at=()=>xe(be,ue,Se);Xr(ut,[be,at]),Ry(()=>{wr(be,ue?g:h),Ui(be,ue?x:d),Ay(ut)||Oy(be,a,j,at)})};return wn(o,{onBeforeEnter(ue){Xr(F,[ue]),Ui(ue,h),Ui(ue,f)},onBeforeAppear(ue){Xr(me,[ue]),Ui(ue,g),Ui(ue,m)},onEnter:J(!1),onAppear:J(!0),onLeave(ue,be){ue._isLeaving=!0;const Se=()=>ze(ue,be);Ui(ue,_),sw(),Ui(ue,T),Ry(()=>{!ue._isLeaving||(wr(ue,_),Ui(ue,B),Ay(ce)||Oy(ue,a,V,Se))}),Xr(ce,[ue,Se])},onEnterCancelled(ue){xe(ue,!1),Xr(Y,[ue])},onAppearCancelled(ue){xe(ue,!0),Xr(le,[ue])},onLeaveCancelled(ue){ze(ue),Xr(pe,[ue])}})}function V9(e){if(e==null)return null;if(nn(e))return[ld(e.enter),ld(e.leave)];{const o=ld(e);return[o,o]}}function ld(e){return mu(e)}function Ui(e,o){o.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(o)}function wr(e,o){o.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:n}=e;n&&(n.delete(o),n.size||(e._vtc=void 0))}function Ry(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let W9=0;function Oy(e,o,n,a){const u=e._endId=++W9,h=()=>{u===e._endId&&a()};if(n)return setTimeout(h,n);const{type:f,timeout:d,propCount:g}=ow(e,o);if(!f)return a();const m=f+"end";let x=0;const _=()=>{e.removeEventListener(m,T),h()},T=B=>{B.target===e&&++x>=g&&_()};setTimeout(()=>{x<g&&_()},d+1),e.addEventListener(m,T)}function ow(e,o){const n=window.getComputedStyle(e),a=M=>(n[M]||"").split(", "),u=a(`${vr}Delay`),h=a(`${vr}Duration`),f=Dy(u,h),d=a(`${Ns}Delay`),g=a(`${Ns}Duration`),m=Dy(d,g);let x=null,_=0,T=0;o===vr?f>0&&(x=vr,_=f,T=h.length):o===Ns?m>0&&(x=Ns,_=m,T=g.length):(_=Math.max(f,m),x=_>0?f>m?vr:Ns:null,T=x?x===vr?h.length:g.length:0);const B=x===vr&&/\b(transform|all)(,|$)/.test(a(`${vr}Property`).toString());return{type:x,timeout:_,propCount:T,hasTransform:B}}function Dy(e,o){for(;e.length<o.length;)e=e.concat(e);return Math.max(...o.map((n,a)=>My(n)+My(e[a])))}function My(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function sw(){return document.body.offsetHeight}const aw=new WeakMap,lw=new WeakMap,uw={name:"TransitionGroup",props:wn({},U9,{tag:String,moveClass:String}),setup(e,{slots:o}){const n=tr(),a=wf();let u,h;return Wu(()=>{if(!u.length)return;const f=e.moveClass||`${e.name||"v"}-move`;if(!K9(u[0].el,n.vnode.el,f))return;u.forEach(X9),u.forEach(Z9);const d=u.filter(Y9);sw(),d.forEach(g=>{const m=g.el,x=m.style;Ui(m,f),x.transform=x.webkitTransform=x.transitionDuration="";const _=m._moveCb=T=>{T&&T.target!==m||(!T||/transform$/.test(T.propertyName))&&(m.removeEventListener("transitionend",_),m._moveCb=null,wr(m,f))};m.addEventListener("transitionend",_)})}),()=>{const f=Bt(e),d=rw(f);let g=f.tag||It;u=h,h=o.default?Uu(o.default()):[];for(let m=0;m<h.length;m++){const x=h[m];x.key!=null&&lo(x,ts(x,d,a,n))}if(u)for(let m=0;m<u.length;m++){const x=u[m];lo(x,ts(x,d,a,n)),aw.set(x,x.el.getBoundingClientRect())}return Ke(g,null,h)}}},G9=e=>delete e.mode;uw.props;const q9=uw;function X9(e){const o=e.el;o._moveCb&&o._moveCb(),o._enterCb&&o._enterCb()}function Z9(e){lw.set(e,e.el.getBoundingClientRect())}function Y9(e){const o=aw.get(e),n=lw.get(e),a=o.left-n.left,u=o.top-n.top;if(a||u){const h=e.el.style;return h.transform=h.webkitTransform=`translate(${a}px,${u}px)`,h.transitionDuration="0s",e}}function K9(e,o,n){const a=e.cloneNode();e._vtc&&e._vtc.forEach(f=>{f.split(/\s+/).forEach(d=>d&&a.classList.remove(d))}),n.split(/\s+/).forEach(f=>f&&a.classList.add(f)),a.style.display="none";const u=o.nodeType===1?o:o.parentNode;u.appendChild(a);const{hasTransform:h}=ow(a);return u.removeChild(a),h}const Rr=e=>{const o=e.props["onUpdate:modelValue"]||!1;return lt(o)?n=>Yo(o,n):o};function J9(e){e.target.composing=!0}function By(e){const o=e.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const Xn={created(e,{modifiers:{lazy:o,trim:n,number:a}},u){e._assign=Rr(u);const h=a||u.props&&u.props.type==="number";Wi(e,o?"change":"input",f=>{if(f.target.composing)return;let d=e.value;n&&(d=d.trim()),h&&(d=gu(d)),e._assign(d)}),n&&Wi(e,"change",()=>{e.value=e.value.trim()}),o||(Wi(e,"compositionstart",J9),Wi(e,"compositionend",By),Wi(e,"change",By))},mounted(e,{value:o}){e.value=o==null?"":o},beforeUpdate(e,{value:o,modifiers:{lazy:n,trim:a,number:u}},h){if(e._assign=Rr(h),e.composing||document.activeElement===e&&e.type!=="range"&&(n||a&&e.value.trim()===o||(u||e.type==="number")&&gu(e.value)===o))return;const f=o==null?"":o;e.value!==f&&(e.value=f)}},xa={deep:!0,created(e,o,n){e._assign=Rr(n),Wi(e,"change",()=>{const a=e._modelValue,u=rs(e),h=e.checked,f=e._assign;if(lt(a)){const d=Ou(a,u),g=d!==-1;if(h&&!g)f(a.concat(u));else if(!h&&g){const m=[...a];m.splice(d,1),f(m)}}else if(go(a)){const d=new Set(a);h?d.add(u):d.delete(u),f(d)}else f(hw(e,h))})},mounted:Iy,beforeUpdate(e,o,n){e._assign=Rr(n),Iy(e,o,n)}};function Iy(e,{value:o,oldValue:n},a){e._modelValue=o,lt(o)?e.checked=Ou(o,a.props.value)>-1:go(o)?e.checked=o.has(a.props.value):o!==n&&(e.checked=Cr(o,hw(e,!0)))}const Rf={created(e,{value:o},n){e.checked=Cr(o,n.props.value),e._assign=Rr(n),Wi(e,"change",()=>{e._assign(rs(e))})},beforeUpdate(e,{value:o,oldValue:n},a){e._assign=Rr(a),o!==n&&(e.checked=Cr(o,a.props.value))}},cw={deep:!0,created(e,{value:o,modifiers:{number:n}},a){const u=go(o);Wi(e,"change",()=>{const h=Array.prototype.filter.call(e.options,f=>f.selected).map(f=>n?gu(rs(f)):rs(f));e._assign(e.multiple?u?new Set(h):h:h[0])}),e._assign=Rr(a)},mounted(e,{value:o}){Ny(e,o)},beforeUpdate(e,o,n){e._assign=Rr(n)},updated(e,{value:o}){Ny(e,o)}};function Ny(e,o){const n=e.multiple;if(!(n&&!lt(o)&&!go(o))){for(let a=0,u=e.options.length;a<u;a++){const h=e.options[a],f=rs(h);if(n)lt(o)?h.selected=Ou(o,f)>-1:h.selected=o.has(f);else if(Cr(rs(h),o)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function rs(e){return"_value"in e?e._value:e.value}function hw(e,o){const n=o?"_trueValue":"_falseValue";return n in e?e[n]:o}const dw={created(e,o,n){Yl(e,o,n,null,"created")},mounted(e,o,n){Yl(e,o,n,null,"mounted")},beforeUpdate(e,o,n,a){Yl(e,o,n,a,"beforeUpdate")},updated(e,o,n,a){Yl(e,o,n,a,"updated")}};function fw(e,o){switch(e){case"SELECT":return cw;case"TEXTAREA":return Xn;default:switch(o){case"checkbox":return xa;case"radio":return Rf;default:return Xn}}}function Yl(e,o,n,a,u){const f=fw(e.tagName,n.props&&n.props.type)[u];f&&f(e,o,n,a)}function Q9(){Xn.getSSRProps=({value:e})=>({value:e}),Rf.getSSRProps=({value:e},o)=>{if(o.props&&Cr(o.props.value,e))return{checked:!0}},xa.getSSRProps=({value:e},o)=>{if(lt(e)){if(o.props&&Ou(e,o.props.value)>-1)return{checked:!0}}else if(go(e)){if(o.props&&e.has(o.props.value))return{checked:!0}}else if(e)return{checked:!0}},dw.getSSRProps=(e,o)=>{if(typeof o.type!="string")return;const n=fw(o.type.toUpperCase(),o.props&&o.props.type);if(n.getSSRProps)return n.getSSRProps(e,o)}}const $9=["ctrl","shift","alt","meta"],eM={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,o)=>$9.some(n=>e[`${n}Key`]&&!o.includes(n))},Ku=(e,o)=>(n,...a)=>{for(let u=0;u<o.length;u++){const h=eM[o[u]];if(h&&h(n,o))return}return e(n,...a)},tM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nM=(e,o)=>n=>{if(!("key"in n))return;const a=vi(n.key);if(o.some(u=>u===a||tM[u]===a))return e(n)},Ju={beforeMount(e,{value:o},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&o?n.beforeEnter(e):Fs(e,o)},mounted(e,{value:o},{transition:n}){n&&o&&n.enter(e)},updated(e,{value:o,oldValue:n},{transition:a}){!o!=!n&&(a?o?(a.beforeEnter(e),Fs(e,!0),a.enter(e)):a.leave(e,()=>{Fs(e,!1)}):Fs(e,o))},beforeUnmount(e,{value:o}){Fs(e,o)}};function Fs(e,o){e.style.display=o?e._vod:"none"}function iM(){Ju.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const pw=wn({patchProp:N9},E9);let Xs,Fy=!1;function gw(){return Xs||(Xs=Fb(pw))}function mw(){return Xs=Fy?Xs:Lb(pw),Fy=!0,Xs}const Id=(...e)=>{gw().render(...e)},vw=(...e)=>{mw().hydrate(...e)},yw=(...e)=>{const o=gw().createApp(...e),{mount:n}=o;return o.mount=a=>{const u=bw(a);if(!u)return;const h=o._component;!_t(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.innerHTML="";const f=n(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),f},o},rM=(...e)=>{const o=mw().createApp(...e),{mount:n}=o;return o.mount=a=>{const u=bw(a);if(u)return n(u,!0,u instanceof SVGElement)},o};function bw(e){return un(e)?document.querySelector(e):e}let Ly=!1;const oM=()=>{Ly||(Ly=!0,Q9(),iM())},sM=()=>{},aM=Object.freeze(Object.defineProperty({__proto__:null,compile:sM,EffectScope:sf,ReactiveEffect:ma,customRef:$O,effect:bO,effectScope:af,getCurrentScope:lf,isProxy:df,isReactive:Xi,isReadonly:so,isRef:bn,isShallow:ea,markRaw:ao,onScopeDispose:H1,proxyRefs:gf,reactive:va,readonly:hf,ref:to,shallowReactive:Q1,shallowReadonly:XO,shallowRef:ZO,stop:wO,toRaw:Bt,toRef:nb,toRefs:tb,triggerRef:KO,unref:eb,camelize:ei,capitalize:ga,normalizeClass:Tn,normalizeProps:oO,normalizeStyle:po,toDisplayString:Ot,toHandlerKey:Vs,BaseTransition:xf,Comment:Wn,Fragment:It,KeepAlive:PD,Static:io,Suspense:mD,Teleport:JD,Text:uo,assertNumber:rD,callWithAsyncErrorHandling:di,callWithErrorHandling:Zi,cloneVNode:Fi,compatUtils:x9,computed:Rn,createBlock:Si,createCommentVNode:qt,createElementBlock:Ge,createElementVNode:K,createHydrationRenderer:Lb,createPropsRestProxy:p9,createRenderer:Fb,createSlots:OD,createStaticVNode:Pf,createTextVNode:$t,createVNode:Ke,defineAsyncComponent:TD,defineComponent:vo,defineEmits:l9,defineExpose:u9,defineProps:a9,get devtools(){return Wo},getCurrentInstance:tr,getTransitionRawChildren:Uu,guardReactiveProps:Wb,h:is,handleError:mo,initCustomFormatter:m9,inject:Qo,isMemoSame:ew,isRuntimeOnly:r9,isVNode:kr,mergeDefaults:f9,mergeProps:Gb,nextTick:Lu,onActivated:vb,onBeforeMount:wb,onBeforeUnmount:Gu,onBeforeUpdate:xb,onDeactivated:yb,onErrorCaptured:Tb,onMounted:wa,onRenderTracked:Sb,onRenderTriggered:Eb,onServerPrefetch:_b,onUnmounted:qu,onUpdated:Wu,openBlock:Le,popScopeId:cb,provide:fb,pushScopeId:ub,queuePostFlushCb:vf,registerRuntimeCompiler:i9,renderList:Nn,renderSlot:kb,resolveComponent:Mt,resolveDirective:RD,resolveDynamicComponent:Pb,resolveFilter:w9,resolveTransitionHooks:ts,setBlockTracking:kd,setDevtoolsHook:ab,setTransitionHooks:lo,ssrContextKey:Qb,ssrUtils:b9,toHandlers:DD,transformVNodeArgs:QD,useAttrs:d9,useSSRContext:$b,useSlots:h9,useTransitionState:wf,version:tw,warn:iD,watch:dn,watchEffect:xD,watchPostEffect:pb,watchSyncEffect:_D,withAsyncContext:g9,withCtx:Di,withDefaults:c9,withDirectives:Vn,withMemo:v9,withScopeId:cD,Transition:Af,TransitionGroup:q9,VueElement:Yu,createApp:yw,createSSRApp:rM,defineCustomElement:nw,defineSSRCustomElement:L9,hydrate:vw,initDirectivesForSSR:oM,render:Id,useCssModule:z9,useCssVars:j9,vModelCheckbox:xa,vModelDynamic:dw,vModelRadio:Rf,vModelSelect:cw,vModelText:Xn,vShow:Ju,withKeys:nM,withModifiers:Ku},Symbol.toStringTag,{value:"Module"}));var lM=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ww;const _a=e=>ww=e,xw=Symbol();function Nd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zs||(Zs={}));function uM(){const e=af(!0),o=e.run(()=>to({}));let n=[],a=[];const u=ao({install(h){_a(u),u._a=h,h.provide(xw,u),h.config.globalProperties.$pinia=u,a.forEach(f=>n.push(f)),a=[]},use(h){return!this._a&&!lM?a.push(h):n.push(h),this},_p:n,_a:null,_e:e,_s:new Map,state:o});return u}const _w=()=>{};function Hy(e,o,n,a=_w){e.push(o);const u=()=>{const h=e.indexOf(o);h>-1&&(e.splice(h,1),a())};return!n&&lf()&&H1(u),u}function Uo(e,...o){e.slice().forEach(n=>{n(...o)})}function Fd(e,o){e instanceof Map&&o instanceof Map&&o.forEach((n,a)=>e.set(a,n)),e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const n in o){if(!o.hasOwnProperty(n))continue;const a=o[n],u=e[n];Nd(u)&&Nd(a)&&e.hasOwnProperty(n)&&!bn(a)&&!Xi(a)?e[n]=Fd(u,a):e[n]=a}return e}const cM=Symbol();function hM(e){return!Nd(e)||!e.hasOwnProperty(cM)}const{assign:xr}=Object;function dM(e){return!!(bn(e)&&e.effect)}function fM(e,o,n,a){const{state:u,actions:h,getters:f}=o,d=n.state.value[e];let g;function m(){d||(n.state.value[e]=u?u():{});const x=tb(n.state.value[e]);return xr(x,h,Object.keys(f||{}).reduce((_,T)=>(_[T]=ao(Rn(()=>{_a(n);const B=n._s.get(e);return f[T].call(B,B)})),_),{}))}return g=Ew(e,m,o,n,a,!0),g}function Ew(e,o,n={},a,u,h){let f;const d=xr({actions:{}},n),g={deep:!0};let m,x,_=ao([]),T=ao([]),B;const M=a.state.value[e];!h&&!M&&(a.state.value[e]={}),to({});let j;function V(ve){let le;m=x=!1,typeof ve=="function"?(ve(a.state.value[e]),le={type:Zs.patchFunction,storeId:e,events:B}):(Fd(a.state.value[e],ve),le={type:Zs.patchObject,payload:ve,storeId:e,events:B});const xe=j=Symbol();Lu().then(()=>{j===xe&&(m=!0)}),x=!0,Uo(_,le,a.state.value[e])}const F=h?function(){const{state:le}=n,xe=le?le():{};this.$patch(ze=>{xr(ze,xe)})}:_w;function L(){f.stop(),_=[],T=[],a._s.delete(e)}function Y(ve,le){return function(){_a(a);const xe=Array.from(arguments),ze=[],J=[];function ue(ut){ze.push(ut)}function be(ut){J.push(ut)}Uo(T,{args:xe,name:ve,store:pe,after:ue,onError:be});let Se;try{Se=le.apply(this&&this.$id===e?this:pe,xe)}catch(ut){throw Uo(J,ut),ut}return Se instanceof Promise?Se.then(ut=>(Uo(ze,ut),ut)).catch(ut=>(Uo(J,ut),Promise.reject(ut))):(Uo(ze,Se),Se)}}const ce={_p:a,$id:e,$onAction:Hy.bind(null,T),$patch:V,$reset:F,$subscribe(ve,le={}){const xe=Hy(_,ve,le.detached,()=>ze()),ze=f.run(()=>dn(()=>a.state.value[e],J=>{(le.flush==="sync"?x:m)&&ve({storeId:e,type:Zs.direct,events:B},J)},xr({},g,le)));return xe},$dispose:L},pe=va(ce);a._s.set(e,pe);const me=a._e.run(()=>(f=af(),f.run(()=>o())));for(const ve in me){const le=me[ve];if(bn(le)&&!dM(le)||Xi(le))h||(M&&hM(le)&&(bn(le)?le.value=M[ve]:Fd(le,M[ve])),a.state.value[e][ve]=le);else if(typeof le=="function"){const xe=Y(ve,le);me[ve]=xe,d.actions[ve]=le}}return xr(pe,me),xr(Bt(pe),me),Object.defineProperty(pe,"$state",{get:()=>a.state.value[e],set:ve=>{V(le=>{xr(le,ve)})}}),a._p.forEach(ve=>{xr(pe,f.run(()=>ve({store:pe,app:a._a,pinia:a,options:d})))}),M&&h&&n.hydrate&&n.hydrate(pe.$state,M),m=!0,x=!0,pe}function Qu(e,o,n){let a,u;const h=typeof o=="function";typeof e=="string"?(a=e,u=h?n:o):(u=e,a=e.id);function f(d,g){const m=tr();return d=d||m&&Qo(xw,null),d&&_a(d),d=ww,d._s.has(a)||(h?Ew(a,o,u,d):fM(a,u,d)),d._s.get(a)}return f.$id=a,f}const _n=Qu("general",{state:()=>({count:0,selected_db:"",selected_col:"",filter:"",amount_bookmark_groups:0,global_storage:!1,cmd:""}),actions:{increment(){this.count++},decrement(){this.count--}}}),pM="/graggle-backend/graggle-frontend/assets/graggle_logo_large.6a11cb33.png",rn=(e,o)=>{const n=e.__vccOpts||e;for(const[a,u]of o)n[a]=u;return n},gM={data(){return{filter:"",gstore:_n()}},computed:{},components:{},methods:{clear(){this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",this.filter=""},async search(){let e=o=>new Promise(n=>setTimeout(n,o));this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",await e(50),this.gstore.filter=this.filter},resetSelectedCollection(){this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",this.filter=""}}},mM={class:"grid grid-cols-12 bg-blue-900 text-white py-2"},vM={class:"col-span-3 min-[1000px]:col-span-2 p-2 flex justify-center m-auto"},yM={class:"col-span-9 min-[1000px]:col-span-10 flex text-sm laptop:text-2xl desktop:text-3xl"},bM={class:"grow relative justify-center m-auto"},wM={class:"absolute w-10 left-3 top-2 min-[1000px]:top-4"},xM={class:"absolute mr-2 w-10 right-0 top-2 min-[1000px]:top-4"},_M={class:"flex w-48 laptop:w-52 desktop:w-56 justify-center m-auto"},EM={href:"#",class:"mx-4"},SM=K("button",{class:"right-0 bg-blue-800 text-white rounded-full px-8 py-2 hover:bg-blue-700 focus:outline-none focus:shadow-outline"}," Sign In ",-1);function TM(e,o,n,a,u,h){const f=Mt("font-awesome-icon");return Le(),Ge("div",mM,[K("div",vM,[K("div",null,[K("img",{class:"",src:pM,onClick:o[0]||(o[0]=d=>h.resetSelectedCollection())})])]),K("div",yM,[K("div",bM,[Vn(K("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=d=>u.filter=d),class:"w-full h-10 min-[1000px]:h-14 pl-12 bg-gray-800 text-gray-300 rounded-full focus:outline-none focus:shadow-outline",placeholder:"Search..."},null,512),[[Xn,u.filter]]),K("div",wM,[Ke(f,{icon:"fa-solid fa-search",class:"text-gray-300 text-xl min-[1000px]:text-3xl",onClick:o[2]||(o[2]=d=>h.search())})]),K("div",xM,[Ke(f,{icon:"fa-solid fa-xmark",class:"text-gray-300 text-xl min-[1000px]:text-3xl",onClick:o[3]||(o[3]=d=>h.clear())})])]),K("div",_M,[K("a",EM,[Ke(f,{icon:"fa-solid fa-user",class:"text-3xl mt-2"})]),SM])])])}const CM=rn(gM,[["render",TM]]),PM={},kM={class:"inset-x-0 bottom-0 bg-blue-900 text-white h-full"},AM=K("p",{class:"text-center text-gray-300 text-m"},"\xA9 2023 Data Catalogue. All rights reserved.",-1),RM=[AM];function OM(e,o){return Le(),Ge("div",kM,RM)}const DM=rn(PM,[["render",OM]]),MM={data(){return{}},mounted(){},methods:{}},BM={class:"w-full text-xs tablet:text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},IM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded font-semibold"},NM={class:"col-span-1 flex items-center justify-end"},FM=K("div",{class:"col-span-4 px-2"}," Import Data ",-1),LM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded font-semibold mt-2"},HM={class:"col-span-1 flex items-center justify-end"},zM=K("div",{class:"col-span-4 px-2"}," Settings ",-1),jM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded font-semibold mt-2"},UM={class:"col-span-1 flex items-center justify-end"},VM=K("div",{class:"col-span-4 px-2"}," Feature Request ",-1),WM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded font-semibold mt-2"},GM={class:"col-span-1 flex items-center justify-end"},qM=K("div",{class:"col-span-4 px-2"}," Language ",-1),XM={class:"grid grid-cols-5 bg-secondary py-2 px-4 rounded font-semibold mt-2"},ZM={class:"col-span-1 flex items-center justify-end"},YM=K("div",{class:"col-span-4 px-2"}," Manual ",-1);function KM(e,o,n,a,u,h){const f=Mt("font-awesome-icon");return Le(),Ge("div",BM,[K("div",IM,[K("div",NM,[Ke(f,{class:"px-1",icon:"fa-solid fa-file-import"})]),FM]),K("div",LM,[K("div",HM,[Ke(f,{class:"px-1",icon:"fa-solid fa-sliders"})]),zM]),K("div",jM,[K("div",UM,[Ke(f,{class:"px-1",icon:"fa-solid fa-code-pull-request"})]),VM]),K("div",WM,[K("div",GM,[Ke(f,{class:"px-1",icon:"fa-solid fa-language"})]),qM]),K("div",XM,[K("div",ZM,[Ke(f,{class:"px-1",icon:"fa-solid fa-book-open"})]),YM])])}const JM=rn(MM,[["render",KM]]);function Sw(e,o){return function(){return e.apply(o,arguments)}}const{toString:Tw}=Object.prototype,{getPrototypeOf:Of}=Object,Df=(e=>o=>{const n=Tw.call(o);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),o=>Df(o)===e),$u=e=>o=>typeof o===e,{isArray:hs}=Array,sa=$u("undefined");function QM(e){return e!==null&&!sa(e)&&e.constructor!==null&&!sa(e.constructor)&&Or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cw=nr("ArrayBuffer");function $M(e){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(e):o=e&&e.buffer&&Cw(e.buffer),o}const e5=$u("string"),Or=$u("function"),Pw=$u("number"),Mf=e=>e!==null&&typeof e=="object",t5=e=>e===!0||e===!1,lu=e=>{if(Df(e)!=="object")return!1;const o=Of(e);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n5=nr("Date"),i5=nr("File"),r5=nr("Blob"),o5=nr("FileList"),s5=e=>Mf(e)&&Or(e.pipe),a5=e=>{const o="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Tw.call(e)===o||Or(e.toString)&&e.toString()===o)},l5=nr("URLSearchParams"),u5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ea(e,o,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,u;if(typeof e!="object"&&(e=[e]),hs(e))for(a=0,u=e.length;a<u;a++)o.call(null,e[a],a,e);else{const h=n?Object.getOwnPropertyNames(e):Object.keys(e),f=h.length;let d;for(a=0;a<f;a++)d=h[a],o.call(null,e[d],d,e)}}function kw(e,o){o=o.toLowerCase();const n=Object.keys(e);let a=n.length,u;for(;a-- >0;)if(u=n[a],o===u.toLowerCase())return u;return null}const Aw=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Rw=e=>!sa(e)&&e!==Aw;function Ld(){const{caseless:e}=Rw(this)&&this||{},o={},n=(a,u)=>{const h=e&&kw(o,u)||u;lu(o[h])&&lu(a)?o[h]=Ld(o[h],a):lu(a)?o[h]=Ld({},a):hs(a)?o[h]=a.slice():o[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Ea(arguments[a],n);return o}const c5=(e,o,n,{allOwnKeys:a}={})=>(Ea(o,(u,h)=>{n&&Or(u)?e[h]=Sw(u,n):e[h]=u},{allOwnKeys:a}),e),h5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),d5=(e,o,n,a)=>{e.prototype=Object.create(o.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:o.prototype}),n&&Object.assign(e.prototype,n)},f5=(e,o,n,a)=>{let u,h,f;const d={};if(o=o||{},e==null)return o;do{for(u=Object.getOwnPropertyNames(e),h=u.length;h-- >0;)f=u[h],(!a||a(f,e,o))&&!d[f]&&(o[f]=e[f],d[f]=!0);e=n!==!1&&Of(e)}while(e&&(!n||n(e,o))&&e!==Object.prototype);return o},p5=(e,o,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=o.length;const a=e.indexOf(o,n);return a!==-1&&a===n},g5=e=>{if(!e)return null;if(hs(e))return e;let o=e.length;if(!Pw(o))return null;const n=new Array(o);for(;o-- >0;)n[o]=e[o];return n},m5=(e=>o=>e&&o instanceof e)(typeof Uint8Array<"u"&&Of(Uint8Array)),v5=(e,o)=>{const a=(e&&e[Symbol.iterator]).call(e);let u;for(;(u=a.next())&&!u.done;){const h=u.value;o.call(e,h[0],h[1])}},y5=(e,o)=>{let n;const a=[];for(;(n=e.exec(o))!==null;)a.push(n);return a},b5=nr("HTMLFormElement"),w5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,u){return a.toUpperCase()+u}),zy=(({hasOwnProperty:e})=>(o,n)=>e.call(o,n))(Object.prototype),x5=nr("RegExp"),Ow=(e,o)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Ea(n,(u,h)=>{o(u,h,e)!==!1&&(a[h]=u)}),Object.defineProperties(e,a)},_5=e=>{Ow(e,(o,n)=>{if(Or(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(!!Or(a)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E5=(e,o)=>{const n={},a=u=>{u.forEach(h=>{n[h]=!0})};return hs(e)?a(e):a(String(e).split(o)),n},S5=()=>{},T5=(e,o)=>(e=+e,Number.isFinite(e)?e:o),ud="abcdefghijklmnopqrstuvwxyz",jy="0123456789",Dw={DIGIT:jy,ALPHA:ud,ALPHA_DIGIT:ud+ud.toUpperCase()+jy},C5=(e=16,o=Dw.ALPHA_DIGIT)=>{let n="";const{length:a}=o;for(;e--;)n+=o[Math.random()*a|0];return n};function P5(e){return!!(e&&Or(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const k5=e=>{const o=new Array(10),n=(a,u)=>{if(Mf(a)){if(o.indexOf(a)>=0)return;if(!("toJSON"in a)){o[u]=a;const h=hs(a)?[]:{};return Ea(a,(f,d)=>{const g=n(f,u+1);!sa(g)&&(h[d]=g)}),o[u]=void 0,h}}return a};return n(e,0)},Re={isArray:hs,isArrayBuffer:Cw,isBuffer:QM,isFormData:a5,isArrayBufferView:$M,isString:e5,isNumber:Pw,isBoolean:t5,isObject:Mf,isPlainObject:lu,isUndefined:sa,isDate:n5,isFile:i5,isBlob:r5,isRegExp:x5,isFunction:Or,isStream:s5,isURLSearchParams:l5,isTypedArray:m5,isFileList:o5,forEach:Ea,merge:Ld,extend:c5,trim:u5,stripBOM:h5,inherits:d5,toFlatObject:f5,kindOf:Df,kindOfTest:nr,endsWith:p5,toArray:g5,forEachEntry:v5,matchAll:y5,isHTMLForm:b5,hasOwnProperty:zy,hasOwnProp:zy,reduceDescriptors:Ow,freezeMethods:_5,toObjectSet:E5,toCamelCase:w5,noop:S5,toFiniteNumber:T5,findKey:kw,global:Aw,isContextDefined:Rw,ALPHABET:Dw,generateString:C5,isSpecCompliantForm:P5,toJSONObject:k5};function jt(e,o,n,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),a&&(this.request=a),u&&(this.response=u)}Re.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Mw=jt.prototype,Bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bw[e]={value:e}});Object.defineProperties(jt,Bw);Object.defineProperty(Mw,"isAxiosError",{value:!0});jt.from=(e,o,n,a,u,h)=>{const f=Object.create(Mw);return Re.toFlatObject(e,f,function(g){return g!==Error.prototype},d=>d!=="isAxiosError"),jt.call(f,e.message,o,n,a,u),f.cause=e,f.name=e.name,h&&Object.assign(f,h),f};const A5=null;function Hd(e){return Re.isPlainObject(e)||Re.isArray(e)}function Iw(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function Uy(e,o,n){return e?e.concat(o).map(function(u,h){return u=Iw(u),!n&&h?"["+u+"]":u}).join(n?".":""):o}function R5(e){return Re.isArray(e)&&!e.some(Hd)}const O5=Re.toFlatObject(Re,{},null,function(o){return/^is[A-Z]/.test(o)});function ec(e,o,n){if(!Re.isObject(e))throw new TypeError("target must be an object");o=o||new FormData,n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,V){return!Re.isUndefined(V[j])});const a=n.metaTokens,u=n.visitor||x,h=n.dots,f=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(o);if(!Re.isFunction(u))throw new TypeError("visitor must be a function");function m(M){if(M===null)return"";if(Re.isDate(M))return M.toISOString();if(!g&&Re.isBlob(M))throw new jt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(M)||Re.isTypedArray(M)?g&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function x(M,j,V){let F=M;if(M&&!V&&typeof M=="object"){if(Re.endsWith(j,"{}"))j=a?j:j.slice(0,-2),M=JSON.stringify(M);else if(Re.isArray(M)&&R5(M)||(Re.isFileList(M)||Re.endsWith(j,"[]"))&&(F=Re.toArray(M)))return j=Iw(j),F.forEach(function(Y,ce){!(Re.isUndefined(Y)||Y===null)&&o.append(f===!0?Uy([j],ce,h):f===null?j:j+"[]",m(Y))}),!1}return Hd(M)?!0:(o.append(Uy(V,j,h),m(M)),!1)}const _=[],T=Object.assign(O5,{defaultVisitor:x,convertValue:m,isVisitable:Hd});function B(M,j){if(!Re.isUndefined(M)){if(_.indexOf(M)!==-1)throw Error("Circular reference detected in "+j.join("."));_.push(M),Re.forEach(M,function(F,L){(!(Re.isUndefined(F)||F===null)&&u.call(o,F,Re.isString(L)?L.trim():L,j,T))===!0&&B(F,j?j.concat(L):[L])}),_.pop()}}if(!Re.isObject(e))throw new TypeError("data must be an object");return B(e),o}function Vy(e){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return o[a]})}function Bf(e,o){this._pairs=[],e&&ec(e,this,o)}const Nw=Bf.prototype;Nw.append=function(o,n){this._pairs.push([o,n])};Nw.toString=function(o){const n=o?function(a){return o.call(this,a,Vy)}:Vy;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function D5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fw(e,o,n){if(!o)return e;const a=n&&n.encode||D5,u=n&&n.serialize;let h;if(u?h=u(o,n):h=Re.isURLSearchParams(o)?o.toString():new Bf(o,n).toString(a),h){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class M5{constructor(){this.handlers=[]}use(o,n,a){return this.handlers.push({fulfilled:o,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){Re.forEach(this.handlers,function(a){a!==null&&o(a)})}}const Wy=M5,Lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B5=typeof URLSearchParams<"u"?URLSearchParams:Bf,I5=typeof FormData<"u"?FormData:null,N5=typeof Blob<"u"?Blob:null,F5=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),L5=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ii={isBrowser:!0,classes:{URLSearchParams:B5,FormData:I5,Blob:N5},isStandardBrowserEnv:F5,isStandardBrowserWebWorkerEnv:L5,protocols:["http","https","file","blob","url","data"]};function H5(e,o){return ec(e,new Ii.classes.URLSearchParams,Object.assign({visitor:function(n,a,u,h){return Ii.isNode&&Re.isBuffer(n)?(this.append(a,n.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},o))}function z5(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map(o=>o[0]==="[]"?"":o[1]||o[0])}function j5(e){const o={},n=Object.keys(e);let a;const u=n.length;let h;for(a=0;a<u;a++)h=n[a],o[h]=e[h];return o}function Hw(e){function o(n,a,u,h){let f=n[h++];const d=Number.isFinite(+f),g=h>=n.length;return f=!f&&Re.isArray(u)?u.length:f,g?(Re.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!d):((!u[f]||!Re.isObject(u[f]))&&(u[f]=[]),o(n,a,u[f],h)&&Re.isArray(u[f])&&(u[f]=j5(u[f])),!d)}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const n={};return Re.forEachEntry(e,(a,u)=>{o(z5(a),u,n,0)}),n}return null}const U5={"Content-Type":void 0};function V5(e,o,n){if(Re.isString(e))try{return(o||JSON.parse)(e),Re.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const tc={transitional:Lw,adapter:["xhr","http"],transformRequest:[function(o,n){const a=n.getContentType()||"",u=a.indexOf("application/json")>-1,h=Re.isObject(o);if(h&&Re.isHTMLForm(o)&&(o=new FormData(o)),Re.isFormData(o))return u&&u?JSON.stringify(Hw(o)):o;if(Re.isArrayBuffer(o)||Re.isBuffer(o)||Re.isStream(o)||Re.isFile(o)||Re.isBlob(o))return o;if(Re.isArrayBufferView(o))return o.buffer;if(Re.isURLSearchParams(o))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let d;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return H5(o,this.formSerializer).toString();if((d=Re.isFileList(o))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return ec(d?{"files[]":o}:o,g&&new g,this.formSerializer)}}return h||u?(n.setContentType("application/json",!1),V5(o)):o}],transformResponse:[function(o){const n=this.transitional||tc.transitional,a=n&&n.forcedJSONParsing,u=this.responseType==="json";if(o&&Re.isString(o)&&(a&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(o)}catch(d){if(f)throw d.name==="SyntaxError"?jt.from(d,jt.ERR_BAD_RESPONSE,this,null,this.response):d}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Re.forEach(["delete","get","head"],function(o){tc.headers[o]={}});Re.forEach(["post","put","patch"],function(o){tc.headers[o]=Re.merge(U5)});const If=tc,W5=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G5=e=>{const o={};let n,a,u;return e&&e.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!n||o[n]&&W5[n])&&(n==="set-cookie"?o[n]?o[n].push(a):o[n]=[a]:o[n]=o[n]?o[n]+", "+a:a)}),o},Gy=Symbol("internals");function Ls(e){return e&&String(e).trim().toLowerCase()}function uu(e){return e===!1||e==null?e:Re.isArray(e)?e.map(uu):String(e)}function q5(e){const o=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)o[a[1]]=a[2];return o}function X5(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function cd(e,o,n,a,u){if(Re.isFunction(a))return a.call(this,o,n);if(u&&(o=n),!!Re.isString(o)){if(Re.isString(a))return o.indexOf(a)!==-1;if(Re.isRegExp(a))return a.test(o)}}function Z5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,n,a)=>n.toUpperCase()+a)}function Y5(e,o){const n=Re.toCamelCase(" "+o);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(u,h,f){return this[a].call(this,o,u,h,f)},configurable:!0})})}class nc{constructor(o){o&&this.set(o)}set(o,n,a){const u=this;function h(d,g,m){const x=Ls(g);if(!x)throw new Error("header name must be a non-empty string");const _=Re.findKey(u,x);(!_||u[_]===void 0||m===!0||m===void 0&&u[_]!==!1)&&(u[_||g]=uu(d))}const f=(d,g)=>Re.forEach(d,(m,x)=>h(m,x,g));return Re.isPlainObject(o)||o instanceof this.constructor?f(o,n):Re.isString(o)&&(o=o.trim())&&!X5(o)?f(G5(o),n):o!=null&&h(n,o,a),this}get(o,n){if(o=Ls(o),o){const a=Re.findKey(this,o);if(a){const u=this[a];if(!n)return u;if(n===!0)return q5(u);if(Re.isFunction(n))return n.call(this,u,a);if(Re.isRegExp(n))return n.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,n){if(o=Ls(o),o){const a=Re.findKey(this,o);return!!(a&&this[a]!==void 0&&(!n||cd(this,this[a],a,n)))}return!1}delete(o,n){const a=this;let u=!1;function h(f){if(f=Ls(f),f){const d=Re.findKey(a,f);d&&(!n||cd(a,a[d],d,n))&&(delete a[d],u=!0)}}return Re.isArray(o)?o.forEach(h):h(o),u}clear(o){const n=Object.keys(this);let a=n.length,u=!1;for(;a--;){const h=n[a];(!o||cd(this,this[h],h,o,!0))&&(delete this[h],u=!0)}return u}normalize(o){const n=this,a={};return Re.forEach(this,(u,h)=>{const f=Re.findKey(a,h);if(f){n[f]=uu(u),delete n[h];return}const d=o?Z5(h):String(h).trim();d!==h&&delete n[h],n[d]=uu(u),a[d]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const n=Object.create(null);return Re.forEach(this,(a,u)=>{a!=null&&a!==!1&&(n[u]=o&&Re.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,n])=>o+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...n){const a=new this(o);return n.forEach(u=>a.set(u)),a}static accessor(o){const a=(this[Gy]=this[Gy]={accessors:{}}).accessors,u=this.prototype;function h(f){const d=Ls(f);a[d]||(Y5(u,f),a[d]=!0)}return Re.isArray(o)?o.forEach(h):h(o),this}}nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.freezeMethods(nc.prototype);Re.freezeMethods(nc);const Yi=nc;function hd(e,o){const n=this||If,a=o||n,u=Yi.from(a.headers);let h=a.data;return Re.forEach(e,function(d){h=d.call(n,h,u.normalize(),o?o.status:void 0)}),u.normalize(),h}function zw(e){return!!(e&&e.__CANCEL__)}function Sa(e,o,n){jt.call(this,e==null?"canceled":e,jt.ERR_CANCELED,o,n),this.name="CanceledError"}Re.inherits(Sa,jt,{__CANCEL__:!0});function K5(e,o,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):o(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const J5=Ii.isStandardBrowserEnv?function(){return{write:function(n,a,u,h,f,d){const g=[];g.push(n+"="+encodeURIComponent(a)),Re.isNumber(u)&&g.push("expires="+new Date(u).toGMTString()),Re.isString(h)&&g.push("path="+h),Re.isString(f)&&g.push("domain="+f),d===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(n){const a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Q5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $5(e,o){return o?e.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):e}function jw(e,o){return e&&!Q5(o)?$5(e,o):o}const e6=Ii.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let a;function u(h){let f=h;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=u(window.location.href),function(f){const d=Re.isString(f)?u(f):f;return d.protocol===a.protocol&&d.host===a.host}}():function(){return function(){return!0}}();function t6(e){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return o&&o[1]||""}function n6(e,o){e=e||10;const n=new Array(e),a=new Array(e);let u=0,h=0,f;return o=o!==void 0?o:1e3,function(g){const m=Date.now(),x=a[h];f||(f=m),n[u]=g,a[u]=m;let _=h,T=0;for(;_!==u;)T+=n[_++],_=_%e;if(u=(u+1)%e,u===h&&(h=(h+1)%e),m-f<o)return;const B=x&&m-x;return B?Math.round(T*1e3/B):void 0}}function qy(e,o){let n=0;const a=n6(50,250);return u=>{const h=u.loaded,f=u.lengthComputable?u.total:void 0,d=h-n,g=a(d),m=h<=f;n=h;const x={loaded:h,total:f,progress:f?h/f:void 0,bytes:d,rate:g||void 0,estimated:g&&f&&m?(f-h)/g:void 0,event:u};x[o?"download":"upload"]=!0,e(x)}}const i6=typeof XMLHttpRequest<"u",r6=i6&&function(e){return new Promise(function(n,a){let u=e.data;const h=Yi.from(e.headers).normalize(),f=e.responseType;let d;function g(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}Re.isFormData(u)&&(Ii.isStandardBrowserEnv||Ii.isStandardBrowserWebWorkerEnv)&&h.setContentType(!1);let m=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",M=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.set("Authorization","Basic "+btoa(B+":"+M))}const x=jw(e.baseURL,e.url);m.open(e.method.toUpperCase(),Fw(x,e.params,e.paramsSerializer),!0),m.timeout=e.timeout;function _(){if(!m)return;const B=Yi.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),j={data:!f||f==="text"||f==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:B,config:e,request:m};K5(function(F){n(F),g()},function(F){a(F),g()},j),m=null}if("onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(_)},m.onabort=function(){!m||(a(new jt("Request aborted",jt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){a(new jt("Network Error",jt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let M=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const j=e.transitional||Lw;e.timeoutErrorMessage&&(M=e.timeoutErrorMessage),a(new jt(M,j.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,m)),m=null},Ii.isStandardBrowserEnv){const B=(e.withCredentials||e6(x))&&e.xsrfCookieName&&J5.read(e.xsrfCookieName);B&&h.set(e.xsrfHeaderName,B)}u===void 0&&h.setContentType(null),"setRequestHeader"in m&&Re.forEach(h.toJSON(),function(M,j){m.setRequestHeader(j,M)}),Re.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),f&&f!=="json"&&(m.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&m.addEventListener("progress",qy(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",qy(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=B=>{!m||(a(!B||B.type?new Sa(null,e,m):B),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const T=t6(x);if(T&&Ii.protocols.indexOf(T)===-1){a(new jt("Unsupported protocol "+T+":",jt.ERR_BAD_REQUEST,e));return}m.send(u||null)})},cu={http:A5,xhr:r6};Re.forEach(cu,(e,o)=>{if(e){try{Object.defineProperty(e,"name",{value:o})}catch{}Object.defineProperty(e,"adapterName",{value:o})}});const o6={getAdapter:e=>{e=Re.isArray(e)?e:[e];const{length:o}=e;let n,a;for(let u=0;u<o&&(n=e[u],!(a=Re.isString(n)?cu[n.toLowerCase()]:n));u++);if(!a)throw a===!1?new jt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Re.hasOwnProp(cu,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Re.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:cu};function dd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sa(null,e)}function Xy(e){return dd(e),e.headers=Yi.from(e.headers),e.data=hd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),o6.getAdapter(e.adapter||If.adapter)(e).then(function(a){return dd(e),a.data=hd.call(e,e.transformResponse,a),a.headers=Yi.from(a.headers),a},function(a){return zw(a)||(dd(e),a&&a.response&&(a.response.data=hd.call(e,e.transformResponse,a.response),a.response.headers=Yi.from(a.response.headers))),Promise.reject(a)})}const Zy=e=>e instanceof Yi?e.toJSON():e;function os(e,o){o=o||{};const n={};function a(m,x,_){return Re.isPlainObject(m)&&Re.isPlainObject(x)?Re.merge.call({caseless:_},m,x):Re.isPlainObject(x)?Re.merge({},x):Re.isArray(x)?x.slice():x}function u(m,x,_){if(Re.isUndefined(x)){if(!Re.isUndefined(m))return a(void 0,m,_)}else return a(m,x,_)}function h(m,x){if(!Re.isUndefined(x))return a(void 0,x)}function f(m,x){if(Re.isUndefined(x)){if(!Re.isUndefined(m))return a(void 0,m)}else return a(void 0,x)}function d(m,x,_){if(_ in o)return a(m,x);if(_ in e)return a(void 0,m)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(m,x)=>u(Zy(m),Zy(x),!0)};return Re.forEach(Object.keys(e).concat(Object.keys(o)),function(x){const _=g[x]||u,T=_(e[x],o[x],x);Re.isUndefined(T)&&_!==d||(n[x]=T)}),n}const Uw="1.3.4",Nf={};["object","boolean","number","function","string","symbol"].forEach((e,o)=>{Nf[e]=function(a){return typeof a===e||"a"+(o<1?"n ":" ")+e}});const Yy={};Nf.transitional=function(o,n,a){function u(h,f){return"[Axios v"+Uw+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,d)=>{if(o===!1)throw new jt(u(f," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!Yy[f]&&(Yy[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),o?o(h,f,d):!0}};function s6(e,o,n){if(typeof e!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let u=a.length;for(;u-- >0;){const h=a[u],f=o[h];if(f){const d=e[h],g=d===void 0||f(d,h,e);if(g!==!0)throw new jt("option "+h+" must be "+g,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+h,jt.ERR_BAD_OPTION)}}const zd={assertOptions:s6,validators:Nf},yr=zd.validators;class _u{constructor(o){this.defaults=o,this.interceptors={request:new Wy,response:new Wy}}request(o,n){typeof o=="string"?(n=n||{},n.url=o):n=o||{},n=os(this.defaults,n);const{transitional:a,paramsSerializer:u,headers:h}=n;a!==void 0&&zd.assertOptions(a,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),u!==void 0&&zd.assertOptions(u,{encode:yr.function,serialize:yr.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f;f=h&&Re.merge(h.common,h[n.method]),f&&Re.forEach(["delete","get","head","post","put","patch","common"],M=>{delete h[M]}),n.headers=Yi.concat(f,h);const d=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(g=g&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let x,_=0,T;if(!g){const M=[Xy.bind(this),void 0];for(M.unshift.apply(M,d),M.push.apply(M,m),T=M.length,x=Promise.resolve(n);_<T;)x=x.then(M[_++],M[_++]);return x}T=d.length;let B=n;for(_=0;_<T;){const M=d[_++],j=d[_++];try{B=M(B)}catch(V){j.call(this,V);break}}try{x=Xy.call(this,B)}catch(M){return Promise.reject(M)}for(_=0,T=m.length;_<T;)x=x.then(m[_++],m[_++]);return x}getUri(o){o=os(this.defaults,o);const n=jw(o.baseURL,o.url);return Fw(n,o.params,o.paramsSerializer)}}Re.forEach(["delete","get","head","options"],function(o){_u.prototype[o]=function(n,a){return this.request(os(a||{},{method:o,url:n,data:(a||{}).data}))}});Re.forEach(["post","put","patch"],function(o){function n(a){return function(h,f,d){return this.request(os(d||{},{method:o,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}_u.prototype[o]=n(),_u.prototype[o+"Form"]=n(!0)});const hu=_u;class Ff{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(h){n=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(d=>{a.subscribe(d),h=d}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},o(function(h,f,d){a.reason||(a.reason=new Sa(h,f,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const n=this._listeners.indexOf(o);n!==-1&&this._listeners.splice(n,1)}static source(){let o;return{token:new Ff(function(u){o=u}),cancel:o}}}const a6=Ff;function l6(e){return function(n){return e.apply(null,n)}}function u6(e){return Re.isObject(e)&&e.isAxiosError===!0}const jd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jd).forEach(([e,o])=>{jd[o]=e});const c6=jd;function Vw(e){const o=new hu(e),n=Sw(hu.prototype.request,o);return Re.extend(n,hu.prototype,o,{allOwnKeys:!0}),Re.extend(n,o,null,{allOwnKeys:!0}),n.create=function(u){return Vw(os(e,u))},n}const Cn=Vw(If);Cn.Axios=hu;Cn.CanceledError=Sa;Cn.CancelToken=a6;Cn.isCancel=zw;Cn.VERSION=Uw;Cn.toFormData=ec;Cn.AxiosError=jt;Cn.Cancel=Cn.CanceledError;Cn.all=function(o){return Promise.all(o)};Cn.spread=l6;Cn.isAxiosError=u6;Cn.mergeConfig=os;Cn.AxiosHeaders=Yi;Cn.formToJSON=e=>Hw(Re.isHTMLForm(e)?new FormData(e):e);Cn.HttpStatusCode=c6;Cn.default=Cn;const Ky=Cn,h6={}.VITE_BACKENDURL,d6="http://localhost:8101";class f6{constructor(){console.log(h6),this.backendURL="",this.headers={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},window.location.hostname=="localhost"?(this.backendURL=d6,this.requests_axios=Ky.create({baseURL:this.backendURL,withCredentials:!1,headers:this.headers})):(this.backendURL="/graggle-backend",this.requests_axios=Ky.create({baseURL:"",withCredentials:!1,headers:this.headers})),console.log("window.location.hostname: "+window.location.hostname),console.log("this.backendURL: "+this.backendURL)}get_databases(o){return this.requests_axios.get(this.backendURL+"/databases").then(o)}get_datasets_filtered(o,n){return this.requests_axios.post(this.backendURL+"/datasets/filter",{filter:n}).then(o)}get_dataset_description(o,n,a,u){return this.requests_axios.get(this.backendURL+"/dataset/description/"+a+"/"+u).then(o).catch(n)}post_dataset_description(o,n,a){return this.requests_axios.post(this.backendURL+"/dataset/description",a).then(o).catch(n)}get_dataset_comments(o,n,a){return this.requests_axios.get(this.backendURL+"/dataset/comments/"+n+"/"+a).then(o)}get_dataset_document(o,n,a,u,h,f,d){return this.requests_axios.get(this.backendURL+"/dataset/document/"+a+"/"+u+"/"+h+"/"+f+"?low_resolution="+d).then(o).catch(n)}get_bookmark_groups(o){return this.requests_axios.get(this.backendURL+"/bookmarkgroups").then(o)}post_bookmark_groups(o,n){return this.requests_axios.post(this.backendURL+"/bookmarkgroups",n).then(o)}}const Gi=new f6,Ww=Qu("databases",{state:()=>({datasets:["loading"]}),actions:{load(){var e=this,o=function(n){e.datasets=n.data.databases};Gi.get_databases(o)},get_databases(){return this.datasets}}});const p6={data(){return{activeIndex:null,datasets:["loading"],active_database:null,collection_overwrite:!1,gstore:_n(),databasestore:Ww()}},computed:{},mounted(){this.databasestore.load()},methods:{is_active_database(e){return this.active_database==e},isActive(e,o){return Array.isArray(this.activeIndex)?this.activeIndex[0]===e?o?this.activeIndex[1]===o:!0:!1:this.activeIndex===e},async set_selected_database(e){let o=n=>new Promise(a=>setTimeout(a,n));await o(50),this.collection_overwrite||(this.active_database=e,this.gstore.selected_db="",this.gstore.selected_col="",this.gstore.filter="",await o(50),this.gstore.filter=this.active_database)},async set_selected_collection(e,o){this.gstore.selected_db=e,this.gstore.selected_col=o,this.collection_overwrite=!0,await(a=>new Promise(u=>setTimeout(u,a)))(500),this.collection_overwrite=!1}}},g6={class:""},m6={class:"grid grid-cols-1 gap-2 overflow-x-hidden"},v6=["onClick"],y6={key:0,class:"mt-2 border-l-4 border-secondary overflow-y-auto max-h-80 overflow-x-hidden"},b6=["onClick"];function w6(e,o,n,a,u,h){return Le(),Ge("div",g6,[K("div",m6,[(Le(!0),Ge(It,null,Nn(u.databasestore.get_databases(),f=>(Le(),Ge("div",{class:Tn(["bg-secondary py-2 px-4 rounded font-semibold text-xs laptop:text-base desktop:text-lg 4k:text-xl",{"bg-tertiary-900":h.is_active_database(f.database_name)}]),onClick:d=>h.set_selected_database(f.database_name)},[$t(Ot(f.database_name)+" ",1),h.is_active_database(f.database_name)?(Le(),Ge("ul",y6,[(Le(!0),Ge(It,null,Nn(f.collection_names,d=>(Le(),Ge("li",{class:Tn(["py-2 px-2 cursor-pointer text-m text-gray-300",{"bg-tertiary-900":h.isActive(1,1)}]),onClick:g=>h.set_selected_collection(f.database_name,d)},Ot(d.slice(0,22)),11,b6))),256))])):qt("",!0)],10,v6))),256))])])}const x6=rn(p6,[["render",w6]]),_6="/graggle-backend/graggle-frontend/assets/construction.1202de5e.jpg",E6={data(){return{}},mounted(){},methods:{}},S6={class:"w-full"},T6=K("img",{class:"",src:_6},null,-1),C6=[T6];function P6(e,o,n,a,u,h){return Le(),Ge("div",S6,C6)}const k6=rn(E6,[["render",P6]]),Au=class{static async _readBookmarkGroups(){if(_n().global_storage){var n=[];const a=function(u){n=u.data.groups};return await Gi.get_bookmark_groups(a),n}else return JSON.parse(localStorage.getItem(Au.local_storace_name))||[]}static async _writeBookmarkGroup(o){if(_n().global_storage){const a=function(u){console.log(u)};await Gi.post_bookmark_groups(a,{groups:o})}else localStorage.setItem(Au.local_storace_name,JSON.stringify(o))}static async _createBookmarkGroup(o,n,a){let u=await this._readBookmarkGroups();u.push({name:o,datasets:[{db:n,col:a}]}),await this._writeBookmarkGroup(u)}static adjustCounter(o){o.amount_bookmark_groups=o.amount_bookmark_groups+1}static async _add2BookmarkGroup(o,n,a){let u=await this._readBookmarkGroups();for(let h=0;h<u.length;h++)u[h].name==o&&u[h].datasets.push({db:n,col:a});await this._writeBookmarkGroup(u)}static async _removeBookmarkGroup(o,n,a){let u=await this._readBookmarkGroups();for(let h=0;h<u.length;h++)if(u[h].name==o){let f=-1;for(let d=0;d<u[h].datasets.length;d++)n==u[h].datasets[d].db&&a==u[h].datasets[d].col&&(f=d);f!=-1&&(u[h].datasets.splice(f),u[h].datasets.length==0&&u.splice(h))}await this._writeBookmarkGroup(u)}static async addBookmarkGroup(o,n,a,u){await this._add2BookmarkGroup(o,n,a),this.adjustCounter(u)}static async removeBookmarkGroup(o,n,a,u){await this._removeBookmarkGroup(o,n,a),this.adjustCounter(u)}static async setBookmarkGroup(o,n,a,u){await this._createBookmarkGroup(o,n,a),this.adjustCounter(u)}static async getBookmarkGroups(o,n){return await this._readBookmarkGroups()}};let qi=Au;ty(qi,"local_storace_name","bookmarkgroups");class Jy{static base64_to_url(o){const n=atob(o.split(",")[1]),a=new Array(n.length);for(let d=0;d<n.length;d++)a[d]=n.charCodeAt(d);const u=new Uint8Array(a),h=new Blob([u],{type:"image/png"});return URL.createObjectURL(h)}}const ir=Qu("dataset",{state:()=>({global_counter:0,low_resolution:!1,dataset_description:null,dataset_loading:!1,documents_filter:"{}",documents_images:[],documents:[{loading:"we are currently fetching the data from the database. Please wait a few seconds."}],current_index:0,gstore:_n()}),actions:{reset(){this.global_counter=this.global_counter+1,this.documents_filter="{}",this.current_index=0,this.documents_images=[],this.documents=[{loading:""}]},reset_dataset_description(){this.dataset_description=null},set_filter(e){this.documents_filter=e},load(){this.load_dataset_description(),this.get_data(!0)},data_get_all_documents(){return this.documents},data_get_all_image(){return this.documents_images},data_get_current_documents(){return this.documents[this.current_index]},data_get_current_image(){return this.documents_images[this.current_index]},data_has_data(){return 0<this.documents_images.length},data_has_next(){return this.current_index<this.documents_images.length-1},data_has_prev(){return this.current_index>0},data_next(){this.current_index==this.documents_images.length-2&&this.get_data(!1),this.current_index=this.current_index+1,this.current_image=this.documents_images[this.current_index]},data_prev(){this.current_index=this.current_index-1,this.current_image=this.documents_images[this.current_index]},async get_data(e){let o=this.global_counter;var n=this,a=function(m){if(n.global_counter!=o)return;"loading"in n.documents[0]&&(n.documents=[],n.documents_images=[]);let x=m.data.document;"image"in m.data.document&&(n.documents_images.push(Jy.base64_to_url(m.data.document.image)),delete x.image),"image_data"in m.data.document&&(n.documents_images.push(Jy.base64_to_url(m.data.document.image_data)),delete x.image_data),n.documents.push(x),e?n.get_data(!1):n.next_disabled=!1},u=function(m){n.documents=[{"empty result or wrong filter":""}]};let h=this.gstore.selected_db,f=this.gstore.selected_col,d=this.documents.length;"loading"in n.documents[0]&&(d=0);let g=btoa(this.documents_filter);Gi.get_dataset_document(a,u,h,f,d,g||"{}",this.low_resolution)},is_dataset_loading(){return this.dataset_loading},get_dataset_description(){return this.dataset_description},async filter_datasets(e){var o=null,n=function(a){o=a.data.datasetdescriptors};return await Gi.get_datasets_filtered(n,e),o},async read_dataset_description(e,o){var n=null,a=function(h){n=h.data},u=function(h){};return await Gi.get_dataset_description(a,u,e,o),n},load_dataset_description(){var e=this;this.dataset_loading=!0;var o=function(h){e.dataset_description=h.data,e.dataset_loading=!1},n=function(h){h.response.status==404&&(e.dataset_description=null),e.dataset_loading=!1};let a=this.gstore.selected_db,u=this.gstore.selected_col;Gi.get_dataset_description(o,n,a,u)},async post_dataset_description(e){let o=!0;var n=function(u){o=!0},a=function(u){o=!1};return await Gi.post_dataset_description(n,a,e),o}}});const A6={props:{loading:{type:Boolean,required:!0},headline:{type:String,required:!0},subline:{type:String,required:!0}}},R6=e=>(ub("data-v-4ab28be4"),e=e(),cb(),e),O6={key:0,"wire:loading":"",class:"absolute top-0 left-0 right-0 bottom-0 z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"},D6=R6(()=>K("div",{class:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"},null,-1)),M6={class:"text-center text-white text-xl font-semibold"},B6={class:"w-1/3 text-center text-white"};function I6(e,o,n,a,u,h){return n.loading?(Le(),Ge("div",O6,[D6,K("h2",M6,Ot(n.headline),1),K("p",B6,Ot(n.subline),1)])):qt("",!0)}const ic=rn(A6,[["render",I6],["__scopeId","data-v-4ab28be4"]]),N6={data(){return{is_loading:!1,bookmarkgroups:[],gstore:_n(),datasetstore:ir(),overlay_db:"",overlay_col:""}},computed:{},mounted(){this.handle_bookmark_groups(this.gstore.global_storage),dn(()=>this.gstore.amount_bookmark_groups,(e,o)=>{this.handle_bookmark_groups(this.gstore.global_storage)}),dn(()=>this.gstore.global_storage,(e,o)=>{this.handle_bookmark_groups(this.gstore.global_storage)})},methods:{async handle_bookmark_groups(e){this.is_loading=!0,this.bookmarkgroups=[],this.bookmarkgroups=await qi.getBookmarkGroups("","");for(let o=0;o<this.bookmarkgroups.length;o++)for(let n=0;n<this.bookmarkgroups[o].datasets.length;n++){let a=this.bookmarkgroups[o].datasets[n].db,u=this.bookmarkgroups[o].datasets[n].col;this.handle_bookmark(o,n,a,u,this.bookmarkgroups)}this.is_loading=!1},async handle_bookmark(e,o,n,a,u){u[e].datasets[o].collection=a,u[e].datasets[o].database=n,u[e].datasets[o].title=n;let h=await this.datasetstore.read_dataset_description(n,a);u[e].datasets[o].image=h.image,u[e].datasets[o].title=h.dataset_display_title},async open_bookmark_dialog_on_dataset(e,o){this.set_selected_collection(e,o),await 100,this.gstore.cmd="bookmarkgroupsdialog"},set_selected_collection(e,o){this.gstore.selected_db=e,this.gstore.selected_col=o},async remove(e,o,n){await qi.removeBookmarkGroup(e,o,n,this.gstore),this.handle_bookmark_groups()}},components:{LoadingOverlay:ic}},F6={class:"w-full"},L6={class:"grid grid-cols-1 gap-2"},H6={class:"bg-gray-300 mb-2 py-2 px-2 rounded"},z6={class:"text-xl laptop:text-2xl desktop:text-3xl 4k:text-3xl text-secondary w-100 leading-2 font-bold border-b-4 mb-2 border-secondary"},j6=["onClick"],U6=["onMouseenter"],V6={class:"flex items-center justify-center"},W6=["src"],G6={class:""},q6={class:"font-semibold max-[1000px]:text:sm min-[1000px]text-lg"},X6={class:"text-gray-500 text-xs min-[1000px]:col-span-2"},Z6={key:0},Y6=K("div",{class:"absolute inset-0 bg-gray-700 opacity-20"},null,-1),K6=["onClick"];function J6(e,o,n,a,u,h){const f=Mt("loading-overlay"),d=Mt("font-awesome-icon");return Le(),Ge("div",F6,[K("div",L6,[K("div",null,[u.is_loading?(Le(),Si(f,{key:0,class:"relative",loading:u.is_loading,headline:"Loading",subline:"Bookmark Groups"},null,8,["loading"])):qt("",!0)]),(Le(!0),Ge(It,null,Nn(u.bookmarkgroups,g=>(Le(),Ge("div",H6,[K("div",z6,"Name: "+Ot(g.name),1),(Le(!0),Ge(It,null,Nn(g.datasets,m=>(Le(),Ge("div",{class:"bg-secondary py-2 px-2 mb-1 rounded",onClick:x=>h.set_selected_collection(m.database,m.collection)},[K("div",{class:"relative grid max-[1000px]:grid-cols-1 min-[1000px]:grid-cols-3 gap-2",onMouseenter:x=>(u.overlay_db=m.database,u.overlay_col=m.collection),onMouseleave:o[1]||(o[1]=x=>(u.overlay_db="",u.overlay_col=""))},[K("div",V6,[m.image!=""?(Le(),Ge("img",{key:0,src:m.image,class:"rounded mx-auto"},null,8,W6)):qt("",!0)]),K("div",G6,[K("div",q6,Ot(m.title),1),K("div",X6,Ot(m.collection),1)]),u.overlay_db==m.database&&u.overlay_col==m.collection?(Le(),Ge("div",Z6,[Y6,K("button",{class:"absolute top-1/2 left-1/3 transform -translate-x-1/2 -translate-y-1/2 bg-white font-bold py-2 px-4 rounded text-sm laptop:text-lg desktop:text-xl 4k:text-2xl",onClick:x=>h.remove(g.name,u.overlay_db,u.overlay_col)},[Ke(d,{class:"text-black",icon:"fa-solid fa-trash"})],8,K6),K("button",{class:"absolute top-1/2 left-2/3 transform -translate-x-1/2 -translate-y-1/2 bg-white font-bold py-2 px-4 rounded text-sm laptop:text-lg desktop:text-xl 4k:text-2xl",onClick:o[0]||(o[0]=x=>h.open_bookmark_dialog_on_dataset(u.overlay_db,u.overlay_col))},[Ke(d,{class:"text-black",icon:"fa-solid fa-pen"})])])):qt("",!0)],40,U6)],8,j6))),256))]))),256))])])}const Q6=rn(N6,[["render",J6]]),$6={name:"Tagging",data(){return{gstore:_n(),cl_menu_item_active:"border-l-8 border-gray-800",p_flex_size:this.flex_size,isCollapsed:!1,buttons_col_span:"col-span-2",global_checked:!1,menu_items:[{icon:"fa-database",active:!0,title:"Datasets",comp:"DatasetList",global:!1},{icon:"fa-bookmark",active:!1,title:"Bookmark Groups",comp:"BookmarkGroupList",global:!0},{icon:"fa-filter",active:!1,title:"Filters",comp:"Filters",global:!1},{icon:"fa-bars",active:!1,title:"Options",comp:"Options",global:!1}]}},mounted(){dn(()=>this.global_checked,(e,o)=>{this.gstore.global_storage=e}),dn(()=>this.gstore.global_storage,(e,o)=>{this.global_checked=e})},methods:{menu_btn_click(e){if(e.active!=!0){var o=this.menu_items.indexOf(e),n=this.menu_items.findIndex(a=>a.active);o===n&&!this.isCollapsed?this.collapse():o===n&&this.isCollapsed?this.uncollapse():this.uncollapse();for(let a=0;a<this.menu_items.length;a++)this.menu_items[a].active=!1;e.active=!0}},collapse(){this.isCollapsed=!0,this.p_flex_size="w-15",this.buttons_col_span="col-span-12"},uncollapse(){this.isCollapsed=!1,this.p_flex_size=this.flex_size,this.buttons_col_span="col-span-2"}},components:{DatasetList:x6,Filters:k6,Options:JM,BookmarkGroupList:Q6}},eB={class:"flex h-full p-0 h-full"},tB=["onClick"],nB={class:"flex min-[1000px]:justify-center border-b-4 mb-2 border-secondary relative"},iB={key:0,class:"absolute right-0 top-0"},rB={class:"inline-flex items-center cursor-pointer"},oB=K("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-secondary peer-focus:ring-4 peer-focus:ring-primary dark:peer-focus:ring-primary dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-primary after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-primary after:border-primary after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary peer-checked:bg-green-600"},null,-1),sB=K("span",{class:"ml-1 text-sm font-medium text-gray-300 dark:text-gray-300"},"GLOBAL",-1);function aB(e,o,n,a,u,h){const f=Mt("font-awesome-icon");return Le(),Ge("div",{class:Tn(["flex flex-col bg-primary text-white",u.p_flex_size,(u.isCollapsed,"min-w-[50px]")])},[K("div",eB,[K("div",{class:Tn([u.buttons_col_span,"bg-secondary min-w-[50px] max-w-[50px]"])},[(Le(!0),Ge(It,null,Nn(u.menu_items,d=>(Le(),Ge("div",{key:d.id,class:Tn(["bg-gray cursor-pointer",["px-3.5 py-2","border-1","border-black",d.active?u.cl_menu_item_active:""]]),onClick:g=>h.menu_btn_click(d)},[Ke(f,{icon:d.icon,class:Tn([d.active?"":"text-gray-600 hover:text-gray-500","text-xl"])},null,8,["icon","class"])],10,tB))),128))],2),K("div",{style:po(u.isCollapsed?"display: none":""),class:"col-span-10 flex-1 px-2 pb-2 pt-1"},[(Le(!0),Ge(It,null,Nn(u.menu_items,d=>Vn((Le(),Ge("div",{key:d.id},[K("div",nB,[K("div",{class:Tn(["text-xl laptop:text-2xl desktop:text-3xl 4k:text-3xl text-gray-300 w-100 leading-2 font-bold",d.global?"mt-5":"mt-1"])},Ot(d.title),3),d.global?(Le(),Ge("div",iB,[K("label",rB,[Vn(K("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":o[0]||(o[0]=g=>u.global_checked=g)},null,512),[[xa,u.global_checked]]),oB,sB])])):qt("",!0)]),(Le(),Si(Pb(d.comp),{class:"h-full"}))])),[[Ju,d.active]])),128))],4)])],2)}const lB=rn($6,[["render",aB]]);var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uB(e){var o=e.default;if(typeof o=="function"){var n=function(){return o.apply(this,arguments)};n.prototype=o.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var u=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:function(){return e[a]}})}),n}function qw(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(o=>{const n=e[o],a=typeof n;(a==="object"||a==="function")&&!Object.isFrozen(n)&&qw(n)}),e}class Qy{constructor(o){o.data===void 0&&(o.data={}),this.data=o.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Xw(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Er(e,...o){const n=Object.create(null);for(const a in e)n[a]=e[a];return o.forEach(function(a){for(const u in a)n[u]=a[u]}),n}const cB="</span>",$y=e=>!!e.scope,hB=(e,{prefix:o})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${o}${n.shift()}`,...n.map((a,u)=>`${a}${"_".repeat(u+1)}`)].join(" ")}return`${o}${e}`};class dB{constructor(o,n){this.buffer="",this.classPrefix=n.classPrefix,o.walk(this)}addText(o){this.buffer+=Xw(o)}openNode(o){if(!$y(o))return;const n=hB(o.scope,{prefix:this.classPrefix});this.span(n)}closeNode(o){!$y(o)||(this.buffer+=cB)}value(){return this.buffer}span(o){this.buffer+=`<span class="${o}">`}}const e1=(e={})=>{const o={children:[]};return Object.assign(o,e),o};class Lf{constructor(){this.rootNode=e1(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(o){this.top.children.push(o)}openNode(o){const n=e1({scope:o});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(o){return this.constructor._walk(o,this.rootNode)}static _walk(o,n){return typeof n=="string"?o.addText(n):n.children&&(o.openNode(n),n.children.forEach(a=>this._walk(o,a)),o.closeNode(n)),o}static _collapse(o){typeof o!="string"&&(!o.children||(o.children.every(n=>typeof n=="string")?o.children=[o.children.join("")]:o.children.forEach(n=>{Lf._collapse(n)})))}}class fB extends Lf{constructor(o){super(),this.options=o}addText(o){o!==""&&this.add(o)}startScope(o){this.openNode(o)}endScope(){this.closeNode()}__addSublanguage(o,n){const a=o.root;n&&(a.scope=`language:${n}`),this.add(a)}toHTML(){return new dB(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function aa(e){return e?typeof e=="string"?e:e.source:null}function Zw(e){return yo("(?=",e,")")}function pB(e){return yo("(?:",e,")*")}function gB(e){return yo("(?:",e,")?")}function yo(...e){return e.map(n=>aa(n)).join("")}function mB(e){const o=e[e.length-1];return typeof o=="object"&&o.constructor===Object?(e.splice(e.length-1,1),o):{}}function Hf(...e){return"("+(mB(e).capture?"":"?:")+e.map(a=>aa(a)).join("|")+")"}function Yw(e){return new RegExp(e.toString()+"|").exec("").length-1}function vB(e,o){const n=e&&e.exec(o);return n&&n.index===0}const yB=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function zf(e,{joinWith:o}){let n=0;return e.map(a=>{n+=1;const u=n;let h=aa(a),f="";for(;h.length>0;){const d=yB.exec(h);if(!d){f+=h;break}f+=h.substring(0,d.index),h=h.substring(d.index+d[0].length),d[0][0]==="\\"&&d[1]?f+="\\"+String(Number(d[1])+u):(f+=d[0],d[0]==="("&&n++)}return f}).map(a=>`(${a})`).join(o)}const bB=/\b\B/,Kw="[a-zA-Z]\\w*",jf="[a-zA-Z_]\\w*",Jw="\\b\\d+(\\.\\d+)?",Qw="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",$w="\\b(0b[01]+)",wB="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",xB=(e={})=>{const o=/^#![ ]*\//;return e.binary&&(e.begin=yo(o,/.*\b/,e.binary,/\b.*/)),Er({scope:"meta",begin:o,end:/$/,relevance:0,"on:begin":(n,a)=>{n.index!==0&&a.ignoreMatch()}},e)},la={begin:"\\\\[\\s\\S]",relevance:0},_B={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[la]},EB={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[la]},SB={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},rc=function(e,o,n={}){const a=Er({scope:"comment",begin:e,end:o,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const u=Hf("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:yo(/[ ]+/,"(",u,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},TB=rc("//","$"),CB=rc("/\\*","\\*/"),PB=rc("#","$"),kB={scope:"number",begin:Jw,relevance:0},AB={scope:"number",begin:Qw,relevance:0},RB={scope:"number",begin:$w,relevance:0},OB={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[la,{begin:/\[/,end:/\]/,relevance:0,contains:[la]}]}]},DB={scope:"title",begin:Kw,relevance:0},MB={scope:"title",begin:jf,relevance:0},BB={begin:"\\.\\s*"+jf,relevance:0},IB=function(e){return Object.assign(e,{"on:begin":(o,n)=>{n.data._beginMatch=o[1]},"on:end":(o,n)=>{n.data._beginMatch!==o[1]&&n.ignoreMatch()}})};var Kl=Object.freeze({__proto__:null,MATCH_NOTHING_RE:bB,IDENT_RE:Kw,UNDERSCORE_IDENT_RE:jf,NUMBER_RE:Jw,C_NUMBER_RE:Qw,BINARY_NUMBER_RE:$w,RE_STARTERS_RE:wB,SHEBANG:xB,BACKSLASH_ESCAPE:la,APOS_STRING_MODE:_B,QUOTE_STRING_MODE:EB,PHRASAL_WORDS_MODE:SB,COMMENT:rc,C_LINE_COMMENT_MODE:TB,C_BLOCK_COMMENT_MODE:CB,HASH_COMMENT_MODE:PB,NUMBER_MODE:kB,C_NUMBER_MODE:AB,BINARY_NUMBER_MODE:RB,REGEXP_MODE:OB,TITLE_MODE:DB,UNDERSCORE_TITLE_MODE:MB,METHOD_GUARD:BB,END_SAME_AS_BEGIN:IB});function NB(e,o){e.input[e.index-1]==="."&&o.ignoreMatch()}function FB(e,o){e.className!==void 0&&(e.scope=e.className,delete e.className)}function LB(e,o){!o||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=NB,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function HB(e,o){!Array.isArray(e.illegal)||(e.illegal=Hf(...e.illegal))}function zB(e,o){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function jB(e,o){e.relevance===void 0&&(e.relevance=1)}const UB=(e,o)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(a=>{delete e[a]}),e.keywords=n.keywords,e.begin=yo(n.beforeMatch,Zw(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},VB=["of","and","for","in","not","or","if","then","parent","list","value"],WB="keyword";function ex(e,o,n=WB){const a=Object.create(null);return typeof e=="string"?u(n,e.split(" ")):Array.isArray(e)?u(n,e):Object.keys(e).forEach(function(h){Object.assign(a,ex(e[h],o,h))}),a;function u(h,f){o&&(f=f.map(d=>d.toLowerCase())),f.forEach(function(d){const g=d.split("|");a[g[0]]=[h,GB(g[0],g[1])]})}}function GB(e,o){return o?Number(o):qB(e)?0:1}function qB(e){return VB.includes(e.toLowerCase())}const t1={},ro=e=>{console.error(e)},n1=(e,...o)=>{console.log(`WARN: ${e}`,...o)},Vo=(e,o)=>{t1[`${e}/${o}`]||(console.log(`Deprecated as of ${e}. ${o}`),t1[`${e}/${o}`]=!0)},Eu=new Error;function tx(e,o,{key:n}){let a=0;const u=e[n],h={},f={};for(let d=1;d<=o.length;d++)f[d+a]=u[d],h[d+a]=!0,a+=Yw(o[d-1]);e[n]=f,e[n]._emit=h,e[n]._multi=!0}function XB(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ro("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Eu;if(typeof e.beginScope!="object"||e.beginScope===null)throw ro("beginScope must be object"),Eu;tx(e,e.begin,{key:"beginScope"}),e.begin=zf(e.begin,{joinWith:""})}}function ZB(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ro("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Eu;if(typeof e.endScope!="object"||e.endScope===null)throw ro("endScope must be object"),Eu;tx(e,e.end,{key:"endScope"}),e.end=zf(e.end,{joinWith:""})}}function YB(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function KB(e){YB(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),XB(e),ZB(e)}function JB(e){function o(f,d){return new RegExp(aa(f),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(d?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(d,g){g.position=this.position++,this.matchIndexes[this.matchAt]=g,this.regexes.push([g,d]),this.matchAt+=Yw(d)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const d=this.regexes.map(g=>g[1]);this.matcherRe=o(zf(d,{joinWith:"|"}),!0),this.lastIndex=0}exec(d){this.matcherRe.lastIndex=this.lastIndex;const g=this.matcherRe.exec(d);if(!g)return null;const m=g.findIndex((_,T)=>T>0&&_!==void 0),x=this.matchIndexes[m];return g.splice(0,m),Object.assign(g,x)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(d){if(this.multiRegexes[d])return this.multiRegexes[d];const g=new n;return this.rules.slice(d).forEach(([m,x])=>g.addRule(m,x)),g.compile(),this.multiRegexes[d]=g,g}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(d,g){this.rules.push([d,g]),g.type==="begin"&&this.count++}exec(d){const g=this.getMatcher(this.regexIndex);g.lastIndex=this.lastIndex;let m=g.exec(d);if(this.resumingScanAtSamePosition()&&!(m&&m.index===this.lastIndex)){const x=this.getMatcher(0);x.lastIndex=this.lastIndex+1,m=x.exec(d)}return m&&(this.regexIndex+=m.position+1,this.regexIndex===this.count&&this.considerAll()),m}}function u(f){const d=new a;return f.contains.forEach(g=>d.addRule(g.begin,{rule:g,type:"begin"})),f.terminatorEnd&&d.addRule(f.terminatorEnd,{type:"end"}),f.illegal&&d.addRule(f.illegal,{type:"illegal"}),d}function h(f,d){const g=f;if(f.isCompiled)return g;[FB,zB,KB,UB].forEach(x=>x(f,d)),e.compilerExtensions.forEach(x=>x(f,d)),f.__beforeBegin=null,[LB,HB,jB].forEach(x=>x(f,d)),f.isCompiled=!0;let m=null;return typeof f.keywords=="object"&&f.keywords.$pattern&&(f.keywords=Object.assign({},f.keywords),m=f.keywords.$pattern,delete f.keywords.$pattern),m=m||/\w+/,f.keywords&&(f.keywords=ex(f.keywords,e.case_insensitive)),g.keywordPatternRe=o(m,!0),d&&(f.begin||(f.begin=/\B|\b/),g.beginRe=o(g.begin),!f.end&&!f.endsWithParent&&(f.end=/\B|\b/),f.end&&(g.endRe=o(g.end)),g.terminatorEnd=aa(g.end)||"",f.endsWithParent&&d.terminatorEnd&&(g.terminatorEnd+=(f.end?"|":"")+d.terminatorEnd)),f.illegal&&(g.illegalRe=o(f.illegal)),f.contains||(f.contains=[]),f.contains=[].concat(...f.contains.map(function(x){return QB(x==="self"?f:x)})),f.contains.forEach(function(x){h(x,g)}),f.starts&&h(f.starts,d),g.matcher=u(g),g}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Er(e.classNameAliases||{}),h(e)}function nx(e){return e?e.endsWithParent||nx(e.starts):!1}function QB(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(o){return Er(e,{variants:null},o)})),e.cachedVariants?e.cachedVariants:nx(e)?Er(e,{starts:e.starts?Er(e.starts):null}):Object.isFrozen(e)?Er(e):e}var $B="11.8.0";class eI extends Error{constructor(o,n){super(o),this.name="HTMLInjectionError",this.html=n}}const fd=Xw,i1=Er,r1=Symbol("nomatch"),tI=7,ix=function(e){const o=Object.create(null),n=Object.create(null),a=[];let u=!0;const h="Could not find the language '{}', did you forget to load/include a language module?",f={disableAutodetect:!0,name:"Plain text",contains:[]};let d={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:fB};function g(_e){return d.noHighlightRe.test(_e)}function m(_e){let Ce=_e.className+" ";Ce+=_e.parentNode?_e.parentNode.className:"";const nt=d.languageDetectRe.exec(Ce);if(nt){const Ne=xe(nt[1]);return Ne||(n1(h.replace("{}",nt[1])),n1("Falling back to no-highlight mode for this block.",_e)),Ne?nt[1]:"no-highlight"}return Ce.split(/\s+/).find(Ne=>g(Ne)||xe(Ne))}function x(_e,Ce,nt){let Ne="",wt="";typeof Ce=="object"?(Ne=_e,nt=Ce.ignoreIllegals,wt=Ce.language):(Vo("10.7.0","highlight(lang, code, ...args) has been deprecated."),Vo("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),wt=_e,Ne=Ce),nt===void 0&&(nt=!0);const kt={code:Ne,language:wt};ut("before:highlight",kt);const Xt=kt.result?kt.result:_(kt.language,kt.code,nt);return Xt.code=kt.code,ut("after:highlight",Xt),Xt}function _(_e,Ce,nt,Ne){const wt=Object.create(null);function kt(Te,Be){return Te.keywords[Be]}function Xt(){if(!ie.keywords){de.addText(ke);return}let Te=0;ie.keywordPatternRe.lastIndex=0;let Be=ie.keywordPatternRe.exec(ke),R="";for(;Be;){R+=ke.substring(Te,Be.index);const A=$.case_insensitive?Be[0].toLowerCase():Be[0],z=kt(ie,A);if(z){const[W,ye]=z;if(de.addText(R),R="",wt[A]=(wt[A]||0)+1,wt[A]<=tI&&(Me+=ye),W.startsWith("_"))R+=Be[0];else{const Fe=$.classNameAliases[W]||W;Rt(Be[0],Fe)}}else R+=Be[0];Te=ie.keywordPatternRe.lastIndex,Be=ie.keywordPatternRe.exec(ke)}R+=ke.substring(Te),de.addText(R)}function cn(){if(ke==="")return;let Te=null;if(typeof ie.subLanguage=="string"){if(!o[ie.subLanguage]){de.addText(ke);return}Te=_(ie.subLanguage,ke,!0,fe[ie.subLanguage]),fe[ie.subLanguage]=Te._top}else Te=B(ke,ie.subLanguage.length?ie.subLanguage:null);ie.relevance>0&&(Me+=Te.relevance),de.__addSublanguage(Te._emitter,Te.language)}function en(){ie.subLanguage!=null?cn():Xt(),ke=""}function Rt(Te,Be){Te!==""&&(de.startScope(Be),de.addText(Te),de.endScope())}function fn(Te,Be){let R=1;const A=Be.length-1;for(;R<=A;){if(!Te._emit[R]){R++;continue}const z=$.classNameAliases[Te[R]]||Te[R],W=Be[R];z?Rt(W,z):(ke=W,Xt(),ke=""),R++}}function on(Te,Be){return Te.scope&&typeof Te.scope=="string"&&de.openNode($.classNameAliases[Te.scope]||Te.scope),Te.beginScope&&(Te.beginScope._wrap?(Rt(ke,$.classNameAliases[Te.beginScope._wrap]||Te.beginScope._wrap),ke=""):Te.beginScope._multi&&(fn(Te.beginScope,Be),ke="")),ie=Object.create(Te,{parent:{value:ie}}),ie}function Et(Te,Be,R){let A=vB(Te.endRe,R);if(A){if(Te["on:end"]){const z=new Qy(Te);Te["on:end"](Be,z),z.isMatchIgnored&&(A=!1)}if(A){for(;Te.endsParent&&Te.parent;)Te=Te.parent;return Te}}if(Te.endsWithParent)return Et(Te.parent,Be,R)}function Xe(Te){return ie.matcher.regexIndex===0?(ke+=Te[0],1):(Ve=!0,0)}function ot(Te){const Be=Te[0],R=Te.rule,A=new Qy(R),z=[R.__beforeBegin,R["on:begin"]];for(const W of z)if(!!W&&(W(Te,A),A.isMatchIgnored))return Xe(Be);return R.skip?ke+=Be:(R.excludeBegin&&(ke+=Be),en(),!R.returnBegin&&!R.excludeBegin&&(ke=Be)),on(R,Te),R.returnBegin?0:Be.length}function X(Te){const Be=Te[0],R=Ce.substring(Te.index),A=Et(ie,Te,R);if(!A)return r1;const z=ie;ie.endScope&&ie.endScope._wrap?(en(),Rt(Be,ie.endScope._wrap)):ie.endScope&&ie.endScope._multi?(en(),fn(ie.endScope,Te)):z.skip?ke+=Be:(z.returnEnd||z.excludeEnd||(ke+=Be),en(),z.excludeEnd&&(ke=Be));do ie.scope&&de.closeNode(),!ie.skip&&!ie.subLanguage&&(Me+=ie.relevance),ie=ie.parent;while(ie!==A.parent);return A.starts&&on(A.starts,Te),z.returnEnd?0:Be.length}function ne(){const Te=[];for(let Be=ie;Be!==$;Be=Be.parent)Be.scope&&Te.unshift(Be.scope);Te.forEach(Be=>de.openNode(Be))}let E={};function N(Te,Be){const R=Be&&Be[0];if(ke+=Te,R==null)return en(),0;if(E.type==="begin"&&Be.type==="end"&&E.index===Be.index&&R===""){if(ke+=Ce.slice(Be.index,Be.index+1),!u){const A=new Error(`0 width match regex (${_e})`);throw A.languageName=_e,A.badRule=E.rule,A}return 1}if(E=Be,Be.type==="begin")return ot(Be);if(Be.type==="illegal"&&!nt){const A=new Error('Illegal lexeme "'+R+'" for mode "'+(ie.scope||"<unnamed>")+'"');throw A.mode=ie,A}else if(Be.type==="end"){const A=X(Be);if(A!==r1)return A}if(Be.type==="illegal"&&R==="")return 1;if(Ye>1e5&&Ye>Be.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ke+=R,R.length}const $=xe(_e);if(!$)throw ro(h.replace("{}",_e)),new Error('Unknown language: "'+_e+'"');const ae=JB($);let se="",ie=Ne||ae;const fe={},de=new d.__emitter(d);ne();let ke="",Me=0,Pe=0,Ye=0,Ve=!1;try{if($.__emitTokens)$.__emitTokens(Ce,de);else{for(ie.matcher.considerAll();;){Ye++,Ve?Ve=!1:ie.matcher.considerAll(),ie.matcher.lastIndex=Pe;const Te=ie.matcher.exec(Ce);if(!Te)break;const Be=Ce.substring(Pe,Te.index),R=N(Be,Te);Pe=Te.index+R}N(Ce.substring(Pe))}return de.finalize(),se=de.toHTML(),{language:_e,value:se,relevance:Me,illegal:!1,_emitter:de,_top:ie}}catch(Te){if(Te.message&&Te.message.includes("Illegal"))return{language:_e,value:fd(Ce),illegal:!0,relevance:0,_illegalBy:{message:Te.message,index:Pe,context:Ce.slice(Pe-100,Pe+100),mode:Te.mode,resultSoFar:se},_emitter:de};if(u)return{language:_e,value:fd(Ce),illegal:!1,relevance:0,errorRaised:Te,_emitter:de,_top:ie};throw Te}}function T(_e){const Ce={value:fd(_e),illegal:!1,relevance:0,_top:f,_emitter:new d.__emitter(d)};return Ce._emitter.addText(_e),Ce}function B(_e,Ce){Ce=Ce||d.languages||Object.keys(o);const nt=T(_e),Ne=Ce.filter(xe).filter(J).map(en=>_(en,_e,!1));Ne.unshift(nt);const wt=Ne.sort((en,Rt)=>{if(en.relevance!==Rt.relevance)return Rt.relevance-en.relevance;if(en.language&&Rt.language){if(xe(en.language).supersetOf===Rt.language)return 1;if(xe(Rt.language).supersetOf===en.language)return-1}return 0}),[kt,Xt]=wt,cn=kt;return cn.secondBest=Xt,cn}function M(_e,Ce,nt){const Ne=Ce&&n[Ce]||nt;_e.classList.add("hljs"),_e.classList.add(`language-${Ne}`)}function j(_e){let Ce=null;const nt=m(_e);if(g(nt))return;if(ut("before:highlightElement",{el:_e,language:nt}),_e.children.length>0&&(d.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(_e)),d.throwUnescapedHTML))throw new eI("One of your code blocks includes unescaped HTML.",_e.innerHTML);Ce=_e;const Ne=Ce.textContent,wt=nt?x(Ne,{language:nt,ignoreIllegals:!0}):B(Ne);_e.innerHTML=wt.value,M(_e,nt,wt.language),_e.result={language:wt.language,re:wt.relevance,relevance:wt.relevance},wt.secondBest&&(_e.secondBest={language:wt.secondBest.language,relevance:wt.secondBest.relevance}),ut("after:highlightElement",{el:_e,result:wt,text:Ne})}function V(_e){d=i1(d,_e)}const F=()=>{ce(),Vo("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function L(){ce(),Vo("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Y=!1;function ce(){if(document.readyState==="loading"){Y=!0;return}document.querySelectorAll(d.cssSelector).forEach(j)}function pe(){Y&&ce()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",pe,!1);function me(_e,Ce){let nt=null;try{nt=Ce(e)}catch(Ne){if(ro("Language definition for '{}' could not be registered.".replace("{}",_e)),u)ro(Ne);else throw Ne;nt=f}nt.name||(nt.name=_e),o[_e]=nt,nt.rawDefinition=Ce.bind(null,e),nt.aliases&&ze(nt.aliases,{languageName:_e})}function ve(_e){delete o[_e];for(const Ce of Object.keys(n))n[Ce]===_e&&delete n[Ce]}function le(){return Object.keys(o)}function xe(_e){return _e=(_e||"").toLowerCase(),o[_e]||o[n[_e]]}function ze(_e,{languageName:Ce}){typeof _e=="string"&&(_e=[_e]),_e.forEach(nt=>{n[nt.toLowerCase()]=Ce})}function J(_e){const Ce=xe(_e);return Ce&&!Ce.disableAutodetect}function ue(_e){_e["before:highlightBlock"]&&!_e["before:highlightElement"]&&(_e["before:highlightElement"]=Ce=>{_e["before:highlightBlock"](Object.assign({block:Ce.el},Ce))}),_e["after:highlightBlock"]&&!_e["after:highlightElement"]&&(_e["after:highlightElement"]=Ce=>{_e["after:highlightBlock"](Object.assign({block:Ce.el},Ce))})}function be(_e){ue(_e),a.push(_e)}function Se(_e){const Ce=a.indexOf(_e);Ce!==-1&&a.splice(Ce,1)}function ut(_e,Ce){const nt=_e;a.forEach(function(Ne){Ne[nt]&&Ne[nt](Ce)})}function at(_e){return Vo("10.7.0","highlightBlock will be removed entirely in v12.0"),Vo("10.7.0","Please use highlightElement now."),j(_e)}Object.assign(e,{highlight:x,highlightAuto:B,highlightAll:ce,highlightElement:j,highlightBlock:at,configure:V,initHighlighting:F,initHighlightingOnLoad:L,registerLanguage:me,unregisterLanguage:ve,listLanguages:le,getLanguage:xe,registerAliases:ze,autoDetection:J,inherit:i1,addPlugin:be,removePlugin:Se}),e.debugMode=function(){u=!1},e.safeMode=function(){u=!0},e.versionString=$B,e.regex={concat:yo,lookahead:Zw,either:Hf,optional:gB,anyNumberOfTimes:pB};for(const _e in Kl)typeof Kl[_e]=="object"&&qw(Kl[_e]);return Object.assign(e,Kl),e},ss=ix({});ss.newInstance=()=>ix({});var nI=ss;ss.HighlightJS=ss;ss.default=ss;const oo=nI;var o1=vo({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var o=to(e.language);dn(function(){return e.language},function(u){o.value=u});var n=Rn(function(){return e.autodetect||!o.value}),a=Rn(function(){return!n.value&&!oo.getLanguage(o.value)});return{className:Rn(function(){return a.value?"":"hljs "+o.value}),highlightedCode:Rn(function(){var u;if(a.value)return console.warn('The language "'+o.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var h=oo.highlightAuto(e.code);return o.value=(u=h.language)!==null&&u!==void 0?u:"",h.value}return(h=oo.highlight(e.code,{language:o.value,ignoreIllegals:e.ignoreIllegals})).value})}},render:function(){return is("pre",{},[is("code",{class:this.className,innerHTML:this.highlightedCode})])}}),iI={install:function(e){e.component("highlightjs",o1)},component:o1};const s1="[A-Za-z$_][0-9A-Za-z$_]*",rI=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],oI=["true","false","null","undefined","NaN","Infinity"],rx=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ox=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],sx=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],sI=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],aI=[].concat(sx,rx,ox);function lI(e){const o=e.regex,n=(Ce,{after:nt})=>{const Ne="</"+Ce[0].slice(1);return Ce.input.indexOf(Ne,nt)!==-1},a=s1,u={begin:"<>",end:"</>"},h=/<[A-Za-z0-9\\._:-]+\s*\/>/,f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Ce,nt)=>{const Ne=Ce[0].length+Ce.index,wt=Ce.input[Ne];if(wt==="<"||wt===","){nt.ignoreMatch();return}wt===">"&&(n(Ce,{after:Ne})||nt.ignoreMatch());let kt;const Xt=Ce.input.substring(Ne);if(kt=Xt.match(/^\s*=/)){nt.ignoreMatch();return}if((kt=Xt.match(/^\s+extends\s+/))&&kt.index===0){nt.ignoreMatch();return}}},d={$pattern:s1,keyword:rI,literal:oI,built_in:aI,"variable.language":sI},g="[0-9](_?[0-9])*",m=`\\.(${g})`,x="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",_={className:"number",variants:[{begin:`(\\b(${x})((${m})|\\.)?|(${m}))[eE][+-]?(${g})\\b`},{begin:`\\b(${x})\\b((${m})\\b|\\.)?|(${m})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},T={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},B={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,T],subLanguage:"xml"}},M={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,T],subLanguage:"css"}},j={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,T],subLanguage:"graphql"}},V={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,T]},L={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},Y=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,B,M,j,V,{match:/\$\d+/},_];T.contains=Y.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat(Y)});const ce=[].concat(L,T.contains),pe=ce.concat([{begin:/\(/,end:/\)/,keywords:d,contains:["self"].concat(ce)}]),me={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:pe},ve={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,o.concat(a,"(",o.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},le={relevance:0,match:o.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...rx,...ox]}},xe={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},ze={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[me],illegal:/%/},J={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ue(Ce){return o.concat("(?!",Ce.join("|"),")")}const be={match:o.concat(/\b/,ue([...sx,"super","import"]),a,o.lookahead(/\(/)),className:"title.function",relevance:0},Se={begin:o.concat(/\./,o.lookahead(o.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ut={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},me]},at="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",_e={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,o.lookahead(at)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[me]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:pe,CLASS_REFERENCE:le},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),xe,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,B,M,j,V,L,{match:/\$\d+/},_,le,{className:"attr",begin:a+o.lookahead(":"),relevance:0},_e,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[L,e.REGEXP_MODE,{className:"function",begin:at,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:pe}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u.begin,end:u.end},{match:h},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},ze,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[me,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},Se,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[me]},be,J,ve,ut,{match:/\$[(.]/}]}}function uI(e){const o=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},a={begin:"^[-\\*]{3,}",end:"$"},u={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},h={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},f={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},d=/[A-Za-z][A-Za-z0-9+.-]*/,g={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:o.concat(/\[.+?\]\(/,d,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},m={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},x={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},_=e.inherit(m,{contains:[]}),T=e.inherit(x,{contains:[]});m.contains.push(T),x.contains.push(_);let B=[n,g];return[m,x,_,T].forEach(V=>{V.contains=V.contains.concat(B)}),B=B.concat(m,x),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:B},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:B}]}]},n,h,m,x,{className:"quote",begin:"^>\\s+",contains:B,end:"$"},u,a,g,f]}}function cI(e){const o=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],d={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},g={className:"meta",begin:/^(>>>|\.\.\.) /},m={className:"subst",begin:/\{/,end:/\}/,keywords:d,illegal:/#/},x={begin:/\{\{/,relevance:0},_={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,g],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,g],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,g,x,m]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,g,x,m]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,x,m]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,x,m]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},T="[0-9](_?[0-9])*",B=`(\\b(${T}))?\\.(${T})|\\b(${T})\\.`,M=`\\b|${a.join("|")}`,j={className:"number",relevance:0,variants:[{begin:`(\\b(${T})|(${B}))[eE][+-]?(${T})[jJ]?(?=${M})`},{begin:`(${B})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${M})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${M})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${M})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${M})`},{begin:`\\b(${T})[jJ](?=${M})`}]},V={className:"comment",begin:o.lookahead(/# type:/),end:/$/,keywords:d,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},F={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:["self",g,j,_,e.HASH_COMMENT_MODE]}]};return m.contains=[_,j,g],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:d,illegal:/(<\/|\?)|=>/,contains:[g,j,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},_,V,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[F]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[j,F,_]}]}}oo.registerLanguage("javascript",lI);oo.registerLanguage("markdown",uI);oo.registerLanguage("python",cI);const hI={data(){return{gstore:_n(),envvar:`{mongo_instance}-{con_string_name} - The connection string of the database. 
Replace {mongo_instance} with the name of the instance you want to connect to (e.g. dev, prod) and {con_string_name} 
with the name of the connection string (e.g. mongodb_con_string_admin, mongodb_con_string_user). 
You set both when creating the MongoDB Accessor instance.

If you need to access the dev minio storage:
"dev_s3_access_key" - The access key of the minio dev instance
"dev_s3_secret_key" - The secret key of the minio dev instance
"dev_s3_host" - The host of the minio dev instance
If you need to access the prod minio storage:

"prod_s3_access_key" - The access key of the minio prod instance
"prod_s3_secret_key" - The secret key of the minio prod instance
"prod_s3_host" - The host of the minio prod instance
`,usage1:`from database_accessor import get_db_accessor

db_accessor = get_db_accessor(mongo_instance="dev", con_string_name="mongodb_con_string_admin")

list_data_entries = self.db_accessor.get_data(`,usage2:`, return_images=True, query=query)

for entry in list_data_entries:
  for key in entry:
    print(f'{key} has value {entry[key]}')
      `}},mounted(){},computed:{},methods:{getInstall(){return oo.highlightBlock("pip install database_accessor")},getUsage(){return this.usage1+'"'+this.gstore.selected_db+'", "'+this.gstore.selected_col+'"'+this.usage2}},components:{highlightjs:iI.component},watch:{}},dI={class:"flex flex-col justify-center items-stretch"},fI=K("h2",{class:"text-lg laptop:text-xl desktop:text-2xl 4k:text-3xl font-semibold mb-4 mx-auto"},"Set-Me-Up",-1),pI={class:"text-sm laptop:text-lg desktop:text-xl 4k:text-xl"},gI={class:"grid max-[1400px]:grid-cols-6 min-[1400px]:grid-cols-7 py-2 px-4 rounded border-2"},mI=K("div",{class:"col-span-1 flex items-center justify-start font-semibold"}," Installation: ",-1),vI={class:"col-span-6 items-center"},yI={class:"grid max-[1400px]:grid-cols-6 min-[1400px]:grid-cols-7 py-2 px-4 rounded border-2"},bI=K("div",{class:"max-[1400px]:col-span-6 min-[1400px]:col-span-1 flex items-center justify-start font-semibold"}," Environment variables: ",-1),wI={class:"col-span-6 items-center"},xI={class:"grid max-[1400px]:grid-cols-6 min-[1400px]:grid-cols-7 py-2 px-4 rounded border-2"},_I=K("div",{class:"col-span-1 flex items-center justify-start font-semibold"}," Usage: ",-1),EI={class:"col-span-6 items-center"};function SI(e,o,n,a,u,h){const f=Mt("highlightjs");return Le(),Ge("div",dI,[fI,K("div",pI,[K("div",gI,[mI,K("div",vI,[Ke(f,{language:"python",code:"pip install database_accessor"})])]),K("div",yI,[bI,K("div",wI,[Ke(f,{language:"markdown",code:u.envvar},null,8,["code"])])]),K("div",xI,[_I,K("div",EI,[Ke(f,{language:"python",code:h.getUsage()},null,8,["code"])])])])])}const TI=rn(hI,[["render",SI]]);const CI={props:{dataset_description:null},data(){return{filter:"",gstore:_n(),datasetstore:ir()}},mounted(){this.reset(!0),this.datasetstore.load(),dn(()=>this.gstore.selected_col,(e,o)=>{this.reset(!0),this.datasetstore.load()})},methods:{reset(e){this.datasetstore.reset(),e&&(this.datasetstore.reset_dataset_description(),this.datasetstore.set_filter(""))},keyClick(e){alert(e)},resetFilter(){this.reset(!1),this.filter="",this.datasetstore.set_filter(""),this.datasetstore.get_data(!0)},find(){this.reset(!1),this.datasetstore.set_filter(this.filter),this.datasetstore.get_data(!0)}},components:{}},PI=Pf('<div class="font-semibold mx-2 text-lg laptop:text-xl desktop:text-2xl 4k:text-3xl underline mt-4">Analytics</div><div class="w-full text-sm laptop:text-lg desktop:text-xl 4k:text-xl"><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Data Schema Analysis: </div><div class="col-span-4 px-2"> Getting insights how the data is structured! </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Distinct Keys: </div><div class="col-span-4 px-2"> What keys are inside of the data and howto access them! </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Image: </div><div class="col-span-4 px-2"> How many images per class? How many images in total? Image quality? </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Metrics / Analysis: </div><div class="col-span-4 px-2"> Data quality? Outliers inside of the data/images? Duplicates? Special data? Abnormality? </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> AI/ML: </div><div class="col-span-4 px-2"> Execution of models (e.g. fruit) direct on the image data. </div></div><div class="font-semibold mx-2 text-3xl underline mt-4">Miscellaneous</div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Filtering: </div><div class="col-span-4 px-2"> Advanced data filtering with drag&#39;n&#39;drop. Save and editing of create filters. </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> Export / Import: </div><div class="col-span-4 px-2"> Export of filtered data in well-established format (e.g. COCO) for further processes (e.g. external annotation). Import of data from well-established format for useres and external sources. </div></div><div class="grid grid-cols-5 py-2 px-4 rounded border-2"><div class="col-span-1 flex items-center justify-end font-semibold"> UI: </div><div class="col-span-4 px-2"> Responsive design well usable on desktop and mobile. Upload of images direct from the smartphone. </div></div></div>',2);function kI(e,o,n,a,u,h){return PI}const AI=rn(CI,[["render",kI]]),RI={props:{icon:"fa-file",title:"myentry"}},OI={class:"grid grid-cols-2 gap-4"},DI={class:"p-0 text-s"},MI={class:"p-0"};function BI(e,o,n,a,u,h){const f=Mt("font-awesome-icon");return Le(),Ge("div",OI,[K("div",DI,[Ke(f,{icon:n.icon},null,8,["icon"]),$t(Ot(n.title),1)]),K("div",MI,[kb(e.$slots,"default")])])}const II=rn(RI,[["render",BI]]),NI="/graggle-backend/graggle-frontend/assets/placeholder_image.4e939ac9.jpg",FI={props:{dataset_description:null},components:{DatasetDescriptionCardEntry:II}},LI={class:"p-0"},HI={key:0,role:"status",class:"animate-pulse dark:border-gray-700"},zI=Pf('<div class="grid grid-cols-2 gap-4 rounded"><div class="pt-2"><div class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"><svg class="w-12 h-12 text-gray-200 dark:text-gray-600" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" viewBox="0 0 640 512"><path d="M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"></path></svg></div></div><div class="pt-2"><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div><div class="flex items-center mt-4 space-x-3"><svg class="text-gray-200 w-14 h-14 dark:text-gray-700" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd"></path></svg><div><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"></div><div class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div></div></div><span class="sr-only">Loading...</span></div></div>',1),jI=[zI],UI={key:1},VI={class:"grid grid-cols-2 gap-1 p-0.5 rounded"},WI={class:"col-span-2 laptop:col-span-1 desktop:col-span-1 4k:col-span-1 p-0 flex justify-center"},GI=["src"],qI={key:1,src:NI,class:"max-w-[50px] rounded-xl shadow-xl ring-1 ring-gray-400/10",alt:"Product screenshot"},XI={class:"col-span-2 laptop:col-span-1 desktop:col-span-1 4k:col-span-1 p-0 text-xs laptop:text-sm desktop:text-lg 4k:text-xl"},ZI={class:"w-full p-0.5"};function YI(e,o,n,a,u,h){const f=Mt("DatasetDescriptionCardEntry");return Le(),Ge("div",LI,[n.dataset_description===null?(Le(),Ge("div",HI,jI)):(Le(),Ge("div",UI,[K("div",VI,[K("div",WI,[n.dataset_description.image!=""?(Le(),Ge("img",{key:0,src:n.dataset_description.image,class:"max-w-[240px] max-h-[240px] rounded-xl shadow-xl ring-1 ring-gray-400/10",alt:"Product screenshot"},null,8,GI)):(Le(),Ge("img",qI))]),K("div",XI,[K("div",ZI,[Ke(f,{icon:"fa-star",title:" Usability"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.usability),1)]),_:1}),Ke(f,{icon:"fa-hard-drive",title:" Size"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.size_mb)+" MB ",1)]),_:1}),Ke(f,{icon:"fa-file",title:" Elements"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.number_of_documents),1)]),_:1}),Ke(f,{icon:"fa-user",title:" Created by"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.created_by),1)]),_:1}),Ke(f,{icon:"fa-calendar-plus",title:" Created at"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.created),1)]),_:1}),Ke(f,{icon:"fa-calendar-check",title:" Last update"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.last_update),1)]),_:1}),Ke(f,{icon:"fa-vector-square",title:" Annotations"},{default:Di(()=>[$t(Ot(n.dataset_description.descriptors.annotation_types),1)]),_:1})])])])]))])}const KI=rn(FI,[["render",YI]]),JI={data(){return{value:0,min:0,max:5,step:1}},methods:{handleValueChange(){this.$emit("slider-value-updated",this.value)}}},QI={class:"w-full"},$I=["min","max","step"],eN={class:"mt-1 text-center"};function tN(e,o,n,a,u,h){return Le(),Ge("div",QI,[Vn(K("input",{type:"range",class:"block w-full",min:u.min,max:u.max,step:u.step,"onUpdate:modelValue":o[0]||(o[0]=f=>u.value=f),onInput:o[1]||(o[1]=(...f)=>h.handleValueChange&&h.handleValueChange(...f))},null,40,$I),[[Xn,u.value]]),K("div",eN,Ot(u.value),1)])}const nN=rn(JI,[["render",tN]]),iN="/graggle-backend/graggle-frontend/assets/gear.09d9aed3.png",rN={props:{showDialog:{type:Boolean,required:!0}},computed:{},components:{LoadingOverlay:ic,Slider:nN},data(){return{headline:"Detailed Data Description",isChecked:!1,loading:!1,error:"",selection:1,titel:"",shortdesc:"",desc:"",usability:"",createdby:"",image:"",gstore:_n(),datasetstore:ir()}},computed:{formFilled(){return this.titel&&this.shortdesc&&this.desc&&this.usability&&this.createdby}},methods:{closeDialog(){this.titel="",this.shortdesc="",this.desc="",this.usability="",this.createdby="",this.image="",this.$emit("update:showDialog")},getColor(e){return{"bg-green-300":e===this.selection,"bg-white":e!=this.selection}},toggleSelection(){this.selection==1?this.selection=2:this.selection=1},handleSliderValue(e){this.usability=e},handleFileUpload(){let e=this;const o=this.$refs.fileupload.files[0];if(o.name.endsWith(".png")||o.name.endsWith(".jpg")||o.name.endsWith(".jpeg")){const n=new FileReader;n.onload=()=>{e.image=n.result.split(",")[1]},n.readAsDataURL(o),this.error="",this.selection=2}else this.error="Wrong data format (only .png, .jpg and .jpeg)",this.selection=1},async storeDB(){if(!this.formFilled)this.error="";else{this.loading=!0,this.error="";var e={database:this.gstore.selected_db,collection:this.gstore.selected_col,dataset_display_title:this.titel,short_description:this.shortdesc,dataset_description:this.desc,usability:this.usability,created_by:this.createdby,image:this.image};await this.datasetstore.post_dataset_description(e)?(this.closeDialog(),this.loading=!1):(this.loading=!1,this.error="Fehler beim erzeugen der Dataset Description")}}}},oN={key:0,class:"fixed inset-0 bg-gray-700 opacity-75 z-50"},sN={key:1,class:"m-4 fixed inset-0 z-50 flex items-center justify-center text-xs laptop:text-lg desktop:text-xl 4k:text-2xl"},aN={class:"bg-white rounded-lg p-4"},lN={class:"space-y-12"},uN={class:""},cN={class:"text-base font-semibold leading-7 text-gray-900"},hN={class:"border-b border-gray-900/10 mt-2 grid grid-cols-1 gap-x-6 gap-y-2 sm:grid-cols-6"},dN={class:"sm:col-span-4"},fN=K("label",{for:"text",class:"block font-medium leading-6 text-gray-900"},"Dataset titel",-1),pN={class:"mt-0"},gN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},mN={class:"sm:col-span-4"},vN=K("label",{for:"shortdesc",class:"block font-medium leading-6 text-gray-900"},"Short description",-1),yN={class:"mt-0"},bN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},wN={class:"col-span-full"},xN=K("label",{for:"desc",class:"block font-medium leading-6 text-gray-900"},"Detail description",-1),_N={class:"mt-0"},EN=K("p",{class:"mt-3 leading-6 text-gray-600"},"Write a few sentences what the dataset is about.",-1),SN={class:"col-span-full"},TN=K("label",{for:"images",class:"block font-medium leading-6 text-gray-900"},"Preview photo",-1),CN={class:"grid grid-cols-2 gap-4"},PN={class:"text-center"},kN={class:"mt-4 text-s leading-6 text-gray-600"},AN={for:"file-upload",class:"relative cursor-pointer rounded-md font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"},RN=K("span",null,"Upload a file",-1),ON=K("p",{class:"leading-5 text-gray-600"},"PNG, JPG, GIF up to 10MB",-1),DN=K("img",{src:iN,class:"mx-auto h-24 text-gray-300",alt:"Product screenshot"},null,-1),MN=K("p",{class:"text-gray-600 text-center"},"automatical create from images",-1),BN={class:"col-span-full"},IN={class:"grid grid-cols-2 gap-4"},NN=K("div",{class:"p-2"},[K("label",{for:"usability",class:"block font-medium leading-6 text-gray-900"},"Usability")],-1),FN={class:"p-2"},LN={class:"flex sm:max-w-md"},HN=K("div",{class:"p-2"},[K("label",{for:"createdby",class:"block font-medium leading-6 text-gray-900"},"Created by")],-1),zN={class:"p-2"},jN={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},UN={class:"mt-2 flex items-center justify-end gap-x-6"},VN={key:0,class:"mt-2 flex items-center justify-end gap-x-6"},WN={for:"error",class:"block text-l font-medium leading-6 text-red-400"};function GN(e,o,n,a,u,h){const f=Mt("loading-overlay"),d=Mt("font-awesome-icon"),g=Mt("Slider");return Le(),Ge(It,null,[n.showDialog?(Le(),Ge("div",oN)):qt("",!0),n.showDialog?(Le(),Ge("div",sN,[K("div",aN,[K("form",{onSubmit:o[8]||(o[8]=Ku(()=>{},["prevent"])),class:"w-full relative"},[Ke(f,{loading:u.loading,headline:"Inserting",subline:"This will take a few seconds"},null,8,["loading"]),K("div",lN,[K("div",uN,[K("h2",cN,Ot(u.headline),1),K("div",hN,[K("div",dN,[fN,K("div",pN,[K("div",gN,[Vn(K("input",{required:"",type:"text",name:"titel",id:"titel","onUpdate:modelValue":o[0]||(o[0]=m=>u.titel=m),autocomplete:"titel",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:leading-6",placeholder:"meaningful titel for the dataset"},null,512),[[Xn,u.titel]])])])]),K("div",mN,[vN,K("div",yN,[K("div",bN,[Vn(K("input",{required:"",type:"shortdesc",name:"shortdesc",id:"shortdesc","onUpdate:modelValue":o[1]||(o[1]=m=>u.shortdesc=m),autocomplete:"titel",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:leading-6",placeholder:"short description of the dataset"},null,512),[[Xn,u.shortdesc]])])])]),K("div",wN,[xN,K("div",_N,[Vn(K("textarea",{required:"",id:"desc",name:"desc","onUpdate:modelValue":o[2]||(o[2]=m=>u.desc=m),rows:"3",class:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:py-1.5 sm:leading-6"},null,512),[[Xn,u.desc]])]),EN]),K("div",SN,[TN,K("div",CN,[K("div",{class:Tn(["mt-0 flex flex-col justify-between rounded-lg border border-dashed border-gray-900/25 px-6 py-10",h.getColor(2)])},[K("div",PN,[Ke(d,{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true",icon:"fa-solid fa-image"}),K("div",kN,[K("label",AN,[RN,K("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",ref:"fileupload",onChange:o[3]||(o[3]=(...m)=>h.handleFileUpload&&h.handleFileUpload(...m))},null,544)])]),ON])],2),K("div",{class:Tn(["mt-0 flex flex-col justify-between rounded-lg border border-dashed border-gray-900/25 px-6 py-10 relative",h.getColor(1)])},[DN,MN,K("div",{class:"absolute inset-0 bg-gray-700 opacity-0",onClick:o[4]||(o[4]=m=>h.toggleSelection())})],2)])]),K("div",BN,[K("div",IN,[NN,K("div",FN,[K("div",LN,[Ke(g,{onSliderValueUpdated:h.handleSliderValue},null,8,["onSliderValueUpdated"])])]),HN,K("div",zN,[K("div",jN,[Vn(K("input",{required:"",type:"createdby",name:"createdby",id:"createdby","onUpdate:modelValue":o[5]||(o[5]=m=>u.createdby=m),autocomplete:"createdby",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:leading-6",placeholder:"name or service"},null,512),[[Xn,u.createdby]])])])])])]),K("div",UN,[K("button",{type:"button",class:"font-semibold leading-6 text-gray-900",onClick:o[6]||(o[6]=(...m)=>h.closeDialog&&h.closeDialog(...m))},"Cancel"),K("button",{class:"rounded-md bg-indigo-600 px-3 py-2 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:o[7]||(o[7]=(...m)=>h.storeDB&&h.storeDB(...m))},"Save")]),u.error!=""?(Le(),Ge("div",VN,[K("label",WN,Ot(u.error),1)])):qt("",!0)])])],32)])])):qt("",!0)],64)}const qN=rn(rN,[["render",GN]]),XN={props:{showDialog:{type:Boolean,required:!0}},computed:{},components:{},mounted(){dn(()=>this.showDialog,(e,o)=>{this.readBookmarkGroups()}),dn(()=>this.global_checked,(e,o)=>{this.gstore.global_storage=e,this.readBookmarkGroups()}),dn(()=>this.gstore.global_storage,(e,o)=>{this.global_checked=this.gstore.global_storage,this.readBookmarkGroups()})},data(){return{headline:"Bookmark Group Assignment",gstore:_n(),datasetstore:ir(),bookmarkgroups:null,new_group_name:"",global_checked:!1}},methods:{async readBookmarkGroups(){this.bookmarkgroups=await qi.getBookmarkGroups(this.gstore.selected_db,this.gstore.selected_col);for(let e=0;e<this.bookmarkgroups.length;e++)for(let o=0;o<this.bookmarkgroups[e].datasets.length;o++){let n=this.bookmarkgroups[e].datasets[o].db,a=this.bookmarkgroups[e].datasets[o].col;n==this.gstore.selected_db&&a==this.gstore.selected_col&&(this.bookmarkgroups[e].mine=!0)}},async createGroup(){this.new_group_name==""?console.log("missing new group name"):(await qi.setBookmarkGroup(this.new_group_name,this.gstore.selected_db,this.gstore.selected_col,this.gstore),console.log("create group done"),this.readBookmarkGroups())},async add2group(e){let o=!1;for(let n=0;n<this.bookmarkgroups.length;n++)for(let a=0;a<this.bookmarkgroups[n].datasets.length;a++)if(this.bookmarkgroups[n].name==e){let u=this.bookmarkgroups[n].datasets[a].db,h=this.bookmarkgroups[n].datasets[a].col;u==this.gstore.selected_db&&h==this.gstore.selected_col&&(o=!0)}o?await qi.removeBookmarkGroup(e,this.gstore.selected_db,this.gstore.selected_col,this.gstore):await qi.addBookmarkGroup(e,this.gstore.selected_db,this.gstore.selected_col,this.gstore),this.readBookmarkGroups()},closeDialog(){this.$emit("update:showDialog")},focusInput(){this.$refs.textInputGroupName.focus()}}},ZN={key:0,class:"fixed inset-0 bg-gray-700 opacity-75 z-50"},YN={key:1,class:"m-4 fixed inset-0 z-50 flex items-center justify-center text-xs laptop:text-lg desktop:text-xl 4k:text-2xl"},KN={class:"rounded-lg p-2",style:{"max-height":"800px"}},JN={class:"bg-white rounded-lg p-2"},QN={class:"relative p-6 bg-secondary border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},$N={class:"absolute right-2 top-2"},eF={class:"inline-flex items-center cursor-pointer"},tF=K("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-secondary peer-focus:ring-4 peer-focus:ring-secondary dark:peer-focus:ring-secondary dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-secondary after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-secondary after:border-secondary after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary peer-checked:bg-green-600"},null,-1),nF=K("span",{class:"ml-2 text-sm font-medium text-gray-300 dark:text-gray-300"},"GLOBAL",-1),iF={href:"#"},rF={class:"mb-5 text-2xl font-bold tracking-tight text-gray-900 text-white"},oF={class:"mb-1 font-normal text-white"},sF={class:"mb-5 font-normal text-white"},aF=K("p",{class:"mb-10 font-normal text-white"},[$t("Add the dataset to an existing Bookmark Group (left side) "),K("br"),$t(" or create a new Bookmark Group with this dataset as the first member (right side).")],-1),lF={class:"col-span-full grid grid-cols-2 gap-4"},uF={class:"border-2 shadow rounded p-2 w-full bg-white"},cF=K("div",{class:"mb-3 text-xl font-bold tracking-tight text-gray-900 dark:text-white"},"ADD TO GROUP",-1),hF=K("p",{class:"mb-4 font-normal text-gray-700 dark:text-gray-400"},"Dataset is added by clicking on Group name.",-1),dF={class:"text-sm font-medium text-gray-900 bg-white border-2 border-primary rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},fF=K("div",{"aria-current":"true",class:"block w-full px-4 py-2 text-white bg-primary border-b border-primary rounded-t-lg cursor-pointer dark:bg-gray-800 dark:border-gray-600"}," Bookmark Group Names ",-1),pF={class:"mt-2"},gF={class:""},mF=["onClick"],vF={class:"border-2 shadow rounded p-2 w-full bg-white"},yF=K("div",{class:"mb-3 text-xl font-bold tracking-tight text-gray-900 dark:text-white"},"NEW GROUP",-1),bF={class:"flex flex-wrap items-center justify-center"},wF={class:"border-2 border-primary justify-center shadow rounded p-2 w-full mb-2 grid grid-cols-1 gap-2"},xF={class:"relative"},_F=K("svg",{class:"w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[K("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1);function EF(e,o,n,a,u,h){return Le(),Ge(It,null,[n.showDialog?(Le(),Ge("div",ZN)):qt("",!0),n.showDialog?(Le(),Ge("div",YN,[K("div",KN,[K("div",JN,[K("div",QN,[K("div",$N,[K("label",eF,[Vn(K("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":o[0]||(o[0]=f=>u.global_checked=f)},null,512),[[xa,u.global_checked]]),tF,nF])]),K("a",iF,[K("h5",rF,Ot(u.headline),1)]),K("p",oF,"Database: "+Ot(u.gstore.selected_db),1),K("p",sF,"collection: "+Ot(u.gstore.selected_col),1),aF,K("div",lF,[K("div",uF,[cF,hF,K("div",dF,[fF,(Le(!0),Ge(It,null,Nn(u.bookmarkgroups,f=>(Le(),Ge("div",pF,[K("div",gF,[K("div",{onClick:d=>h.add2group(f.name),class:Tn([{"text-gray-900":!f.mine,"text-green-500":f.mine,"font-bold":f.mine},"block text-xl w-full px-4 py-2 border-b border-primary cursor-pointer hover:bg-gray-400 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-500 dark:focus:text-white"])},Ot(f.name),11,mF),(Le(!0),Ge(It,null,Nn(f.datasets,d=>(Le(),Ge("div"))),256))])]))),256))])]),K("div",vF,[yF,K("div",bF,[K("div",wF,[K("div",xF,[Vn(K("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=f=>u.new_group_name=f),ref:"textInputGroupName",class:"block rounded-t-lg px-2.5 pb-2.5 pt-5 w-full text-sm text-gray-900 bg-gray-200 dark:bg-gray-700 border-0 border-b-2 border-primary appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "},null,512),[[Xn,u.new_group_name]]),K("label",{onClick:o[2]||(o[2]=(...f)=>h.focusInput&&h.focusInput(...f)),for:"floating_filled",class:"absolute text-sm tablet:text-sm laptop:text-xl desktop:text-xl 4k:text-xl text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-4 z-10 origin-[0] left-2.5 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4"},"new Bookmark Group Name")]),K("button",{onClick:o[3]||(o[3]=(...f)=>h.createGroup&&h.createGroup(...f)),type:"button",class:"text-white bg-primary hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-xl px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"Create + Add")])])])]),K("a",{href:"#",onClick:o[4]||(o[4]=(...f)=>h.closeDialog&&h.closeDialog(...f)),class:"inline-flex items-center mt-6 px-3 py-2 text-xl font-medium text-center text-white bg-primary rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[$t(" Exit "),_F])])])])])):qt("",!0)],64)}const SF=rn(XN,[["render",EF]]);const TF={data(){return{dataset_add_dialog_show:!1,bookmark_group_dialog_show:!1,gstore:_n(),datasetstore:ir(),isExpanded:!0}},mounted(){this.shrink_auto(),this.datasetstore.load_dataset_description(),dn(()=>this.gstore.selected_col,(e,o)=>{this.datasetstore.load_dataset_description()}),dn(()=>this.gstore.cmd,(e,o)=>{e=="bookmarkgroupsdialog"&&(this.gstore.cmd="",this.bookmark())})},methods:{async share(){try{await navigator.share({title:"Share graggle webside!",text:"Bizerba Data Catalog",url:window.location.href})}catch(e){console.log("Error sharing:",e)}},async shrink_auto(){await(o=>new Promise(n=>setTimeout(n,o)))(3e3),this.isExpanded=!1,console.log("shrink")},bookmark(){this.bookmark_group_dialog_show=!this.bookmark_group_dialog_show},bookmarkgroups:function(e){this.bookmark(),e.preventDefault()},bookmark_group_dialog_finished(){this.bookmark_group_dialog_show=!1},add_dialog_finished(){this.dataset_add_dialog_show=!1,this.datasetstore.load_dataset_description()},comments(){this.gstore.cmd="comments"}},components:{DatasetDescriptionCard:KI,DatasetAddDialog:qN,LoadingOverlay:ic,BookmarkGroupDialog:SF}},CF={class:"border-2 shadow rounded p-2 w-full relative"},PF={key:0},kF={class:"grid grid-cols-12"},AF={class:"max-[600px]:col-span-12 min-[600px]:col-span-10"},RF={class:"font-bold tracking-tight text-lg laptop:text-2xl desktop:text-3xl 4k:text-4xl"},OF={class:"align-top"},DF=K("br",null,null,-1),MF={class:"max-[600px]:col-span-6 min-[600px]:col-span-2 flex justify-end"},BF=["src"],IF={key:1,class:""},NF={class:"overflow-hidden transition-height duration-300 mx-auto flex border-primary grid grid-cols-4"},FF={class:"col-span-4 desktop:col-span-2 4k:col-span-2"},LF={key:0},HF=K("div",{role:"status",class:"max-w-sm animate-pulse"},[K("div",{class:"h-6 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4 border-b-2 border-primary"}),K("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[250px] mb-2.5"}),K("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"}),K("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5"}),K("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[150px] mb-2.5"}),K("div",{class:"h-3 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]"}),K("span",{class:"sr-only"},"Loading...")],-1),zF=[HF],jF={key:1},UF={class:"mx-auto flex relative"},VF={class:"w-1/2"},WF={class:"text-ml laptop:text-xl desktop:text-2xl 4k:text-3xl font-bold tracking-tight"},GF={class:"w-1/2 flex justify-end"},qF={class:"text-ml laptop:text-xl desktop:text-2xl 4k:text-3xl font-bold tracking-tight"},XF={class:"mt-2 text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},ZF={class:"col-span-4 desktop:col-span-2 4k:col-span-2"},YF={key:2},KF=K("div",{class:"absolute inset-0 bg-gray-700 opacity-20"},null,-1);function JF(e,o,n,a,u,h){const f=Mt("font-awesome-icon"),d=Mt("loading-overlay"),g=Mt("DatasetDescriptionCard"),m=Mt("DatasetAddDialog"),x=Mt("BookmarkGroupDialog");return Le(),Ge("div",CF,[u.isExpanded?qt("",!0):(Le(),Ge("div",PF,[K("div",kF,[K("div",AF,[K("div",RF,[Ke(f,{class:"px-1",icon:"fa-solid fa-maximize",onClick:o[0]||(o[0]=_=>u.isExpanded=!0)}),$t(" Datacard ")]),K("div",OF,[$t(" Database: "+Ot(u.gstore.selected_db)+" ",1),DF,$t(" Collection: "+Ot(u.gstore.selected_col)+") ",1)])]),K("div",MF,[u.datasetstore.get_dataset_description()&&u.datasetstore.get_dataset_description().image!=""?(Le(),Ge("img",{key:0,src:u.datasetstore.get_dataset_description().image,class:"rounded-xl shadow-xl ring-1 ring-gray-400/10 min-[1000px]:w-36"},null,8,BF)):qt("",!0)])])])),u.isExpanded?(Le(),Ge("div",IF,[K("div",NF,[u.datasetstore.is_dataset_loading()?(Le(),Si(d,{key:0,loading:u.datasetstore.is_dataset_loading(),headline:"Loading",subline:"Data Card"},null,8,["loading"])):qt("",!0),K("div",FF,[u.datasetstore.get_dataset_description()===null?(Le(),Ge("div",LF,zF)):(Le(),Ge("div",jF,[K("div",UF,[K("div",VF,[K("p",WF,[Ke(f,{class:"px-1",icon:"fa-solid fa-minimize",onClick:o[1]||(o[1]=_=>u.isExpanded=!1)}),$t(" "+Ot(u.datasetstore.get_dataset_description().dataset_display_title),1)])]),K("div",GF,[K("p",qF,[Ke(f,{class:"px-1",icon:"fa-solid fa-share-nodes",onClick:o[2]||(o[2]=_=>h.share())}),Ke(f,{class:"px-1",icon:"fa-solid fa-bookmark",onClick:o[3]||(o[3]=_=>h.bookmark()),onContextmenu:o[4]||(o[4]=_=>h.bookmarkgroups(_))}),Ke(f,{class:"px-1",icon:"fa-solid fa-comments",onClick:o[5]||(o[5]=_=>h.comments())}),Ke(f,{class:"px-1",icon:"fa-regular fa-pen-to-square"})])])]),K("p",XF,Ot(u.datasetstore.get_dataset_description().dataset_description),1)]))]),K("div",ZF,[Ke(g,{dataset_description:u.datasetstore.get_dataset_description()},null,8,["dataset_description"])])])])):qt("",!0),(u.datasetstore.get_dataset_description()===null||u.datasetstore.get_dataset_description().dataset_display_title==="<<Titel>>")&&u.gstore.selected_col!=""&&u.datasetstore.is_dataset_loading()===!1?(Le(),Ge("div",YF,[KF,K("button",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white font-bold py-2 px-4 rounded text-sm laptop:text-lg desktop:text-xl 4k:text-2xl",onClick:o[6]||(o[6]=_=>u.dataset_add_dialog_show=!u.dataset_add_dialog_show)},[Ke(f,{class:"pr-2",icon:"fa-solid fa-circle-plus"}),$t(" Insert Description ")])])):qt("",!0),Ke(m,{showDialog:u.dataset_add_dialog_show,"onUpdate:showDialog":h.add_dialog_finished},null,8,["showDialog","onUpdate:showDialog"]),Ke(x,{showDialog:u.bookmark_group_dialog_show,"onUpdate:showDialog":h.bookmark_group_dialog_finished},null,8,["showDialog","onUpdate:showDialog"])])}const QF=rn(TF,[["render",JF]]);var ax={exports:{}};const $F=uB(aM);(function(e,o){(function(n,a){e.exports=a($F)})(Ys,function(n){return function(){var a={789:function(d){d.exports=n}},u={};function h(d){var g=u[d];if(g!==void 0)return g.exports;var m=u[d]={exports:{}};return a[d](m,m.exports,h),m.exports}h.d=function(d,g){for(var m in g)h.o(g,m)&&!h.o(d,m)&&Object.defineProperty(d,m,{enumerable:!0,get:g[m]})},h.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},h.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var f={};return function(){function d(J,ue){(ue==null||ue>J.length)&&(ue=J.length);for(var be=0,Se=new Array(ue);be<ue;be++)Se[be]=J[be];return Se}function g(J,ue){if(J){if(typeof J=="string")return d(J,ue);var be=Object.prototype.toString.call(J).slice(8,-1);return be==="Object"&&J.constructor&&(be=J.constructor.name),be==="Map"||be==="Set"?Array.from(J):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?d(J,ue):void 0}}function m(J){return function(ue){if(Array.isArray(ue))return d(ue)}(J)||function(ue){if(typeof Symbol<"u"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}(J)||g(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(J,ue,be){return ue in J?Object.defineProperty(J,ue,{value:be,enumerable:!0,configurable:!0,writable:!0}):J[ue]=be,J}h.r(f),h.d(f,{default:function(){return ze}});var _=h(789),T=(0,_.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var J=this.data,ue=this.onClick;return(0,_.createVNode)("span",{class:"vjs-tree-brackets",onClick:ue},[J])}}),B=(0,_.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(J,ue){var be=ue.emit;return{uiType:(0,_.computed)(function(){return J.isMultiple?"checkbox":"radio"}),model:(0,_.computed)({get:function(){return J.checked},set:function(Se){return be("update:modelValue",Se)}})}},render:function(){var J=this.uiType,ue=this.model,be=this.$emit;return(0,_.createVNode)("label",{class:["vjs-check-controller",ue?"is-checked":""],onClick:function(Se){return Se.stopPropagation()}},[(0,_.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(J)},null),(0,_.createVNode)("input",{checked:ue,class:"vjs-check-controller-original is-".concat(J),type:J,onChange:function(){return be("change",ue)}},null)])}}),M=(0,_.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var J=this.nodeType,ue=this.onClick,be=J==="objectStart"||J==="arrayStart";return be||J==="objectCollapsed"||J==="arrayCollapsed"?(0,_.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(be?"open":"close"),onClick:ue},[(0,_.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,_.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function j(J){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},j(J)}function V(J){return Object.prototype.toString.call(J).slice(8,-1).toLowerCase()}function F(J){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Se=arguments.length>3?arguments[3]:void 0,ut=Se||{},at=ut.key,_e=ut.index,Ce=ut.type,nt=Ce===void 0?"content":Ce,Ne=ut.showComma,wt=Ne!==void 0&&Ne,kt=ut.length,Xt=kt===void 0?1:kt,cn=V(J);if(cn==="array"){var en=L(J.map(function(on,Et,Xe){return F(on,"".concat(ue,"[").concat(Et,"]"),be+1,{index:Et,showComma:Et!==Xe.length-1,length:Xt,type:nt})}));return[F("[",ue,be,{showComma:!1,key:at,length:J.length,type:"arrayStart"})[0]].concat(en,F("]",ue,be,{showComma:wt,length:J.length,type:"arrayEnd"})[0])}if(cn==="object"){var Rt=Object.keys(J),fn=L(Rt.map(function(on,Et,Xe){return F(J[on],/^[a-zA-Z_]\w*$/.test(on)?"".concat(ue,".").concat(on):"".concat(ue,'["').concat(on,'"]'),be+1,{key:on,showComma:Et!==Xe.length-1,length:Xt,type:nt})}));return[F("{",ue,be,{showComma:!1,key:at,index:_e,length:Rt.length,type:"objectStart"})[0]].concat(fn,F("}",ue,be,{showComma:wt,length:Rt.length,type:"objectEnd"})[0])}return[{content:J,level:be,key:at,index:_e,path:ue,showComma:wt,length:Xt,type:nt}]}function L(J){if(typeof Array.prototype.flat=="function")return J.flat();for(var ue=m(J),be=[];ue.length;){var Se=ue.shift();Array.isArray(Se)?ue.unshift.apply(ue,m(Se)):be.push(Se)}return be}function Y(J){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(J==null)return J;if(J instanceof Date)return new Date(J);if(J instanceof RegExp)return new RegExp(J);if(j(J)!=="object")return J;if(ue.get(J))return ue.get(J);if(Array.isArray(J)){var be=J.map(function(at){return Y(at,ue)});return ue.set(J,be),be}var Se={};for(var ut in J)Se[ut]=Y(J[ut],ue);return ue.set(J,Se),Se}function ce(J,ue){var be=Object.keys(J);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(J);ue&&(Se=Se.filter(function(ut){return Object.getOwnPropertyDescriptor(J,ut).enumerable})),be.push.apply(be,Se)}return be}function pe(J){for(var ue=1;ue<arguments.length;ue++){var be=arguments[ue]!=null?arguments[ue]:{};ue%2?ce(Object(be),!0).forEach(function(Se){x(J,Se,be[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(be)):ce(Object(be)).forEach(function(Se){Object.defineProperty(J,Se,Object.getOwnPropertyDescriptor(be,Se))})}return J}var me={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},ve=(0,_.defineComponent)({name:"TreeNode",props:pe(pe({},me),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(J,ue){var be=ue.emit,Se=(0,_.computed)(function(){return V(J.node.content)}),ut=(0,_.computed)(function(){return"vjs-value vjs-value-".concat(Se.value)}),at=(0,_.computed)(function(){return J.showDoubleQuotes?'"'.concat(J.node.key,'"'):J.node.key}),_e=(0,_.computed)(function(){return J.selectableType==="multiple"}),Ce=(0,_.computed)(function(){return J.selectableType==="single"}),nt=(0,_.computed)(function(){return J.nodeSelectable(J.node)&&(_e.value||Ce.value)}),Ne=(0,_.reactive)({editing:!1}),wt=function(Et){var Xe,ot,X=(ot=(Xe=Et.target)===null||Xe===void 0?void 0:Xe.value)==="null"?null:ot==="undefined"?void 0:ot==="true"||ot!=="false"&&(ot[0]+ot[ot.length-1]==='""'||ot[0]+ot[ot.length-1]==="''"?ot.slice(1,-1):typeof Number(ot)=="number"&&!isNaN(Number(ot))||ot==="NaN"?Number(ot):ot);be("valueChange",X,J.node.path)},kt=(0,_.computed)(function(){var Et,Xe=(Et=J.node)===null||Et===void 0?void 0:Et.content;return Xe===null?Xe="null":Xe===void 0&&(Xe="undefined"),Se.value==="string"?'"'.concat(Xe,'"'):Xe+""}),Xt=function(){var Et=J.renderNodeValue;return Et?Et({node:J.node,defaultValue:kt.value}):kt.value},cn=function(){be("bracketsClick",!J.collapsed,J.node.path)},en=function(){be("iconClick",!J.collapsed,J.node.path)},Rt=function(){be("selectedChange",J.node)},fn=function(){be("nodeClick",J.node),nt.value&&J.selectOnClickNode&&be("selectedChange",J.node)},on=function(Et){if(J.editable&&!Ne.editing){Ne.editing=!0;var Xe=function ot(X){var ne;X.target!==Et.target&&((ne=X.target)===null||ne===void 0?void 0:ne.parentElement)!==Et.target&&(Ne.editing=!1,document.removeEventListener("click",ot))};document.removeEventListener("click",Xe),document.addEventListener("click",Xe)}};return function(){var Et,Xe=J.node;return(0,_.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":J.showSelectController,"has-carets":J.showIcon,"is-highlight":J.highlightSelectedNode&&J.checked},onClick:fn,style:J.style},[J.showLineNumber&&(0,_.createVNode)("span",{class:"vjs-node-index"},[Xe.id+1]),J.showSelectController&&nt.value&&Xe.type!=="objectEnd"&&Xe.type!=="arrayEnd"&&(0,_.createVNode)(B,{isMultiple:_e.value,checked:J.checked,onChange:Rt},null),(0,_.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(Xe.level)).map(function(ot,X){return(0,_.createVNode)("div",{key:X,class:{"vjs-indent-unit":!0,"has-line":J.showLine}},null)}),J.showIcon&&(0,_.createVNode)(M,{nodeType:Xe.type,onClick:en},null)]),Xe.key&&(0,_.createVNode)("span",{class:"vjs-key"},[(Et=J.renderNodeKey,Et?Et({node:J.node,defaultKey:at.value||""}):at.value),(0,_.createVNode)("span",{class:"vjs-colon"},[":".concat(J.showKeyValueSpace?" ":"")])]),(0,_.createVNode)("span",null,[Xe.type!=="content"&&Xe.content?(0,_.createVNode)(T,{data:Xe.content.toString(),onClick:cn},null):(0,_.createVNode)("span",{class:ut.value,onClick:!J.editable||J.editableTrigger&&J.editableTrigger!=="click"?void 0:on,onDblclick:J.editable&&J.editableTrigger==="dblclick"?on:void 0},[J.editable&&Ne.editing?(0,_.createVNode)("input",{value:kt.value,onChange:wt,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):Xt()]),Xe.showComma&&(0,_.createVNode)("span",null,[","]),J.showLength&&J.collapsed&&(0,_.createVNode)("span",{class:"vjs-comment"},[(0,_.createTextVNode)(" // "),Xe.length,(0,_.createTextVNode)(" items ")])])])}}});function le(J,ue){var be=Object.keys(J);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(J);ue&&(Se=Se.filter(function(ut){return Object.getOwnPropertyDescriptor(J,ut).enumerable})),be.push.apply(be,Se)}return be}function xe(J){for(var ue=1;ue<arguments.length;ue++){var be=arguments[ue]!=null?arguments[ue]:{};ue%2?le(Object(be),!0).forEach(function(Se){x(J,Se,be[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(be)):le(Object(be)).forEach(function(Se){Object.defineProperty(J,Se,Object.getOwnPropertyDescriptor(be,Se))})}return J}var ze=(0,_.defineComponent)({name:"Tree",props:xe(xe({},me),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(J,ue){var be=ue.emit,Se=ue.slots,ut=(0,_.ref)(),at=(0,_.computed)(function(){return F(J.data,J.rootPath)}),_e=function(Xe){return at.value.reduce(function(ot,X){var ne,E=X.level>=Xe,N=(ne=J.pathCollapsible)===null||ne===void 0?void 0:ne.call(J,X);return X.type!=="objectStart"&&X.type!=="arrayStart"||!E&&!N?ot:xe(xe({},ot),{},x({},X.path,1))},{})},Ce=(0,_.reactive)({translateY:0,visibleData:null,hiddenPaths:_e(J.deep)}),nt=(0,_.computed)(function(){for(var Xe=null,ot=[],X=at.value.length,ne=0;ne<X;ne++){var E=xe(xe({},at.value[ne]),{},{id:ne}),N=Ce.hiddenPaths[E.path];if(Xe&&Xe.path===E.path){var $=Xe.type==="objectStart",ae=xe(xe(xe({},E),Xe),{},{showComma:E.showComma,content:$?"{...}":"[...]",type:$?"objectCollapsed":"arrayCollapsed"});Xe=null,ot.push(ae)}else{if(N&&!Xe){Xe=E;continue}if(Xe)continue;ot.push(E)}}return ot}),Ne=(0,_.computed)(function(){var Xe=J.selectedValue;return Xe&&J.selectableType==="multiple"&&Array.isArray(Xe)?Xe:[Xe]}),wt=(0,_.computed)(function(){return!J.selectableType||J.selectOnClickNode||J.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),kt=function(){var Xe=nt.value;if(J.virtual){var ot,X=J.height/J.itemHeight,ne=((ot=ut.value)===null||ot===void 0?void 0:ot.scrollTop)||0,E=Math.floor(ne/J.itemHeight),N=E<0?0:E+X>Xe.length?Xe.length-X:E;N<0&&(N=0);var $=N+X;Ce.translateY=N*J.itemHeight,Ce.visibleData=Xe.filter(function(ae,se){return se>=N&&se<$})}else Ce.visibleData=Xe},Xt=function(){kt()},cn=function(Xe){var ot,X,ne=Xe.path,E=J.selectableType;if(E==="multiple"){var N=Ne.value.findIndex(function(ie){return ie===ne}),$=m(Ne.value);N!==-1?$.splice(N,1):$.push(ne),be("update:selectedValue",$),be("selectedChange",$,m(Ne.value))}else if(E==="single"&&Ne.value[0]!==ne){var ae=(ot=Ne.value,X=1,function(ie){if(Array.isArray(ie))return ie}(ot)||function(ie,fe){var de=ie==null?null:typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(de!=null){var ke,Me,Pe=[],Ye=!0,Ve=!1;try{for(de=de.call(ie);!(Ye=(ke=de.next()).done)&&(Pe.push(ke.value),!fe||Pe.length!==fe);Ye=!0);}catch(Te){Ve=!0,Me=Te}finally{try{Ye||de.return==null||de.return()}finally{if(Ve)throw Me}}return Pe}}(ot,X)||g(ot,X)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],se=ne;be("update:selectedValue",se),be("selectedChange",se,ae)}},en=function(Xe){be("nodeClick",Xe)},Rt=function(Xe,ot){if(Xe)Ce.hiddenPaths=xe(xe({},Ce.hiddenPaths),{},x({},ot,1));else{var X=xe({},Ce.hiddenPaths);delete X[ot],Ce.hiddenPaths=X}},fn=function(Xe,ot){J.collapsedOnClickBrackets&&Rt(Xe,ot),be("bracketsClick",Xe)},on=function(Xe,ot){Rt(Xe,ot),be("iconClick",Xe)},Et=function(Xe,ot){var X=Y(J.data),ne=J.rootPath;new Function("data","val","data".concat(ot.slice(ne.length),"=val"))(X,Xe),be("update:data",X)};return(0,_.watchEffect)(function(){wt.value&&function(Xe){throw new Error("[VueJSONPretty] ".concat(Xe))}(wt.value)}),(0,_.watchEffect)(function(){nt.value&&kt()}),(0,_.watch)(function(){return J.deep},function(Xe){Xe&&(Ce.hiddenPaths=_e(Xe))}),function(){var Xe,ot,X=(Xe=J.renderNodeKey)!==null&&Xe!==void 0?Xe:Se.renderNodeKey,ne=(ot=J.renderNodeValue)!==null&&ot!==void 0?ot:Se.renderNodeValue,E=Ce.visibleData&&Ce.visibleData.map(function(N){return(0,_.createVNode)(ve,{key:N.id,node:N,collapsed:!!Ce.hiddenPaths[N.path],showDoubleQuotes:J.showDoubleQuotes,showLength:J.showLength,checked:Ne.value.includes(N.path),selectableType:J.selectableType,showLine:J.showLine,showLineNumber:J.showLineNumber,showSelectController:J.showSelectController,selectOnClickNode:J.selectOnClickNode,nodeSelectable:J.nodeSelectable,highlightSelectedNode:J.highlightSelectedNode,editable:J.editable,editableTrigger:J.editableTrigger,showIcon:J.showIcon,showKeyValueSpace:J.showKeyValueSpace,renderNodeKey:X,renderNodeValue:ne,onNodeClick:en,onBracketsClick:fn,onIconClick:on,onSelectedChange:cn,onValueChange:Et,style:J.itemHeight&&J.itemHeight!==20?{lineHeight:"".concat(J.itemHeight,"px")}:{}},null)});return(0,_.createVNode)("div",{ref:ut,class:{"vjs-tree":!0,"is-virtual":J.virtual},onScroll:J.virtual?Xt:void 0,style:J.showLineNumber?xe({paddingLeft:"".concat(12*Number(at.value.length.toString().length),"px")},J.style):J.style},[J.virtual?(0,_.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(J.height,"px")}},[(0,_.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(nt.value.length*J.itemHeight,"px")}},[(0,_.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(Ce.translateY,"px)")}},[E])])]):E])}}})}(),f}()})})(ax);const eL=Gw(ax.exports),tL={},nL={class:"w-full h-12"};function iL(e,o){return Le(),Ge("div",nL," TBD ")}const rL=rn(tL,[["render",iL]]);var lx={exports:{}};(function(e){//! openseadragon 3.1.0
//! Built on 2022-06-07
//! Git commit: v3.1.0-1-c1c380f
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function o(n){return new o.Viewer(n)}(function(n){n.version={versionStr:"3.1.0",major:parseInt("3",10),minor:parseInt("1",10),revision:parseInt("0",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},u=Object.prototype.toString,h=Object.prototype.hasOwnProperty;n.isFunction=function(f){return n.type(f)==="function"},n.isArray=Array.isArray||function(f){return n.type(f)==="array"},n.isWindow=function(f){return f&&typeof f=="object"&&"setInterval"in f},n.type=function(f){return f==null?String(f):a[u.call(f)]||"object"},n.isPlainObject=function(f){if(!f||o.type(f)!=="object"||f.nodeType||n.isWindow(f)||f.constructor&&!h.call(f,"constructor")&&!h.call(f.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var g in f)d=g;return d===void 0||h.call(f,d)},n.isEmptyObject=function(f){for(var d in f)return!1;return!0},n.freezeObject=function(f){return Object.freeze?n.freezeObject=Object.freeze:n.freezeObject=function(d){return d},n.freezeObject(f)},n.supportsCanvas=function(){var f=document.createElement("canvas");return!!(n.isFunction(f.getContext)&&f.getContext("2d"))}(),n.isCanvasTainted=function(f){var d=!1;try{f.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},n.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),n.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),n.supportsEventListenerOptions=function(){var f=0;if(n.supportsAddEventListener)try{var d={get capture(){return f++,!1},get once(){return f++,!1},get passive(){return f++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{f=0}return f>=3}(),n.getCurrentPixelDensityRatio=function(){if(n.supportsCanvas){var f=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,g=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return Math.max(d,1)/g}else return 1},n.pixelDensityRatio=n.getCurrentPixelDensityRatio()})(o),function(n){n.extend=function(){var g,m,x,_,T,B,M=arguments[0]||{},j=arguments.length,V=!1,F=1;for(typeof M=="boolean"&&(V=M,M=arguments[1]||{},F=2),typeof M!="object"&&!o.isFunction(M)&&(M={}),j===F&&(M=this,--F);F<j;F++)if(g=arguments[F],g!==null||g!==void 0)for(m in g)x=M[m],_=g[m],M!==_&&(V&&_&&(o.isPlainObject(_)||(T=o.isArray(_)))?(T?(T=!1,B=x&&o.isArray(x)?x:[]):B=x&&o.isPlainObject(x)?x:{},M[m]=o.extend(V,B,_)):_!==void 0&&(M[m]=_));return M};var a=function(){if(typeof navigator!="object")return!1;var g=navigator.userAgent;return typeof g!="string"?!1:g.indexOf("iPhone")!==-1||g.indexOf("iPad")!==-1||g.indexOf("iPod")!==-1};n.extend(n,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(g,m){return function(){var x=arguments;return x===void 0&&(x=[]),m.apply(g,x)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(g){return n._viewers.get(this.getElement(g))},getElement:function(g){return typeof g=="string"&&(g=document.getElementById(g)),g},getElementPosition:function(g){var m=new n.Point,x,_;for(g=n.getElement(g),x=n.getElementStyle(g).position==="fixed",_=d(g,x);_;)m.x+=g.offsetLeft,m.y+=g.offsetTop,x&&(m=m.plus(n.getPageScroll())),g=_,x=n.getElementStyle(g).position==="fixed",_=d(g,x);return m},getElementOffset:function(g){g=n.getElement(g);var m=g&&g.ownerDocument,x,_,T={top:0,left:0};return m?(x=m.documentElement,typeof g.getBoundingClientRect<"u"&&(T=g.getBoundingClientRect()),_=m===m.window?m:m.nodeType===9?m.defaultView||m.parentWindow:!1,new n.Point(T.left+(_.pageXOffset||x.scrollLeft)-(x.clientLeft||0),T.top+(_.pageYOffset||x.scrollTop)-(x.clientTop||0))):new n.Point},getElementSize:function(g){return g=n.getElement(g),new n.Point(g.clientWidth,g.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(g){return g=n.getElement(g),g.currentStyle}:function(g){return g=n.getElement(g),window.getComputedStyle(g,"")},getCssPropertyWithVendorPrefix:function(g){var m={};return n.getCssPropertyWithVendorPrefix=function(x){if(m[x]!==void 0)return m[x];var _=document.createElement("div").style,T=null;if(_[x]!==void 0)T=x;else for(var B=["Webkit","Moz","MS","O","webkit","moz","ms","o"],M=n.capitalizeFirstLetter(x),j=0;j<B.length;j++){var V=B[j]+M;if(_[V]!==void 0){T=V;break}}return m[x]=T,T},n.getCssPropertyWithVendorPrefix(g)},capitalizeFirstLetter:function(g){return g.charAt(0).toUpperCase()+g.slice(1)},positiveModulo:function(g,m){var x=g%m;return x<0&&(x+=m),x},pointInElement:function(g,m){g=n.getElement(g);var x=n.getElementOffset(g),_=n.getElementSize(g);return m.x>=x.x&&m.x<x.x+_.x&&m.y<x.y+_.y&&m.y>=x.y},getMousePosition:function(g){if(typeof g.pageX=="number")n.getMousePosition=function(m){var x=new n.Point;return x.x=m.pageX,x.y=m.pageY,x};else if(typeof g.clientX=="number")n.getMousePosition=function(m){var x=new n.Point;return x.x=m.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,x.y=m.clientY+document.body.scrollTop+document.documentElement.scrollTop,x};else throw new Error("Unknown event mouse position, no known technique.");return n.getMousePosition(g)},getPageScroll:function(){var g=document.documentElement||{},m=document.body||{};if(typeof window.pageXOffset=="number")n.getPageScroll=function(){return new n.Point(window.pageXOffset,window.pageYOffset)};else if(m.scrollLeft||m.scrollTop)n.getPageScroll=function(){return new n.Point(document.body.scrollLeft,document.body.scrollTop)};else if(g.scrollLeft||g.scrollTop)n.getPageScroll=function(){return new n.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new n.Point(0,0);return n.getPageScroll()},setPageScroll:function(g){if(typeof window.scrollTo<"u")n.setPageScroll=function(_){window.scrollTo(_.x,_.y)};else{var m=n.getPageScroll();if(m.x===g.x&&m.y===g.y)return;document.body.scrollLeft=g.x,document.body.scrollTop=g.y;var x=n.getPageScroll();if(x.x!==m.x&&x.y!==m.y){n.setPageScroll=function(_){document.body.scrollLeft=_.x,document.body.scrollTop=_.y};return}if(document.documentElement.scrollLeft=g.x,document.documentElement.scrollTop=g.y,x=n.getPageScroll(),x.x!==m.x&&x.y!==m.y){n.setPageScroll=function(_){document.documentElement.scrollLeft=_.x,document.documentElement.scrollTop=_.y};return}n.setPageScroll=function(_){}}n.setPageScroll(g)},getWindowSize:function(){var g=document.documentElement||{},m=document.body||{};if(typeof window.innerWidth=="number")n.getWindowSize=function(){return new n.Point(window.innerWidth,window.innerHeight)};else if(g.clientWidth||g.clientHeight)n.getWindowSize=function(){return new n.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(m.clientWidth||m.clientHeight)n.getWindowSize=function(){return new n.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return n.getWindowSize()},makeCenteredNode:function(g){g=n.getElement(g);var m=[n.makeNeutralElement("div"),n.makeNeutralElement("div"),n.makeNeutralElement("div")];return n.extend(m[0].style,{display:"table",height:"100%",width:"100%"}),n.extend(m[1].style,{display:"table-row"}),n.extend(m[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),m[0].appendChild(m[1]),m[1].appendChild(m[2]),m[2].appendChild(g),m[0]},makeNeutralElement:function(g){var m=document.createElement(g),x=m.style;return x.background="transparent none",x.border="none",x.margin="0px",x.padding="0px",x.position="static",m},now:function(){return Date.now?n.now=Date.now:n.now=function(){return new Date().getTime()},n.now()},makeTransparentImage:function(g){var m=n.makeNeutralElement("img");return m.src=g,m},setElementOpacity:function(g,m,x){var _,T;g=n.getElement(g),x&&!n.Browser.alpha&&(m=Math.round(m)),n.Browser.opacity?g.style.opacity=m<1?m:"":m<1?(_=Math.round(100*m),T="alpha(opacity="+_+")",g.style.filter=T):g.style.filter=""},setElementTouchActionNone:function(g){g=n.getElement(g),typeof g.style.touchAction<"u"?g.style.touchAction="none":typeof g.style.msTouchAction<"u"&&(g.style.msTouchAction="none")},setElementPointerEvents:function(g,m){g=n.getElement(g),typeof g.style<"u"&&typeof g.style.pointerEvents<"u"&&(g.style.pointerEvents=m)},setElementPointerEventsNone:function(g){n.setElementPointerEvents(g,"none")},addClass:function(g,m){g=n.getElement(g),g.className?(" "+g.className+" ").indexOf(" "+m+" ")===-1&&(g.className+=" "+m):g.className=m},indexOf:function(g,m,x){return Array.prototype.indexOf?this.indexOf=function(_,T,B){return _.indexOf(T,B)}:this.indexOf=function(_,T,B){var M,j=B||0,V;if(!_)throw new TypeError;if(V=_.length,V===0||j>=V)return-1;for(j<0&&(j=V-Math.abs(j)),M=j;M<V;M++)if(_[M]===T)return M;return-1},this.indexOf(g,m,x)},removeClass:function(g,m){var x,_=[],T;for(g=n.getElement(g),x=g.className.split(/\s+/),T=0;T<x.length;T++)x[T]&&x[T]!==m&&_.push(x[T]);g.className=_.join(" ")},normalizeEventListenerOptions:function(g){var m;return typeof g<"u"?typeof g=="boolean"?m=n.supportsEventListenerOptions?{capture:g}:g:m=n.supportsEventListenerOptions?g:typeof g.capture<"u"?g.capture:!1:m=n.supportsEventListenerOptions?{capture:!1}:!1,m},addEvent:function(){if(n.supportsAddEventListener)return function(g,m,x,_){_=n.normalizeEventListenerOptions(_),g=n.getElement(g),g.addEventListener(m,x,_)};if(document.documentElement.attachEvent&&document.attachEvent)return function(g,m,x){g=n.getElement(g),g.attachEvent("on"+m,x)};throw new Error("No known event model.")}(),removeEvent:function(){if(n.supportsRemoveEventListener)return function(g,m,x,_){_=n.normalizeEventListenerOptions(_),g=n.getElement(g),g.removeEventListener(m,x,_)};if(document.documentElement.detachEvent&&document.detachEvent)return function(g,m,x){g=n.getElement(g),g.detachEvent("on"+m,x)};throw new Error("No known event model.")}(),cancelEvent:function(g){g.preventDefault()},eventIsCanceled:function(g){return g.defaultPrevented},stopEvent:function(g){g.stopPropagation()},createCallback:function(g,m){var x=[],_;for(_=2;_<arguments.length;_++)x.push(arguments[_]);return function(){var T=x.concat([]),B;for(B=0;B<arguments.length;B++)T.push(arguments[B]);return m.apply(g,T)}},getUrlParameter:function(g){var m=f[g];return m||null},getUrlProtocol:function(g){var m=g.match(/^([a-z]+:)\/\//i);return m===null?window.location.protocol:m[1].toLowerCase()},createAjaxRequest:function(g){var m;try{m=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{m=!1}if(m)window.XMLHttpRequest?n.createAjaxRequest=function(x){return x?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:n.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)n.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return n.createAjaxRequest(g)},makeAjaxRequest:function(g,m,x){var _,T,B,M;n.isPlainObject(g)&&(m=g.success,x=g.error,_=g.withCredentials,T=g.headers,B=g.responseType||null,M=g.postData||null,g=g.url);var j=n.getUrlProtocol(g),V=n.createAjaxRequest(j==="file:");if(!n.isFunction(m))throw new Error("makeAjaxRequest requires a success callback");V.onreadystatechange=function(){V.readyState===4&&(V.onreadystatechange=function(){},V.status>=200&&V.status<300||V.status===0&&j!=="http:"&&j!=="https:"?m(V):n.isFunction(x)?x(V):n.console.error("AJAX request returned %d: %s",V.status,g))};var F=M?"POST":"GET";try{if(V.open(F,g,!0),B&&(V.responseType=B),T)for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&T[L]&&V.setRequestHeader(L,T[L]);_&&(V.withCredentials=!0),V.send(M)}catch(Y){n.console.error("%s while making AJAX request: %s",Y.name,Y.message),V.onreadystatechange=function(){},n.isFunction(x)&&x(V,Y)}return V},jsonp:function(g){var m,x=g.url,_=document.head||document.getElementsByTagName("head")[0]||document.documentElement,T=g.callbackName||"openseadragon"+n.now(),B=window[T],M="$1"+T+"$2",j=g.param||"callback",V=g.callback;x=x.replace(/(=)\?(&|$)|\?\?/i,M),x+=(/\?/.test(x)?"&":"?")+j+"="+T,window[T]=function(F){if(B)window[T]=B;else try{delete window[T]}catch{}V&&n.isFunction(V)&&V(F)},m=document.createElement("script"),(g.async!==void 0||g.async!==!1)&&(m.async="async"),g.scriptCharset&&(m.charset=g.scriptCharset),m.src=x,m.onload=m.onreadystatechange=function(F,L){(L||!m.readyState||/loaded|complete/.test(m.readyState))&&(m.onload=m.onreadystatechange=null,_&&m.parentNode&&_.removeChild(m),m=void 0)},_.insertBefore(m,_.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(g){if(window.DOMParser)n.parseXml=function(m){var x=null,_;return _=new DOMParser,x=_.parseFromString(m,"text/xml"),x};else if(window.ActiveXObject)n.parseXml=function(m){var x=null;return x=new ActiveXObject("Microsoft.XMLDOM"),x.async=!1,x.loadXML(m),x};else throw new Error("Browser doesn't support XML DOM.");return n.parseXml(g)},parseJSON:function(g){return n.parseJSON=window.JSON.parse,n.parseJSON(g)},imageFormatSupported:function(g){return g=g||"",!!h[g.toLowerCase()]},setImageFormatsSupported:function(g){n.extend(h,g)}});var u=function(g){};n.console=window.console||{log:u,debug:u,info:u,warn:u,error:u,assert:u},n.Browser={vendor:n.BROWSERS.UNKNOWN,version:0,alpha:!0};var h={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},f={};(function(){var g=navigator.appVersion,m=navigator.userAgent,x;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(m.substring(m.indexOf("MSIE")+5,m.indexOf(";",m.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(m.indexOf("Edge")>=0?(n.Browser.vendor=n.BROWSERS.EDGE,n.Browser.version=parseFloat(m.substring(m.indexOf("Edge")+5))):m.indexOf("Edg")>=0?(n.Browser.vendor=n.BROWSERS.CHROMEEDGE,n.Browser.version=parseFloat(m.substring(m.indexOf("Edg")+4))):m.indexOf("Firefox")>=0?(n.Browser.vendor=n.BROWSERS.FIREFOX,n.Browser.version=parseFloat(m.substring(m.indexOf("Firefox")+8))):m.indexOf("Safari")>=0?(n.Browser.vendor=m.indexOf("Chrome")>=0?n.BROWSERS.CHROME:n.BROWSERS.SAFARI,n.Browser.version=parseFloat(m.substring(m.substring(0,m.indexOf("Safari")).lastIndexOf("/")+1,m.indexOf("Safari")))):(x=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),x.exec(m)!==null&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":n.Browser.vendor=n.BROWSERS.OPERA,n.Browser.version=parseFloat(g);break}var _=window.location.search.substring(1),T=_.split("&"),B,M,j;for(j=0;j<T.length;j++)if(B=T[j],M=B.indexOf("="),M>0){var V=B.substring(0,M),F=B.substring(M+1);try{f[V]=decodeURIComponent(F)}catch{n.console.error("Ignoring malformed URL parameter: %s=%s",V,F)}}n.Browser.alpha=!(n.Browser.vendor===n.BROWSERS.CHROME&&n.Browser.version<2),n.Browser.opacity=!0,n.Browser.vendor===n.BROWSERS.IE&&n.Browser.version<11&&n.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(g){var m=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame,x=g.cancelAnimationFrame||g.mozCancelAnimationFrame||g.webkitCancelAnimationFrame||g.msCancelAnimationFrame;if(m&&x)n.requestAnimationFrame=function(){return m.apply(g,arguments)},n.cancelAnimationFrame=function(){return x.apply(g,arguments)};else{var _=[],T=[],B=0,M;n.requestAnimationFrame=function(j){return _.push([++B,j]),M||(M=setInterval(function(){if(_.length){var V=n.now(),F=T;for(T=_,_=F;T.length;)T.shift()[1](V)}else clearInterval(M),M=void 0},1e3/50)),B},n.cancelAnimationFrame=function(j){var V,F;for(V=0,F=_.length;V<F;V+=1)if(_[V][0]===j){_.splice(V,1);return}for(V=0,F=T.length;V<F;V+=1)if(T[V][0]===j){T.splice(V,1);return}}}}(window);function d(g,m){return m&&g!==document.body?document.body:g.offsetParent}}(o),function(n,a){e.exports?e.exports=a():n.OpenSeadragon=a()}(Ys,function(){return o}),function(n){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(u){return u.requestFullscreen()},a.exitFullScreen=function(){document.exitFullscreen()},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(u){return u.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(u){return u.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){n.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},n.extend(n,a)}(o),function(n){n.EventSource=function(){this.events={}},n.EventSource.prototype={addOnceHandler:function(a,u,h,f){var d=this;f=f||1;var g=0,m=function(x){g++,g===f&&d.removeHandler(a,m),u(x)};this.addHandler(a,m,h)},addHandler:function(a,u,h){var f=this.events[a];f||(this.events[a]=f=[]),u&&n.isFunction(u)&&(f[f.length]={handler:u,userData:h||null})},removeHandler:function(a,u){var h=this.events[a],f=[],d;if(!!h&&n.isArray(h)){for(d=0;d<h.length;d++)h[d].handler!==u&&f.push(h[d]);this.events[a]=f}},numberOfHandlers:function(a){var u=this.events[a];return u?u.length:0},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var u in this.events)this.events[u]=[]},getHandler:function(a){var u=this.events[a];return!u||!u.length?null:(u=u.length===1?[u[0]]:Array.apply(null,u),function(h,f){var d,g=u.length;for(d=0;d<g;d++)u[d]&&(f.eventSource=h,f.userData=u[d].userData,u[d].handler(f))})},raiseEvent:function(a,u){var h=this.getHandler(a);h&&(u||(u={}),h(this,u))}}}(o),function(n){var a={};n.MouseTracker=function(R){var A=arguments;n.isPlainObject(R)||(R={element:A[0],clickTimeThreshold:A[1],clickDistThreshold:A[2]}),this.hash=Math.random(),this.element=n.getElement(R.element),this.clickTimeThreshold=R.clickTimeThreshold||n.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=R.clickDistThreshold||n.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=R.dblClickTimeThreshold||n.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=R.dblClickDistThreshold||n.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=R.userData||null,this.stopDelay=R.stopDelay||50,this.preProcessEventHandler=R.preProcessEventHandler||null,this.contextMenuHandler=R.contextMenuHandler||null,this.enterHandler=R.enterHandler||null,this.leaveHandler=R.leaveHandler||null,this.exitHandler=R.exitHandler||null,this.overHandler=R.overHandler||null,this.outHandler=R.outHandler||null,this.pressHandler=R.pressHandler||null,this.nonPrimaryPressHandler=R.nonPrimaryPressHandler||null,this.releaseHandler=R.releaseHandler||null,this.nonPrimaryReleaseHandler=R.nonPrimaryReleaseHandler||null,this.moveHandler=R.moveHandler||null,this.scrollHandler=R.scrollHandler||null,this.clickHandler=R.clickHandler||null,this.dblClickHandler=R.dblClickHandler||null,this.dragHandler=R.dragHandler||null,this.dragEndHandler=R.dragEndHandler||null,this.pinchHandler=R.pinchHandler||null,this.stopHandler=R.stopHandler||null,this.keyDownHandler=R.keyDownHandler||null,this.keyUpHandler=R.keyUpHandler||null,this.keyHandler=R.keyHandler||null,this.focusHandler=R.focusHandler||null,this.blurHandler=R.blurHandler||null;var z=this;a[this.hash]={click:function(W){Y(z,W)},dblclick:function(W){ce(z,W)},keydown:function(W){pe(z,W)},keyup:function(W){me(z,W)},keypress:function(W){ve(z,W)},focus:function(W){le(z,W)},blur:function(W){xe(z,W)},contextmenu:function(W){ze(z,W)},wheel:function(W){J(z,W)},mousewheel:function(W){ue(z,W)},DOMMouseScroll:function(W){ue(z,W)},MozMousePixelScroll:function(W){ue(z,W)},losecapture:function(W){Se(z,W)},mouseenter:function(W){Xt(z,W)},mouseleave:function(W){cn(z,W)},mouseover:function(W){en(z,W)},mouseout:function(W){Rt(z,W)},mousedown:function(W){fn(z,W)},mouseup:function(W){on(z,W)},mousemove:function(W){ot(z,W)},touchstart:function(W){ut(z,W)},touchend:function(W){at(z,W)},touchmove:function(W){_e(z,W)},touchcancel:function(W){Ce(z,W)},gesturestart:function(W){nt(z,W)},gesturechange:function(W){Ne(z,W)},gotpointercapture:function(W){wt(z,W)},lostpointercapture:function(W){kt(z,W)},pointerenter:function(W){Xt(z,W)},pointerleave:function(W){cn(z,W)},pointerover:function(W){en(z,W)},pointerout:function(W){Rt(z,W)},pointerdown:function(W){fn(z,W)},pointerup:function(W){on(z,W)},pointermove:function(W){ot(z,W)},pointercancel:function(W){E(z,W)},pointerupcaptured:function(W){Et(z,W)},pointermovecaptured:function(W){X(z,W)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,n.MouseTracker.havePointerEvents&&n.setElementPointerEvents(this.element,"auto"),this.exitHandler&&n.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),R.startDisabled||this.setTracking(!0)},n.MouseTracker.prototype={destroy:function(){g(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(R){return R?d(this):g(this),this},getActivePointersListByType:function(R){var A=a[this.hash],z,W=A.activePointersLists.length,ye;for(z=0;z<W;z++)if(A.activePointersLists[z].type===R)return A.activePointersLists[z];return ye=new n.MouseTracker.GesturePointList(R),A.activePointersLists.push(ye),ye},getActivePointerCount:function(){var R=a[this.hash],A,z=R.activePointersLists.length,W=0;for(A=0;A<z;A++)W+=R.activePointersLists[A].getLength();return W},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var u=function(){try{return window.self!==window.top}catch{return!0}}();function h(R){try{return R.addEventListener&&R.removeEventListener}catch{return!1}}n.MouseTracker.gesturePointVelocityTracker=function(){var R=[],A=0,z=0,W=function(St,dt){return St.hash.toString()+dt.type+dt.id.toString()},ye=function(){var St,dt=R.length,Fn,xn,Ti=n.now(),or,fs,ps;for(or=Ti-z,z=Ti,St=0;St<dt;St++)Fn=R[St],xn=Fn.gPoint,xn.direction=Math.atan2(xn.currentPos.y-Fn.lastPos.y,xn.currentPos.x-Fn.lastPos.x),fs=Fn.lastPos.distanceTo(xn.currentPos),Fn.lastPos=xn.currentPos,ps=1e3*fs/(or+1),xn.speed=.75*ps+.25*xn.speed},Fe=function(St,dt){var Fn=W(St,dt);R.push({guid:Fn,gPoint:dt,lastPos:dt.currentPos}),R.length===1&&(z=n.now(),A=window.setInterval(ye,50))},it=function(St,dt){var Fn=W(St,dt),xn,Ti=R.length;for(xn=0;xn<Ti;xn++)if(R[xn].guid===Fn){R.splice(xn,1),Ti--,Ti===0&&window.clearInterval(A);break}};return{addPoint:Fe,removePoint:it}}(),n.MouseTracker.captureElement=document,n.MouseTracker.wheelEventName=n.Browser.vendor===n.BROWSERS.IE&&n.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",n.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",n.MouseTracker.wheelEventName],n.MouseTracker.wheelEventName==="DOMMouseScroll"&&n.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(n.MouseTracker.havePointerEvents=!0,n.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),n.MouseTracker.havePointerCapture=function(){var R=document.createElement("div");return n.isFunction(R.setPointerCapture)&&n.isFunction(R.releasePointerCapture)}(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(n.MouseTracker.havePointerEvents=!1,n.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),n.MouseTracker.mousePointerId="legacy-mouse",n.MouseTracker.havePointerCapture=function(){var R=document.createElement("div");return n.isFunction(R.setCapture)&&n.isFunction(R.releaseCapture)}(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&n.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&n.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),n.MouseTracker.GesturePointList=function(R){this._gPoints=[],this.type=R,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},n.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(R){return this._gPoints.push(R)},removeById:function(R){var A,z=this._gPoints.length;for(A=0;A<z;A++)if(this._gPoints[A].id===R){this._gPoints.splice(A,1);break}return this._gPoints.length},getByIndex:function(R){return R<this._gPoints.length?this._gPoints[R]:null},getById:function(R){var A,z=this._gPoints.length;for(A=0;A<z;A++)if(this._gPoints[A].id===R)return this._gPoints[A];return null},getPrimary:function(R){var A,z=this._gPoints.length;for(A=0;A<z;A++)if(this._gPoints[A].isPrimary)return this._gPoints[A];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(n.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function f(R){var A=a[R.hash],z,W,ye,Fe,it,St=A.activePointersLists.length;for(z=0;z<St;z++)if(ye=A.activePointersLists[z],ye.getLength()>0){for(it=[],Fe=ye.asArray(),W=0;W<Fe.length;W++)it.push(Fe[W]);for(W=0;W<it.length;W++)$(R,ye,it[W])}for(z=0;z<St;z++)A.activePointersLists.pop();A.sentDragEvent=!1}function d(R){var A=a[R.hash],z,W;if(!A.tracking){for(W=0;W<n.MouseTracker.subscribeEvents.length;W++)z=n.MouseTracker.subscribeEvents[W],n.addEvent(R.element,z,A[z],z===n.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);f(R),A.tracking=!0}}function g(R){var A=a[R.hash],z,W;if(A.tracking){for(W=0;W<n.MouseTracker.subscribeEvents.length;W++)z=n.MouseTracker.subscribeEvents[W],n.removeEvent(R.element,z,A[z],!1);f(R),A.tracking=!1}}function m(R,A){var z=a[R.hash];if(A==="pointerevent")return{upName:"pointerup",upHandler:z.pointerupcaptured,moveName:"pointermove",moveHandler:z.pointermovecaptured};if(A==="mouse")return{upName:"pointerup",upHandler:z.pointerupcaptured,moveName:"pointermove",moveHandler:z.pointermovecaptured};if(A==="touch")return{upName:"touchend",upHandler:z.touchendcaptured,moveName:"touchmove",moveHandler:z.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function x(R,A){var z;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents)try{R.element.setPointerCapture(A.id)}catch{n.console.warn("setPointerCapture() called on invalid pointer ID");return}else R.element.setCapture(!0);else z=m(R,n.MouseTracker.havePointerEvents?"pointerevent":A.type),u&&h(window.top)&&n.addEvent(window.top,z.upName,z.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,z.upName,z.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,z.moveName,z.moveHandler,!0);ie(R,A,!0)}function _(R,A){var z,W,ye;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents){if(W=R.getActivePointersListByType(A.type),ye=W.getById(A.id),!ye||!ye.captured)return;try{R.element.releasePointerCapture(A.id)}catch{}}else R.element.releaseCapture();else z=m(R,n.MouseTracker.havePointerEvents?"pointerevent":A.type),u&&h(window.top)&&n.removeEvent(window.top,z.upName,z.upHandler,!0),n.removeEvent(n.MouseTracker.captureElement,z.moveName,z.moveHandler,!0),n.removeEvent(n.MouseTracker.captureElement,z.upName,z.upHandler,!0);ie(R,A,!1)}function T(R){return n.MouseTracker.havePointerEvents?R.pointerId:n.MouseTracker.mousePointerId}function B(R){return n.MouseTracker.havePointerEvents?R.pointerType||(n.Browser.vendor===n.BROWSERS.IE?"mouse":""):"mouse"}function M(R){return n.MouseTracker.havePointerEvents?R.isPrimary:!0}function j(R){return n.getMousePosition(R)}function V(R,A){return F(j(R),A)}function F(R,A){var z=n.getElementOffset(A);return R.minus(z)}function L(R,A){return new n.Point((R.x+A.x)/2,(R.y+A.y)/2)}function Y(R,A){var z={originalEvent:A,eventType:"click",pointerType:"mouse",isEmulated:!1};se(R,z),z.preventDefault&&!z.defaultPrevented&&n.cancelEvent(A),z.stopPropagation&&n.stopEvent(A)}function ce(R,A){var z={originalEvent:A,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};se(R,z),z.preventDefault&&!z.defaultPrevented&&n.cancelEvent(A),z.stopPropagation&&n.stopEvent(A)}function pe(R,A){var z=null,W={originalEvent:A,eventType:"keydown",pointerType:"",isEmulated:!1};se(R,W),R.keyDownHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:R,keyCode:A.keyCode?A.keyCode:A.charCode,ctrl:A.ctrlKey,shift:A.shiftKey,alt:A.altKey,meta:A.metaKey,originalEvent:A,preventDefault:W.preventDefault||W.defaultPrevented,userData:R.userData},R.keyDownHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function me(R,A){var z=null,W={originalEvent:A,eventType:"keyup",pointerType:"",isEmulated:!1};se(R,W),R.keyUpHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:R,keyCode:A.keyCode?A.keyCode:A.charCode,ctrl:A.ctrlKey,shift:A.shiftKey,alt:A.altKey,meta:A.metaKey,originalEvent:A,preventDefault:W.preventDefault||W.defaultPrevented,userData:R.userData},R.keyUpHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function ve(R,A){var z=null,W={originalEvent:A,eventType:"keypress",pointerType:"",isEmulated:!1};se(R,W),R.keyHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:R,keyCode:A.keyCode?A.keyCode:A.charCode,ctrl:A.ctrlKey,shift:A.shiftKey,alt:A.altKey,meta:A.metaKey,originalEvent:A,preventDefault:W.preventDefault||W.defaultPrevented,userData:R.userData},R.keyHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function le(R,A){var z={originalEvent:A,eventType:"focus",pointerType:"",isEmulated:!1};se(R,z),R.focusHandler&&!z.preventGesture&&R.focusHandler({eventSource:R,originalEvent:A,userData:R.userData})}function xe(R,A){var z={originalEvent:A,eventType:"blur",pointerType:"",isEmulated:!1};se(R,z),R.blurHandler&&!z.preventGesture&&R.blurHandler({eventSource:R,originalEvent:A,userData:R.userData})}function ze(R,A){var z=null,W={originalEvent:A,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};se(R,W),R.contextMenuHandler&&!W.preventGesture&&!W.defaultPrevented&&(z={eventSource:R,position:F(j(A),R.element),originalEvent:W.originalEvent,preventDefault:W.preventDefault||W.defaultPrevented,userData:R.userData},R.contextMenuHandler(z)),(z&&z.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function J(R,A){be(R,A,A)}function ue(R,A){var z={target:A.target||A.srcElement,type:"wheel",shiftKey:A.shiftKey||!1,clientX:A.clientX,clientY:A.clientY,pageX:A.pageX?A.pageX:A.clientX,pageY:A.pageY?A.pageY:A.clientY,deltaMode:A.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};n.MouseTracker.wheelEventName==="mousewheel"?z.deltaY=-A.wheelDelta/n.DEFAULT_SETTINGS.pixelsPerWheelLine:z.deltaY=A.detail,be(R,z,A)}function be(R,A,z){var W=0,ye,Fe=null;W=A.deltaY<0?1:-1,ye={originalEvent:A,eventType:"wheel",pointerType:"mouse",isEmulated:A!==z},se(R,ye),R.scrollHandler&&!ye.preventGesture&&!ye.defaultPrevented&&(Fe={eventSource:R,pointerType:"mouse",position:V(A,R.element),scroll:W,shift:A.shiftKey,isTouchEvent:!1,originalEvent:z,preventDefault:ye.preventDefault||ye.defaultPrevented,userData:R.userData},R.scrollHandler(Fe)),ye.stopPropagation&&n.stopEvent(z),(Fe&&Fe.preventDefault||ye.preventDefault&&!ye.defaultPrevented)&&n.cancelEvent(z)}function Se(R,A){var z={id:n.MouseTracker.mousePointerId,type:"mouse"},W={originalEvent:A,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};se(R,W),A.target===R.element&&ie(R,z,!1),W.stopPropagation&&n.stopEvent(A)}function ut(R,A){var z,W,ye=A.changedTouches.length,Fe,it=R.getActivePointersListByType("touch");z=n.now(),it.getLength()>A.touches.length-ye&&n.console.warn("Tracked touch contact count doesn't match event.touches.length");var St={originalEvent:A,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(se(R,St),W=0;W<ye;W++)Fe={id:A.changedTouches[W].identifier,type:"touch",isPrimary:it.getLength()===0,currentPos:j(A.changedTouches[W]),currentTime:z},fe(R,St,Fe),Pe(R,St,Fe,0),ie(R,Fe,!0);St.preventDefault&&!St.defaultPrevented&&n.cancelEvent(A),St.stopPropagation&&n.stopEvent(A)}function at(R,A){var z,W,ye=A.changedTouches.length,Fe;z=n.now();var it={originalEvent:A,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(se(R,it),W=0;W<ye;W++)Fe={id:A.changedTouches[W].identifier,type:"touch",currentPos:j(A.changedTouches[W]),currentTime:z},Ye(R,it,Fe,0),ie(R,Fe,!1),de(R,it,Fe);it.preventDefault&&!it.defaultPrevented&&n.cancelEvent(A),it.stopPropagation&&n.stopEvent(A)}function _e(R,A){var z,W,ye=A.changedTouches.length,Fe;z=n.now();var it={originalEvent:A,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(se(R,it),W=0;W<ye;W++)Fe={id:A.changedTouches[W].identifier,type:"touch",currentPos:j(A.changedTouches[W]),currentTime:z},Ve(R,it,Fe);it.preventDefault&&!it.defaultPrevented&&n.cancelEvent(A),it.stopPropagation&&n.stopEvent(A)}function Ce(R,A){var z=A.changedTouches.length,W,ye,Fe={originalEvent:A,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(se(R,Fe),W=0;W<z;W++)ye={id:A.changedTouches[W].identifier,type:"touch"},Te(R,Fe,ye);Fe.stopPropagation&&n.stopEvent(A)}function nt(R,A){return n.eventIsCanceled(A)||A.preventDefault(),!1}function Ne(R,A){return n.eventIsCanceled(A)||A.preventDefault(),!1}function wt(R,A){var z={originalEvent:A,eventType:"gotpointercapture",pointerType:B(A),isEmulated:!1};se(R,z),A.target===R.element&&ie(R,{id:A.pointerId,type:B(A)},!0),z.stopPropagation&&n.stopEvent(A)}function kt(R,A){var z={originalEvent:A,eventType:"lostpointercapture",pointerType:B(A),isEmulated:!1};se(R,z),A.target===R.element&&ie(R,{id:A.pointerId,type:B(A)},!1),z.stopPropagation&&n.stopEvent(A)}function Xt(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W={originalEvent:A,eventType:"pointerenter",pointerType:z.type,isEmulated:!1};se(R,W),fe(R,W,z)}function cn(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W={originalEvent:A,eventType:"pointerleave",pointerType:z.type,isEmulated:!1};se(R,W),de(R,W,z)}function en(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W={originalEvent:A,eventType:"pointerover",pointerType:z.type,isEmulated:!1};se(R,W),ke(R,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function Rt(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W={originalEvent:A,eventType:"pointerout",pointerType:z.type,isEmulated:!1};se(R,W),Me(R,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function fn(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W=n.MouseTracker.havePointerEvents&&z.type==="touch"&&n.Browser.vendor!==n.BROWSERS.IE,ye={originalEvent:A,eventType:"pointerdown",pointerType:z.type,isEmulated:!1};se(R,ye),Pe(R,ye,z,A.button),ye.preventDefault&&!ye.defaultPrevented&&n.cancelEvent(A),ye.stopPropagation&&n.stopEvent(A),ye.shouldCapture&&(W?ie(R,z,!0):x(R,z))}function on(R,A){Xe(R,A)}function Et(R,A){var z=R.getActivePointersListByType(B(A));z.getById(A.pointerId)&&Xe(R,A),n.stopEvent(A)}function Xe(R,A){var z;z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()};var W={originalEvent:A,eventType:"pointerup",pointerType:z.type,isEmulated:!1};se(R,W),Ye(R,W,z,A.button),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A),W.shouldReleaseCapture&&(A.target===R.element?_(R,z):ie(R,z,!1))}function ot(R,A){ne(R,A)}function X(R,A){var z=R.getActivePointersListByType(B(A));z.getById(A.pointerId)&&ne(R,A),n.stopEvent(A)}function ne(R,A){var z={id:T(A),type:B(A),isPrimary:M(A),currentPos:j(A),currentTime:n.now()},W={originalEvent:A,eventType:"pointermove",pointerType:z.type,isEmulated:!1};se(R,W),Ve(R,W,z),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(A),W.stopPropagation&&n.stopEvent(A)}function E(R,A){var z={id:A.pointerId,type:B(A)},W={originalEvent:A,eventType:"pointercancel",pointerType:z.type,isEmulated:!1};se(R,W),Te(R,W,z),W.stopPropagation&&n.stopEvent(A)}function N(R,A){return A.speed=0,A.direction=0,A.contactPos=A.currentPos,A.contactTime=A.currentTime,A.lastPos=A.currentPos,A.lastTime=A.currentTime,R.add(A)}function $(R,A,z){var W,ye=A.getById(z.id);return ye?(ye.captured&&(n.console.warn("stopTrackingPointer() called on captured pointer"),_(R,ye)),A.removeContact(),W=A.removeById(z.id)):W=A.getLength(),W}function ae(R,A){switch(A.eventType){case"pointermove":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!1,A.preventGesture=!R.hasGestureHandlers,A.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!1,A.preventGesture=!1,A.stopPropagation=!1;break;case"pointerdown":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!1,A.preventGesture=!R.hasGestureHandlers,A.stopPropagation=!1;break;case"pointerup":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!1,A.preventGesture=!R.hasGestureHandlers,A.stopPropagation=!1;break;case"wheel":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!1,A.preventGesture=!R.hasScrollHandler,A.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":A.isStoppable=!0,A.isCancelable=!1,A.preventDefault=!1,A.preventGesture=!1,A.stopPropagation=!1;break;case"click":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!!R.clickHandler,A.preventGesture=!1,A.stopPropagation=!1;break;case"dblclick":A.isStoppable=!0,A.isCancelable=!0,A.preventDefault=!!R.dblClickHandler,A.preventGesture=!1,A.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:A.isStoppable=!1,A.isCancelable=!1,A.preventDefault=!1,A.preventGesture=!1,A.stopPropagation=!1;break}}function se(R,A){A.eventSource=R,A.eventPhase=A.originalEvent&&typeof A.originalEvent.eventPhase<"u"?A.originalEvent.eventPhase:0,A.defaultPrevented=n.eventIsCanceled(A.originalEvent),A.shouldCapture=!1,A.shouldReleaseCapture=!1,A.userData=R.userData,ae(R,A),R.preProcessEventHandler&&R.preProcessEventHandler(A)}function ie(R,A,z){var W=R.getActivePointersListByType(A.type),ye=W.getById(A.id);ye?z&&!ye.captured?(ye.captured=!0,W.captureCount++):!z&&ye.captured&&(ye.captured=!1,W.captureCount--,W.captureCount<0&&(W.captureCount=0,n.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):n.console.warn("updatePointerCaptured() called on untracked pointer")}function fe(R,A,z){var W=R.getActivePointersListByType(z.type),ye;ye=W.getById(z.id),ye?(ye.insideElement=!0,ye.lastPos=ye.currentPos,ye.lastTime=ye.currentTime,ye.currentPos=z.currentPos,ye.currentTime=z.currentTime,z=ye):(z.captured=!1,z.insideElementPressed=!1,z.insideElement=!0,N(W,z)),R.enterHandler&&R.enterHandler({eventSource:R,pointerType:z.type,position:F(z.currentPos,R.element),buttons:W.buttons,pointers:R.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData})}function de(R,A,z){var W=R.getActivePointersListByType(z.type),ye,Fe;ye=W.getById(z.id),ye?(ye.captured?(ye.insideElement=!1,ye.lastPos=ye.currentPos,ye.lastTime=ye.currentTime,ye.currentPos=z.currentPos,ye.currentTime=z.currentTime):$(R,W,ye),z=ye):(z.captured=!1,z.insideElementPressed=!1),(R.leaveHandler||R.exitHandler)&&(Fe={eventSource:R,pointerType:z.type,position:z.currentPos&&F(z.currentPos,R.element),buttons:W.buttons,pointers:R.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData},R.leaveHandler&&R.leaveHandler(Fe),R.exitHandler&&R.exitHandler(Fe))}function ke(R,A,z){var W,ye;W=R.getActivePointersListByType(z.type),ye=W.getById(z.id),ye?z=ye:(z.captured=!1,z.insideElementPressed=!1),R.overHandler&&R.overHandler({eventSource:R,pointerType:z.type,position:F(z.currentPos,R.element),buttons:W.buttons,pointers:R.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData})}function Me(R,A,z){var W,ye;W=R.getActivePointersListByType(z.type),ye=W.getById(z.id),ye?z=ye:(z.captured=!1,z.insideElementPressed=!1),R.outHandler&&R.outHandler({eventSource:R,pointerType:z.type,position:z.currentPos&&F(z.currentPos,R.element),buttons:W.buttons,pointers:R.getActivePointerCount(),insideElementPressed:z.insideElementPressed,buttonDownAny:W.buttons!==0,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData})}function Pe(R,A,z,W){var ye=a[R.hash],Fe=R.getActivePointersListByType(z.type),it;if(typeof A.originalEvent.buttons<"u"?Fe.buttons=A.originalEvent.buttons:W===0?Fe.buttons|=1:W===1?Fe.buttons|=4:W===2?Fe.buttons|=2:W===3?Fe.buttons|=8:W===4?Fe.buttons|=16:W===5&&(Fe.buttons|=32),W!==0){A.shouldCapture=!1,A.shouldReleaseCapture=!1,R.nonPrimaryPressHandler&&!A.preventGesture&&!A.defaultPrevented&&(A.preventDefault=!0,R.nonPrimaryPressHandler({eventSource:R,pointerType:z.type,position:F(z.currentPos,R.element),button:W,buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData}));return}it=Fe.getById(z.id),it?(it.insideElementPressed=!0,it.insideElement=!0,it.originalTarget=A.originalEvent.target,it.contactPos=z.currentPos,it.contactTime=z.currentTime,it.lastPos=it.currentPos,it.lastTime=it.currentTime,it.currentPos=z.currentPos,it.currentTime=z.currentTime,z=it):(z.captured=!1,z.insideElementPressed=!0,z.insideElement=!0,z.originalTarget=A.originalEvent.target,N(Fe,z)),Fe.addContact(),!A.preventGesture&&!A.defaultPrevented?(A.shouldCapture=!0,A.shouldReleaseCapture=!1,A.preventDefault=!0,(R.dragHandler||R.dragEndHandler||R.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.addPoint(R,z),Fe.contacts===1?R.pressHandler&&!A.preventGesture&&R.pressHandler({eventSource:R,pointerType:z.type,position:F(z.contactPos,R.element),buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData}):Fe.contacts===2&&R.pinchHandler&&z.type==="touch"&&(ye.pinchGPoints=Fe.asArray(),ye.lastPinchDist=ye.currentPinchDist=ye.pinchGPoints[0].currentPos.distanceTo(ye.pinchGPoints[1].currentPos),ye.lastPinchCenter=ye.currentPinchCenter=L(ye.pinchGPoints[0].currentPos,ye.pinchGPoints[1].currentPos))):(A.shouldCapture=!1,A.shouldReleaseCapture=!1)}function Ye(R,A,z,W){var ye=a[R.hash],Fe=R.getActivePointersListByType(z.type),it,St,dt,Fn=!1,xn;if(typeof A.originalEvent.buttons<"u"?Fe.buttons=A.originalEvent.buttons:W===0?Fe.buttons^=-2:W===1?Fe.buttons^=-5:W===2?Fe.buttons^=-3:W===3?Fe.buttons^=-9:W===4?Fe.buttons^=-17:W===5&&(Fe.buttons^=-33),A.shouldCapture=!1,W!==0){A.shouldReleaseCapture=!1,R.nonPrimaryReleaseHandler&&!A.preventGesture&&!A.defaultPrevented&&(A.preventDefault=!0,R.nonPrimaryReleaseHandler({eventSource:R,pointerType:z.type,position:F(z.currentPos,R.element),button:W,buttons:Fe.buttons,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData}));return}dt=Fe.getById(z.id),dt?(Fe.removeContact(),dt.captured&&(Fn=!0),dt.lastPos=dt.currentPos,dt.lastTime=dt.currentTime,dt.currentPos=z.currentPos,dt.currentTime=z.currentTime,dt.insideElement||$(R,Fe,dt),it=dt.currentPos,St=dt.currentTime):(z.captured=!1,z.insideElementPressed=!1,z.insideElement=!0,N(Fe,z),dt=z),!A.preventGesture&&!A.defaultPrevented&&(Fn?(A.shouldReleaseCapture=!0,A.preventDefault=!0,(R.dragHandler||R.dragEndHandler||R.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.removePoint(R,dt),Fe.contacts===0?(R.releaseHandler&&it&&R.releaseHandler({eventSource:R,pointerType:dt.type,position:F(it,R.element),buttons:Fe.buttons,insideElementPressed:dt.insideElementPressed,insideElementReleased:dt.insideElement,isTouchEvent:dt.type==="touch",originalEvent:A.originalEvent,userData:R.userData}),R.dragEndHandler&&ye.sentDragEvent&&R.dragEndHandler({eventSource:R,pointerType:dt.type,position:F(dt.currentPos,R.element),speed:dt.speed,direction:dt.direction,shift:A.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:A.originalEvent,userData:R.userData}),ye.sentDragEvent=!1,(R.clickHandler||R.dblClickHandler)&&dt.insideElement&&(xn=St-dt.contactTime<=R.clickTimeThreshold&&dt.contactPos.distanceTo(it)<=R.clickDistThreshold,R.clickHandler&&R.clickHandler({eventSource:R,pointerType:dt.type,position:F(dt.currentPos,R.element),quick:xn,shift:A.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:A.originalEvent,originalTarget:dt.originalTarget,userData:R.userData}),R.dblClickHandler&&xn&&(Fe.clicks++,Fe.clicks===1?(ye.lastClickPos=it,ye.dblClickTimeOut=setTimeout(function(){Fe.clicks=0},R.dblClickTimeThreshold)):Fe.clicks===2&&(clearTimeout(ye.dblClickTimeOut),Fe.clicks=0,ye.lastClickPos.distanceTo(it)<=R.dblClickDistThreshold&&R.dblClickHandler({eventSource:R,pointerType:dt.type,position:F(dt.currentPos,R.element),shift:A.originalEvent.shiftKey,isTouchEvent:dt.type==="touch",originalEvent:A.originalEvent,userData:R.userData}),ye.lastClickPos=null)))):Fe.contacts===2&&R.pinchHandler&&dt.type==="touch"&&(ye.pinchGPoints=Fe.asArray(),ye.lastPinchDist=ye.currentPinchDist=ye.pinchGPoints[0].currentPos.distanceTo(ye.pinchGPoints[1].currentPos),ye.lastPinchCenter=ye.currentPinchCenter=L(ye.pinchGPoints[0].currentPos,ye.pinchGPoints[1].currentPos))):(A.shouldReleaseCapture=!1,R.releaseHandler&&it&&(R.releaseHandler({eventSource:R,pointerType:dt.type,position:F(it,R.element),buttons:Fe.buttons,insideElementPressed:dt.insideElementPressed,insideElementReleased:dt.insideElement,isTouchEvent:dt.type==="touch",originalEvent:A.originalEvent,userData:R.userData}),A.preventDefault=!0)))}function Ve(R,A,z){var W=a[R.hash],ye=R.getActivePointersListByType(z.type),Fe,it,St;if(typeof A.originalEvent.buttons<"u"&&(ye.buttons=A.originalEvent.buttons),Fe=ye.getById(z.id),Fe)Fe.lastPos=Fe.currentPos,Fe.lastTime=Fe.currentTime,Fe.currentPos=z.currentPos,Fe.currentTime=z.currentTime;else return;A.shouldCapture=!1,A.shouldReleaseCapture=!1,R.stopHandler&&z.type==="mouse"&&(clearTimeout(R.stopTimeOut),R.stopTimeOut=setTimeout(function(){Be(R,A.originalEvent,z.type)},R.stopDelay)),ye.contacts===0?R.moveHandler&&R.moveHandler({eventSource:R,pointerType:z.type,position:F(z.currentPos,R.element),buttons:ye.buttons,isTouchEvent:z.type==="touch",originalEvent:A.originalEvent,userData:R.userData}):ye.contacts===1?(R.moveHandler&&(Fe=ye.asArray()[0],R.moveHandler({eventSource:R,pointerType:Fe.type,position:F(Fe.currentPos,R.element),buttons:ye.buttons,isTouchEvent:Fe.type==="touch",originalEvent:A.originalEvent,userData:R.userData})),R.dragHandler&&!A.preventGesture&&!A.defaultPrevented&&(Fe=ye.asArray()[0],St=Fe.currentPos.minus(Fe.lastPos),R.dragHandler({eventSource:R,pointerType:Fe.type,position:F(Fe.currentPos,R.element),buttons:ye.buttons,delta:St,speed:Fe.speed,direction:Fe.direction,shift:A.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:A.originalEvent,userData:R.userData}),A.preventDefault=!0,W.sentDragEvent=!0)):ye.contacts===2&&(R.moveHandler&&(it=ye.asArray(),R.moveHandler({eventSource:R,pointerType:it[0].type,position:F(L(it[0].currentPos,it[1].currentPos),R.element),buttons:ye.buttons,isTouchEvent:it[0].type==="touch",originalEvent:A.originalEvent,userData:R.userData})),R.pinchHandler&&z.type==="touch"&&!A.preventGesture&&!A.defaultPrevented&&(St=W.pinchGPoints[0].currentPos.distanceTo(W.pinchGPoints[1].currentPos),St!==W.currentPinchDist&&(W.lastPinchDist=W.currentPinchDist,W.currentPinchDist=St,W.lastPinchCenter=W.currentPinchCenter,W.currentPinchCenter=L(W.pinchGPoints[0].currentPos,W.pinchGPoints[1].currentPos),R.pinchHandler({eventSource:R,pointerType:"touch",gesturePoints:W.pinchGPoints,lastCenter:F(W.lastPinchCenter,R.element),center:F(W.currentPinchCenter,R.element),lastDistance:W.lastPinchDist,distance:W.currentPinchDist,shift:A.originalEvent.shiftKey,originalEvent:A.originalEvent,userData:R.userData}),A.preventDefault=!0)))}function Te(R,A,z){var W=R.getActivePointersListByType(z.type),ye;ye=W.getById(z.id),ye&&$(R,W,ye)}function Be(R,A,z){R.stopHandler&&R.stopHandler({eventSource:R,pointerType:z,position:V(A,R.element),buttons:R.getActivePointersListByType(z).buttons,isTouchEvent:z==="touch",originalEvent:A,userData:R.userData})}}(o),function(n){n.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},n.Control=function(a,u,h){var f=a.parentNode;typeof u=="number"&&(n.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),u={anchor:u}),u.attachToViewer=typeof u.attachToViewer>"u"?!0:u.attachToViewer,this.autoFade=typeof u.autoFade>"u"?!0:u.autoFade,this.element=a,this.anchor=u.anchor,this.container=h,this.anchor===n.ControlAnchor.ABSOLUTE?(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof u.top=="number"?u.top+"px":u.top,this.wrapper.style.left=typeof u.left=="number"?u.left+"px":u.left,this.wrapper.style.height=typeof u.height=="number"?u.height+"px":u.height,this.wrapper.style.width=typeof u.width=="number"?u.width+"px":u.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===n.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),u.attachToViewer?this.anchor===n.ControlAnchor.TOP_RIGHT||this.anchor===n.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):f.appendChild(this.wrapper)},n.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==n.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===n.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){this.element[n.SIGNAL]&&n.Browser.vendor===n.BROWSERS.IE?n.setElementOpacity(this.element,a,!0):n.setElementOpacity(this.wrapper,a,!0)}}}(o),function(n){n.ControlDock=function(u){var h=["topleft","topright","bottomright","bottomleft"],f,d;for(n.extend(!0,this,{id:"controldock-"+n.now()+"-"+Math.floor(Math.random()*1e6),container:n.makeNeutralElement("div"),controls:[]},u),this.container.onsubmit=function(){return!1},this.element&&(this.element=n.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<h.length;d++)f=h[d],this.controls[f]=n.makeNeutralElement("div"),this.controls[f].style.position="absolute",f.match("left")&&(this.controls[f].style.left="0px"),f.match("right")&&(this.controls[f].style.right="0px"),f.match("top")&&(this.controls[f].style.top="0px"),f.match("bottom")&&(this.controls[f].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},n.ControlDock.prototype={addControl:function(u,h){u=n.getElement(u);var f=null;if(!(a(this,u)>=0)){switch(h.anchor){case n.ControlAnchor.TOP_RIGHT:f=this.controls.topright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingTop="0px";break;case n.ControlAnchor.BOTTOM_RIGHT:f=this.controls.bottomright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingBottom="0px";break;case n.ControlAnchor.BOTTOM_LEFT:f=this.controls.bottomleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingBottom="0px";break;case n.ControlAnchor.TOP_LEFT:f=this.controls.topleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingTop="0px";break;case n.ControlAnchor.ABSOLUTE:f=this.container,u.style.margin="0px",u.style.padding="0px";break;default:case n.ControlAnchor.NONE:f=this.container,u.style.margin="0px",u.style.padding="0px";break}this.controls.push(new n.Control(u,h,f)),u.style.display="inline-block"}},removeControl:function(u){u=n.getElement(u);var h=a(this,u);return h>=0&&(this.controls[h].destroy(),this.controls.splice(h,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var u;for(u=this.controls.length-1;u>=0;u--)if(this.controls[u].isVisible())return!0;return!1},setControlsEnabled:function(u){var h;for(h=this.controls.length-1;h>=0;h--)this.controls[h].setVisible(u);return this}};function a(u,h){var f=u.controls,d;for(d=f.length-1;d>=0;d--)if(f[d].element===h)return d;return-1}}(o),function(n){n.Placement=n.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(o),function(n){var a={},u=1;n.Viewer=function(E){var N=arguments,$=this,ae;if(n.isPlainObject(E)||(E={id:N[0],xmlPath:N.length>1?N[1]:void 0,prefixUrl:N.length>2?N[2]:void 0,controls:N.length>3?N[3]:void 0,overlays:N.length>4?N[4]:void 0}),E.config&&(n.extend(!0,E,E.config),delete E.config),n.extend(!0,this,{id:E.id,hash:E.hash||u++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},n.DEFAULT_SETTINGS,E),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof a[this.hash]<"u"&&n.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new n.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=n.now(),n.EventSource.call(this),this.addHandler("open-failed",function(se){var ie=n.getString("Errors.OpenFailed",se.eventSource,se.message);$._showMessage(ie)}),n.ControlDock.call(this,E),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=n.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(se){se.width="100%",se.height="100%",se.overflow="hidden",se.position="absolute",se.top="0px",se.left="0px"}(this.canvas.style),n.setElementTouchActionNone(this.canvas),E.tabIndex!==""&&(this.canvas.tabIndex=E.tabIndex===void 0?0:E.tabIndex),this.container.className="openseadragon-container",function(se){se.width="100%",se.height="100%",se.position="relative",se.overflow="hidden",se.left="0px",se.top="0px",se.textAlign="left"}(this.container.style),n.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new n.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:n.delegate(this,V),keyDownHandler:n.delegate(this,F),keyHandler:n.delegate(this,L),clickHandler:n.delegate(this,Y),dblClickHandler:n.delegate(this,ce),dragHandler:n.delegate(this,pe),dragEndHandler:n.delegate(this,me),enterHandler:n.delegate(this,ve),leaveHandler:n.delegate(this,le),pressHandler:n.delegate(this,xe),releaseHandler:n.delegate(this,ze),nonPrimaryPressHandler:n.delegate(this,J),nonPrimaryReleaseHandler:n.delegate(this,ue),scrollHandler:n.delegate(this,Se),pinchHandler:n.delegate(this,be)}),this.outerTracker=new n.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:n.delegate(this,ut),leaveHandler:n.delegate(this,at)}),this.toolbar&&(this.toolbar=new n.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=h(this.container),this.world=new n.World({viewer:this}),this.world.addHandler("add-item",function(se){$.source=$.world.getItemAt(0).source,a[$.hash].forceRedraw=!0,$._updateRequestId||($._updateRequestId=m($,_e))}),this.world.addHandler("remove-item",function(se){$.world.getItemCount()?$.source=$.world.getItemAt(0).source:$.source=null,a[$.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(se){$.viewport&&$.viewport._setContentBounds($.world.getHomeBounds(),$.world.getContentFactor())}),this.world.addHandler("item-index-change",function(se){$.source=$.world.getItemAt(0).source}),this.viewport=new n.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new n.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:E.timeout}),this.tileCache=new n.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new n.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=n.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(ae=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(ae,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(ae=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(ae,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new n.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),ae=0;ae<this.customControls.length;ae++)this.addControl(this.customControls[ae].id,{anchor:this.customControls[ae].anchor});n.requestAnimationFrame(function(){_($)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),n._viewers.set(this.element,this)},n.extend(n.Viewer.prototype,n.EventSource.prototype,n.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(E){return n.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(E)},openTileSource:function(E){return n.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(E)},get buttons(){return n.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(E,N){var $=this;if(this.close(),!E)return this;if(this.sequenceMode&&n.isArray(E))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof N<"u"&&!isNaN(N)&&(this.initialPage=N),this.tileSources=E,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(n.isArray(E)||(E=[E]),!E.length)return this;this._opening=!0;for(var ae=E.length,se=0,ie=0,fe,de=function(){if(se+ie===ae)if(se){($._firstOpen||!$.preserveViewport)&&($.viewport.goHome(!0),$.viewport.update()),$._firstOpen=!1;var Pe=E[0];if(Pe.tileSource&&(Pe=Pe.tileSource),$.overlays&&!$.preserveOverlays)for(var Ye=0;Ye<$.overlays.length;Ye++)$.currentOverlays[Ye]=d($,$.overlays[Ye]);$._drawOverlays(),$._opening=!1,$.raiseEvent("open",{source:Pe})}else $._opening=!1,$.raiseEvent("open-failed",fe)},ke=function(Pe){(!n.isPlainObject(Pe)||!Pe.tileSource)&&(Pe={tileSource:Pe}),Pe.index!==void 0&&(n.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Pe.index),Pe.collectionImmediately===void 0&&(Pe.collectionImmediately=!0);var Ye=Pe.success;Pe.success=function(Te){if(se++,Pe.tileSource.overlays)for(var Be=0;Be<Pe.tileSource.overlays.length;Be++)$.addOverlay(Pe.tileSource.overlays[Be]);Ye&&Ye(Te),de()};var Ve=Pe.error;Pe.error=function(Te){ie++,fe||(fe=Te),Ve&&Ve(Te),de()},$.addTiledImage(Pe)},Me=0;Me<E.length;Me++)ke(E[Me]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!a[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(n.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,n._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(E){return this.innerTracker.setTracking(E),this.outerTracker.setTracking(E),this.raiseEvent("mouse-enabled",{enabled:E}),this},areControlsEnabled:function(){var E=this.controls.length,N;for(N=0;N<this.controls.length;N++)E=E&&this.controls[N].isVisible();return E},setControlsEnabled:function(E){return E?B(this):_(this),this.raiseEvent("controls-enabled",{enabled:E}),this},setDebugMode:function(E){for(var N=0;N<this.world.getItemCount();N++)this.world.getItemAt(N).debugMode=E;this.debugMode=E,this.forceRedraw()},isFullPage:function(){return a[this.hash].fullPage},setFullPage:function(E){var N=document.body,$=N.style,ae=document.documentElement.style,se=this,ie,fe;if(E===this.isFullPage())return this;var de={fullPage:E,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",de),de.preventDefaultAction)return this;if(E){for(this.elementSize=n.getElementSize(this.element),this.pageScroll=n.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=$.margin,this.docMargin=ae.margin,$.margin="0",ae.margin="0",this.bodyPadding=$.padding,this.docPadding=ae.padding,$.padding="0",ae.padding="0",this.bodyWidth=$.width,this.docWidth=ae.width,$.width="100%",ae.width="100%",this.bodyHeight=$.height,this.docHeight=ae.height,$.height="100%",ae.height="100%",this.bodyDisplay=$.display,$.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,ie=N.childNodes.length,fe=0;fe<ie;fe++)this.previousBody.push(N.childNodes[0]),N.removeChild(N.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,N.appendChild(this.toolbar.element),n.addClass(this.toolbar.element,"fullpage")),n.addClass(this.element,"fullpage"),N.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=n.getElementSize(this.element).y-n.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,n.delegate(this,ut)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,$.margin=this.bodyMargin,ae.margin=this.docMargin,$.padding=this.bodyPadding,ae.padding=this.docPadding,$.width=this.bodyWidth,ae.width=this.docWidth,$.height=this.bodyHeight,ae.height=this.docHeight,$.display=this.bodyDisplay,N.removeChild(this.element),ie=this.previousBody.length,fe=0;fe<ie;fe++)N.appendChild(this.previousBody.shift());n.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(N.removeChild(this.toolbar.element),n.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var ke=0,Me=function(){n.setPageScroll(se.pageScroll);var Pe=n.getPageScroll();ke++,ke<10&&(Pe.x!==se.pageScroll.x||Pe.y!==se.pageScroll.y)&&n.requestAnimationFrame(Me)};n.requestAnimationFrame(Me),a[this.hash].fullPage=!1,n.delegate(this,at)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:E}),this},setFullScreen:function(E){var N=this;if(!n.supportsFullScreen)return this.setFullPage(E);if(n.isFullScreen()===E)return this;var $={fullScreen:E,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",$),$.preventDefaultAction)return this;if(E){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var ae=function(){var se=n.isFullScreen();se||(n.removeEvent(document,n.fullScreenEventName,ae),n.removeEvent(document,n.fullScreenErrorEventName,ae),N.setFullPage(!1),N.isFullPage()&&(N.element.style.width=N.fullPageStyleWidth,N.element.style.height=N.fullPageStyleHeight)),N.navigator&&N.viewport&&setTimeout(function(){N.navigator.update(N.viewport)}),N.raiseEvent("full-screen",{fullScreen:se})};n.addEvent(document,n.fullScreenEventName,ae),n.addEvent(document,n.fullScreenErrorEventName,ae),n.requestFullScreen(document.body)}else n.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return n.isFullScreen()&&this.isFullPage()},setVisible:function(E){return this.container.style.visibility=E?"":"hidden",this.raiseEvent("visible",{visible:E}),this},addTiledImage:function(E){n.console.assert(E,"[Viewer.addTiledImage] options is required"),n.console.assert(E.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),n.console.assert(!E.replace||E.index>-1&&E.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var N=this;E.replace&&(E.replaceItem=N.world.getItemAt(E.index)),this._hideMessage(),E.placeholderFillStyle===void 0&&(E.placeholderFillStyle=this.placeholderFillStyle),E.opacity===void 0&&(E.opacity=this.opacity),E.preload===void 0&&(E.preload=this.preload),E.compositeOperation===void 0&&(E.compositeOperation=this.compositeOperation),E.crossOriginPolicy===void 0&&(E.crossOriginPolicy=E.tileSource.crossOriginPolicy!==void 0?E.tileSource.crossOriginPolicy:this.crossOriginPolicy),E.ajaxWithCredentials===void 0&&(E.ajaxWithCredentials=this.ajaxWithCredentials),E.loadTilesWithAjax===void 0&&(E.loadTilesWithAjax=this.loadTilesWithAjax),E.ajaxHeaders===void 0||E.ajaxHeaders===null?E.ajaxHeaders=this.ajaxHeaders:n.isPlainObject(E.ajaxHeaders)&&n.isPlainObject(this.ajaxHeaders)&&(E.ajaxHeaders=n.extend({},this.ajaxHeaders,E.ajaxHeaders));var $={options:E};function ae(fe){for(var de=0;de<N._loadQueue.length;de++)if(N._loadQueue[de]===$){N._loadQueue.splice(de,1);break}N._loadQueue.length===0&&se($),N.raiseEvent("add-item-failed",fe),E.error&&E.error(fe)}function se(fe){N.collectionMode&&(N.world.arrange({immediately:fe.options.collectionImmediately,rows:N.collectionRows,columns:N.collectionColumns,layout:N.collectionLayout,tileSize:N.collectionTileSize,tileMargin:N.collectionTileMargin}),N.world.setAutoRefigureSizes(!0))}if(n.isArray(E.tileSource)){setTimeout(function(){ae({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:E.tileSource,options:E})});return}this._loadQueue.push($);function ie(){for(var fe,de,ke;N._loadQueue.length&&(fe=N._loadQueue[0],!!fe.tileSource);){if(N._loadQueue.splice(0,1),fe.options.replace){var Me=N.world.getIndexOfItem(fe.options.replaceItem);Me!==-1&&(fe.options.index=Me),N.world.removeItem(fe.options.replaceItem)}de=new n.TiledImage({viewer:N,source:fe.tileSource,viewport:N.viewport,drawer:N.drawer,tileCache:N.tileCache,imageLoader:N.imageLoader,x:fe.options.x,y:fe.options.y,width:fe.options.width,height:fe.options.height,fitBounds:fe.options.fitBounds,fitBoundsPlacement:fe.options.fitBoundsPlacement,clip:fe.options.clip,placeholderFillStyle:fe.options.placeholderFillStyle,opacity:fe.options.opacity,preload:fe.options.preload,degrees:fe.options.degrees,flipped:fe.options.flipped,compositeOperation:fe.options.compositeOperation,springStiffness:N.springStiffness,animationTime:N.animationTime,minZoomImageRatio:N.minZoomImageRatio,wrapHorizontal:N.wrapHorizontal,wrapVertical:N.wrapVertical,immediateRender:N.immediateRender,blendTime:N.blendTime,alwaysBlend:N.alwaysBlend,minPixelRatio:N.minPixelRatio,smoothTileEdgesMinZoom:N.smoothTileEdgesMinZoom,iOSDevice:N.iOSDevice,crossOriginPolicy:fe.options.crossOriginPolicy,ajaxWithCredentials:fe.options.ajaxWithCredentials,loadTilesWithAjax:fe.options.loadTilesWithAjax,ajaxHeaders:fe.options.ajaxHeaders,debugMode:N.debugMode,subPixelRoundingForTransparency:N.subPixelRoundingForTransparency}),N.collectionMode&&N.world.setAutoRefigureSizes(!1),N.navigator&&(ke=n.extend({},fe.options,{replace:!1,originalTiledImage:de,tileSource:fe.tileSource}),N.navigator.addTiledImage(ke)),N.world.addItem(de,{index:fe.options.index}),N._loadQueue.length===0&&se(fe),N.world.getItemCount()===1&&!N.preserveViewport&&N.viewport.goHome(!0),fe.options.success&&fe.options.success({item:de})}}f(this,E.tileSource,E,function(fe){$.tileSource=fe,ie()},function(fe){fe.options=E,ae(fe),ie()})},addSimpleImage:function(E){n.console.assert(E,"[Viewer.addSimpleImage] options is required"),n.console.assert(E.url,"[Viewer.addSimpleImage] options.url is required");var N=n.extend({},E,{tileSource:{type:"image",url:E.url}});delete N.url,this.addTiledImage(N)},addLayer:function(E){var N=this;n.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var $=n.extend({},E,{success:function(ae){N.raiseEvent("add-layer",{options:E,drawer:ae.item})},error:function(ae){N.raiseEvent("add-layer-failed",ae)}});return this.addTiledImage($),this},getLayerAtLevel:function(E){return n.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(E)},getLevelOfLayer:function(E){return n.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(E)},getLayersCount:function(){return n.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(E,N){return n.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(E,N)},removeLayer:function(E){return n.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(E)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var E=n.delegate(this,M),N=n.delegate(this,j),$=n.delegate(this,this.goToNextPage),ae=n.delegate(this,this.goToPreviousPage),se=this.navImages,ie=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ie=!1),this.previousButton=new n.Button({element:this.previousButton?n.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.PreviousPage"),srcRest:Ne(this.prefixUrl,se.previous.REST),srcGroup:Ne(this.prefixUrl,se.previous.GROUP),srcHover:Ne(this.prefixUrl,se.previous.HOVER),srcDown:Ne(this.prefixUrl,se.previous.DOWN),onRelease:ae,onFocus:E,onBlur:N}),this.nextButton=new n.Button({element:this.nextButton?n.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.NextPage"),srcRest:Ne(this.prefixUrl,se.next.REST),srcGroup:Ne(this.prefixUrl,se.next.GROUP),srcHover:Ne(this.prefixUrl,se.next.HOVER),srcDown:Ne(this.prefixUrl,se.next.DOWN),onRelease:$,onFocus:E,onBlur:N}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ie&&(this.paging=new n.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:n.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||n.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var E=n.delegate(this,wt),N=n.delegate(this,Xt),$=n.delegate(this,Rt),ae=n.delegate(this,kt),se=n.delegate(this,fn),ie=n.delegate(this,Et),fe=n.delegate(this,Xe),de=n.delegate(this,ot),ke=n.delegate(this,X),Me=n.delegate(this,ne),Pe=n.delegate(this,M),Ye=n.delegate(this,j),Ve=this.navImages,Te=[],Be=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Be=!1),this.showZoomControl&&(Te.push(this.zoomInButton=new n.Button({element:this.zoomInButton?n.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomIn"),srcRest:Ne(this.prefixUrl,Ve.zoomIn.REST),srcGroup:Ne(this.prefixUrl,Ve.zoomIn.GROUP),srcHover:Ne(this.prefixUrl,Ve.zoomIn.HOVER),srcDown:Ne(this.prefixUrl,Ve.zoomIn.DOWN),onPress:E,onRelease:N,onClick:$,onEnter:E,onExit:N,onFocus:Pe,onBlur:Ye})),Te.push(this.zoomOutButton=new n.Button({element:this.zoomOutButton?n.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomOut"),srcRest:Ne(this.prefixUrl,Ve.zoomOut.REST),srcGroup:Ne(this.prefixUrl,Ve.zoomOut.GROUP),srcHover:Ne(this.prefixUrl,Ve.zoomOut.HOVER),srcDown:Ne(this.prefixUrl,Ve.zoomOut.DOWN),onPress:ae,onRelease:N,onClick:se,onEnter:ae,onExit:N,onFocus:Pe,onBlur:Ye}))),this.showHomeControl&&Te.push(this.homeButton=new n.Button({element:this.homeButton?n.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Home"),srcRest:Ne(this.prefixUrl,Ve.home.REST),srcGroup:Ne(this.prefixUrl,Ve.home.GROUP),srcHover:Ne(this.prefixUrl,Ve.home.HOVER),srcDown:Ne(this.prefixUrl,Ve.home.DOWN),onRelease:ie,onFocus:Pe,onBlur:Ye})),this.showFullPageControl&&Te.push(this.fullPageButton=new n.Button({element:this.fullPageButton?n.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.FullPage"),srcRest:Ne(this.prefixUrl,Ve.fullpage.REST),srcGroup:Ne(this.prefixUrl,Ve.fullpage.GROUP),srcHover:Ne(this.prefixUrl,Ve.fullpage.HOVER),srcDown:Ne(this.prefixUrl,Ve.fullpage.DOWN),onRelease:fe,onFocus:Pe,onBlur:Ye})),this.showRotationControl&&(Te.push(this.rotateLeftButton=new n.Button({element:this.rotateLeftButton?n.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateLeft"),srcRest:Ne(this.prefixUrl,Ve.rotateleft.REST),srcGroup:Ne(this.prefixUrl,Ve.rotateleft.GROUP),srcHover:Ne(this.prefixUrl,Ve.rotateleft.HOVER),srcDown:Ne(this.prefixUrl,Ve.rotateleft.DOWN),onRelease:de,onFocus:Pe,onBlur:Ye})),Te.push(this.rotateRightButton=new n.Button({element:this.rotateRightButton?n.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateRight"),srcRest:Ne(this.prefixUrl,Ve.rotateright.REST),srcGroup:Ne(this.prefixUrl,Ve.rotateright.GROUP),srcHover:Ne(this.prefixUrl,Ve.rotateright.HOVER),srcDown:Ne(this.prefixUrl,Ve.rotateright.DOWN),onRelease:ke,onFocus:Pe,onBlur:Ye}))),this.showFlipControl&&Te.push(this.flipButton=new n.Button({element:this.flipButton?n.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Flip"),srcRest:Ne(this.prefixUrl,Ve.flip.REST),srcGroup:Ne(this.prefixUrl,Ve.flip.GROUP),srcHover:Ne(this.prefixUrl,Ve.flip.HOVER),srcDown:Ne(this.prefixUrl,Ve.flip.DOWN),onRelease:Me,onFocus:Pe,onBlur:Ye})),Be?(this.buttonGroup=new n.ButtonGroup({buttons:Te,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",n.delegate(this,on)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT})):this.customButtons=Te),this},currentPage:function(){return this._sequenceIndex},goToPage:function(E){return this.tileSources&&E>=0&&E<this.tileSources.length&&(this._sequenceIndex=E,this._updateSequenceButtons(E),this.open(this.tileSources[E]),this.referenceStrip&&this.referenceStrip.setFocus(E),this.raiseEvent("page",{page:E})),this},addOverlay:function(E,N,$,ae){var se;if(n.isPlainObject(E)?se=E:se={element:E,location:N,placement:$,onDraw:ae},E=n.getElement(se.element),g(this.currentOverlays,E)>=0)return this;var ie=d(this,se);return this.currentOverlays.push(ie),ie.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:E,location:se.location,placement:se.placement}),this},updateOverlay:function(E,N,$){var ae;return E=n.getElement(E),ae=g(this.currentOverlays,E),ae>=0&&(this.currentOverlays[ae].update(N,$),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:E,location:N,placement:$})),this},removeOverlay:function(E){var N;return E=n.getElement(E),N=g(this.currentOverlays,E),N>=0&&(this.currentOverlays[N].destroy(),this.currentOverlays.splice(N,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:E})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(E){var N;return E=n.getElement(E),N=g(this.currentOverlays,E),N>=0?this.currentOverlays[N]:null},_updateSequenceButtons:function(E){this.nextButton&&(!this.tileSources||this.tileSources.length-1===E?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(E>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(E){this._hideMessage();var N=n.makeNeutralElement("div");N.appendChild(document.createTextNode(E)),this.messageDiv=n.makeCenteredNode(N),n.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var E=this.messageDiv;E&&(E.parentNode.removeChild(E),delete this.messageDiv)},gestureSettingsByDeviceType:function(E){switch(E){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var E,N=this.currentOverlays.length;for(E=0;E<N;E++)this.currentOverlays[E].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new n.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else n.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),n.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){n.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var E=n.pixelDensityRatio,N=n.getCurrentPixelDensityRatio();E!==N&&(n.pixelDensityRatio=N,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var E=this._sequenceIndex-1;this.navPrevNextWrap&&E<0&&(E+=this.tileSources.length),this.goToPage(E)},goToNextPage:function(){var E=this._sequenceIndex+1;this.navPrevNextWrap&&E>=this.tileSources.length&&(E=0),this.goToPage(E)},isAnimating:function(){return a[this.hash].animating}});function h(E){return E=n.getElement(E),new n.Point(E.clientWidth===0?1:E.clientWidth,E.clientHeight===0?1:E.clientHeight)}function f(E,N,$,ae,se){var ie=E;if(n.type(N)==="string"){if(N.match(/^\s*<.*>\s*$/))N=n.parseXml(N);else if(N.match(/^\s*[{[].*[}\]]\s*$/))try{var fe=n.parseJSON(N);N=fe}catch{}}function de(ke,Me){ke.ready?ae(ke):(ke.addHandler("ready",function(){ae(ke)}),ke.addHandler("open-failed",function(Pe){se({message:Pe.message,source:Me})}))}setTimeout(function(){if(n.type(N)==="string")N=new n.TileSource({url:N,crossOriginPolicy:$.crossOriginPolicy!==void 0?$.crossOriginPolicy:E.crossOriginPolicy,ajaxWithCredentials:E.ajaxWithCredentials,ajaxHeaders:$.ajaxHeaders?$.ajaxHeaders:E.ajaxHeaders,splitHashDataForPost:E.splitHashDataForPost,useCanvas:E.useCanvas,success:function(Ye){ae(Ye.tileSource)}}),N.addHandler("open-failed",function(Ye){se(Ye)});else if(n.isPlainObject(N)||N.nodeType)if(N.crossOriginPolicy===void 0&&($.crossOriginPolicy!==void 0||E.crossOriginPolicy!==void 0)&&(N.crossOriginPolicy=$.crossOriginPolicy!==void 0?$.crossOriginPolicy:E.crossOriginPolicy),N.ajaxWithCredentials===void 0&&(N.ajaxWithCredentials=E.ajaxWithCredentials),N.useCanvas===void 0&&(N.useCanvas=E.useCanvas),n.isFunction(N.getTileUrl)){var ke=new n.TileSource(N);ke.getTileUrl=N.getTileUrl,ae(ke)}else{var Me=n.TileSource.determineType(ie,N);if(!Me){se({message:"Unable to load TileSource",source:N});return}var Pe=Me.prototype.configure.apply(ie,[N]);de(new Me(Pe),N)}else de(N,N)})}function d(E,N){if(N instanceof n.Overlay)return N;var $=null;if(N.element)$=n.getElement(N.element);else{var ae=N.id?N.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);$=n.getElement(N.id),$||($=document.createElement("a"),$.href="#/overlay/"+ae),$.id=ae,n.addClass($,N.className?N.className:"openseadragon-overlay")}var se=N.location,ie=N.width,fe=N.height;if(!se){var de=N.x,ke=N.y;if(N.px!==void 0){var Me=E.viewport.imageToViewportRectangle(new n.Rect(N.px,N.py,ie||0,fe||0));de=Me.x,ke=Me.y,ie=ie!==void 0?Me.width:void 0,fe=fe!==void 0?Me.height:void 0}se=new n.Point(de,ke)}var Pe=N.placement;return Pe&&n.type(Pe)==="string"&&(Pe=n.Placement[N.placement.toUpperCase()]),new n.Overlay({element:$,location:se,placement:Pe,onDraw:N.onDraw,checkResize:N.checkResize,width:ie,height:fe,rotationMode:N.rotationMode})}function g(E,N){var $;for($=E.length-1;$>=0;$--)if(E[$].element===N)return $;return-1}function m(E,N){return n.requestAnimationFrame(function(){N(E)})}function x(E){n.requestAnimationFrame(function(){T(E)})}function _(E){!E.autoHideControls||(E.controlsShouldFade=!0,E.controlsFadeBeginTime=n.now()+E.controlsFadeDelay,window.setTimeout(function(){x(E)},E.controlsFadeDelay))}function T(E){var N,$,ae,se;if(E.controlsShouldFade){for(N=n.now(),$=N-E.controlsFadeBeginTime,ae=1-$/E.controlsFadeLength,ae=Math.min(1,ae),ae=Math.max(0,ae),se=E.controls.length-1;se>=0;se--)E.controls[se].autoFade&&E.controls[se].setOpacity(ae);ae>0&&x(E)}}function B(E){var N;for(E.controlsShouldFade=!1,N=E.controls.length-1;N>=0;N--)E.controls[N].setOpacity(1)}function M(){B(this)}function j(){_(this)}function V(E){var N={tracker:E.eventSource,position:E.position,originalEvent:E.originalEvent,preventDefault:E.preventDefault};this.raiseEvent("canvas-contextmenu",N),E.preventDefault=N.preventDefault}function F(E){var N={originalEvent:E.originalEvent,preventDefaultAction:!1,preventVerticalPan:E.preventVerticalPan||!this.panVertical,preventHorizontalPan:E.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",N),!N.preventDefaultAction&&!E.ctrl&&!E.alt&&!E.meta)switch(E.keyCode){case 38:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 40:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 37:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 39:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;default:E.preventDefault=!1;break}else E.preventDefault=!1}function L(E){var N={originalEvent:E.originalEvent,preventDefaultAction:!1,preventVerticalPan:E.preventVerticalPan||!this.panVertical,preventHorizontalPan:E.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",N),!N.preventDefaultAction&&!E.ctrl&&!E.alt&&!E.meta)switch(E.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 119:case 87:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-40))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 115:case 83:N.preventVerticalPan||(E.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,40))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 97:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-40,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 100:N.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(40,0))),this.viewport.applyConstraints()),E.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(n.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(n.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(n.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(n.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),E.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),E.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:E.preventDefault=!1;break}else E.preventDefault=!1}function Y(E){var N,$=document.activeElement===this.canvas;$||this.canvas.focus(),this.viewport.flipped&&(E.position.x=this.viewport.getContainerSize().x-E.position.x);var ae={tracker:E.eventSource,position:E.position,quick:E.quick,shift:E.shift,originalEvent:E.originalEvent,originalTarget:E.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",ae),!ae.preventDefaultAction&&this.viewport&&E.quick&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.clickToZoom&&(this.viewport.zoomBy(E.shift?1/this.zoomPerClick:this.zoomPerClick,N.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints()))}function ce(E){var N,$={tracker:E.eventSource,position:E.position,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",$),!$.preventDefaultAction&&this.viewport&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.dblClickToZoom&&(this.viewport.zoomBy(E.shift?1/this.zoomPerClick:this.zoomPerClick,N.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints()))}function pe(E){var N,$={tracker:E.eventSource,pointerType:E.pointerType,position:E.position,delta:E.delta,speed:E.speed,direction:E.direction,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",$),N=this.gestureSettingsByDeviceType(E.pointerType),N.dragToPan&&!$.preventDefaultAction&&this.viewport){if(this.panHorizontal||(E.delta.x=0),this.panVertical||(E.delta.y=0),this.viewport.flipped&&(E.delta.x=-E.delta.x),this.constrainDuringPan){var ae=this.viewport.deltaPointsFromPixels(E.delta.negate());this.viewport.centerSpringX.target.value+=ae.x,this.viewport.centerSpringY.target.value+=ae.y;var se=this.viewport.getBounds(),ie=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ae.x,this.viewport.centerSpringY.target.value-=ae.y,se.x!==ie.x&&(E.delta.x=0),se.y!==ie.y&&(E.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(E.delta.negate()),N.flickEnabled&&!this.constrainDuringPan)}}function me(E){var N={tracker:E.eventSource,pointerType:E.pointerType,position:E.position,speed:E.speed,direction:E.direction,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",N),!N.preventDefaultAction&&this.viewport){var $=this.gestureSettingsByDeviceType(E.pointerType);if($.flickEnabled&&E.speed>=$.flickMinSpeed){var ae=0;this.panHorizontal&&(ae=$.flickMomentum*E.speed*Math.cos(E.direction));var se=0;this.panVertical&&(se=$.flickMomentum*E.speed*Math.sin(E.direction));var ie=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),fe=this.viewport.pointFromPixel(new n.Point(ie.x-ae,ie.y-se));this.viewport.panTo(fe,!1)}this.viewport.applyConstraints()}}function ve(E){this.raiseEvent("canvas-enter",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function le(E){this.raiseEvent("canvas-exit",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function xe(E){this.raiseEvent("canvas-press",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,insideElementPressed:E.insideElementPressed,insideElementReleased:E.insideElementReleased,originalEvent:E.originalEvent})}function ze(E){this.raiseEvent("canvas-release",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,insideElementPressed:E.insideElementPressed,insideElementReleased:E.insideElementReleased,originalEvent:E.originalEvent})}function J(E){this.raiseEvent("canvas-nonprimary-press",{tracker:E.eventSource,position:E.position,pointerType:E.pointerType,button:E.button,buttons:E.buttons,originalEvent:E.originalEvent})}function ue(E){this.raiseEvent("canvas-nonprimary-release",{tracker:E.eventSource,position:E.position,pointerType:E.pointerType,button:E.button,buttons:E.buttons,originalEvent:E.originalEvent})}function be(E){var N,$,ae,se,ie={tracker:E.eventSource,pointerType:E.pointerType,gesturePoints:E.gesturePoints,lastCenter:E.lastCenter,center:E.center,lastDistance:E.lastDistance,distance:E.distance,shift:E.shift,originalEvent:E.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ie),this.viewport&&(N=this.gestureSettingsByDeviceType(E.pointerType),N.pinchToZoom&&(!ie.preventDefaultPanAction||!ie.preventDefaultZoomAction)&&($=this.viewport.pointFromPixel(E.center,!0),N.zoomToRefPoint&&!ie.preventDefaultPanAction&&(ae=this.viewport.pointFromPixel(E.lastCenter,!0),se=ae.minus($),this.panHorizontal||(se.x=0),this.panVertical||(se.y=0),this.viewport.panBy(se,!0)),ie.preventDefaultZoomAction||this.viewport.zoomBy(E.distance/E.lastDistance,$,!0),this.viewport.applyConstraints()),N.pinchRotate&&!ie.preventDefaultRotateAction)){var fe=Math.atan2(E.gesturePoints[0].currentPos.y-E.gesturePoints[1].currentPos.y,E.gesturePoints[0].currentPos.x-E.gesturePoints[1].currentPos.x),de=Math.atan2(E.gesturePoints[0].lastPos.y-E.gesturePoints[1].lastPos.y,E.gesturePoints[0].lastPos.x-E.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(fe-de)*(180/Math.PI))}}function Se(E){var N,$,ae,se,ie;se=n.now(),ie=se-this._lastScrollTime,ie>this.minScrollDeltaTime?(this._lastScrollTime=se,N={tracker:E.eventSource,position:E.position,scroll:E.scroll,shift:E.shift,originalEvent:E.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",N),!N.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(E.position.x=this.viewport.getContainerSize().x-E.position.x),$=this.gestureSettingsByDeviceType(E.pointerType),$.scrollToZoom&&(ae=Math.pow(this.zoomPerScroll,E.scroll),this.viewport.zoomBy(ae,$.zoomToRefPoint?this.viewport.pointFromPixel(E.position,!0):null),this.viewport.applyConstraints())),E.preventDefault=N.preventDefault):E.preventDefault=!0}function ut(E){a[this.hash].mouseInside=!0,B(this),this.raiseEvent("container-enter",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function at(E){E.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||_(this)),this.raiseEvent("container-exit",{tracker:E.eventSource,pointerType:E.pointerType,position:E.position,buttons:E.buttons,pointers:E.pointers,insideElementPressed:E.insideElementPressed,buttonDownAny:E.buttonDownAny,originalEvent:E.originalEvent})}function _e(E){Ce(E),E.isOpen()?E._updateRequestId=m(E,_e):E._updateRequestId=!1}function Ce(E){if(!(E._opening||!a[E.hash])){if(E.autoResize){var N=h(E.container),$=a[E.hash].prevContainerSize;if(!N.equals($)){var ae=E.viewport;if(E.preserveImageSizeOnResize){var se=$.x/N.x,ie=ae.getZoom()*se,fe=ae.getCenter();ae.resize(N,!1),ae.zoomTo(ie,null,!0),ae.panTo(fe,!0)}else{var de=ae.getBounds();ae.resize(N,!0),ae.fitBoundsWithConstraints(de,!0)}a[E.hash].prevContainerSize=N,a[E.hash].forceRedraw=!0}}var ke=E.viewport.update(),Me=E.world.update()||ke;ke&&E.raiseEvent("viewport-change"),E.referenceStrip&&(Me=E.referenceStrip.update(E.viewport)||Me);var Pe=a[E.hash].animating;!Pe&&Me&&(E.raiseEvent("animation-start"),B(E));var Ye=Pe&&!Me;Ye&&(a[E.hash].animating=!1),(Me||Ye||a[E.hash].forceRedraw||E.world.needsDraw())&&(nt(E),E._drawOverlays(),E.navigator&&E.navigator.update(E.viewport),a[E.hash].forceRedraw=!1,Me&&E.raiseEvent("animation")),Ye&&(E.raiseEvent("animation-finish"),a[E.hash].mouseInside||_(E)),a[E.hash].animating=Me}}function nt(E){E.imageLoader.clear(),E.drawer.clear(),E.world.draw(),E.raiseEvent("update-viewport",{})}function Ne(E,N){return E?E+N:N}function wt(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,cn(this)}function kt(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,cn(this)}function Xt(){a[this.hash].zooming=!1}function cn(E){n.requestAnimationFrame(n.delegate(E,en))}function en(){var E,N,$;a[this.hash].zooming&&this.viewport&&(E=n.now(),N=E-a[this.hash].lastZoomTime,$=Math.pow(a[this.hash].zoomFactor,N/1e3),this.viewport.zoomBy($),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=E,cn(this))}function Rt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function fn(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function on(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Et(){this.viewport&&this.viewport.goHome()}function Xe(){this.isFullPage()&&!n.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function ot(){if(this.viewport){var E=this.viewport.getRotation();this.viewport.flipped?E=n.positiveModulo(E+this.rotationIncrement,360):E=n.positiveModulo(E-this.rotationIncrement,360),this.viewport.setRotation(E)}}function X(){if(this.viewport){var E=this.viewport.getRotation();this.viewport.flipped?E=n.positiveModulo(E-this.rotationIncrement,360):E=n.positiveModulo(E+this.rotationIncrement,360),this.viewport.setRotation(E)}}function ne(){this.viewport.toggleFlip()}}(o),function(n){n.Navigator=function(m){var x=m.viewer,_=this,T,B;m.id?(this.element=document.getElementById(m.id),m.controlOptions={anchor:n.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(m.id="navigator-"+n.now(),this.element=n.makeNeutralElement("div"),m.controlOptions={anchor:n.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:m.autoFade},m.position&&(m.position==="BOTTOM_RIGHT"?m.controlOptions.anchor=n.ControlAnchor.BOTTOM_RIGHT:m.position==="BOTTOM_LEFT"?m.controlOptions.anchor=n.ControlAnchor.BOTTOM_LEFT:m.position==="TOP_RIGHT"?m.controlOptions.anchor=n.ControlAnchor.TOP_RIGHT:m.position==="TOP_LEFT"?m.controlOptions.anchor=n.ControlAnchor.TOP_LEFT:m.position==="ABSOLUTE"&&(m.controlOptions.anchor=n.ControlAnchor.ABSOLUTE,m.controlOptions.top=m.top,m.controlOptions.left=m.left,m.controlOptions.height=m.height,m.controlOptions.width=m.width))),this.element.id=m.id,this.element.className+=" navigator",m=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.navigatorSizeRatio},m,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:m.autoResize,minZoomImageRatio:1,background:m.background,opacity:m.opacity,borderColor:m.borderColor,displayRegionColor:m.displayRegionColor}),m.minPixelRatio=this.minPixelRatio=x.minPixelRatio,n.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new n.Point(1,1),this.totalBorderWidths=new n.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),m.controlOptions.anchor!==n.ControlAnchor.NONE&&function(V,F){V.margin="0px",V.border=F+"px solid "+m.borderColor,V.padding="0px",V.background=m.background,V.opacity=m.opacity,V.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=n.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(V,F){V.position="relative",V.top="0px",V.left="0px",V.fontSize="0px",V.overflow="hidden",V.border=F+"px solid "+m.displayRegionColor,V.margin="0px",V.padding="0px",V.background="transparent",V.float="left",V.cssFloat="left",V.styleFloat="left",V.zIndex=999999999,V.cursor="default"}(this.displayRegion.style,this.borderWidth),n.setElementPointerEventsNone(this.displayRegion),n.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=n.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",n.setElementPointerEventsNone(this.displayRegionContainer),n.setElementTouchActionNone(this.displayRegionContainer),x.addControl(this.element,m.controlOptions),this._resizeWithViewer=m.controlOptions.anchor!==n.ControlAnchor.ABSOLUTE&&m.controlOptions.anchor!==n.ControlAnchor.NONE,m.width&&m.height?(this.setWidth(m.width),this.setHeight(m.height)):this._resizeWithViewer&&(T=n.getElementSize(x.element),this.element.style.height=Math.round(T.y*m.sizeRatio)+"px",this.element.style.width=Math.round(T.x*m.sizeRatio)+"px",this.oldViewerSize=T,B=n.getElementSize(this.element),this.elementArea=B.x*B.y),this.oldContainerSize=new n.Point(0,0),n.Viewer.apply(this,[m]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function M(V){d(_.displayRegionContainer,V),d(_.displayRegion,-V),_.viewport.setRotation(V)}if(m.navigatorRotate){var j=m.viewer.viewport?m.viewer.viewport.getRotation():m.viewer.degrees||0;M(j),m.viewer.addHandler("rotate",function(V){M(V.degrees)})}this.innerTracker.destroy(),this.innerTracker=new n.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:n.delegate(this,u),clickHandler:n.delegate(this,a),releaseHandler:n.delegate(this,h),scrollHandler:n.delegate(this,f),preProcessEventHandler:function(V){V.eventType==="wheel"&&(V.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",n.setElementPointerEventsNone(this.canvas),n.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){_.viewport&&_.viewport.goHome(!0)}),x.world.addHandler("item-index-change",function(V){window.setTimeout(function(){var F=_.world.getItemAt(V.previousIndex);_.world.setItemIndex(F,V.newIndex)},1)}),x.world.addHandler("remove-item",function(V){var F=V.item,L=_._getMatchingItem(F);L&&_.world.removeItem(L)}),this.update(x.viewport)},n.extend(n.Navigator.prototype,n.EventSource.prototype,n.Viewer.prototype,{updateSize:function(){if(this.viewport){var m=new n.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);m.equals(this.oldContainerSize)||(this.viewport.resize(m,!0),this.viewport.goHome(!0),this.oldContainerSize=m,this.drawer.clear(),this.world.draw())}},setWidth:function(m){this.width=m,this.element.style.width=typeof m=="number"?m+"px":m,this._resizeWithViewer=!1},setHeight:function(m){this.height=m,this.element.style.height=typeof m=="number"?m+"px":m,this._resizeWithViewer=!1},setFlip:function(m){return this.viewport.setFlip(m),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(m){g(this.displayRegion,m),g(this.canvas,m),g(this.element,m)},update:function(m){var x,_,T,B,M,j;if(x=n.getElementSize(this.viewer.element),this._resizeWithViewer&&x.x&&x.y&&!x.equals(this.oldViewerSize)&&(this.oldViewerSize=x,this.maintainSizeRatio||!this.elementArea?(_=x.x*this.sizeRatio,T=x.y*this.sizeRatio):(_=Math.sqrt(this.elementArea*(x.x/x.y)),T=this.elementArea/_),this.element.style.width=Math.round(_)+"px",this.element.style.height=Math.round(T)+"px",this.elementArea||(this.elementArea=_*T),this.updateSize()),m&&this.viewport){B=m.getBoundsNoRotate(!0),M=this.viewport.pixelFromPointNoRotate(B.getTopLeft(),!1),j=this.viewport.pixelFromPointNoRotate(B.getBottomRight(),!1).minus(this.totalBorderWidths);var V=this.displayRegion.style;V.display=this.world.getItemCount()?"block":"none",V.top=Math.round(M.y)+"px",V.left=Math.round(M.x)+"px";var F=Math.abs(M.x-j.x),L=Math.abs(M.y-j.y);V.width=Math.round(Math.max(F,0))+"px",V.height=Math.round(Math.max(L,0))+"px"}},addTiledImage:function(m){var x=this,_=m.originalTiledImage;delete m.original;var T=n.extend({},m,{success:function(B){var M=B.item;M._originalForNavigator=_,x._matchBounds(M,_,!0),x._matchOpacity(M,_),x._matchCompositeOperation(M,_);function j(){x._matchBounds(M,_)}function V(){x._matchOpacity(M,_)}function F(){x._matchCompositeOperation(M,_)}_.addHandler("bounds-change",j),_.addHandler("clip-change",j),_.addHandler("opacity-change",V),_.addHandler("composite-operation-change",F)}});return n.Viewer.prototype.addTiledImage.apply(this,[T])},destroy:function(){return n.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(m){for(var x=this.world.getItemCount(),_,T=0;T<x;T++)if(_=this.world.getItemAt(T),_._originalForNavigator===m)return _;return null},_matchBounds:function(m,x,_){var T=x.getBoundsNoRotate();m.setPosition(T.getTopLeft(),_),m.setWidth(T.width,_),m.setRotation(x.getRotation(),_),m.setClip(x.getClip()),m.setFlip(x.getFlip())},_matchOpacity:function(m,x){m.setOpacity(x.opacity)},_matchCompositeOperation:function(m,x){m.setCompositeOperation(x.compositeOperation)}});function a(m){var x={tracker:m.eventSource,position:m.position,quick:m.quick,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",x),!x.preventDefaultAction&&m.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(m.position.x=this.viewport.getContainerSize().x-m.position.x);var _=this.viewport.pointFromPixel(m.position);this.panVertical?this.panHorizontal||(_.x=this.viewer.viewport.getCenter(!0).x):_.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(_),this.viewer.viewport.applyConstraints()}}function u(m){var x={tracker:m.eventSource,position:m.position,delta:m.delta,speed:m.speed,direction:m.direction,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",x),!x.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(m.delta.x=0),this.panVertical||(m.delta.y=0),this.viewer.viewport.flipped&&(m.delta.x=-m.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(m.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function h(m){m.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function f(m){var x={tracker:m.eventSource,position:m.position,scroll:m.scroll,shift:m.shift,originalEvent:m.originalEvent,preventDefault:m.preventDefault};this.viewer.raiseEvent("navigator-scroll",x),m.preventDefault=x.preventDefault}function d(m,x){g(m,"rotate("+x+"deg)")}function g(m,x){m.style.webkitTransform=x,m.style.mozTransform=x,m.style.msTransform=x,m.style.oTransform=x,m.style.transform=x}}(o),function(n){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};n.extend(n,{getString:function(u){var h=u.split("."),f=null,d=arguments,g=a,m;for(m=0;m<h.length-1;m++)g=g[h[m]]||{};return f=g[h[m]],typeof f!="string"&&(n.console.error("Untranslated source string:",u),f=""),f.replace(/\{\d+\}/g,function(x){var _=parseInt(x.match(/\d+/),10)+1;return _<d.length?d[_]:""})},setString:function(u,h){var f=u.split("."),d=a,g;for(g=0;g<f.length-1;g++)d[f[g]]||(d[f[g]]={}),d=d[f[g]];d[f[g]]=h}})}(o),function(n){n.Point=function(a,u){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0},n.Point.prototype={clone:function(){return new n.Point(this.x,this.y)},plus:function(a){return new n.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new n.Point(this.x-a.x,this.y-a.y)},times:function(a){return new n.Point(this.x*a,this.y*a)},divide:function(a){return new n.Point(this.x/a,this.y/a)},negate:function(){return new n.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new n.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof n.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,u){u=u||new n.Point(0,0);var h,f;if(a%90===0){var d=n.positiveModulo(a,360);switch(d){case 0:h=1,f=0;break;case 90:h=0,f=1;break;case 180:h=-1,f=0;break;case 270:h=0,f=-1;break}}else{var g=a*Math.PI/180;h=Math.cos(g),f=Math.sin(g)}var m=h*(this.x-u.x)-f*(this.y-u.y)+u.x,x=f*(this.x-u.x)+h*(this.y-u.y)+u.y;return new n.Point(m,x)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(o),function(n){n.TileSource=function(u,h,f,d,g,m){var x=this,_=arguments,T,B;if(n.isPlainObject(u)?T=u:T={width:_[0],height:_[1],tileSize:_[2],tileOverlap:_[3],minLevel:_[4],maxLevel:_[5]},n.EventSource.call(this),n.extend(!0,this,T),!this.success){for(B=0;B<arguments.length;B++)if(n.isFunction(arguments[B])){this.success=arguments[B];break}}this.success&&this.addHandler("ready",function(M){x.success(M)}),n.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new n.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=T.width&&T.height?T.width/T.height:1,this.dimensions=new n.Point(T.width,T.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=T.tileOverlap?T.tileOverlap:0,this.minLevel=T.minLevel?T.minLevel:0,this.maxLevel=T.maxLevel!==void 0&&T.maxLevel!==null?T.maxLevel:T.width&&T.height?Math.ceil(Math.log(Math.max(T.width,T.height))/Math.log(2)):0,this.success&&n.isFunction(this.success)&&this.success(this))},n.TileSource.prototype={getTileSize:function(u){return n.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(u){return this._tileWidth?this._tileWidth:this.getTileSize(u)},getTileHeight:function(u){return this._tileHeight?this._tileHeight:this.getTileSize(u)},setMaxLevel:function(u){this.maxLevel=u,this._memoizeLevelScale()},getLevelScale:function(u){return this._memoizeLevelScale(),this.getLevelScale(u)},_memoizeLevelScale:function(){var u={},h;for(h=0;h<=this.maxLevel;h++)u[h]=1/Math.pow(2,this.maxLevel-h);this.getLevelScale=function(f){return u[f]}},getNumTiles:function(u){var h=this.getLevelScale(u),f=Math.ceil(h*this.dimensions.x/this.getTileWidth(u)),d=Math.ceil(h*this.dimensions.y/this.getTileHeight(u));return new n.Point(f,d)},getPixelRatio:function(u){var h=this.dimensions.times(this.getLevelScale(u)),f=1/h.x*n.pixelDensityRatio,d=1/h.y*n.pixelDensityRatio;return new n.Point(f,d)},getClosestLevel:function(){var u,h;for(u=this.minLevel+1;u<=this.maxLevel&&(h=this.getNumTiles(u),!(h.x>1||h.y>1));u++);return u-1},getTileAtPoint:function(u,h){var f=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;n.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(u),g=h.x*d,m=h.y*d,x=Math.floor(g/this.getTileWidth(u)),_=Math.floor(m/this.getTileHeight(u));h.x>=1&&(x=this.getNumTiles(u).x-1);var T=1e-15;return h.y>=1/this.aspectRatio-T&&(_=this.getNumTiles(u).y-1),new n.Point(x,_)},getTileBounds:function(u,h,f,d){var g=this.dimensions.times(this.getLevelScale(u)),m=this.getTileWidth(u),x=this.getTileHeight(u),_=h===0?0:m*h-this.tileOverlap,T=f===0?0:x*f-this.tileOverlap,B=m+(h===0?1:2)*this.tileOverlap,M=x+(f===0?1:2)*this.tileOverlap,j=1/g.x;return B=Math.min(B,g.x-_),M=Math.min(M,g.y-T),d?new n.Rect(0,0,B,M):new n.Rect(_*j,T*j,B*j,M*j)},getImageInfo:function(u){var h=this,f,d,g,m,x,_,T;u&&(x=u.split("/"),_=x[x.length-1],T=_.lastIndexOf("."),T>-1&&(x[x.length-1]=_.slice(0,T)));var B=null;if(this.splitHashDataForPost){var M=u.indexOf("#");M!==-1&&(B=u.substring(M+1),u=u.substr(0,M))}d=function(j){typeof j=="string"&&(j=n.parseXml(j));var V=n.TileSource.determineType(h,j,u);if(!V){h.raiseEvent("open-failed",{message:"Unable to load TileSource",source:u});return}m=V.prototype.configure.apply(h,[j,u,B]),m.ajaxWithCredentials===void 0&&(m.ajaxWithCredentials=h.ajaxWithCredentials),g=new V(m),h.ready=!0,h.raiseEvent("ready",{tileSource:g})},u.match(/\.js$/)?(f=u.split("/").pop().replace(".js",""),n.jsonp({url:u,async:!1,callbackName:f,callback:d})):n.makeAjaxRequest({url:u,postData:B,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(j){var V=a(j);d(V)},error:function(j,V){var F;try{F="HTTP "+j.status+" attempting to load TileSource: "+u}catch{var L;typeof V>"u"||!V.toString?L="Unknown error":L=V.toString(),F=L+" attempting to load TileSource: "+u}n.console.error(F),h.raiseEvent("open-failed",{message:F,source:u,postData:B})}})},supports:function(u,h){return!1},configure:function(u,h,f){throw new Error("Method not implemented.")},getTileUrl:function(u,h,f){throw new Error("Method not implemented.")},getTilePostData:function(u,h,f){return null},getTileAjaxHeaders:function(u,h,f){return{}},getTileHashKey:function(u,h,f,d,g,m){return g?d+"+"+JSON.stringify(g):d},tileExists:function(u,h,f){var d=this.getNumTiles(u);return u>=this.minLevel&&u<=this.maxLevel&&h>=0&&f>=0&&h<d.x&&f<d.y}},n.extend(!0,n.TileSource.prototype,n.EventSource.prototype);function a(u){var h=u.responseText,f=u.status,d,g;if(u){if(u.status!==200&&u.status!==0)throw f=u.status,d=f===404?"Not Found":u.statusText,new Error(n.getString("Errors.Status",f,d))}else throw new Error(n.getString("Errors.Security"));if(h.match(/\s*<.*/))try{g=u.responseXML&&u.responseXML.documentElement?u.responseXML:n.parseXml(h)}catch{g=u.responseText}else if(h.match(/\s*[{[].*/))try{g=n.parseJSON(h)}catch{g=h}else g=h;return g}n.TileSource.determineType=function(u,h,f){var d;for(d in o)if(d.match(/.+TileSource$/)&&n.isFunction(o[d])&&n.isFunction(o[d].prototype.supports)&&o[d].prototype.supports.call(u,h,f))return o[d];return n.console.error("No TileSource was able to open %s %s",f,h),null}}(o),function(n){n.DziTileSource=function(h,f,d,g,m,x,_,T,B){var M,j,V,F;if(n.isPlainObject(h)?F=h:F={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=F.tilesUrl,this.fileFormat=F.fileFormat,this.displayRects=F.displayRects,this.displayRects)for(M=this.displayRects.length-1;M>=0;M--)for(j=this.displayRects[M],V=j.minLevel;V<=j.maxLevel;V++)this._levelRects[V]||(this._levelRects[V]=[]),this._levelRects[V].push(j);n.TileSource.apply(this,[F])},n.extend(n.DziTileSource.prototype,n.TileSource.prototype,{supports:function(h,f){var d;return h.Image?d=h.Image.xmlns:h.documentElement&&(h.documentElement.localName==="Image"||h.documentElement.tagName==="Image")&&(d=h.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(h,f,d){var g;return n.isPlainObject(h)?g=u(this,h):g=a(this,h),f&&!g.tilesUrl&&(g.tilesUrl=f.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),f.search(/\.(dzi|xml|js)\?/)!==-1?g.queryParams=f.match(/\?.*/):g.queryParams=""),g},getTileUrl:function(h,f,d){return[this.tilesUrl,h,"/",f,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(h,f,d){var g=this._levelRects[h],m,x,_,T,B,M,j;if(this.minLevel&&h<this.minLevel||this.maxLevel&&h>this.maxLevel)return!1;if(!g||!g.length)return!0;for(j=g.length-1;j>=0;j--)if(m=g[j],!(h<m.minLevel||h>m.maxLevel)&&(x=this.getLevelScale(h),_=m.x*x,T=m.y*x,B=_+m.width*x,M=T+m.height*x,_=Math.floor(_/this._tileWidth),T=Math.floor(T/this._tileWidth),B=Math.ceil(B/this._tileWidth),M=Math.ceil(M/this._tileWidth),_<=f&&f<B&&T<=d&&d<M))return!0;return!1}});function a(h,f){if(!f||!f.documentElement)throw new Error(n.getString("Errors.Xml"));var d=f.documentElement,g=d.localName||d.tagName,m=f.documentElement.namespaceURI,x=null,_=[],T,B,M,j,V;if(g==="Image")try{if(j=d.getElementsByTagName("Size")[0],j===void 0&&(j=d.getElementsByTagNameNS(m,"Size")[0]),x={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(j.getAttribute("Height"),10),Width:parseInt(j.getAttribute("Width"),10)}}},!n.imageFormatSupported(x.Image.Format))throw new Error(n.getString("Errors.ImageFormat",x.Image.Format.toUpperCase()));for(T=d.getElementsByTagName("DisplayRect"),T===void 0&&(T=d.getElementsByTagNameNS(m,"DisplayRect")[0]),V=0;V<T.length;V++)B=T[V],M=B.getElementsByTagName("Rect")[0],M===void 0&&(M=B.getElementsByTagNameNS(m,"Rect")[0]),_.push({Rect:{X:parseInt(M.getAttribute("X"),10),Y:parseInt(M.getAttribute("Y"),10),Width:parseInt(M.getAttribute("Width"),10),Height:parseInt(M.getAttribute("Height"),10),MinLevel:parseInt(B.getAttribute("MinLevel"),10),MaxLevel:parseInt(B.getAttribute("MaxLevel"),10)}});return _.length&&(x.Image.DisplayRect=_),u(h,x)}catch(Y){throw Y instanceof Error?Y:new Error(n.getString("Errors.Dzi"))}else{if(g==="Collection")throw new Error(n.getString("Errors.Dzc"));if(g==="Error"){var F=d.getElementsByTagName("Message")[0],L=F.firstChild.nodeValue;throw new Error(L)}}throw new Error(n.getString("Errors.Dzi"))}function u(h,f){var d=f.Image,g=d.Url,m=d.Format,x=d.Size,_=d.DisplayRect||[],T=parseInt(x.Width,10),B=parseInt(x.Height,10),M=parseInt(d.TileSize,10),j=parseInt(d.Overlap,10),V=[],F,L;for(L=0;L<_.length;L++)F=_[L].Rect,V.push(new n.DisplayRect(parseInt(F.X,10),parseInt(F.Y,10),parseInt(F.Width,10),parseInt(F.Height,10),parseInt(F.MinLevel,10),parseInt(F.MaxLevel,10)));return n.extend(!0,{width:T,height:B,tileSize:M,tileOverlap:j,minLevel:null,maxLevel:null,tilesUrl:g,fileFormat:m,displayRects:V},f)}}(o),function(n){n.IIIFTileSource=function(d){if(n.extend(!0,this,d),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var g=0;g<this.tiles.length;g++)for(var m=0;m<this.tiles[g].scaleFactors.length;m++){var x=this.tiles[g].scaleFactors[m];this.scale_factors.push(x),d.tileSizePerScaleFactor[x]={width:this.tiles[g].width,height:this.tiles[g].height||this.tiles[g].width}}}else if(a(d)){for(var _=Math.min(this.height,this.width),T=[256,512,1024],B=[],M=0;M<T.length;M++)T[M]<=_&&B.push(T[M]);B.length>0?d.tileSize=Math.max.apply(null,B):d.tileSize=_}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=u(this),n.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):n.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var j=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(j)*Math.LOG2E)}n.TileSource.apply(this,[d])},n.extend(n.IIIFTileSource.prototype,n.TileSource.prototype,{supports:function(d,g){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,g,m){if(n.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=g.replace("/info.json",""),d.version=1;else{var _=d["@context"];if(Array.isArray(_)){for(var T=0;T<_.length;T++)if(typeof _[T]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(_[T])||_[T]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){_=_[T];break}}switch(_){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:n.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!d["@id"]&&d.id&&(d["@id"]=d.id),d.preferredFormats){for(var B=0;B<d.preferredFormats.length;B++)if(o.imageFormatSupported(d.preferredFormats[B])){d.tileFormat=d.preferredFormats[B];break}}return d}else{var x=h(d);return x["@context"]="http://iiif.io/api/image/1.0/context.json",x["@id"]=g.replace("/info.xml",""),x.version=1,x}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileWidth.call(this,d);var g=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileHeight.call(this,d);var g=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var g=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].width/this.levels[this.maxLevel].width),g}return n.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var g=this.getLevelScale(d);return g?new n.Point(1,1):new n.Point(0,0)}return n.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,g){return this.emulateLegacyImagePyramid?new n.Point(0,0):n.TileSource.prototype.getTileAtPoint.call(this,d,g)},getTileUrl:function(d,g,m){if(this.emulateLegacyImagePyramid){var x=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(x=this.levels[d].url),x}var _="0",T=Math.pow(.5,this.maxLevel-d),B=Math.ceil(this.width*T),M=Math.ceil(this.height*T),j,V,F,L,Y,ce,pe,me,ve,le,xe,ze,J,ue;return j=this.getTileWidth(d),V=this.getTileHeight(d),F=Math.ceil(j/T),L=Math.ceil(V/T),this.version===1?J="native."+this.tileFormat:J="default."+this.tileFormat,B<j&&M<V?(this.version===2&&B===this.width?le="full":this.version===3&&B===this.width&&M===this.height?le="max":this.version===3?le=B+","+M:le=B+",",Y="full"):(ce=g*F,pe=m*L,me=Math.min(F,this.width-ce),ve=Math.min(L,this.height-pe),g===0&&m===0&&me===this.width&&ve===this.height?Y="full":Y=[ce,pe,me,ve].join(","),xe=Math.ceil(me*T),ze=Math.ceil(ve*T),this.version===2&&xe===this.width?le="full":this.version===3&&xe===this.width&&ze===this.height?le="max":this.version===3?le=xe+","+ze:le=xe+","),ue=[this["@id"],Y,le,_,J].join("/"),ue},__testonly__:{canBeTiled:a,constructLevels:u}});function a(d){var g=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],m=Array.isArray(d.profile)?d.profile[0]:d.profile,x=g.indexOf(m)!==-1,_=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(_=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(_=d.extraFeatures.indexOf("sizeByWh")!==-1),!x||_}function u(d){for(var g=[],m=0;m<d.sizes.length;m++)g.push({url:d["@id"]+"/full/"+d.sizes[m].width+","+(d.version===3?d.sizes[m].height:"")+"/0/default."+d.tileFormat,width:d.sizes[m].width,height:d.sizes[m].height});return g.sort(function(x,_){return x.width-_.width})}function h(d){if(!d||!d.documentElement)throw new Error(n.getString("Errors.Xml"));var g=d.documentElement,m=g.tagName,x=null;if(m==="info")try{return x={},f(g,x),x}catch(_){throw _ instanceof Error?_:new Error(n.getString("Errors.IIIF"))}throw new Error(n.getString("Errors.IIIF"))}function f(d,g,m){var x,_;if(d.nodeType===3&&m)_=d.nodeValue.trim(),_.match(/^\d*$/)&&(_=Number(_)),g[m]?(n.isArray(g[m])||(g[m]=[g[m]]),g[m].push(_)):g[m]=_;else if(d.nodeType===1)for(x=0;x<d.childNodes.length;x++)f(d.childNodes[x],g,d.nodeName)}}(o),function(n){n.OsmTileSource=function(a,u,h,f,d){var g;n.isPlainObject(a)?g=a:g={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!g.width||!g.height)&&(g.width=65572864,g.height=65572864),g.tileSize||(g.tileSize=256,g.tileOverlap=0),g.tilesUrl||(g.tilesUrl="http://tile.openstreetmap.org/"),g.minLevel=8,n.TileSource.apply(this,[g])},n.extend(n.OsmTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="openstreetmaps"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){return this.tilesUrl+(a-8)+"/"+u+"/"+h+".png"}})}(o),function(n){n.TmsTileSource=function(a,u,h,f,d){var g;n.isPlainObject(a)?g=a:g={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var m=Math.ceil(g.width/256)*256,x=Math.ceil(g.height/256)*256,_;m>x?_=m/256:_=x/256,g.maxLevel=Math.ceil(Math.log(_)/Math.log(2))-1,g.tileSize=256,g.width=m,g.height=x,n.TileSource.apply(this,[g])},n.extend(n.TmsTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="tiledmapservice"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){var f=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+u+"/"+(f-h)+".png"}})}(o),function(n){n.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var u={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(u.x,10)>a.tileSize||parseInt(u.y,10)>a.tileSize;)u.x=Math.floor(u.x/2),u.y=Math.floor(u.y/2),a.imageSizes.push({x:u.x,y:u.y}),a.gridSize.push(this._getGridSize(u.x,u.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,o.TileSource.apply(this,[a])},n.extend(n.ZoomifyTileSource.prototype,n.TileSource.prototype,{_getGridSize:function(a,u,h){return{x:Math.ceil(a/h),y:Math.ceil(u/h)}},_calculateAbsoluteTileNumber:function(a,u,h){for(var f=0,d={},g=0;g<a;g++)d=this.gridSize[g],f+=d.x*d.y;return d=this.gridSize[a],f+=d.x*h+u,f},supports:function(a,u){return a.type&&a.type==="zoomifytileservice"},configure:function(a,u,h){return a},getTileUrl:function(a,u,h){var f=0,d=this._calculateAbsoluteTileNumber(a,u,h);return f=Math.floor(d/256),this.tilesUrl+"TileGroup"+f+"/"+a+"-"+u+"-"+h+"."+this.fileFormat}})}(o),function(n){n.LegacyTileSource=function(f){var d,g,m;n.isArray(f)&&(d={type:"legacy-image-pyramid",levels:f}),d.levels=a(d.levels),d.levels.length>0?(g=d.levels[d.levels.length-1].width,m=d.levels[d.levels.length-1].height):(g=0,m=0,n.console.error("No supported image formats found")),n.extend(!0,d,{width:g,height:m,tileSize:Math.max(m,g),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),n.TileSource.apply(this,[d]),this.levels=d.levels},n.extend(n.LegacyTileSource.prototype,n.TileSource.prototype,{supports:function(f,d){return f.type&&f.type==="legacy-image-pyramid"||f.documentElement&&f.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(f,d,g){var m;return n.isPlainObject(f)?m=h(this,f):m=u(this,f),m},getLevelScale:function(f){var d=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(d=this.levels[f].width/this.levels[this.maxLevel].width),d},getNumTiles:function(f){var d=this.getLevelScale(f);return d?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(f,d,g){var m=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].url),m}});function a(f){var d=[],g,m;for(m=0;m<f.length;m++)g=f[m],g.height&&g.width&&g.url?d.push({url:g.url,width:Number(g.width),height:Number(g.height)}):n.console.error("Unsupported image format: %s",g.url?g.url:"<no URL>");return d.sort(function(x,_){return x.height-_.height})}function u(f,d){if(!d||!d.documentElement)throw new Error(n.getString("Errors.Xml"));var g=d.documentElement,m=g.tagName,x=null,_=[],T,B;if(m==="image")try{for(x={type:g.getAttribute("type"),levels:[]},_=g.getElementsByTagName("level"),B=0;B<_.length;B++)T=_[B],x.levels.push({url:T.getAttribute("url"),width:parseInt(T.getAttribute("width"),10),height:parseInt(T.getAttribute("height"),10)});return h(f,x)}catch(M){throw M instanceof Error?M:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(m==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(m==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+m)}function h(f,d){return d.levels}}(o),function(n){n.ImageTileSource=function(a){a=n.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},a),n.TileSource.apply(this,[a])},n.extend(n.ImageTileSource.prototype,n.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="image"},configure:function(a,u,h){return a},getImageInfo:function(a){var u=this._image=new Image,h=this;this.crossOriginPolicy&&(u.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(u.useCredentials=this.ajaxWithCredentials),n.addEvent(u,"load",function(){h.width=u.naturalWidth,h.height=u.naturalHeight,h.aspectRatio=h.width/h.height,h.dimensions=new n.Point(h.width,h.height),h._tileWidth=h.width,h._tileHeight=h.height,h.tileOverlap=0,h.minLevel=0,h.levels=h._buildLevels(),h.maxLevel=h.levels.length-1,h.ready=!0,h.raiseEvent("ready",{tileSource:h})}),n.addEvent(u,"error",function(){h.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),u.src=a},getLevelScale:function(a){var u=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].width/this.levels[this.maxLevel].width),u},getNumTiles:function(a){var u=this.getLevelScale(a);return u?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(a,u,h){var f=null;return a>=this.minLevel&&a<=this.maxLevel&&(f=this.levels[a].url),f},getContext2D:function(a,u,h){var f=null;return a>=this.minLevel&&a<=this.maxLevel&&(f=this.levels[a].context2D),f},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!n.supportsCanvas||!this.useCanvas)return delete this._image,a;var u=this._image.naturalWidth,h=this._image.naturalHeight,f=document.createElement("canvas"),d=f.getContext("2d");if(f.width=u,f.height=h,d.drawImage(this._image,0,0,u,h),a[0].context2D=d,delete this._image,n.isCanvasTainted(f))return a;for(;u>=2&&h>=2;){u=Math.floor(u/2),h=Math.floor(h/2);var g=document.createElement("canvas"),m=g.getContext("2d");g.width=u,g.height=h,m.drawImage(f,0,0,u,h),a.splice(0,0,{context2D:m,width:u,height:h}),f=g,d=m}return a},_freeupCanvasMemory:function(){for(var a=0;a<this.levels.length;a++)this.levels[a].context2D&&(this.levels[a].context2D.canvas.height=0,this.levels[a].context2D.canvas.width=0)}})}(o),function(n){n.TileSourceCollection=function(a,u,h,f){n.console.error("TileSourceCollection is deprecated; use World instead")}}(o),function(n){n.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},n.Button=function(m){var x=this;n.EventSource.call(this),n.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},m),this.element=m.element||n.makeNeutralElement("div"),m.element||(this.imgRest=n.makeTransparentImage(this.srcRest),this.imgGroup=n.makeTransparentImage(this.srcGroup),this.imgHover=n.makeTransparentImage(this.srcHover),this.imgDown=n.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,n.setElementPointerEventsNone(this.imgRest),n.setElementPointerEventsNone(this.imgGroup),n.setElementPointerEventsNone(this.imgHover),n.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",n.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",n.Browser.vendor===n.BROWSERS.FIREFOX&&n.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=n.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new n.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(_){_.insideElementPressed?(d(x,n.ButtonState.DOWN),x.raiseEvent("enter",{originalEvent:_.originalEvent})):_.buttonDownAny||d(x,n.ButtonState.HOVER)},focusHandler:function(_){x.tracker.enterHandler(_),x.raiseEvent("focus",{originalEvent:_.originalEvent})},leaveHandler:function(_){g(x,n.ButtonState.GROUP),_.insideElementPressed&&x.raiseEvent("exit",{originalEvent:_.originalEvent})},blurHandler:function(_){x.tracker.leaveHandler(_),x.raiseEvent("blur",{originalEvent:_.originalEvent})},pressHandler:function(_){d(x,n.ButtonState.DOWN),x.raiseEvent("press",{originalEvent:_.originalEvent})},releaseHandler:function(_){_.insideElementPressed&&_.insideElementReleased?(g(x,n.ButtonState.HOVER),x.raiseEvent("release",{originalEvent:_.originalEvent})):_.insideElementPressed?g(x,n.ButtonState.GROUP):d(x,n.ButtonState.HOVER)},clickHandler:function(_){_.quick&&x.raiseEvent("click",{originalEvent:_.originalEvent})},keyHandler:function(_){_.keyCode===13?(x.raiseEvent("click",{originalEvent:_.originalEvent}),x.raiseEvent("release",{originalEvent:_.originalEvent}),_.preventDefault=!0):_.preventDefault=!1}}),g(this,n.ButtonState.REST)},n.extend(n.Button.prototype,n.EventSource.prototype,{notifyGroupEnter:function(){d(this,n.ButtonState.GROUP)},notifyGroupExit:function(){g(this,n.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,n.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,n.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(m){n.requestAnimationFrame(function(){u(m)})}function u(m){var x,_,T;m.shouldFade&&(x=n.now(),_=x-m.fadeBeginTime,T=1-_/m.fadeLength,T=Math.min(1,T),T=Math.max(0,T),m.imgGroup&&n.setElementOpacity(m.imgGroup,T,!0),T>0&&a(m))}function h(m){m.shouldFade=!0,m.fadeBeginTime=n.now()+m.fadeDelay,window.setTimeout(function(){a(m)},m.fadeDelay)}function f(m){m.shouldFade=!1,m.imgGroup&&n.setElementOpacity(m.imgGroup,1,!0)}function d(m,x){m.element.disabled||(x>=n.ButtonState.GROUP&&m.currentState===n.ButtonState.REST&&(f(m),m.currentState=n.ButtonState.GROUP),x>=n.ButtonState.HOVER&&m.currentState===n.ButtonState.GROUP&&(m.imgHover&&(m.imgHover.style.visibility=""),m.currentState=n.ButtonState.HOVER),x>=n.ButtonState.DOWN&&m.currentState===n.ButtonState.HOVER&&(m.imgDown&&(m.imgDown.style.visibility=""),m.currentState=n.ButtonState.DOWN))}function g(m,x){m.element.disabled||(x<=n.ButtonState.HOVER&&m.currentState===n.ButtonState.DOWN&&(m.imgDown&&(m.imgDown.style.visibility="hidden"),m.currentState=n.ButtonState.HOVER),x<=n.ButtonState.GROUP&&m.currentState===n.ButtonState.HOVER&&(m.imgHover&&(m.imgHover.style.visibility="hidden"),m.currentState=n.ButtonState.GROUP),x<=n.ButtonState.REST&&m.currentState===n.ButtonState.GROUP&&(h(m),m.currentState=n.ButtonState.REST))}}(o),function(n){n.ButtonGroup=function(a){n.extend(!0,this,{buttons:[],clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var u=this.buttons.concat([]),h=this,f;if(this.element=a.element||n.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",f=0;f<u.length;f++)this.element.appendChild(u[f].element);n.setElementTouchActionNone(this.element),this.tracker=new n.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var g;for(g=0;g<h.buttons.length;g++)h.buttons[g].notifyGroupEnter()},leaveHandler:function(d){var g;if(!d.insideElementPressed)for(g=0;g<h.buttons.length;g++)h.buttons[g].notifyGroupExit()}})},n.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(o),function(n){n.Rect=function(a,u,h,f,d){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0,this.width=typeof h=="number"?h:0,this.height=typeof f=="number"?f:0,this.degrees=typeof d=="number"?d:0,this.degrees=n.positiveModulo(this.degrees,360);var g,m;this.degrees>=270?(g=this.getTopRight(),this.x=g.x,this.y=g.y,m=this.height,this.height=this.width,this.width=m,this.degrees-=270):this.degrees>=180?(g=this.getBottomRight(),this.x=g.x,this.y=g.y,this.degrees-=180):this.degrees>=90&&(g=this.getBottomLeft(),this.x=g.x,this.y=g.y,m=this.height,this.height=this.width,this.width=m,this.degrees-=90)},n.Rect.fromSummits=function(a,u,h){var f=a.distanceTo(u),d=a.distanceTo(h),g=u.minus(a),m=Math.atan(g.y/g.x);return g.x<0?m+=Math.PI:g.y<0&&(m+=2*Math.PI),new n.Rect(a.x,a.y,f,d,m/Math.PI*180)},n.Rect.prototype={clone:function(){return new n.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new n.Point(this.x,this.y)},getBottomRight:function(){return new n.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new n.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new n.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new n.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new n.Point(this.width,this.height)},equals:function(a){return a instanceof n.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new n.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new n.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var u=this.getBoundingBox(),h=a.getBoundingBox(),f=Math.min(u.x,h.x),d=Math.min(u.y,h.y),g=Math.max(u.x+u.width,h.x+h.width),m=Math.max(u.y+u.height,h.y+h.height);return new n.Rect(f,d,g-f,m-d)},intersection:function(a){var u=1e-10,h=[],f=this.getTopLeft();a.containsPoint(f,u)&&h.push(f);var d=this.getTopRight();a.containsPoint(d,u)&&h.push(d);var g=this.getBottomLeft();a.containsPoint(g,u)&&h.push(g);var m=this.getBottomRight();a.containsPoint(m,u)&&h.push(m);var x=a.getTopLeft();this.containsPoint(x,u)&&h.push(x);var _=a.getTopRight();this.containsPoint(_,u)&&h.push(_);var T=a.getBottomLeft();this.containsPoint(T,u)&&h.push(T);var B=a.getBottomRight();this.containsPoint(B,u)&&h.push(B);for(var M=this._getSegments(),j=a._getSegments(),V=0;V<M.length;V++)for(var F=M[V],L=0;L<j.length;L++){var Y=j[L],ce=pe(F[0],F[1],Y[0],Y[1]);ce&&h.push(ce)}function pe(ue,be,Se,ut){var at=be.minus(ue),_e=ut.minus(Se),Ce=-_e.x*at.y+at.x*_e.y;if(Ce===0)return null;var nt=(at.x*(ue.y-Se.y)-at.y*(ue.x-Se.x))/Ce,Ne=(_e.x*(ue.y-Se.y)-_e.y*(ue.x-Se.x))/Ce;return-u<=nt&&nt<=1-u&&-u<=Ne&&Ne<=1-u?new n.Point(ue.x+Ne*at.x,ue.y+Ne*at.y):null}if(h.length===0)return null;for(var me=h[0].x,ve=h[0].x,le=h[0].y,xe=h[0].y,ze=1;ze<h.length;ze++){var J=h[ze];J.x<me&&(me=J.x),J.x>ve&&(ve=J.x),J.y<le&&(le=J.y),J.y>xe&&(xe=J.y)}return new n.Rect(me,le,ve-me,xe-le)},_getSegments:function(){var a=this.getTopLeft(),u=this.getTopRight(),h=this.getBottomLeft(),f=this.getBottomRight();return[[a,u],[u,f],[f,h],[h,a]]},rotate:function(a,u){if(a=n.positiveModulo(a,360),a===0)return this.clone();u=u||this.getCenter();var h=this.getTopLeft().rotate(a,u),f=this.getTopRight().rotate(a,u),d=f.minus(h);d=d.apply(function(m){var x=1e-15;return Math.abs(m)<x?0:m});var g=Math.atan(d.y/d.x);return d.x<0?g+=Math.PI:d.y<0&&(g+=2*Math.PI),new n.Rect(h.x,h.y,this.width,this.height,g/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),u=this.getTopRight(),h=this.getBottomLeft(),f=this.getBottomRight(),d=Math.min(a.x,u.x,h.x,f.x),g=Math.max(a.x,u.x,h.x,f.x),m=Math.min(a.y,u.y,h.y,f.y),x=Math.max(a.y,u.y,h.y,f.y);return new n.Rect(d,m,g-d,x-m)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),u=Math.floor(a.x),h=Math.floor(a.y),f=Math.ceil(a.width+a.x-u),d=Math.ceil(a.height+a.y-h);return new n.Rect(u,h,f,d)},containsPoint:function(a,u){u=u||0;var h=this.getTopLeft(),f=this.getTopRight(),d=this.getBottomLeft(),g=f.minus(h),m=d.minus(h);return(a.x-h.x)*g.x+(a.y-h.y)*g.y>=-u&&(a.x-f.x)*g.x+(a.y-f.y)*g.y<=u&&(a.x-h.x)*m.x+(a.y-h.y)*m.y>=-u&&(a.x-d.x)*m.x+(a.y-d.y)*m.y<=u},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(o),function(n){var a={};n.ReferenceStrip=function(T){var B=this,M=T.viewer,j=n.getElementSize(M.element),V,F,L;for(T.id||(T.id="referencestrip-"+n.now(),this.element=n.makeNeutralElement("div"),this.element.id=T.id,this.element.className="referencestrip"),T=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.referenceStripSizeRatio,position:n.DEFAULT_SETTINGS.referenceStripPosition,scroll:n.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold},T,{element:this.element}),n.extend(this,T),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,F=this.element.style,F.marginTop="0px",F.marginRight="0px",F.marginBottom="0px",F.marginLeft="0px",F.left="0px",F.bottom="0px",F.border="0px",F.background="#000",F.position="relative",n.setElementTouchActionNone(this.element),n.setElementOpacity(this.element,.8),this.viewer=M,this.tracker=new n.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:n.delegate(this,u),dragHandler:n.delegate(this,h),scrollHandler:n.delegate(this,f),enterHandler:n.delegate(this,g),leaveHandler:n.delegate(this,m),keyDownHandler:n.delegate(this,x),keyHandler:n.delegate(this,_),preProcessEventHandler:function(Y){Y.eventType==="wheel"&&(Y.preventDefault=!0)}}),T.width&&T.height?(this.element.style.width=T.width+"px",this.element.style.height=T.height+"px",M.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):T.scroll==="horizontal"?(this.element.style.width=j.x*T.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.height=j.y*T.sizeRatio+"px",M.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=j.y*T.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.width=j.x*T.sizeRatio+"px",M.addControl(this.element,{anchor:n.ControlAnchor.TOP_LEFT})),this.panelWidth=j.x*this.sizeRatio+8,this.panelHeight=j.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},L=0;L<M.tileSources.length;L++)V=n.makeNeutralElement("div"),V.id=this.element.id+"-"+L,V.style.width=B.panelWidth+"px",V.style.height=B.panelHeight+"px",V.style.display="inline",V.style.float="left",V.style.cssFloat="left",V.style.styleFloat="left",V.style.padding="2px",n.setElementTouchActionNone(V),n.setElementPointerEventsNone(V),this.element.appendChild(V),V.activePanel=!1,this.panels.push(V);d(this,this.scroll==="vertical"?j.y:j.x,0),this.setFocus(0)},n.ReferenceStrip.prototype={setFocus:function(T){var B=this.element.querySelector("#"+this.element.id+"-"+T),M=n.getElementSize(this.viewer.canvas),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=-Number(this.element.style.marginLeft.replace("px","")),L=-Number(this.element.style.marginTop.replace("px","")),Y;this.currentSelected!==B&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=B,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Y=Number(T)*(this.panelWidth+3),Y>F+M.x-this.panelWidth?(Y=Math.min(Y,j-M.x),this.element.style.marginLeft=-Y+"px",d(this,M.x,-Y)):Y<F&&(Y=Math.max(0,Y-M.x/2),this.element.style.marginLeft=-Y+"px",d(this,M.x,-Y))):(Y=Number(T)*(this.panelHeight+3),Y>L+M.y-this.panelHeight?(Y=Math.min(Y,V-M.y),this.element.style.marginTop=-Y+"px",d(this,M.y,-Y)):Y<L&&(Y=Math.max(0,Y-M.y/2),this.element.style.marginTop=-Y+"px",d(this,M.y,-Y))),this.currentPage=T,g.call(this,{eventSource:this.tracker}))},update:function(){return!!a[this.id].animating},destroy:function(){if(this.miniViewers)for(var T in this.miniViewers)this.miniViewers[T].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function u(T){if(T.quick){var B;this.scroll==="horizontal"?B=Math.floor(T.position.x/this.panelWidth):B=Math.floor(T.position.y/this.panelHeight),this.viewer.goToPage(B)}this.element.focus()}function h(T){if(this.dragging=!0,this.element){var B=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-T.delta.x>0?B>-(j-F.x)&&(this.element.style.marginLeft=B+T.delta.x*2+"px",d(this,F.x,B+T.delta.x*2)):-T.delta.x<0&&B<0&&(this.element.style.marginLeft=B+T.delta.x*2+"px",d(this,F.x,B+T.delta.x*2)):-T.delta.y>0?M>-(V-F.y)&&(this.element.style.marginTop=M+T.delta.y*2+"px",d(this,F.y,M+T.delta.y*2)):-T.delta.y<0&&M<0&&(this.element.style.marginTop=M+T.delta.y*2+"px",d(this,F.y,M+T.delta.y*2))}}function f(T){if(this.element){var B=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),j=Number(this.element.style.width.replace("px","")),V=Number(this.element.style.height.replace("px","")),F=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?T.scroll>0?B>-(j-F.x)&&(this.element.style.marginLeft=B-T.scroll*60+"px",d(this,F.x,B-T.scroll*60)):T.scroll<0&&B<0&&(this.element.style.marginLeft=B-T.scroll*60+"px",d(this,F.x,B-T.scroll*60)):T.scroll<0?M>F.y-V&&(this.element.style.marginTop=M+T.scroll*60+"px",d(this,F.y,M+T.scroll*60)):T.scroll>0&&M<0&&(this.element.style.marginTop=M+T.scroll*60+"px",d(this,F.y,M+T.scroll*60)),T.preventDefault=!0}}function d(T,B,M){var j,V,F,L,Y,ce;for(T.scroll==="horizontal"?j=T.panelWidth:j=T.panelHeight,V=Math.ceil(B/j)+5,F=Math.ceil((Math.abs(M)+B)/j)+1,V=F-V,V=V<0?0:V,Y=V;Y<F&&Y<T.panels.length;Y++)if(ce=T.panels[Y],!ce.activePanel){var pe,me=T.viewer.tileSources[Y];me.referenceStripThumbnailUrl?pe={type:"image",url:me.referenceStripThumbnailUrl}:pe=me,L=new n.Viewer({id:ce.id,tileSources:[pe],element:ce,navigatorSizeRatio:T.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:T.viewer.loadTilesWithAjax,ajaxHeaders:T.viewer.ajaxHeaders,useCanvas:T.useCanvas}),n.setElementPointerEventsNone(L.canvas),n.setElementPointerEventsNone(L.container),L.innerTracker.setTracking(!1),L.outerTracker.setTracking(!1),T.miniViewers[ce.id]=L,ce.activePanel=!0}}function g(T){var B=T.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="0px":B.style.marginLeft="0px"}function m(T){var B=T.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="-"+n.getElementSize(B).y/2+"px":B.style.marginLeft="-"+n.getElementSize(B).x/2+"px"}function x(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 38:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 40:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 37:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 39:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}function _(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 61:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 45:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 48:case 119:case 87:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 115:case 83:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 97:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 100:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}}(o),function(n){n.DisplayRect=function(a,u,h,f,d,g){n.Rect.apply(this,[a,u,h,f]),this.minLevel=d,this.maxLevel=g},n.extend(n.DisplayRect.prototype,n.Rect.prototype)}(o),function(n){n.Spring=function(u){var h=arguments;typeof u!="object"&&(u={initial:h.length&&typeof h[0]=="number"?h[0]:void 0,springStiffness:h.length>1?h[1].springStiffness:5,animationTime:h.length>1?h[1].animationTime:1.5}),n.console.assert(typeof u.springStiffness=="number"&&u.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),n.console.assert(typeof u.animationTime=="number"&&u.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),u.exponential&&(this._exponential=!0,delete u.exponential),n.extend(!0,this,u),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:n.now()},n.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},n.Spring.prototype={resetTo:function(u){n.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=u,this.start.time=this.target.time=this.current.time=n.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(u){n.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=u,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(u){this.start.value+=u,this.target.value+=u,this._exponential&&(n.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(u){this._exponential=u,this._exponential&&(n.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=n.now();var u,h;this._exponential?(u=this.start._logValue,h=this.target._logValue):(u=this.start.value,h=this.target.value);var f=this.current.time>=this.target.time?h:u+(h-u)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),d=this.current.value;return this._exponential?this.current.value=Math.exp(f):this.current.value=f,d!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(u,h){return(1-Math.exp(u*-h))/(1-Math.exp(-u))}}(o),function(n){function a(h){n.extend(!0,this,{timeout:n.DEFAULT_SETTINGS.timeout,jobId:null},h),this.image=null}a.prototype={errorMsg:null,start:function(){var h=this,f=this.abort;this.image=new Image,this.image.onload=function(){h.finish(!0)},this.image.onabort=this.image.onerror=function(){h.errorMsg="Image load aborted",h.finish(!1)},this.jobId=window.setTimeout(function(){h.errorMsg="Image load exceeded timeout ("+h.timeout+" ms)",h.finish(!1)},this.timeout),this.loadWithAjax?(this.request=n.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",postData:this.postData,success:function(d){var g;try{g=new window.Blob([d.response])}catch(T){var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(T.name==="TypeError"&&m){var x=new m;x.append(d.response),g=x.getBlob()}}g.size===0&&(h.errorMsg="Empty image response.",h.finish(!1));var _=(window.URL||window.webkitURL).createObjectURL(g);h.image.src=_},error:function(d){h.errorMsg="Image load aborted - XHR error: Ajax returned "+d.status,h.finish(!1)}}),this.abort=function(){h.request.abort(),typeof f=="function"&&f()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(h){this.image.onload=this.image.onerror=this.image.onabort=null,h||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},n.ImageLoader=function(h){n.extend(!0,this,{jobLimit:n.DEFAULT_SETTINGS.imageLoaderLimit,timeout:n.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},h)},n.ImageLoader.prototype={addJob:function(h){var f=this,d=function(x){u(f,x,h.callback)},g={src:h.src,loadWithAjax:h.loadWithAjax,ajaxHeaders:h.loadWithAjax?h.ajaxHeaders:null,crossOriginPolicy:h.crossOriginPolicy,ajaxWithCredentials:h.ajaxWithCredentials,postData:h.postData,callback:d,abort:h.abort,timeout:this.timeout},m=new a(g);!this.jobLimit||this.jobsInProgress<this.jobLimit?(m.start(),this.jobsInProgress++):this.jobQueue.push(m)},clear:function(){for(var h=0;h<this.jobQueue.length;h++){var f=this.jobQueue[h];typeof f.abort=="function"&&f.abort()}this.jobQueue=[]}};function u(h,f,d){var g;h.jobsInProgress--,(!h.jobLimit||h.jobsInProgress<h.jobLimit)&&h.jobQueue.length>0&&(g=h.jobQueue.shift(),g.start(),h.jobsInProgress++),d(f.image,f.errorMsg,f.request)}}(o),function(n){n.Tile=function(a,u,h,f,d,g,m,x,_,T,B,M){this.level=a,this.x=u,this.y=h,this.bounds=f,this.sourceBounds=T,this.exists=d,this.url=g,this.postData=B,this.context2D=m,this.loadWithAjax=x,this.ajaxHeaders=_,M===void 0&&(n.console.error("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),M=n.TileSource.prototype.getTileHashKey(a,u,h,g,_,B)),this.cacheKey=M,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},n.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(a){if(!this.cacheImageRecord){n.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=n.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==a&&a.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),n.setElementOpacity(this.element,this.opacity)},drawCanvas:function(a,u,h,f,d){var g=this.position.times(n.pixelDensityRatio),m=this.size.times(n.pixelDensityRatio),x;if(!this.context2D&&!this.cacheImageRecord){n.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(x=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!x){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}a.save(),a.globalAlpha=this.opacity,typeof h=="number"&&h!==1&&(g=g.times(h),m=m.times(h)),f instanceof n.Point&&(g=g.plus(f)),a.globalAlpha===1&&this._hasTransparencyChannel()&&(d&&(g.x=Math.round(g.x),g.y=Math.round(g.y),m.x=Math.round(m.x),m.y=Math.round(m.y)),a.clearRect(g.x,g.y,m.x,m.y)),u({context:a,tile:this,rendered:x});var _,T;this.sourceBounds?(_=Math.min(this.sourceBounds.width,x.canvas.width),T=Math.min(this.sourceBounds.height,x.canvas.height)):(_=x.canvas.width,T=x.canvas.height),a.translate(g.x+m.x/2,0),this.flipped&&a.scale(-1,1),a.drawImage(x.canvas,0,0,_,T,-m.x/2,g.y,m.x,m.y),a.restore()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return n.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*n.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,u,h){var f=Math.max(1,Math.ceil((h.x-u.x)/2)),d=Math.max(1,Math.ceil((h.y-u.y)/2));return new n.Point(f,d).minus(this.position.times(n.pixelDensityRatio).times(a||1).apply(function(g){return g%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(o),function(n){n.OverlayPlacement=n.Placement,n.OverlayRotationMode=n.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),n.Overlay=function(a,u,h){var f;n.isPlainObject(a)?f=a:f={element:a,location:u,placement:h},this.element=f.element,this.style=f.element.style,this._init(f)},n.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?n.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||n.OverlayRotationMode.EXACT,this.location instanceof n.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=n.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new n.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,u){var h=n.Placement.properties[this.placement];!h||(h.isHorizontallyCentered?a.x-=u.x/2:h.isRight&&(a.x-=u.x),h.isVerticallyCentered?a.y-=u.y/2:h.isBottom&&(a.y-=u.y))},destroy:function(){var a=this.element,u=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(u.display="none",document.body.appendChild(a))),this.onDraw=null,u.top="",u.left="",u.position="",this.width!==null&&(u.width=""),this.height!==null&&(u.height="");var h=n.getCssPropertyWithVendorPrefix("transformOrigin"),f=n.getCssPropertyWithVendorPrefix("transform");h&&f&&(u[h]="",u[f]="")},drawHTML:function(a,u){var h=this.element;h.parentNode!==a&&(h.prevElementParent=h.parentNode,h.prevNextSibling=h.nextSibling,a.appendChild(h),this.style.position="absolute",this.size=n.getElementSize(h));var f=this._getOverlayPositionAndSize(u),d=f.position,g=this.size=f.size,m=f.rotate;if(this.onDraw)this.onDraw(d,g,this.element);else{var x=this.style;x.left=d.x+"px",x.top=d.y+"px",this.width!==null&&(x.width=g.x+"px"),this.height!==null&&(x.height=g.y+"px");var _=n.getCssPropertyWithVendorPrefix("transformOrigin"),T=n.getCssPropertyWithVendorPrefix("transform");_&&T&&(m?(x[_]=this._getTransformOrigin(),x[T]="rotate("+m+"deg)"):(x[_]="",x[T]="")),x.display="block"}},_getOverlayPositionAndSize:function(a){var u=a.pixelFromPoint(this.location,!0),h=this._getSizeInPixels(a);this.adjust(u,h);var f=0;if(a.degrees&&this.rotationMode!==n.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new n.Rect(u.x,u.y,h.x,h.y),g=this._getBoundingBox(d,a.degrees);u=g.getTopLeft(),h=g.getSize()}else f=a.degrees;return{position:u,size:h,rotate:f}},_getSizeInPixels:function(a){var u=this.size.x,h=this.size.y;if(this.width!==null||this.height!==null){var f=a.deltaPixelsFromPointsNoRotate(new n.Point(this.width||0,this.height||0),!0);this.width!==null&&(u=f.x),this.height!==null&&(h=f.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=n.getElementSize(this.element);this.width===null&&(u=d.x),this.height===null&&(h=d.y)}return new n.Point(u,h)},_getBoundingBox:function(a,u){var h=this._getPlacementPoint(a);return a.rotate(u,h).getBoundingBox()},_getPlacementPoint:function(a){var u=new n.Point(a.x,a.y),h=n.Placement.properties[this.placement];return h&&(h.isHorizontallyCentered?u.x+=a.width/2:h.isRight&&(u.x+=a.width),h.isVerticallyCentered?u.y+=a.height/2:h.isBottom&&(u.y+=a.height)),u},_getTransformOrigin:function(){var a="",u=n.Placement.properties[this.placement];return u&&(u.isLeft?a="left":u.isRight&&(a="right"),u.isTop?a+=" top":u.isBottom&&(a+=" bottom")),a},update:function(a,u){var h=n.isPlainObject(a)?a:{location:a,placement:u};this._init({location:h.location||this.location,placement:h.placement!==void 0?h.placement:this.placement,onDraw:h.onDraw||this.onDraw,checkResize:h.checkResize||this.checkResize,width:h.width!==void 0?h.width:this.width,height:h.height!==void 0?h.height:this.height,rotationMode:h.rotationMode||this.rotationMode})},getBounds:function(a){n.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var u=this.width,h=this.height;if(u===null||h===null){var f=a.deltaPointsFromPixelsNoRotate(this.size,!0);u===null&&(u=f.x),h===null&&(h=f.y)}var d=this.location.clone();return this.adjust(d,new n.Point(u,h)),this._adjustBoundsForRotation(a,new n.Rect(d.x,d.y,u,h))},_adjustBoundsForRotation:function(a,u){if(!a||a.degrees===0||this.rotationMode===n.OverlayRotationMode.EXACT)return u;if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return u;var h=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new n.Rect(h.position.x,h.position.y,h.size.x,h.size.y))}return u.rotate(-a.degrees,this._getPlacementPoint(u))}}}(o),function(n){n.Drawer=function(a){n.console.assert(a.viewer,"[Drawer] options.viewer is required");var u=arguments;if(n.isPlainObject(a)||(a={source:u[0],viewport:u[1],element:u[2]}),n.console.assert(a.viewport,"[Drawer] options.viewport is required"),n.console.assert(a.element,"[Drawer] options.element is required"),a.source&&n.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||n.DEFAULT_SETTINGS.debugGridColor,a.opacity&&n.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=n.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=n.getElement(a.element),this.canvas=n.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var h=this._calculateCanvasSize();this.canvas.width=h.x,this.canvas.height=h.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",n.setElementOpacity(this.canvas,this.opacity,!0),n.setElementPointerEventsNone(this.canvas),n.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},n.Drawer.prototype={addOverlay:function(a,u,h,f){return n.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(a,u,h,f),this},updateOverlay:function(a,u,h){return n.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(a,u,h),this},removeOverlay:function(a){return n.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(a),this},clearOverlays:function(){return n.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(a){var u=this.viewport.pixelFromPointNoRotate(a,!0);return new n.Point(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio)},clipWithPolygons:function(a,u){if(!!this.useCanvas){var h=this._getContext(u);h.beginPath(),a.forEach(function(f){f.forEach(function(d,g){h[g===0?"moveTo":"lineTo"](d.x,d.y)})}),h.clip()}},setOpacity:function(a){n.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var u=this.viewer.world,h=0;h<u.getItemCount();h++)u.getItemAt(h).setOpacity(a);return this},getOpacity:function(){n.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var a=this.viewer.world,u=0,h=0;h<a.getItemCount();h++){var f=a.getItemAt(h).getOpacity();f>u&&(u=f)}return u},needsUpdate:function(){return n.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return n.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return n.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return n.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!==a.x||this.canvas.height!==a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var u=this._calculateSketchCanvasSize();this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,u){if(!!this.useCanvas){var h=this._getContext(a);if(u)h.clearRect(u.x,u.y,u.width,u.height);else{var f=h.canvas;h.clearRect(0,0,f.width,f.height)}}},viewportToDrawerRectangle:function(a){var u=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),h=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new n.Rect(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio,h.x*n.pixelDensityRatio,h.y*n.pixelDensityRatio)},drawTile:function(a,u,h,f,d,g){if(n.console.assert(a,"[Drawer.drawTile] tile is required"),n.console.assert(u,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var m=this._getContext(h);f=f||1,a.drawCanvas(m,u,f,d,g)}else a.drawHTML(this.canvas)},_getContext:function(a){var u=this.context;if(a){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var h=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=h.x,this.sketchCanvas.height=h.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var f=this;this.viewer.addHandler("rotate",function d(){if(f.viewport.getRotation()!==0){f.viewer.removeHandler("rotate",d);var g=f._calculateSketchCanvasSize();f.sketchCanvas.width=g.x,f.sketchCanvas.height=g.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}u=this.sketchContext}return u},saveContext:function(a){!this.useCanvas||this._getContext(a).save()},restoreContext:function(a){!this.useCanvas||this._getContext(a).restore()},setClip:function(a,u){if(!!this.useCanvas){var h=this._getContext(u);h.beginPath(),h.rect(a.x,a.y,a.width,a.height),h.clip()}},drawRectangle:function(a,u,h){if(!!this.useCanvas){var f=this._getContext(h);f.save(),f.fillStyle=u,f.fillRect(a.x,a.y,a.width,a.height),f.restore()}},blendSketch:function(a,u,h,f){var d=a;if(n.isPlainObject(d)||(d={opacity:a,scale:u,translate:h,compositeOperation:f}),!(!this.useCanvas||!this.sketchCanvas)){a=d.opacity,f=d.compositeOperation;var g=d.bounds;if(this.context.save(),this.context.globalAlpha=a,f&&(this.context.globalCompositeOperation=f),g)g.x<0&&(g.width+=g.x,g.x=0),g.x+g.width>this.canvas.width&&(g.width=this.canvas.width-g.x),g.y<0&&(g.height+=g.y,g.y=0),g.y+g.height>this.canvas.height&&(g.height=this.canvas.height-g.y),this.context.drawImage(this.sketchCanvas,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height);else{u=d.scale||1,h=d.translate;var m=h instanceof n.Point?h:new n.Point(0,0),x=0,_=0;if(h){var T=this.sketchCanvas.width-this.canvas.width,B=this.sketchCanvas.height-this.canvas.height;x=Math.round(T/2),_=Math.round(B/2)}this.context.drawImage(this.sketchCanvas,m.x-x*u,m.y-_*u,(this.canvas.width+2*x)*u,(this.canvas.height+2*_)*u,-x,-_,this.canvas.width+2*x,this.canvas.height+2*_)}this.context.restore()}},drawDebugInfo:function(a,u,h,f){if(!!this.useCanvas){var d=this.viewer.world.getIndexOfItem(f)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*n.pixelDensityRatio,g.font="small-caps bold "+13*n.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[d],g.fillStyle=this.debugGridColor[d],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),f.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:f.getRotation(!0),point:f.viewport.pixelFromPointNoRotate(f._getRotationPoint(!0),!0)}),f.viewport.degrees===0&&f.getRotation(!0)%360===0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip(),g.strokeRect(a.position.x*n.pixelDensityRatio,a.position.y*n.pixelDensityRatio,a.size.x*n.pixelDensityRatio,a.size.y*n.pixelDensityRatio);var m=(a.position.x+a.size.x/2)*n.pixelDensityRatio,x=(a.position.y+a.size.y/2)*n.pixelDensityRatio;g.translate(m,x),g.rotate(Math.PI/180*-this.viewport.degrees),g.translate(-m,-x),a.x===0&&a.y===0&&(g.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*n.pixelDensityRatio,(a.position.y-30)*n.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*n.pixelDensityRatio,(a.position.y-20)*n.pixelDensityRatio)),g.fillText("Level: "+a.level,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+20)*n.pixelDensityRatio),g.fillText("Column: "+a.x,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+30)*n.pixelDensityRatio),g.fillText("Row: "+a.y,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+40)*n.pixelDensityRatio),g.fillText("Order: "+h+" of "+u,(a.position.x+10)*n.pixelDensityRatio,(a.position.y+50)*n.pixelDensityRatio),g.fillText("Size: "+a.size.toString(),(a.position.x+10)*n.pixelDensityRatio,(a.position.y+60)*n.pixelDensityRatio),g.fillText("Position: "+a.position.toString(),(a.position.x+10)*n.pixelDensityRatio,(a.position.y+70)*n.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),f.getRotation(!0)%360!==0&&this._restoreRotationChanges(),f.viewport.degrees===0&&f.getRotation(!0)%360===0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip(),g.restore()}},debugRect:function(a){if(this.useCanvas){var u=this.context;u.save(),u.lineWidth=2*n.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(a.x*n.pixelDensityRatio,a.y*n.pixelDensityRatio,a.width*n.pixelDensityRatio,a.height*n.pixelDensityRatio),u.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(a){var u=this._getContext(a).canvas;return new n.Point(u.width,u.height)},getCanvasCenter:function(){return new n.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(a){var u=a.point?a.point.times(n.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(a.useSketch);h.save(),h.translate(u.x,u.y),this.viewer.viewport.flipped?(h.rotate(Math.PI/180*-a.degrees),h.scale(-1,1)):h.rotate(Math.PI/180*a.degrees),h.translate(-u.x,-u.y)},_flip:function(a){a=a||{};var u=a.point?a.point.times(n.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(a.useSketch);h.translate(u.x,0),h.scale(-1,1),h.translate(-u.x,0)},_restoreRotationChanges:function(a){var u=this._getContext(a);u.restore()},_calculateCanvasSize:function(){var a=n.pixelDensityRatio,u=this.viewport.getContainerSize();return{x:Math.round(u.x*a),y:Math.round(u.y*a)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return a;var u=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:u,y:u}}}}(o),function(n){n.Viewport=function(a){var u=arguments;u.length&&u[0]instanceof n.Point&&(a={containerSize:u[0],contentSize:u[1],config:u[2]}),a.config&&(n.extend(!0,a,a.config),delete a.config),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,n.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:n.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:n.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:n.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:n.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:n.DEFAULT_SETTINGS.maxZoomLevel,degrees:n.DEFAULT_SETTINGS.degrees,flipped:n.DEFAULT_SETTINGS.flipped,homeFillsViewer:n.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:n.DEFAULT_SETTINGS.silenceMultiImageWarnings},a),this._updateContainerInnerSize(),this.centerSpringX=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new n.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new n.Rect(0,0,1,1),1),this.goHome(!0),this.update()},n.Viewport.prototype={resetContentSize:function(a){return n.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),n.console.assert(a instanceof n.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),n.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),n.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new n.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,u){n.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,u)},_setContentBounds:function(a,u){n.console.assert(a,"[Viewport._setContentBounds] bounds is required"),n.console.assert(a instanceof n.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),n.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),n.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(u),this._contentBounds=a.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(u),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:u,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),u;return this.homeFillsViewer?u=a>=1?a:1:u=a>=1?1:a,u/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),u=1/this.getHomeZoom(),h=u/this.getAspectRatio();return new n.Rect(a.x-u/2,a.y-h/2,u,h)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),u=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return u},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new n.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return n.extend({},this._margins)},setMargins:function(a){n.console.assert(n.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(a){var u=this.getCenter(a),h=1/this.getZoom(a),f=h/this.getAspectRatio();return new n.Rect(u.x-h/2,u.y-f/2,h,f)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var u=this.getBoundsNoRotate(a),h=this._containerInnerSize.x*this.getZoom(a);return u.x-=this._margins.left/h,u.y-=this._margins.top/h,u.width+=(this._margins.left+this._margins.right)/h,u.height+=(this._margins.top+this._margins.bottom)/h,u},getCenter:function(a){var u=new n.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),f,d,g,m,x,_,T,B;return a?u:this.zoomPoint?(f=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),g=1/d,m=g/this.getAspectRatio(),x=new n.Rect(u.x-g/2,u.y-m/2,g,m),_=this._pixelFromPoint(this.zoomPoint,x),T=_.minus(f),B=T.divide(this._containerInnerSize.x*d),h.plus(B)):h},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var u=new n.Rect(a.x,a.y,a.width,a.height);if(!this.wrapHorizontal){var h=this.visibilityRatio*u.width,f=u.x+u.width,d=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,g=this._contentBoundsNoRotate.x-f+h,m=d-u.x-h;h>this._contentBoundsNoRotate.width?u.x+=(g+m)/2:m<0?u.x+=m:g>0&&(u.x+=g)}if(!this.wrapVertical){var x=this.visibilityRatio*u.height,_=u.y+u.height,T=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,B=this._contentBoundsNoRotate.y-_+x,M=T-u.y-x;x>this._contentBoundsNoRotate.height?u.y+=(B+M)/2:M<0?u.y+=M:B>0&&(u.y+=B)}return u},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var u=this.getZoom(),h=this._applyZoomConstraints(u);u!==h&&this.zoomTo(h,this.zoomPoint,a);var f=this.getBoundsNoRotate(),d=this._applyBoundaryConstraints(f);return this._raiseConstraintsEvent(a),(f.x!==d.x||f.y!==d.y||a)&&this.fitBounds(d.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,u){u=u||{};var h=u.immediately||!1,f=u.constraints||!1,d=this.getAspectRatio(),g=a.getCenter(),m=new n.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();m.getAspectRatio()>=d?m.height=m.width/d:m.width=m.height*d,m.x=g.x-m.width/2,m.y=g.y-m.height/2;var x=1/m.width;if(f){var _=m.getAspectRatio(),T=this._applyZoomConstraints(x);x!==T&&(x=T,m.width=1/x,m.x=g.x-m.width/2,m.height=m.width/_,m.y=g.y-m.height/2),m=this._applyBoundaryConstraints(m),g=m.getCenter(),this._raiseConstraintsEvent(h)}if(h)return this.panTo(g,!0),this.zoomTo(x,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var B=this.getBounds(),M=this.getZoom();if(M===0||Math.abs(x/M-1)<1e-8)return this.zoomTo(x,!0),this.panTo(g,h);m=m.rotate(-this.getRotation());var j=m.getTopLeft().times(x).minus(B.getTopLeft().times(M)).divide(x-M);return this.zoomTo(x,j,h)},fitBounds:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!1})},fitBoundsWithConstraints:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!0})},fitVertically:function(a){var u=new n.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(u,a)},fitHorizontally:function(a){var u=new n.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(u,a)},getConstrainedBounds:function(a){var u,h;return u=this.getBounds(a),h=this._applyBoundaryConstraints(u),h},panBy:function(a,u){var h=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(h.plus(a),u)},panTo:function(a,u){return u?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:u}),this},zoomBy:function(a,u,h){return this.zoomTo(this.zoomSpring.target.value*a,u,h)},zoomTo:function(a,u,h){var f=this;return this.zoomPoint=u instanceof n.Point&&!isNaN(u.x)&&!isNaN(u.y)?u:null,h?this._adjustCenterSpringsForZoomPoint(function(){f.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:u,immediately:h}),this},setRotation:function(a){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=n.positiveModulo(a,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a}),this)},getRotation:function(){return this.degrees},resize:function(a,u){var h=this.getBoundsNoRotate(),f=h,d;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),u&&(d=a.x/this.containerSize.x,f.width=h.width*d,f.height=f.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:u}),this.fitBounds(f,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new n.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var u=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,u},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var u=this.pixelFromPoint(this.zoomPoint,!0);a();var h=this.pixelFromPoint(this.zoomPoint,!0),f=h.minus(u),d=this.deltaPointsFromPixels(f,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,u){return a.times(this._containerInnerSize.x*this.getZoom(u))},deltaPixelsFromPoints:function(a,u){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),u)},deltaPointsFromPixelsNoRotate:function(a,u){return a.divide(this._containerInnerSize.x*this.getZoom(u))},deltaPointsFromPixels:function(a,u){return this.deltaPointsFromPixelsNoRotate(a,u).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,u){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(u))},pixelFromPoint:function(a,u){return this._pixelFromPoint(a,this.getBoundsNoRotate(u))},_pixelFromPointNoRotate:function(a,u){return a.minus(u.getTopLeft()).times(this._containerInnerSize.x/u.width).plus(new n.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,u){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),u)},pointFromPixelNoRotate:function(a,u){var h=this.getBoundsNoRotate(u);return a.minus(new n.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/h.width).plus(h.getTopLeft())},pointFromPixel:function(a,u){return this.pointFromPixelNoRotate(a,u).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(a,u){var h=this._contentBoundsNoRotate.width;return new n.Point(a*this._contentSizeNoRotate.x/h,u*this._contentSizeNoRotate.x/h)},viewportToImageCoordinates:function(a,u){if(a instanceof n.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageCoordinates(a,u,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,u-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,u){var h=this._contentBoundsNoRotate.width;return new n.Point(a/this._contentSizeNoRotate.x*h,u/this._contentSizeNoRotate.x*h)},imageToViewportCoordinates:function(a,u){if(a instanceof n.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportCoordinates(a,u,!0)}}var d=this._imageToViewportDelta(a,u);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(a,u,h,f){var d=a;if(d instanceof n.Rect||(d=new n.Rect(a,u,h,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(g===1){var m=this.viewer.world.getItemAt(0);return m.imageToViewportRectangle(a,u,h,f,!0)}}var x=this.imageToViewportCoordinates(d.x,d.y),_=this._imageToViewportDelta(d.width,d.height);return new n.Rect(x.x,x.y,_.x,_.y,d.degrees)},viewportToImageRectangle:function(a,u,h,f){var d=a;if(d instanceof n.Rect||(d=new n.Rect(a,u,h,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(g===1){var m=this.viewer.world.getItemAt(0);return m.viewportToImageRectangle(a,u,h,f,!0)}}var x=this.viewportToImageCoordinates(d.x,d.y),_=this._viewportToImageDelta(d.width,d.height);return new n.Rect(x.x,x.y,_.x,_.y,d.degrees)},viewerElementToImageCoordinates:function(a){var u=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(u)},imageToViewerElementCoordinates:function(a){var u=this.imageToViewportCoordinates(a);return this.pixelFromPoint(u,!0)},windowToImageCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var u=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(u)},imageToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var u=this.imageToViewerElementCoordinates(a);return u.plus(n.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return n.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return n.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var u=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(u)},viewportToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var u=this.viewportToViewerElementCoordinates(a);return u.plus(n.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(u===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageZoom(a)}}var f=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,g=this._contentBoundsNoRotate.width,m=d/f*g;return a*m},imageToViewportZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(u===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportZoom(a)}}var f=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,g=this._contentBoundsNoRotate.width,m=f/d/g;return a*m},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(o),function(n){n.TiledImage=function(d){var g=this;n.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),n.console.assert(d.drawer,"[TiledImage] options.drawer is required"),n.console.assert(d.viewer,"[TiledImage] options.viewer is required"),n.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),n.console.assert(d.source,"[TiledImage] options.source is required"),n.console.assert(!d.clip||d.clip instanceof n.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),n.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof n.Rect&&(this._clip=d.clip.clone()),delete d.clip;var m=d.x||0;delete d.x;var x=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var _=1;d.width?(_=d.width,delete d.width,d.height&&(n.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(_=d.height/this.normHeight,delete d.height);var T=d.fitBounds;delete d.fitBounds;var B=d.fitBoundsPlacement||o.Placement.CENTER;delete d.fitBoundsPlacement;var M=d.degrees||0;delete d.degrees,n.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,immediateRender:n.DEFAULT_SETTINGS.immediateRender,blendTime:n.DEFAULT_SETTINGS.blendTime,alwaysBlend:n.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:n.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:n.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:n.DEFAULT_SETTINGS.iOSDevice,debugMode:n.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:n.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:n.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:n.DEFAULT_SETTINGS.placeholderFillStyle,opacity:n.DEFAULT_SETTINGS.opacity,preload:n.DEFAULT_SETTINGS.preload,compositeOperation:n.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:n.DEFAULT_SETTINGS.subPixelRoundingForTransparency},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new n.Spring({initial:m,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new n.Spring({initial:x,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new n.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new n.Spring({initial:M,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),T&&this.fitBounds(T,B,!0),this._drawingHandler=function(j){g.viewer.raiseEvent("tile-drawing",n.extend({tiledImage:g},j))}},n.extend(n.TiledImage.prototype,n.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=n.now(),this._needsDraw=!0},update:function(){var d=this._xSpring.update(),g=this._ySpring.update(),m=this._scaleSpring.update(),x=this._degreesSpring.update();return d||g||m||x?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new n.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new n.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return n.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var g=this.getBoundsNoRotate(d);if(this._clip){var m=d?this._worldWidthCurrent:this._worldWidthTarget,x=m/this.source.dimensions.x,_=this._clip.times(x);g=new n.Rect(g.x+_.x,g.y+_.y,_.width,_.height)}return g.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,g,m){var x=this.source.getNumTiles(d),_=(x.x+g%x.x)%x.x,T=(x.y+m%x.y)%x.y,B=this.source.getTileBounds(d,_,T);return this.getFlip()&&(B.x=1-B.x-B.width),B.x+=(g-_)/x.x,B.y+=this._worldHeightCurrent/this._worldWidthCurrent*((m-T)/x.y),B},getContentSize:function(){return new n.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new n.Point(0,0)),g=this.imageToWindowCoordinates(this.getContentSize());return new n.Point(g.x-d.x,g.y-d.y)},_viewportToImageDelta:function(d,g,m){var x=m?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(d*(this.source.dimensions.x/x),g*(this.source.dimensions.y*this.contentAspectX/x))},viewportToImageCoordinates:function(d,g,m){var x;return d instanceof n.Point?(m=g,x=d):x=new n.Point(d,g),x=x.rotate(-this.getRotation(m),this._getRotationPoint(m)),m?this._viewportToImageDelta(x.x-this._xSpring.current.value,x.y-this._ySpring.current.value):this._viewportToImageDelta(x.x-this._xSpring.target.value,x.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,g,m){var x=m?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(d/this.source.dimensions.x*x,g/this.source.dimensions.y/this.contentAspectX*x)},imageToViewportCoordinates:function(d,g,m){d instanceof n.Point&&(m=g,g=d.y,d=d.x);var x=this._imageToViewportDelta(d,g);return m?(x.x+=this._xSpring.current.value,x.y+=this._ySpring.current.value):(x.x+=this._xSpring.target.value,x.y+=this._ySpring.target.value),x.rotate(this.getRotation(m),this._getRotationPoint(m))},imageToViewportRectangle:function(d,g,m,x,_){var T=d;T instanceof n.Rect?_=g:T=new n.Rect(d,g,m,x);var B=this.imageToViewportCoordinates(T.getTopLeft(),_),M=this._imageToViewportDelta(T.width,T.height,_);return new n.Rect(B.x,B.y,M.x,M.y,T.degrees+this.getRotation(_))},viewportToImageRectangle:function(d,g,m,x,_){var T=d;d instanceof n.Rect?_=g:T=new n.Rect(d,g,m,x);var B=this.viewportToImageCoordinates(T.getTopLeft(),_),M=this._viewportToImageDelta(T.width,T.height,_);return new n.Rect(B.x,B.y,M.x,M.y,T.degrees-this.getRotation(_))},viewerElementToImageCoordinates:function(d){var g=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(g)},imageToViewerElementCoordinates:function(d){var g=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(g,!0)},windowToImageCoordinates:function(d){var g=d.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(g)},imageToWindowCoordinates:function(d){var g=this.imageToViewerElementCoordinates(d);return g.plus(o.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var g=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new n.Rect((d.x-this._xSpring.current.value)/g,(d.y-this._ySpring.current.value)/g,d.width/g,d.height/g,d.degrees)},viewportToImageZoom:function(d){var g=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return g*d},imageToViewportZoom:function(d){var g=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return d/g},setPosition:function(d,g){var m=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(g){if(m&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0}else{if(m)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0}m||this._raiseBoundsChange()},setWidth:function(d,g){this._setScale(d,g)},setHeight:function(d,g){this._setScale(d/this.normHeight,g)},setCroppingPolygons:function(d){var g=function(x){return x instanceof n.Point||typeof x.x=="number"&&typeof x.y=="number"},m=function(x){return x.map(function(_){try{if(g(_))return{x:_.x,y:_.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!n.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(x){return m(x)})}catch(x){n.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),n.console.error(x),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(d,g,m){g=g||n.Placement.CENTER;var x=n.Placement.properties[g],_=this.contentAspectX,T=0,B=0,M=1,j=1;if(this._clip&&(_=this._clip.getAspectRatio(),M=this._clip.width/this.source.dimensions.x,j=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>_?(T=this._clip.x/this._clip.height*d.height,B=this._clip.y/this._clip.height*d.height):(T=this._clip.x/this._clip.width*d.width,B=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>_){var V=d.height/j,F=0;x.isHorizontallyCentered?F=(d.width-d.height*_)/2:x.isRight&&(F=d.width-d.height*_),this.setPosition(new n.Point(d.x-T+F,d.y-B),m),this.setHeight(V,m)}else{var L=d.width/M,Y=0;x.isVerticallyCentered?Y=(d.height-d.width/_)/2:x.isBottom&&(Y=d.height-d.width/_),this.setPosition(new n.Point(d.x-T,d.y-B+Y),m),this.setWidth(L,m)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){n.console.assert(!d||d instanceof n.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),d instanceof n.Rect?this._clip=d.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(d){this.flipped=!!d,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(d){d!==this.opacity&&(this.opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,g){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(g?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(d){d!==this.compositeOperation&&(this.compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(d,g){var m=this._scaleSpring.target.value===d;if(g){if(m&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0}else{if(m)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0}m||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),g=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,m=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(g/this.minPixelRatio)/Math.log(2))));return m=Math.max(m,this.source.minLevel||0),d=Math.min(d,m),{lowestLevel:d,highestLevel:m}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var d=this.lastDrawn.pop();d.beingDrawn=!1}var g=this.viewport,m=this._viewportToTiledImageRectangle(g.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var x=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(m=m.intersection(x),m===null)return}for(var _=this._getLevelsInterval(),T=_.lowestLevel,B=_.highestLevel,M=null,j=!1,V=n.now(),F=B;F>=T;F--){var L=!1,Y=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(F),!0).x*this._scaleSpring.current.value;if(F===T||!j&&Y>=this.minPixelRatio)L=!0,j=!0;else if(!j)continue;var ce=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(F),!1).x*this._scaleSpring.current.value,pe=g.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,me=this.immediateRender?1:pe,ve=Math.min(1,(Y-.5)/.5),le=me/Math.abs(me-ce);if(M=this._updateLevel(j,L,F,ve,le,m,V,M),this._providesCoverage(this.coverage,F))break}this._drawTiles(this.lastDrawn),M&&!M.context2D?(this._loadTile(M,V),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(d,g,m){var x,_;this.wrapHorizontal?(x=n.positiveModulo(g.x,1),_=n.positiveModulo(m.x,1)):(x=Math.max(0,g.x),_=Math.min(1,m.x));var T,B,M=1/this.source.aspectRatio;this.wrapVertical?(T=n.positiveModulo(g.y,M),B=n.positiveModulo(m.y,M)):(T=Math.max(0,g.y),B=Math.min(M,m.y));var j=this.source.getTileAtPoint(d,new n.Point(x,T)),V=this.source.getTileAtPoint(d,new n.Point(_,B)),F=this.source.getNumTiles(d);return this.wrapHorizontal&&(j.x+=F.x*Math.floor(g.x),V.x+=F.x*Math.floor(m.x)),this.wrapVertical&&(j.y+=F.y*Math.floor(g.y/M),V.y+=F.y*Math.floor(m.y/M)),{topLeft:j,bottomRight:V}},_updateLevel:function(d,g,m,x,_,T,B,M){var j=T.getBoundingBox().getTopLeft(),V=T.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:d,level:m,opacity:x,visibility:_,drawArea:T,topleft:j,bottomright:V,currenttime:B,best:M}),this._resetCoverage(this.coverage,m),this._resetCoverage(this.loadingCoverage,m);var F=this._getCornerTiles(m,j,V),L=F.topLeft,Y=F.bottomRight,ce=this.source.getNumTiles(m),pe=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(Y.x+=1,this.wrapHorizontal||(Y.x=Math.min(Y.x,ce.x-1)));for(var me=L.x;me<=Y.x;me++)for(var ve=L.y;ve<=Y.y;ve++){var le;if(this.getFlip()){var xe=(ce.x+me%ce.x)%ce.x;le=me+ce.x-xe-xe-1}else le=me;T.intersection(this.getTileBounds(m,le,ve))!==null&&(M=this._updateTile(g,d,le,ve,m,x,_,pe,ce,B,M))}return M},_updateTile:function(d,g,m,x,_,T,B,M,j,V,F){var L=this._getTile(m,x,_,V,j,this._worldWidthCurrent,this._worldHeightCurrent),Y=g;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:L}),this._setCoverage(this.coverage,_,m,x,!1);var ce=L.loaded||L.loading||this._isCovered(this.loadingCoverage,_,m,x);if(this._setCoverage(this.loadingCoverage,_,m,x,ce),!L.exists||(d&&!Y&&(this._isCovered(this.coverage,_,m,x)?this._setCoverage(this.coverage,_,m,x,!0):Y=!0),!Y))return F;if(this._positionTile(L,this.source.tileOverlap,this.viewport,M,B),!L.loaded)if(L.context2D)this._setTileLoaded(L);else{var pe=this._tileCache.getImageRecord(L.cacheKey);if(pe){var me=pe.getImage();this._setTileLoaded(L,me)}}if(L.loaded){var ve=this._blendTile(L,m,x,_,T,V);ve&&(this._needsDraw=!0)}else L.loading?this._tilesLoading++:ce||(F=this._compareTiles(F,L));return F},_getTile:function(d,g,m,x,_,T,B){var M,j,V,F,L,Y,ce,pe,me,ve,le=this.tilesMatrix,xe=this.source;return le[m]||(le[m]={}),le[m][d]||(le[m][d]={}),(!le[m][d][g]||!le[m][d][g].flipped!=!this.flipped)&&(M=(_.x+d%_.x)%_.x,j=(_.y+g%_.y)%_.y,V=this.getTileBounds(m,d,g),F=xe.getTileBounds(m,M,j,!0),L=xe.tileExists(m,M,j),Y=xe.getTileUrl(m,M,j),ce=xe.getTilePostData(m,M,j),this.loadTilesWithAjax?(pe=xe.getTileAjaxHeaders(m,M,j),n.isPlainObject(this.ajaxHeaders)&&(pe=n.extend({},this.ajaxHeaders,pe))):pe=null,me=xe.getContext2D?xe.getContext2D(m,M,j):void 0,ve=new n.Tile(m,d,g,V,L,Y,me,this.loadTilesWithAjax,pe,F,ce,xe.getTileHashKey(m,M,j,Y,pe,ce)),this.getFlip()?M===0&&(ve.isRightMost=!0):M===_.x-1&&(ve.isRightMost=!0),j===_.y-1&&(ve.isBottomMost=!0),ve.flipped=this.flipped,le[m][d][g]=ve),ve=le[m][d][g],ve.lastTouchTime=x,ve},_loadTile:function(d,g){var m=this;d.loading=!0,this._imageLoader.addJob({src:d.url,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(x,_,T){m._onTileLoad(d,g,x,_,T)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,g,m,x,_){if(!m){n.console.error("Tile %s failed to load: %s - error: %s",d,d.url,x),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:g,message:x,tileRequest:_}),d.loading=!1,d.exists=!1;return}if(g<this.lastResetTime){n.console.warn("Ignoring tile %s loaded before reset: %s",d,d.url),d.loading=!1;return}var T=this,B=function(){var M=T.source,j=M.getClosestLevel();T._setTileLoaded(d,m,j,_)};this._midDraw?window.setTimeout(B,1):B()},_setTileLoaded:function(d,g,m,x){var _=0,T=this;function B(){return _++,M}function M(){_--,_===0&&(d.loading=!1,d.loaded=!0,d.context2D||T._tileCache.cacheTile({image:g,tile:d,cutoff:m,tiledImage:T}),T._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:x,image:g,getCompletionCallback:B}),B()()},_positionTile:function(d,g,m,x,_){var T=d.bounds.getTopLeft();T.x*=this._scaleSpring.current.value,T.y*=this._scaleSpring.current.value,T.x+=this._xSpring.current.value,T.y+=this._ySpring.current.value;var B=d.bounds.getSize();B.x*=this._scaleSpring.current.value,B.y*=this._scaleSpring.current.value;var M=m.pixelFromPointNoRotate(T,!0),j=m.pixelFromPointNoRotate(T,!1),V=m.deltaPixelsFromPointsNoRotate(B,!0),F=m.deltaPixelsFromPointsNoRotate(B,!1),L=j.plus(F.divide(2)),Y=x.squaredDistanceTo(L);g||(V=V.plus(new n.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(V.x+=.75),d.isBottomMost&&this.wrapVertical&&(V.y+=.75),d.position=M,d.size=V,d.squaredDistance=Y,d.visibility=_},_blendTile:function(d,g,m,x,_,T){var B=1e3*this.blendTime,M,j;if(d.blendStart||(d.blendStart=T),M=T-d.blendStart,j=B?Math.min(1,M/B):1,this.alwaysBlend&&(j*=_),d.opacity=j,this.lastDrawn.push(d),j===1)this._setCoverage(this.coverage,x,g,m,!0),this._hasOpaqueTile=!0;else if(M<B)return!0;return!1},_compareTiles:function(d,g){return!d||g.visibility>d.visibility||g.visibility===d.visibility&&g.squaredDistance<d.squaredDistance?g:d},_drawTiles:function(d){if(!(this.opacity===0||d.length===0&&!this.placeholderFillStyle)){var g=d[0],m;g&&(m=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&g._hasTransparencyChannel());var x,_,T=this.viewport.getZoom(!0),B=this.viewportToImageZoom(T);d.length>1&&B>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&n.supportsCanvas&&this.viewer.useCanvas&&(m=!0,x=g.getScaleForEdgeSmoothing(),_=g.getTranslationForEdgeSmoothing(x,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var M;m&&(x||(M=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.degrees!==0||this.getRotation(!0)%360!==0)&&(M.x=this._drawer.viewer.container.clientWidth-(M.x+M.width)),M=M.times(n.pixelDensityRatio)),this._drawer._clear(!0,M)),x||(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:m}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:m}),this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var j=!1;if(this._clip){this._drawer.saveContext(m);var V=this.imageToViewportRectangle(this._clip,!0);V=V.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var F=this._drawer.viewportToDrawerRectangle(V);x&&(F=F.times(x)),_&&(F=F.translate(_)),this._drawer.setClip(F,m),j=!0}if(this._croppingPolygons){this._drawer.saveContext(m);try{var L=this._croppingPolygons.map(function(xe){return xe.map(function(ze){var J=this.imageToViewportCoordinates(ze.x,ze.y,!0).rotate(-this.getRotation(!0),this._getRotationPoint(!0)),ue=this._drawer.viewportCoordToDrawerCoord(J);return x&&(ue=ue.times(x)),ue})});this._drawer.clipWithPolygons(L,m)}catch(xe){n.console.error(xe)}j=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var Y=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));x&&(Y=Y.times(x)),_&&(Y=Y.translate(_));var ce=null;typeof this.placeholderFillStyle=="function"?ce=this.placeholderFillStyle(this,this._drawer.context):ce=this.placeholderFillStyle,this._drawer.drawRectangle(Y,ce,m)}var pe=f(this.subPixelRoundingForTransparency),me=!1;if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)me=!0;else if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ve=this.viewer&&this.viewer.isAnimating();me=!ve}for(var le=d.length-1;le>=0;le--)g=d[le],this._drawer.drawTile(g,this._drawingHandler,m,x,_,me),g.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:g});j&&this._drawer.restoreContext(m),x||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(m),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(m)),m&&(x&&(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:x,translate:_,compositeOperation:this.compositeOperation,bounds:M}),x&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(!1))),x||this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(d)}},_drawDebugInfo:function(d){if(this.debugMode)for(var g=d.length-1;g>=0;g--){var m=d[g];try{this._drawer.drawDebugInfo(m,d.length,g,this)}catch(x){n.console.error(x)}}},_providesCoverage:function(d,g,m,x){var _,T,B,M;if(!d[g])return!1;if(m===void 0||x===void 0){_=d[g];for(B in _)if(Object.prototype.hasOwnProperty.call(_,B)){T=_[B];for(M in T)if(Object.prototype.hasOwnProperty.call(T,M)&&!T[M])return!1}return!0}return d[g][m]===void 0||d[g][m][x]===void 0||d[g][m][x]===!0},_isCovered:function(d,g,m,x){return m===void 0||x===void 0?this._providesCoverage(d,g+1):this._providesCoverage(d,g+1,2*m,2*x)&&this._providesCoverage(d,g+1,2*m,2*x+1)&&this._providesCoverage(d,g+1,2*m+1,2*x)&&this._providesCoverage(d,g+1,2*m+1,2*x+1)},_setCoverage:function(d,g,m,x,_){if(!d[g]){n.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",g);return}d[g][m]||(d[g][m]={}),d[g][m][x]=_},_resetCoverage:function(d,g){d[g]={}}});var a=n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(d){return d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function h(d){return u(d)?a:d}function f(d){if(typeof d=="number")return h(d);if(!d||!n.Browser)return a;var g=d[n.Browser.vendor];return u(g)&&(g=d["*"]),h(g)}}(o),function(n){var a=function(h){n.console.assert(h,"[TileCache.cacheTile] options is required"),n.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=h.tile,this.tiledImage=h.tiledImage},u=function(h){n.console.assert(h,"[ImageRecord] options is required"),n.console.assert(h.image,"[ImageRecord] options.image is required"),this._image=h.image,this._tiles=[]};u.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var h=document.createElement("canvas");h.width=this._image.width,h.height=this._image.height,this._renderedContext=h.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(h){n.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=h},addTile:function(h){n.console.assert(h,"[ImageRecord.addTile] tile is required"),this._tiles.push(h)},removeTile:function(h){for(var f=0;f<this._tiles.length;f++)if(this._tiles[f]===h){this._tiles.splice(f,1);return}n.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",h)},getTileCount:function(){return this._tiles.length}},n.TileCache=function(h){h=h||{},this._maxImageCacheCount=h.maxImageCacheCount||n.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},n.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(h){n.console.assert(h,"[TileCache.cacheTile] options is required"),n.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(h.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),n.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var f=h.cutoff||0,d=this._tilesLoaded.length,g=this._imagesLoaded[h.tile.cacheKey];if(g||(n.console.assert(h.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),g=this._imagesLoaded[h.tile.cacheKey]=new u({image:h.image}),this._imagesLoadedCount++),g.addTile(h.tile),h.tile.cacheImageRecord=g,this._imagesLoadedCount>this._maxImageCacheCount){for(var m=null,x=-1,_=null,T,B,M,j,V,F,L=this._tilesLoaded.length-1;L>=0;L--)if(F=this._tilesLoaded[L],T=F.tile,!(T.level<=f||T.beingDrawn)){if(!m){m=T,x=L,_=F;continue}j=T.lastTouchTime,B=m.lastTouchTime,V=T.level,M=m.level,(j<B||j===B&&V>M)&&(m=T,x=L,_=F)}m&&x>=0&&(this._unloadTile(_),d=x)}this._tilesLoaded[d]=new a({tile:h.tile,tiledImage:h.tiledImage})},clearTilesFor:function(h){n.console.assert(h,"[TileCache.clearTilesFor] tiledImage is required");for(var f,d=0;d<this._tilesLoaded.length;++d)f=this._tilesLoaded[d],f.tiledImage===h&&(this._unloadTile(f),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(h){return n.console.assert(h,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[h]},_unloadTile:function(h){n.console.assert(h,"[TileCache._unloadTile] tileRecord is required");var f=h.tile,d=h.tiledImage;f.unload(),f.cacheImageRecord=null;var g=this._imagesLoaded[f.cacheKey];g.removeTile(f),g.getTileCount()||(g.destroy(),delete this._imagesLoaded[f.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:f,tiledImage:d})}}}(o),function(n){n.World=function(a){var u=this;n.console.assert(a.viewer,"[World] options.viewer is required"),n.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(h){u._autoRefigureSizes?u._figureSizes():u._needsSizesFigured=!0},this._figureSizes()},n.extend(n.World.prototype,n.EventSource.prototype,{addItem:function(a,u){if(n.console.assert(a,"[World.addItem] item is required"),n.console.assert(a instanceof n.TiledImage,"[World.addItem] only TiledImages supported at this time"),u=u||{},u.index!==void 0){var h=Math.max(0,Math.min(this._items.length,u.index));this._items.splice(h,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return n.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return n.console.assert(a,"[World.getIndexOfItem] item is required"),n.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,u){n.console.assert(a,"[World.setItemIndex] item is required"),n.console.assert(u!==void 0,"[World.setItemIndex] index is required");var h=this.getIndexOfItem(a);if(u>=this._items.length)throw new Error("Index bigger than number of layers.");u===h||h===-1||(this._items.splice(h,1),this._items.splice(u,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:h,newIndex:u}))},removeItem:function(a){n.console.assert(a,"[World.removeItem] item is required");var u=n.indexOf(this._items,a);u!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(u,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,u;for(u=0;u<this._items.length;u++)a=this._items[u],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var h=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,u=0;u<h.length;u++)a=h[u],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,u=0;u<this._items.length;u++)a=this._items[u].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var u=a.immediately||!1,h=a.layout||n.DEFAULT_SETTINGS.collectionLayout,f=a.rows||n.DEFAULT_SETTINGS.collectionRows,d=a.columns||n.DEFAULT_SETTINGS.collectionColumns,g=a.tileSize||n.DEFAULT_SETTINGS.collectionTileSize,m=a.tileMargin||n.DEFAULT_SETTINGS.collectionTileMargin,x=g+m,_;!a.rows&&d?_=d:_=Math.ceil(this._items.length/f);var T=0,B=0,M,j,V,F,L;this.setAutoRefigureSizes(!1);for(var Y=0;Y<this._items.length;Y++)Y&&Y%_===0&&(h==="horizontal"?(B+=x,T=0):(T+=x,B=0)),M=this._items[Y],j=M.getBounds(),j.width>j.height?V=g:V=g*(j.width/j.height),F=V*(j.height/j.width),L=new n.Point(T+(g-V)/2,B+(g-F)/2),M.setPosition(L,u),M.setWidth(V,u),h==="horizontal"?T+=x:B+=x;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,u=this._contentSize?this._contentSize.clone():null,h=this._contentFactor||0;if(!this._items.length)this._homeBounds=new n.Rect(0,0,1,1),this._contentSize=new n.Point(1,1),this._contentFactor=1;else{var f=this._items[0],d=f.getBounds();this._contentFactor=f.getContentSize().x/d.width;for(var g=f.getClippedBounds().getBoundingBox(),m=g.x,x=g.y,_=g.x+g.width,T=g.y+g.height,B=1;B<this._items.length;B++)f=this._items[B],d=f.getBounds(),this._contentFactor=Math.max(this._contentFactor,f.getContentSize().x/d.width),g=f.getClippedBounds().getBoundingBox(),m=Math.min(m,g.x),x=Math.min(x,g.y),_=Math.max(_,g.x+g.width),T=Math.max(T,g.y+g.height);this._homeBounds=new n.Rect(m,x,_-m,T-x),this._contentSize=new n.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==h||!this._homeBounds.equals(a)||!this._contentSize.equals(u))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(o)})(lx);const oL=lx.exports;var ux={exports:{}};(function(e,o){(function(n,a){e.exports=a()})(Ys,function(){var n=Object.defineProperty,a=(i,s,t)=>s in i?n(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,u=(i,s,t)=>(a(i,typeof s!="symbol"?s+"":s,t),t),h,f,d,g,m,x,_,T,B={},M=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function V(i,s){for(var t in s)i[t]=s[t];return i}function F(i){var s=i.parentNode;s&&s.removeChild(i)}function L(i,s,t){var r,l,c,p={};for(c in s)c=="key"?r=s[c]:c=="ref"?l=s[c]:p[c]=s[c];if(arguments.length>2&&(p.children=arguments.length>3?h.call(arguments,2):t),typeof i=="function"&&i.defaultProps!=null)for(c in i.defaultProps)p[c]===void 0&&(p[c]=i.defaultProps[c]);return Y(i,p,r,l,null)}function Y(i,s,t,r,l){var c={type:i,props:s,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l==null?++d:l};return l==null&&f.vnode!=null&&f.vnode(c),c}function ce(){return{current:null}}function pe(i){return i.children}function me(i,s){this.props=i,this.context=s}function ve(i,s){if(s==null)return i.__?ve(i.__,i.__.__k.indexOf(i)+1):null;for(var t;s<i.__k.length;s++)if((t=i.__k[s])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?ve(i):null}function le(i){var s,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,s=0;s<i.__k.length;s++)if((t=i.__k[s])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return le(i)}}function xe(i){(!i.__d&&(i.__d=!0)&&m.push(i)&&!ze.__r++||_!==f.debounceRendering)&&((_=f.debounceRendering)||x)(ze)}function ze(){for(var i;ze.__r=m.length;)i=m.sort(function(s,t){return s.__v.__b-t.__v.__b}),m=[],i.some(function(s){var t,r,l,c,p,v;s.__d&&(p=(c=(t=s).__v).__e,(v=t.__P)&&(r=[],(l=V({},c)).__v=c.__v+1,Ne(v,c,l,t.__n,v.ownerSVGElement!==void 0,c.__h!=null?[p]:null,r,p==null?ve(c):p,c.__h),wt(r,c),c.__e!=p&&le(c)))})}function J(i,s,t,r,l,c,p,v,y,b){var w,S,C,D,H,Q,G,te=r&&r.__k||M,P=te.length;for(t.__k=[],w=0;w<s.length;w++)if((D=t.__k[w]=(D=s[w])==null||typeof D=="boolean"?null:typeof D=="string"||typeof D=="number"||typeof D=="bigint"?Y(null,D,null,null,D):Array.isArray(D)?Y(pe,{children:D},null,null,null):D.__b>0?Y(D.type,D.props,D.key,null,D.__v):D)!=null){if(D.__=t,D.__b=t.__b+1,(C=te[w])===null||C&&D.key==C.key&&D.type===C.type)te[w]=void 0;else for(S=0;S<P;S++){if((C=te[S])&&D.key==C.key&&D.type===C.type){te[S]=void 0;break}C=null}Ne(i,D,C=C||B,l,c,p,v,y,b),H=D.__e,(S=D.ref)&&C.ref!=S&&(G||(G=[]),C.ref&&G.push(C.ref,null,D),G.push(S,D.__c||H,D)),H!=null?(Q==null&&(Q=H),typeof D.type=="function"&&D.__k===C.__k?D.__d=y=ue(D,y,i):y=Se(i,D,C,te,H,y),typeof t.type=="function"&&(t.__d=y)):y&&C.__e==y&&y.parentNode!=i&&(y=ve(C))}for(t.__e=Q,w=P;w--;)te[w]!=null&&(typeof t.type=="function"&&te[w].__e!=null&&te[w].__e==t.__d&&(t.__d=ve(r,w+1)),cn(te[w],te[w]));if(G)for(w=0;w<G.length;w++)Xt(G[w],G[++w],G[++w])}function ue(i,s,t){for(var r,l=i.__k,c=0;l&&c<l.length;c++)(r=l[c])&&(r.__=i,s=typeof r.type=="function"?ue(r,s,t):Se(t,r,r,l,r.__e,s));return s}function be(i,s){return s=s||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(t){be(t,s)}):s.push(i)),s}function Se(i,s,t,r,l,c){var p,v,y;if(s.__d!==void 0)p=s.__d,s.__d=void 0;else if(t==null||l!=c||l.parentNode==null)e:if(c==null||c.parentNode!==i)i.appendChild(l),p=null;else{for(v=c,y=0;(v=v.nextSibling)&&y<r.length;y+=2)if(v==l)break e;i.insertBefore(l,c),p=c}return p!==void 0?p:l.nextSibling}function ut(i,s,t,r,l){var c;for(c in t)c==="children"||c==="key"||c in s||_e(i,c,null,t[c],r);for(c in s)l&&typeof s[c]!="function"||c==="children"||c==="key"||c==="value"||c==="checked"||t[c]===s[c]||_e(i,c,s[c],t[c],r)}function at(i,s,t){s[0]==="-"?i.setProperty(s,t):i[s]=t==null?"":typeof t!="number"||j.test(s)?t:t+"px"}function _e(i,s,t,r,l){var c;e:if(s==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(s in r)t&&s in t||at(i.style,s,"");if(t)for(s in t)r&&t[s]===r[s]||at(i.style,s,t[s])}else if(s[0]==="o"&&s[1]==="n")c=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in i?s.toLowerCase().slice(2):s.slice(2),i.l||(i.l={}),i.l[s+c]=t,t?r||i.addEventListener(s,c?nt:Ce,c):i.removeEventListener(s,c?nt:Ce,c);else if(s!=="dangerouslySetInnerHTML"){if(l)s=s.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(s!=="href"&&s!=="list"&&s!=="form"&&s!=="tabIndex"&&s!=="download"&&s in i)try{i[s]=t==null?"":t;break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||s[0]==="a"&&s[1]==="r")?i.setAttribute(s,t):i.removeAttribute(s))}}function Ce(i){this.l[i.type+!1](f.event?f.event(i):i)}function nt(i){this.l[i.type+!0](f.event?f.event(i):i)}function Ne(i,s,t,r,l,c,p,v,y){var b,w,S,C,D,H,Q,G,te,P,Z,oe=s.type;if(s.constructor!==void 0)return null;t.__h!=null&&(y=t.__h,v=s.__e=t.__e,s.__h=null,c=[v]),(b=f.__b)&&b(s);try{e:if(typeof oe=="function"){if(G=s.props,te=(b=oe.contextType)&&r[b.__c],P=b?te?te.props.value:b.__:r,t.__c?Q=(w=s.__c=t.__c).__=w.__E:("prototype"in oe&&oe.prototype.render?s.__c=w=new oe(G,P):(s.__c=w=new me(G,P),w.constructor=oe,w.render=en),te&&te.sub(w),w.props=G,w.state||(w.state={}),w.context=P,w.__n=r,S=w.__d=!0,w.__h=[]),w.__s==null&&(w.__s=w.state),oe.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=V({},w.__s)),V(w.__s,oe.getDerivedStateFromProps(G,w.__s))),C=w.props,D=w.state,S)oe.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&G!==C&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(G,P),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(G,w.__s,P)===!1||s.__v===t.__v){w.props=G,w.state=w.__s,s.__v!==t.__v&&(w.__d=!1),w.__v=s,s.__e=t.__e,s.__k=t.__k,s.__k.forEach(function(re){re&&(re.__=s)}),w.__h.length&&p.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(G,w.__s,P),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(C,D,H)})}w.context=P,w.props=G,w.state=w.__s,(b=f.__r)&&b(s),w.__d=!1,w.__v=s,w.__P=i,b=w.render(w.props,w.state,w.context),w.state=w.__s,w.getChildContext!=null&&(r=V(V({},r),w.getChildContext())),S||w.getSnapshotBeforeUpdate==null||(H=w.getSnapshotBeforeUpdate(C,D)),Z=b!=null&&b.type===pe&&b.key==null?b.props.children:b,J(i,Array.isArray(Z)?Z:[Z],s,t,r,l,c,p,v,y),w.base=s.__e,s.__h=null,w.__h.length&&p.push(w),Q&&(w.__E=w.__=null),w.__e=!1}else c==null&&s.__v===t.__v?(s.__k=t.__k,s.__e=t.__e):s.__e=kt(t.__e,s,t,r,l,c,p,y);(b=f.diffed)&&b(s)}catch(re){s.__v=null,(y||c!=null)&&(s.__e=v,s.__h=!!y,c[c.indexOf(v)]=null),f.__e(re,s,t)}}function wt(i,s){f.__c&&f.__c(s,i),i.some(function(t){try{i=t.__h,t.__h=[],i.some(function(r){r.call(t)})}catch(r){f.__e(r,t.__v)}})}function kt(i,s,t,r,l,c,p,v){var y,b,w,S=t.props,C=s.props,D=s.type,H=0;if(D==="svg"&&(l=!0),c!=null){for(;H<c.length;H++)if((y=c[H])&&"setAttribute"in y==!!D&&(D?y.localName===D:y.nodeType===3)){i=y,c[H]=null;break}}if(i==null){if(D===null)return document.createTextNode(C);i=l?document.createElementNS("http://www.w3.org/2000/svg",D):document.createElement(D,C.is&&C),c=null,v=!1}if(D===null)S===C||v&&i.data===C||(i.data=C);else{if(c=c&&h.call(i.childNodes),b=(S=t.props||B).dangerouslySetInnerHTML,w=C.dangerouslySetInnerHTML,!v){if(c!=null)for(S={},H=0;H<i.attributes.length;H++)S[i.attributes[H].name]=i.attributes[H].value;(w||b)&&(w&&(b&&w.__html==b.__html||w.__html===i.innerHTML)||(i.innerHTML=w&&w.__html||""))}if(ut(i,C,S,l,v),w)s.__k=[];else if(H=s.props.children,J(i,Array.isArray(H)?H:[H],s,t,r,l&&D!=="foreignObject",c,p,c?c[0]:t.__k&&ve(t,0),v),c!=null)for(H=c.length;H--;)c[H]!=null&&F(c[H]);v||("value"in C&&(H=C.value)!==void 0&&(H!==S.value||H!==i.value||D==="progress"&&!H)&&_e(i,"value",H,S.value,!1),"checked"in C&&(H=C.checked)!==void 0&&H!==i.checked&&_e(i,"checked",H,S.checked,!1))}return i}function Xt(i,s,t){try{typeof i=="function"?i(s):i.current=s}catch(r){f.__e(r,t)}}function cn(i,s,t){var r,l;if(f.unmount&&f.unmount(i),(r=i.ref)&&(r.current&&r.current!==i.__e||Xt(r,null,s)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(c){f.__e(c,s)}r.base=r.__P=null}if(r=i.__k)for(l=0;l<r.length;l++)r[l]&&cn(r[l],s,typeof i.type!="function");t||i.__e==null||F(i.__e),i.__e=i.__d=void 0}function en(i,s,t){return this.constructor(i,t)}function Rt(i,s,t){var r,l,c;f.__&&f.__(i,s),l=(r=typeof t=="function")?null:t&&t.__k||s.__k,c=[],Ne(s,i=(!r&&t||s).__k=L(pe,null,[i]),l||B,B,s.ownerSVGElement!==void 0,!r&&t?[t]:l?null:s.firstChild?h.call(s.childNodes):null,c,!r&&t?t:l?l.__e:s.firstChild,r),wt(c,i)}function fn(i,s){Rt(i,s,fn)}function on(i,s,t){var r,l,c,p=V({},i.props);for(c in s)c=="key"?r=s[c]:c=="ref"?l=s[c]:p[c]=s[c];return arguments.length>2&&(p.children=arguments.length>3?h.call(arguments,2):t),Y(i.type,p,r||i.key,l||i.ref,null)}function Et(i,s){var t={__c:s="__cC"+T++,__:i,Consumer:function(r,l){return r.children(l)},Provider:function(r){var l,c;return this.getChildContext||(l=[],(c={})[s]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(p){this.props.value!==p.value&&l.some(xe)},this.sub=function(p){l.push(p);var v=p.componentWillUnmount;p.componentWillUnmount=function(){l.splice(l.indexOf(p),1),v&&v.call(p)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}h=M.slice,f={__e:function(i,s){for(var t,r,l;s=s.__;)if((t=s.__c)&&!t.__)try{if((r=t.constructor)&&r.getDerivedStateFromError!=null&&(t.setState(r.getDerivedStateFromError(i)),l=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(i),l=t.__d),l)return t.__E=t}catch(c){i=c}throw i}},d=0,g=function(i){return i!=null&&i.constructor===void 0},me.prototype.setState=function(i,s){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=V({},this.state),typeof i=="function"&&(i=i(V({},t),this.props)),i&&V(t,i),i!=null&&this.__v&&(s&&this.__h.push(s),xe(this))},me.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),xe(this))},me.prototype.render=pe,m=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ze.__r=0,T=0;var Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",render:Rt,hydrate:fn,createElement:L,h:L,Fragment:pe,createRef:ce,get isValidElement(){return g},Component:me,cloneElement:on,createContext:Et,toChildArray:be,get options(){return f}}),ot,X,ne,E=0,N=[],$=f.__b,ae=f.__r,se=f.diffed,ie=f.__c,fe=f.unmount;function de(i,s){f.__h&&f.__h(X,i,E||s),E=0;var t=X.__H||(X.__H={__:[],__h:[]});return i>=t.__.length&&t.__.push({}),t.__[i]}function ke(i){return E=1,Me(Fn,i)}function Me(i,s,t){var r=de(ot++,2);return r.t=i,r.__c||(r.__=[t?t(s):Fn(void 0,s),function(l){var c=r.t(r.__[0],l);r.__[0]!==c&&(r.__=[c,r.__[1]],r.__c.setState({}))}],r.__c=X),r.__}function Pe(i,s){var t=de(ot++,3);!f.__s&&dt(t.__H,s)&&(t.__=i,t.__H=s,X.__H.__h.push(t))}function Ye(i,s){var t=de(ot++,4);!f.__s&&dt(t.__H,s)&&(t.__=i,t.__H=s,X.__h.push(t))}function Ve(i){return E=5,Be(function(){return{current:i}},[])}function Te(i,s,t){E=6,Ye(function(){typeof i=="function"?i(s()):i&&(i.current=s())},t==null?t:t.concat(i))}function Be(i,s){var t=de(ot++,7);return dt(t.__H,s)&&(t.__=i(),t.__H=s,t.__h=i),t.__}function R(i,s){return E=8,Be(function(){return i},s)}function A(i){var s=X.context[i.__c],t=de(ot++,9);return t.c=i,s?(t.__==null&&(t.__=!0,s.sub(X)),s.props.value):i.__}function z(i,s){f.useDebugValue&&f.useDebugValue(s?s(i):i)}function W(i){var s=de(ot++,10),t=ke();return s.__=i,X.componentDidCatch||(X.componentDidCatch=function(r){s.__&&s.__(r),t[1](r)}),[t[0],function(){t[1](void 0)}]}function ye(){var i;for(N.sort(function(s,t){return s.__v.__b-t.__v.__b});i=N.pop();)if(i.__P)try{i.__H.__h.forEach(it),i.__H.__h.forEach(St),i.__H.__h=[]}catch(s){i.__H.__h=[],f.__e(s,i.__v)}}f.__b=function(i){X=null,$&&$(i)},f.__r=function(i){ae&&ae(i),ot=0;var s=(X=i.__c).__H;s&&(s.__h.forEach(it),s.__h.forEach(St),s.__h=[])},f.diffed=function(i){se&&se(i);var s=i.__c;s&&s.__H&&s.__H.__h.length&&(N.push(s)!==1&&ne===f.requestAnimationFrame||((ne=f.requestAnimationFrame)||function(t){var r,l=function(){clearTimeout(c),Fe&&cancelAnimationFrame(r),setTimeout(t)},c=setTimeout(l,100);Fe&&(r=requestAnimationFrame(l))})(ye)),X=null},f.__c=function(i,s){s.some(function(t){try{t.__h.forEach(it),t.__h=t.__h.filter(function(r){return!r.__||St(r)})}catch(r){s.some(function(l){l.__h&&(l.__h=[])}),s=[],f.__e(r,t.__v)}}),ie&&ie(i,s)},f.unmount=function(i){fe&&fe(i);var s,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{it(r)}catch(l){s=l}}),s&&f.__e(s,t.__v))};var Fe=typeof requestAnimationFrame=="function";function it(i){var s=X,t=i.__c;typeof t=="function"&&(i.__c=void 0,t()),X=s}function St(i){var s=X;i.__c=i.__(),X=s}function dt(i,s){return!i||i.length!==s.length||s.some(function(t,r){return t!==i[r]})}function Fn(i,s){return typeof s=="function"?s(i):s}function xn(i,s){for(var t in s)i[t]=s[t];return i}function Ti(i,s){for(var t in i)if(t!=="__source"&&!(t in s))return!0;for(var r in s)if(r!=="__source"&&i[r]!==s[r])return!0;return!1}function or(i){this.props=i}function fs(i,s){function t(l){var c=this.props.ref,p=c==l.ref;return!p&&c&&(c.call?c(null):c.current=null),s?!s(this.props,l)||!p:Ti(this.props,l)}function r(l){return this.shouldComponentUpdate=t,L(i,l)}return r.displayName="Memo("+(i.displayName||i.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(or.prototype=new me).isPureReactComponent=!0,or.prototype.shouldComponentUpdate=function(i,s){return Ti(this.props,i)||Ti(this.state,s)};var ps=f.__b;f.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),ps&&ps(i)};var Vx=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function uc(i){function s(t,r){var l=xn({},t);return delete l.ref,i(l,(r=t.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return s.$$typeof=Vx,s.render=s,s.prototype.isReactComponent=s.__f=!0,s.displayName="ForwardRef("+(i.displayName||i.name)+")",s}var np=function(i,s){return i==null?null:be(be(i).map(s))},ip={map:np,forEach:np,count:function(i){return i?be(i).length:0},only:function(i){var s=be(i);if(s.length!==1)throw"Children.only";return s[0]},toArray:be},Wx=f.__e;f.__e=function(i,s,t){if(i.then){for(var r,l=s;l=l.__;)if((r=l.__c)&&r.__c)return s.__e==null&&(s.__e=t.__e,s.__k=t.__k),r.__c(i,s)}Wx(i,s,t)};var rp=f.unmount;function gs(){this.__u=0,this.t=null,this.__b=null}function op(i){var s=i.__.__c;return s&&s.__e&&s.__e(i)}function sp(i){var s,t,r;function l(c){if(s||(s=i()).then(function(p){t=p.default||p},function(p){r=p}),r)throw r;if(!t)throw s;return L(t,c)}return l.displayName="Lazy",l.__f=!0,l}function bo(){this.u=null,this.o=null}f.unmount=function(i){var s=i.__c;s&&s.__R&&s.__R(),s&&i.__h===!0&&(i.type=null),rp&&rp(i)},(gs.prototype=new me).__c=function(i,s){var t=s.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var l=op(r.__v),c=!1,p=function(){c||(c=!0,t.__R=null,l?l(v):v())};t.__R=p;var v=function(){if(!--r.__u){if(r.state.__e){var b=r.state.__e;r.__v.__k[0]=function S(C,D,H){return C&&(C.__v=null,C.__k=C.__k&&C.__k.map(function(Q){return S(Q,D,H)}),C.__c&&C.__c.__P===D&&(C.__e&&H.insertBefore(C.__e,C.__d),C.__c.__e=!0,C.__c.__P=H)),C}(b,b.__c.__P,b.__c.__O)}var w;for(r.setState({__e:r.__b=null});w=r.t.pop();)w.forceUpdate()}},y=s.__h===!0;r.__u++||y||r.setState({__e:r.__b=r.__v.__k[0]}),i.then(p,p)},gs.prototype.componentWillUnmount=function(){this.t=[]},gs.prototype.render=function(i,s){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function c(p,v,y){return p&&(p.__c&&p.__c.__H&&(p.__c.__H.__.forEach(function(b){typeof b.__c=="function"&&b.__c()}),p.__c.__H=null),(p=xn({},p)).__c!=null&&(p.__c.__P===y&&(p.__c.__P=v),p.__c=null),p.__k=p.__k&&p.__k.map(function(b){return c(b,v,y)})),p}(this.__b,t,r.__O=r.__P)}this.__b=null}var l=s.__e&&L(pe,null,i.fallback);return l&&(l.__h=null),[L(pe,null,s.__e?null:i.children),l]};var ap=function(i,s,t){if(++t[1]===t[0]&&i.o.delete(s),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(t=i.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};function Gx(i){return this.getChildContext=function(){return i.context},i.children}function qx(i){var s=this,t=i.i;s.componentWillUnmount=function(){Rt(null,s.l),s.l=null,s.i=null},s.i&&s.i!==t&&s.componentWillUnmount(),i.__v?(s.l||(s.i=t,s.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),s.i.appendChild(r)},insertBefore:function(r,l){this.childNodes.push(r),s.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),s.i.removeChild(r)}}),Rt(L(Gx,{context:s.context},i.__v),s.l)):s.l&&s.componentWillUnmount()}function cc(i,s){return L(qx,{__v:i,i:s})}(bo.prototype=new me).__e=function(i){var s=this,t=op(s.__v),r=s.o.get(i);return r[0]++,function(l){var c=function(){s.props.revealOrder?(r.push(l),ap(s,i,r)):l()};t?t(c):c()}},bo.prototype.render=function(i){this.u=null,this.o=new Map;var s=be(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&s.reverse();for(var t=s.length;t--;)this.o.set(s[t],this.u=[1,0,this.u]);return i.children},bo.prototype.componentDidUpdate=bo.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(s,t){ap(i,t,s)})};var lp=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Xx=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Zx=typeof document<"u",Yx=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(i)};function up(i,s,t){return s.__k==null&&(s.textContent=""),Rt(i,s),typeof t=="function"&&t(),i?i.__c:null}function cp(i,s,t){return fn(i,s),typeof t=="function"&&t(),i?i.__c:null}me.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(me.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(s){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:s})}})});var hp=f.event;function Kx(){}function Jx(){return this.cancelBubble}function Qx(){return this.defaultPrevented}f.event=function(i){return hp&&(i=hp(i)),i.persist=Kx,i.isPropagationStopped=Jx,i.isDefaultPrevented=Qx,i.nativeEvent=i};var dp,fp={configurable:!0,get:function(){return this.class}},pp=f.vnode;f.vnode=function(i){var s=i.type,t=i.props,r=t;if(typeof s=="string"){var l=s.indexOf("-")===-1;for(var c in r={},t){var p=t[c];Zx&&c==="children"&&s==="noscript"||c==="value"&&"defaultValue"in t&&p==null||(c==="defaultValue"&&"value"in t&&t.value==null?c="value":c==="download"&&p===!0?p="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+s)&&!Yx(t.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(c)?c=c.toLowerCase():l&&Xx.test(c)?c=c.replace(/[A-Z0-9]/,"-$&").toLowerCase():p===null&&(p=void 0),r[c]=p)}s=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=be(t.children).forEach(function(v){v.props.selected=r.value.indexOf(v.props.value)!=-1})),s=="select"&&r.defaultValue!=null&&(r.value=be(t.children).forEach(function(v){v.props.selected=r.multiple?r.defaultValue.indexOf(v.props.value)!=-1:r.defaultValue==v.props.value})),i.props=r,t.class!=t.className&&(fp.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",fp))}i.$$typeof=lp,pp&&pp(i)};var gp=f.__r;f.__r=function(i){gp&&gp(i),dp=i.__c};var mp={ReactCurrentDispatcher:{current:{readContext:function(i){return dp.__n[i.__c].props.value}}}},$x="17.0.2";function vp(i){return L.bind(null,i)}function hc(i){return!!i&&i.$$typeof===lp}function yp(i){return hc(i)?on.apply(null,arguments):i}function bp(i){return!!i.__k&&(Rt(null,i),!0)}function wp(i){return i&&(i.base||i.nodeType===1&&i)||null}var xp=function(i,s){return i(s)},_p=function(i,s){return i(s)},e_=pe,Ae={useState:ke,useReducer:Me,useEffect:Pe,useLayoutEffect:Ye,useRef:Ve,useImperativeHandle:Te,useMemo:Be,useCallback:R,useContext:A,useDebugValue:z,version:"17.0.2",Children:ip,render:up,hydrate:cp,unmountComponentAtNode:bp,createPortal:cc,createElement:L,createContext:Et,createFactory:vp,cloneElement:yp,createRef:ce,Fragment:pe,isValidElement:hc,findDOMNode:wp,Component:me,PureComponent:or,memo:fs,forwardRef:uc,flushSync:_p,unstable_batchedUpdates:xp,StrictMode:pe,Suspense:gs,SuspenseList:bo,lazy:sp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mp},t_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae,version:$x,Children:ip,render:up,hydrate:cp,unmountComponentAtNode:bp,createPortal:cc,createFactory:vp,cloneElement:yp,isValidElement:hc,findDOMNode:wp,PureComponent:or,memo:fs,forwardRef:uc,flushSync:_p,unstable_batchedUpdates:xp,StrictMode:e_,Suspense:gs,SuspenseList:bo,lazy:sp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mp,createElement:L,createContext:Et,createRef:ce,Fragment:pe,Component:me,useState:ke,useReducer:Me,useEffect:Pe,useLayoutEffect:Ye,useRef:Ve,useImperativeHandle:Te,useMemo:Be,useCallback:R,useContext:A,useDebugValue:z,useErrorBoundary:W}),sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ys<"u"?Ys:typeof self<"u"?self:{};function n_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ka(i){if(i.__esModule)return i;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(t){var r=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(s,t,r.get?r:{enumerable:!0,get:function(){return i[t]}})}),s}var dc={exports:{}};function fc(){}fc.prototype={on:function(i,s,t){var r=this.e||(this.e={});return(r[i]||(r[i]=[])).push({fn:s,ctx:t}),this},once:function(i,s,t){var r=this;function l(){r.off(i,l),s.apply(t,arguments)}return l._=s,this.on(i,l,t)},emit:function(i){var s=[].slice.call(arguments,1),t=((this.e||(this.e={}))[i]||[]).slice(),r=0,l=t.length;for(r;r<l;r++)t[r].fn.apply(t[r].ctx,s);return this},off:function(i,s){var t=this.e||(this.e={}),r=t[i],l=[];if(r&&s)for(var c=0,p=r.length;c<p;c++)r[c].fn!==s&&r[c].fn._!==s&&l.push(r[c]);return l.length?t[i]=l:delete t[i],this}},dc.exports=fc,dc.exports.TinyEmitter=fc;var Aa=dc.exports,Ra={exports:{}},Ep={},wo=ka(t_),ms={exports:{}},i_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r_=i_,o_=r_;function Sp(){}function Tp(){}Tp.resetWarningCache=Sp;var s_=function(){function i(r,l,c,p,v,y){if(y!==o_){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Tp,resetWarningCache:Sp};return t.PropTypes=t,t};ms.exports=s_();function Cp(i){var s,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i))for(s=0;s<i.length;s++)i[s]&&(t=Cp(i[s]))&&(r&&(r+=" "),r+=t);else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function a_(){for(var i=0,s,t,r="";i<arguments.length;)(s=arguments[i++])&&(t=Cp(s))&&(r&&(r+=" "),r+=t);return r}var l_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:a_}),u_=ka(l_),pn={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.findInArray=c_,Ci.isFunction=h_,Ci.isNum=d_,Ci.int=f_,Ci.dontSetMe=p_;function c_(i,s){for(var t=0,r=i.length;t<r;t++)if(s.apply(s,[i[t],t,i]))return i[t]}function h_(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function d_(i){return typeof i=="number"&&!isNaN(i)}function f_(i){return parseInt(i,10)}function p_(i,s,t){if(i[s])return new Error("Invalid prop ".concat(s," passed to ").concat(t," - do not set this, set it on the child."))}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.getPrefix=Pp,Ir.browserPrefixToKey=kp,Ir.browserPrefixToStyle=g_,Ir.default=void 0;var pc=["Moz","Webkit","O","ms"];function Pp(){var i,s,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(i=window.document)===null||i===void 0||(s=i.documentElement)===null||s===void 0?void 0:s.style;if(!r||t in r)return"";for(var l=0;l<pc.length;l++)if(kp(t,pc[l])in r)return pc[l];return""}function kp(i,s){return s?"".concat(s).concat(m_(i)):i}function g_(i,s){return s?"-".concat(s.toLowerCase(),"-").concat(i):i}function m_(i){for(var s="",t=!0,r=0;r<i.length;r++)t?(s+=i[r].toUpperCase(),t=!1):i[r]==="-"?t=!0:s+=i[r];return s}var v_=Pp();Ir.default=v_;function Oa(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oa=function(s){return typeof s}:Oa=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Oa(i)}Object.defineProperty(pn,"__esModule",{value:!0}),pn.matchesSelector=Bp,pn.matchesSelectorAndParentsTo=b_,pn.addEvent=w_,pn.removeEvent=x_,pn.outerHeight=__,pn.outerWidth=E_,pn.innerHeight=S_,pn.innerWidth=T_,pn.offsetXYFromParent=C_,pn.createCSSTransform=P_,pn.createSVGTransform=k_,pn.getTranslation=gc,pn.getTouch=A_,pn.getTouchIdentifier=R_,pn.addUserSelectStyles=O_,pn.removeUserSelectStyles=D_,pn.addClassName=Ip,pn.removeClassName=Np;var ni=Ci,Ap=y_(Ir);function Rp(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,t=new WeakMap;return(Rp=function(r){return r?t:s})(i)}function y_(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||Oa(i)!=="object"&&typeof i!="function")return{default:i};var t=Rp(s);if(t&&t.has(i))return t.get(i);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)){var p=l?Object.getOwnPropertyDescriptor(i,c):null;p&&(p.get||p.set)?Object.defineProperty(r,c,p):r[c]=i[c]}return r.default=i,t&&t.set(i,r),r}function Op(i,s){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),t.push.apply(t,r)}return t}function Dp(i){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?Op(Object(t),!0).forEach(function(r){Mp(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Op(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Mp(i,s,t){return s in i?Object.defineProperty(i,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[s]=t,i}var Da="";function Bp(i,s){return Da||(Da=(0,ni.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,ni.isFunction)(i[t])})),(0,ni.isFunction)(i[Da])?i[Da](s):!1}function b_(i,s,t){var r=i;do{if(Bp(r,s))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function w_(i,s,t,r){if(i){var l=Dp({capture:!0},r);i.addEventListener?i.addEventListener(s,t,l):i.attachEvent?i.attachEvent("on"+s,t):i["on"+s]=t}}function x_(i,s,t,r){if(i){var l=Dp({capture:!0},r);i.removeEventListener?i.removeEventListener(s,t,l):i.detachEvent?i.detachEvent("on"+s,t):i["on"+s]=null}}function __(i){var s=i.clientHeight,t=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,ni.int)(t.borderTopWidth),s+=(0,ni.int)(t.borderBottomWidth),s}function E_(i){var s=i.clientWidth,t=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,ni.int)(t.borderLeftWidth),s+=(0,ni.int)(t.borderRightWidth),s}function S_(i){var s=i.clientHeight,t=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,ni.int)(t.paddingTop),s-=(0,ni.int)(t.paddingBottom),s}function T_(i){var s=i.clientWidth,t=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,ni.int)(t.paddingLeft),s-=(0,ni.int)(t.paddingRight),s}function C_(i,s,t){var r=s===s.ownerDocument.body,l=r?{left:0,top:0}:s.getBoundingClientRect(),c=(i.clientX+s.scrollLeft-l.left)/t,p=(i.clientY+s.scrollTop-l.top)/t;return{x:c,y:p}}function P_(i,s){var t=gc(i,s,"px");return Mp({},(0,Ap.browserPrefixToKey)("transform",Ap.default),t)}function k_(i,s){var t=gc(i,s,"");return t}function gc(i,s,t){var r=i.x,l=i.y,c="translate(".concat(r).concat(t,",").concat(l).concat(t,")");if(s){var p="".concat(typeof s.x=="string"?s.x:s.x+t),v="".concat(typeof s.y=="string"?s.y:s.y+t);c="translate(".concat(p,", ").concat(v,")")+c}return c}function A_(i,s){return i.targetTouches&&(0,ni.findInArray)(i.targetTouches,function(t){return s===t.identifier})||i.changedTouches&&(0,ni.findInArray)(i.changedTouches,function(t){return s===t.identifier})}function R_(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function O_(i){if(i){var s=i.getElementById("react-draggable-style-el");s||(s=i.createElement("style"),s.type="text/css",s.id="react-draggable-style-el",s.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,s.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(s)),i.body&&Ip(i.body,"react-draggable-transparent-selection")}}function D_(i){if(i)try{if(i.body&&Np(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{var s=(i.defaultView||window).getSelection();s&&s.type!=="Caret"&&s.removeAllRanges()}}catch{}}function Ip(i,s){i.classList?i.classList.add(s):i.className.match(new RegExp("(?:^|\\s)".concat(s,"(?!\\S)")))||(i.className+=" ".concat(s))}function Np(i,s){i.classList?i.classList.remove(s):i.className=i.className.replace(new RegExp("(?:^|\\s)".concat(s,"(?!\\S)"),"g"),"")}var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.getBoundPosition=M_,Pi.snapToGrid=B_,Pi.canDragX=I_,Pi.canDragY=N_,Pi.getControlPosition=F_,Pi.createCoreData=L_,Pi.createDraggableData=H_;var ii=Ci,xo=pn;function M_(i,s,t){if(!i.props.bounds)return[s,t];var r=i.props.bounds;r=typeof r=="string"?r:z_(r);var l=mc(i);if(typeof r=="string"){var c=l.ownerDocument,p=c.defaultView,v;if(r==="parent"?v=l.parentNode:v=c.querySelector(r),!(v instanceof p.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var y=v,b=p.getComputedStyle(l),w=p.getComputedStyle(y);r={left:-l.offsetLeft+(0,ii.int)(w.paddingLeft)+(0,ii.int)(b.marginLeft),top:-l.offsetTop+(0,ii.int)(w.paddingTop)+(0,ii.int)(b.marginTop),right:(0,xo.innerWidth)(y)-(0,xo.outerWidth)(l)-l.offsetLeft+(0,ii.int)(w.paddingRight)-(0,ii.int)(b.marginRight),bottom:(0,xo.innerHeight)(y)-(0,xo.outerHeight)(l)-l.offsetTop+(0,ii.int)(w.paddingBottom)-(0,ii.int)(b.marginBottom)}}return(0,ii.isNum)(r.right)&&(s=Math.min(s,r.right)),(0,ii.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,ii.isNum)(r.left)&&(s=Math.max(s,r.left)),(0,ii.isNum)(r.top)&&(t=Math.max(t,r.top)),[s,t]}function B_(i,s,t){var r=Math.round(s/i[0])*i[0],l=Math.round(t/i[1])*i[1];return[r,l]}function I_(i){return i.props.axis==="both"||i.props.axis==="x"}function N_(i){return i.props.axis==="both"||i.props.axis==="y"}function F_(i,s,t){var r=typeof s=="number"?(0,xo.getTouch)(i,s):null;if(typeof s=="number"&&!r)return null;var l=mc(t),c=t.props.offsetParent||l.offsetParent||l.ownerDocument.body;return(0,xo.offsetXYFromParent)(r||i,c,t.props.scale)}function L_(i,s,t){var r=i.state,l=!(0,ii.isNum)(r.lastX),c=mc(i);return l?{node:c,deltaX:0,deltaY:0,lastX:s,lastY:t,x:s,y:t}:{node:c,deltaX:s-r.lastX,deltaY:t-r.lastY,lastX:r.lastX,lastY:r.lastY,x:s,y:t}}function H_(i,s){var t=i.props.scale;return{node:s.node,x:i.state.x+s.deltaX/t,y:i.state.y+s.deltaY/t,deltaX:s.deltaX/t,deltaY:s.deltaY/t,lastX:i.state.x,lastY:i.state.y}}function z_(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function mc(i){var s=i.findDOMNode();if(!s)throw new Error("<DraggableCore>: Unmounted during event!");return s}var Ma={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.default=j_;function j_(){}function vs(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(s){return typeof s}:vs=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vs(i)}Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default=void 0;var vc=V_(wo),ri=bc(ms.exports),U_=bc(wo),Ln=pn,Nr=Pi,yc=Ci,ys=bc(Ba);function bc(i){return i&&i.__esModule?i:{default:i}}function Fp(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,t=new WeakMap;return(Fp=function(r){return r?t:s})(i)}function V_(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||vs(i)!=="object"&&typeof i!="function")return{default:i};var t=Fp(s);if(t&&t.has(i))return t.get(i);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)){var p=l?Object.getOwnPropertyDescriptor(i,c):null;p&&(p.get||p.set)?Object.defineProperty(r,c,p):r[c]=i[c]}return r.default=i,t&&t.set(i,r),r}function W_(i,s){return Z_(i)||X_(i,s)||q_(i,s)||G_()}function G_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_(i,s){if(i){if(typeof i=="string")return Lp(i,s);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lp(i,s)}}function Lp(i,s){(s==null||s>i.length)&&(s=i.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=i[t];return r}function X_(i,s){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],l=!0,c=!1,p,v;try{for(t=t.call(i);!(l=(p=t.next()).done)&&(r.push(p.value),!(s&&r.length===s));l=!0);}catch(y){c=!0,v=y}finally{try{!l&&t.return!=null&&t.return()}finally{if(c)throw v}}return r}}function Z_(i){if(Array.isArray(i))return i}function Y_(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function Hp(i,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function K_(i,s,t){return s&&Hp(i.prototype,s),t&&Hp(i,t),i}function J_(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),s&&wc(i,s)}function wc(i,s){return wc=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},wc(i,s)}function Q_(i){var s=eE();return function(){var t=Ia(i),r;if(s){var l=Ia(this).constructor;r=Reflect.construct(t,arguments,l)}else r=t.apply(this,arguments);return $_(this,r)}}function $_(i,s){if(s&&(vs(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hn(i)}function Hn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function eE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ia(i){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},Ia(i)}function pi(i,s,t){return s in i?Object.defineProperty(i,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[s]=t,i}var yi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ar=yi.mouse,Na=function(i){J_(t,i);var s=Q_(t);function t(){var r;Y_(this,t);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),pi(Hn(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),pi(Hn(r),"mounted",!1),pi(Hn(r),"handleDragStart",function(v){if(r.props.onMouseDown(v),!r.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;var y=r.findDOMNode();if(!y||!y.ownerDocument||!y.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var b=y.ownerDocument;if(!(r.props.disabled||!(v.target instanceof b.defaultView.Node)||r.props.handle&&!(0,Ln.matchesSelectorAndParentsTo)(v.target,r.props.handle,y)||r.props.cancel&&(0,Ln.matchesSelectorAndParentsTo)(v.target,r.props.cancel,y))){v.type==="touchstart"&&v.preventDefault();var w=(0,Ln.getTouchIdentifier)(v);r.setState({touchIdentifier:w});var S=(0,Nr.getControlPosition)(v,w,Hn(r));if(S!=null){var C=S.x,D=S.y,H=(0,Nr.createCoreData)(Hn(r),C,D);(0,ys.default)("DraggableCore: handleDragStart: %j",H),(0,ys.default)("calling",r.props.onStart);var Q=r.props.onStart(v,H);Q===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Ln.addUserSelectStyles)(b),r.setState({dragging:!0,lastX:C,lastY:D}),(0,Ln.addEvent)(b,ar.move,r.handleDrag),(0,Ln.addEvent)(b,ar.stop,r.handleDragStop))}}}),pi(Hn(r),"handleDrag",function(v){var y=(0,Nr.getControlPosition)(v,r.state.touchIdentifier,Hn(r));if(y!=null){var b=y.x,w=y.y;if(Array.isArray(r.props.grid)){var S=b-r.state.lastX,C=w-r.state.lastY,D=(0,Nr.snapToGrid)(r.props.grid,S,C),H=W_(D,2);if(S=H[0],C=H[1],!S&&!C)return;b=r.state.lastX+S,w=r.state.lastY+C}var Q=(0,Nr.createCoreData)(Hn(r),b,w);(0,ys.default)("DraggableCore: handleDrag: %j",Q);var G=r.props.onDrag(v,Q);if(G===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var te=document.createEvent("MouseEvents");te.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(te)}return}r.setState({lastX:b,lastY:w})}}),pi(Hn(r),"handleDragStop",function(v){if(r.state.dragging){var y=(0,Nr.getControlPosition)(v,r.state.touchIdentifier,Hn(r));if(y!=null){var b=y.x,w=y.y,S=(0,Nr.createCoreData)(Hn(r),b,w),C=r.props.onStop(v,S);if(C===!1||r.mounted===!1)return!1;var D=r.findDOMNode();D&&r.props.enableUserSelectHack&&(0,Ln.removeUserSelectStyles)(D.ownerDocument),(0,ys.default)("DraggableCore: handleDragStop: %j",S),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),D&&((0,ys.default)("DraggableCore: Removing handlers"),(0,Ln.removeEvent)(D.ownerDocument,ar.move,r.handleDrag),(0,Ln.removeEvent)(D.ownerDocument,ar.stop,r.handleDragStop))}}}),pi(Hn(r),"onMouseDown",function(v){return ar=yi.mouse,r.handleDragStart(v)}),pi(Hn(r),"onMouseUp",function(v){return ar=yi.mouse,r.handleDragStop(v)}),pi(Hn(r),"onTouchStart",function(v){return ar=yi.touch,r.handleDragStart(v)}),pi(Hn(r),"onTouchEnd",function(v){return ar=yi.touch,r.handleDragStop(v)}),r}return K_(t,[{key:"componentDidMount",value:function(){this.mounted=!0;var r=this.findDOMNode();r&&(0,Ln.addEvent)(r,yi.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.findDOMNode();if(r){var l=r.ownerDocument;(0,Ln.removeEvent)(l,yi.mouse.move,this.handleDrag),(0,Ln.removeEvent)(l,yi.touch.move,this.handleDrag),(0,Ln.removeEvent)(l,yi.mouse.stop,this.handleDragStop),(0,Ln.removeEvent)(l,yi.touch.stop,this.handleDragStop),(0,Ln.removeEvent)(r,yi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ln.removeUserSelectStyles)(l)}}},{key:"findDOMNode",value:function(){var r,l,c;return(r=(l=this.props)===null||l===void 0||(c=l.nodeRef)===null||c===void 0?void 0:c.current)!==null&&r!==void 0?r:U_.default.findDOMNode(this)}},{key:"render",value:function(){return vc.cloneElement(vc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(vc.Component);Ma.default=Na,pi(Na,"displayName","DraggableCore"),pi(Na,"propTypes",{allowAnyClick:ri.default.bool,disabled:ri.default.bool,enableUserSelectHack:ri.default.bool,offsetParent:function(i,s){if(i[s]&&i[s].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ri.default.arrayOf(ri.default.number),handle:ri.default.string,cancel:ri.default.string,nodeRef:ri.default.object,onStart:ri.default.func,onDrag:ri.default.func,onStop:ri.default.func,onMouseDown:ri.default.func,scale:ri.default.number,className:yc.dontSetMe,style:yc.dontSetMe,transform:yc.dontSetMe}),pi(Na,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(i){function s(De){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(We){return typeof We}:s=function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},s(De)}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return b.default}}),i.default=void 0;var t=H(wo),r=C(ms.exports),l=C(wo),c=C(u_),p=pn,v=Pi,y=Ci,b=C(Ma),w=C(Ba),S=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function C(De){return De&&De.__esModule?De:{default:De}}function D(De){if(typeof WeakMap!="function")return null;var We=new WeakMap,Ze=new WeakMap;return(D=function(qe){return qe?Ze:We})(De)}function H(De,We){if(!We&&De&&De.__esModule)return De;if(De===null||s(De)!=="object"&&typeof De!="function")return{default:De};var Ze=D(We);if(Ze&&Ze.has(De))return Ze.get(De);var qe={},Je=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var gt in De)if(gt!=="default"&&Object.prototype.hasOwnProperty.call(De,gt)){var Yt=Je?Object.getOwnPropertyDescriptor(De,gt):null;Yt&&(Yt.get||Yt.set)?Object.defineProperty(qe,gt,Yt):qe[gt]=De[gt]}return qe.default=De,Ze&&Ze.set(De,qe),qe}function Q(){return Q=Object.assign||function(De){for(var We=1;We<arguments.length;We++){var Ze=arguments[We];for(var qe in Ze)Object.prototype.hasOwnProperty.call(Ze,qe)&&(De[qe]=Ze[qe])}return De},Q.apply(this,arguments)}function G(De,We){if(De==null)return{};var Ze=te(De,We),qe,Je;if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(De);for(Je=0;Je<gt.length;Je++)qe=gt[Je],!(We.indexOf(qe)>=0)&&(!Object.prototype.propertyIsEnumerable.call(De,qe)||(Ze[qe]=De[qe]))}return Ze}function te(De,We){if(De==null)return{};var Ze={},qe=Object.keys(De),Je,gt;for(gt=0;gt<qe.length;gt++)Je=qe[gt],!(We.indexOf(Je)>=0)&&(Ze[Je]=De[Je]);return Ze}function P(De,We){var Ze=Object.keys(De);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(De);We&&(qe=qe.filter(function(Je){return Object.getOwnPropertyDescriptor(De,Je).enumerable})),Ze.push.apply(Ze,qe)}return Ze}function Z(De){for(var We=1;We<arguments.length;We++){var Ze=arguments[We]!=null?arguments[We]:{};We%2?P(Object(Ze),!0).forEach(function(qe){et(De,qe,Ze[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Ze)):P(Object(Ze)).forEach(function(qe){Object.defineProperty(De,qe,Object.getOwnPropertyDescriptor(Ze,qe))})}return De}function oe(De,We){return je(De)||Ie(De,We)||he(De,We)||re()}function re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function he(De,We){if(De){if(typeof De=="string")return ge(De,We);var Ze=Object.prototype.toString.call(De).slice(8,-1);if(Ze==="Object"&&De.constructor&&(Ze=De.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(De);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return ge(De,We)}}function ge(De,We){(We==null||We>De.length)&&(We=De.length);for(var Ze=0,qe=new Array(We);Ze<We;Ze++)qe[Ze]=De[Ze];return qe}function Ie(De,We){var Ze=De==null?null:typeof Symbol<"u"&&De[Symbol.iterator]||De["@@iterator"];if(Ze!=null){var qe=[],Je=!0,gt=!1,Yt,hn;try{for(Ze=Ze.call(De);!(Je=(Yt=Ze.next()).done)&&(qe.push(Yt.value),!(We&&qe.length===We));Je=!0);}catch(Ht){gt=!0,hn=Ht}finally{try{!Je&&Ze.return!=null&&Ze.return()}finally{if(gt)throw hn}}return qe}}function je(De){if(Array.isArray(De))return De}function Qe(De,We){if(!(De instanceof We))throw new TypeError("Cannot call a class as a function")}function rt(De,We){for(var Ze=0;Ze<We.length;Ze++){var qe=We[Ze];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(De,qe.key,qe)}}function $e(De,We,Ze){return We&&rt(De.prototype,We),Ze&&rt(De,Ze),De}function pt(De,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(We&&We.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),We&&ft(De,We)}function ft(De,We){return ft=Object.setPrototypeOf||function(Ze,qe){return Ze.__proto__=qe,Ze},ft(De,We)}function Tt(De){var We=Ut();return function(){var Ze=Jt(De),qe;if(We){var Je=Jt(this).constructor;qe=Reflect.construct(Ze,arguments,Je)}else qe=Ze.apply(this,arguments);return xt(this,qe)}}function xt(De,We){if(We&&(s(We)==="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return At(De)}function At(De){if(De===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}function Ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jt(De){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(We){return We.__proto__||Object.getPrototypeOf(We)},Jt(De)}function et(De,We,Ze){return We in De?Object.defineProperty(De,We,{value:Ze,enumerable:!0,configurable:!0,writable:!0}):De[We]=Ze,De}var Dt=function(De){pt(Ze,De);var We=Tt(Ze);function Ze(qe){var Je;return Qe(this,Ze),Je=We.call(this,qe),et(At(Je),"onDragStart",function(gt,Yt){(0,w.default)("Draggable: onDragStart: %j",Yt);var hn=Je.props.onStart(gt,(0,v.createDraggableData)(At(Je),Yt));if(hn===!1)return!1;Je.setState({dragging:!0,dragged:!0})}),et(At(Je),"onDrag",function(gt,Yt){if(!Je.state.dragging)return!1;(0,w.default)("Draggable: onDrag: %j",Yt);var hn=(0,v.createDraggableData)(At(Je),Yt),Ht={x:hn.x,y:hn.y};if(Je.props.bounds){var gi=Ht.x,Kn=Ht.y;Ht.x+=Je.state.slackX,Ht.y+=Je.state.slackY;var li=(0,v.getBoundPosition)(At(Je),Ht.x,Ht.y),k=oe(li,2),ee=k[0],we=k[1];Ht.x=ee,Ht.y=we,Ht.slackX=Je.state.slackX+(gi-Ht.x),Ht.slackY=Je.state.slackY+(Kn-Ht.y),hn.x=Ht.x,hn.y=Ht.y,hn.deltaX=Ht.x-Je.state.x,hn.deltaY=Ht.y-Je.state.y}var He=Je.props.onDrag(gt,hn);if(He===!1)return!1;Je.setState(Ht)}),et(At(Je),"onDragStop",function(gt,Yt){if(!Je.state.dragging)return!1;var hn=Je.props.onStop(gt,(0,v.createDraggableData)(At(Je),Yt));if(hn===!1)return!1;(0,w.default)("Draggable: onDragStop: %j",Yt);var Ht={dragging:!1,slackX:0,slackY:0},gi=Boolean(Je.props.position);if(gi){var Kn=Je.props.position,li=Kn.x,k=Kn.y;Ht.x=li,Ht.y=k}Je.setState(Ht)}),Je.state={dragging:!1,dragged:!1,x:qe.position?qe.position.x:qe.defaultPosition.x,y:qe.position?qe.position.y:qe.defaultPosition.y,prevPropsPosition:Z({},qe.position),slackX:0,slackY:0,isElementSVG:!1},qe.position&&!(qe.onDrag||qe.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Je}return $e(Ze,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var qe,Je,gt;return(qe=(Je=this.props)===null||Je===void 0||(gt=Je.nodeRef)===null||gt===void 0?void 0:gt.current)!==null&&qe!==void 0?qe:l.default.findDOMNode(this)}},{key:"render",value:function(){var qe,Je=this.props;Je.axis,Je.bounds;var gt=Je.children,Yt=Je.defaultPosition,hn=Je.defaultClassName,Ht=Je.defaultClassNameDragging,gi=Je.defaultClassNameDragged,Kn=Je.position,li=Je.positionOffset;Je.scale;var k=G(Je,S),ee={},we=null,He=Boolean(Kn),Oe=!He||this.state.dragging,ht=Kn||Yt,tt={x:(0,v.canDragX)(this)&&Oe?this.state.x:ht.x,y:(0,v.canDragY)(this)&&Oe?this.state.y:ht.y};this.state.isElementSVG?we=(0,p.createSVGTransform)(tt,li):ee=(0,p.createCSSTransform)(tt,li);var Vt=(0,c.default)(gt.props.className||"",hn,(qe={},et(qe,Ht,this.state.dragging),et(qe,gi,this.state.dragged),qe));return t.createElement(b.default,Q({},k,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(gt),{className:Vt,style:Z(Z({},gt.props.style),ee),transform:we}))}}],[{key:"getDerivedStateFromProps",value:function(qe,Je){var gt=qe.position,Yt=Je.prevPropsPosition;return gt&&(!Yt||gt.x!==Yt.x||gt.y!==Yt.y)?((0,w.default)("Draggable: getDerivedStateFromProps %j",{position:gt,prevPropsPosition:Yt}),{x:gt.x,y:gt.y,prevPropsPosition:Z({},gt)}):null}}]),Ze}(t.Component);i.default=Dt,et(Dt,"displayName","Draggable"),et(Dt,"propTypes",Z(Z({},b.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe})),et(Dt,"defaultProps",Z(Z({},b.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Ep);var zp=Ep,jp=zp.default,tE=zp.DraggableCore;Ra.exports=jp,Ra.exports.default=jp,Ra.exports.DraggableCore=tE;var nE=Ra.exports,iE=["second","minute","hour","day","week","month","year"];function rE(i,s){if(s===0)return["just now","right now"];var t=iE[Math.floor(s/2)];return i>1&&(t+="s"),[i+" "+t+" ago","in "+i+" "+t]}var oE=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function sE(i,s){if(s===0)return["\u521A\u521A","\u7247\u523B\u540E"];var t=oE[~~(s/2)];return[i+" "+t+"\u524D",i+" "+t+"\u540E"]}var xc={},gn=function(i,s){xc[i]=s},Up=function(i){return xc[i]||xc.en_US},Fr=[60,60,24,7,365/7/12,12];function Vp(i){return i instanceof Date?i:!isNaN(i)||/^\d+$/.test(i)?new Date(parseInt(i)):(i=(i||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(i))}function Wp(i,s){var t=i<0?1:0;i=Math.abs(i);for(var r=i,l=0;i>=Fr[l]&&l<Fr.length;l++)i/=Fr[l];return i=Math.floor(i),l*=2,i>(l===0?9:1)&&(l+=1),s(i,l,r)[t].replace("%s",i.toString())}function Gp(i,s){var t=s?Vp(s):new Date;return(+t-+Vp(i))/1e3}function aE(i){for(var s=1,t=0,r=Math.abs(i);i>=Fr[t]&&t<Fr.length;t++)i/=Fr[t],s*=Fr[t];return r=r%s,r=r?s-r:s,Math.ceil(r)}var lE=function(i,s,t){var r=Gp(i,t&&t.relativeDate);return Wp(r,Up(s))},qp="timeago-id";function uE(i){return i.getAttribute("datetime")}function cE(i,s){i.setAttribute(qp,s)}function Xp(i){return parseInt(i.getAttribute(qp))}var _c={},Ec=function(i){clearTimeout(i),delete _c[i]};function Zp(i,s,t,r){Ec(Xp(i));var l=r.relativeDate,c=r.minInterval,p=Gp(s,l);i.innerText=Wp(p,t);var v=setTimeout(function(){Zp(i,s,t,r)},Math.min(Math.max(aE(p),c||1)*1e3,2147483647));_c[v]=0,cE(i,v)}function Yp(i){i?Ec(Xp(i)):Object.keys(_c).forEach(Ec)}function hE(i,s,t){var r=i.length?i:[i];return r.forEach(function(l){Zp(l,uE(l),Up(s),t||{})}),r}gn("en_US",rE),gn("zh_CN",sE);var dE=globalThis&&globalThis.__extends||function(){var i=function(s,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)l.hasOwnProperty(c)&&(r[c]=l[c])},i(s,t)};return function(s,t){i(s,t);function r(){this.constructor=s}s.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sc=globalThis&&globalThis.__assign||function(){return Sc=Object.assign||function(i){for(var s,t=1,r=arguments.length;t<r;t++){s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},Sc.apply(this,arguments)},fE=globalThis&&globalThis.__rest||function(i,s){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)s.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(t[r[l]]=i[r[l]]);return t},pE=function(i){return""+(i instanceof Date?i.getTime():i)},gE=function(i){dE(s,i);function s(){var t=i!==null&&i.apply(this,arguments)||this;return t.dom=null,t}return s.prototype.componentDidMount=function(){this.renderTimeAgo()},s.prototype.componentDidUpdate=function(){this.renderTimeAgo()},s.prototype.renderTimeAgo=function(){var t=this.props,r=t.live,l=t.datetime,c=t.locale,p=t.opts;Yp(this.dom),r!==!1&&(this.dom.setAttribute("datetime",pE(l)),hE(this.dom,c,p))},s.prototype.componentWillUnmount=function(){Yp(this.dom)},s.prototype.render=function(){var t=this,r=this.props,l=r.datetime;r.live;var c=r.locale,p=r.opts,v=fE(r,["datetime","live","locale","opts"]);return L("time",Sc({ref:function(y){t.dom=y}},v),lE(l,c,p))},s.defaultProps={live:!0,className:""},s}(or);function mE(i,s){const t=r=>{i.current&&!i.current.contains(event.target)&&s()};Pe(()=>(document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)))}var Kp=Object.prototype.toString,Jp=function(i){var s=Kp.call(i),t=s==="[object Arguments]";return t||(t=s!=="[object Array]"&&i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Kp.call(i.callee)==="[object Function]"),t},Qp;if(!Object.keys){var Fa=Object.prototype.hasOwnProperty,$p=Object.prototype.toString,vE=Jp,eg=Object.prototype.propertyIsEnumerable,yE=!eg.call({toString:null},"toString"),bE=eg.call(function(){},"prototype"),La=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Tc=function(i){var s=i.constructor;return s&&s.prototype===i},wE={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xE=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!wE["$"+i]&&Fa.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{Tc(window[i])}catch{return!0}}catch{return!0}return!1}(),_E=function(i){if(typeof window>"u"||!xE)return Tc(i);try{return Tc(i)}catch{return!1}};Qp=function(i){var s=i!==null&&typeof i=="object",t=$p.call(i)==="[object Function]",r=vE(i),l=s&&$p.call(i)==="[object String]",c=[];if(!s&&!t&&!r)throw new TypeError("Object.keys called on a non-object");var p=bE&&t;if(l&&i.length>0&&!Fa.call(i,0))for(var v=0;v<i.length;++v)c.push(String(v));if(r&&i.length>0)for(var y=0;y<i.length;++y)c.push(String(y));else for(var b in i)!(p&&b==="prototype")&&Fa.call(i,b)&&c.push(String(b));if(yE)for(var w=_E(i),S=0;S<La.length;++S)!(w&&La[S]==="constructor")&&Fa.call(i,La[S])&&c.push(La[S]);return c}}var EE=Qp,SE=Array.prototype.slice,TE=Jp,tg=Object.keys,Ha=tg?function(i){return tg(i)}:EE,ng=Object.keys;Ha.shim=function(){if(Object.keys){var i=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);i||(Object.keys=function(s){return TE(s)?ng(SE.call(s)):ng(s)})}else Object.keys=Ha;return Object.keys||Ha};var CE=Ha,PE=CE,kE=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",AE=Object.prototype.toString,RE=Array.prototype.concat,Cc=Object.defineProperty,OE=function(i){return typeof i=="function"&&AE.call(i)==="[object Function]"},DE=function(){var i={};try{Cc(i,"x",{enumerable:!1,value:i});for(var s in i)return!1;return i.x===i}catch{return!1}},ig=Cc&&DE(),ME=function(i,s,t,r){s in i&&(!OE(r)||!r())||(ig?Cc(i,s,{configurable:!0,enumerable:!1,value:t,writable:!0}):i[s]=t)},rg=function(i,s){var t=arguments.length>2?arguments[2]:{},r=PE(s);kE&&(r=RE.call(r,Object.getOwnPropertySymbols(s)));for(var l=0;l<r.length;l+=1)ME(i,r[l],s[r[l]],t[r[l]])};rg.supportsDescriptors=!!ig;var _o=rg,Eo={exports:{}},BE="Function.prototype.bind called on incompatible ",Pc=Array.prototype.slice,IE=Object.prototype.toString,NE="[object Function]",FE=function(i){var s=this;if(typeof s!="function"||IE.call(s)!==NE)throw new TypeError(BE+s);for(var t=Pc.call(arguments,1),r,l=function(){if(this instanceof r){var b=s.apply(this,t.concat(Pc.call(arguments)));return Object(b)===b?b:this}else return s.apply(i,t.concat(Pc.call(arguments)))},c=Math.max(0,s.length-t.length),p=[],v=0;v<c;v++)p.push("$"+v);if(r=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var y=function(){};y.prototype=s.prototype,r.prototype=new y,y.prototype=null}return r},LE=FE,kc=Function.prototype.bind||LE,og=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},s=Symbol("test"),t=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var r=42;i[s]=r;for(s in i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var l=Object.getOwnPropertySymbols(i);if(l.length!==1||l[0]!==s||!Object.prototype.propertyIsEnumerable.call(i,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(i,s);if(c.value!==r||c.enumerable!==!0)return!1}return!0},sg=typeof Symbol<"u"&&Symbol,HE=og,ag=function(){return typeof sg!="function"||typeof Symbol!="function"||typeof sg("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:HE()},zE=kc,lg=zE.call(Function.call,Object.prototype.hasOwnProperty),Lt,bs=SyntaxError,ug=Function,So=TypeError,Ac=function(i){try{return ug('"use strict"; return ('+i+").constructor;")()}catch{}},Lr=Object.getOwnPropertyDescriptor;if(Lr)try{Lr({},"")}catch{Lr=null}var Rc=function(){throw new So},jE=Lr?function(){try{return arguments.callee,Rc}catch{try{return Lr(arguments,"callee").get}catch{return Rc}}}():Rc,To=ag(),lr=Object.getPrototypeOf||function(i){return i.__proto__},Co={},UE=typeof Uint8Array>"u"?Lt:lr(Uint8Array),Po={"%AggregateError%":typeof AggregateError>"u"?Lt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lt:ArrayBuffer,"%ArrayIteratorPrototype%":To?lr([][Symbol.iterator]()):Lt,"%AsyncFromSyncIteratorPrototype%":Lt,"%AsyncFunction%":Co,"%AsyncGenerator%":Co,"%AsyncGeneratorFunction%":Co,"%AsyncIteratorPrototype%":Co,"%Atomics%":typeof Atomics>"u"?Lt:Atomics,"%BigInt%":typeof BigInt>"u"?Lt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Lt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lt:FinalizationRegistry,"%Function%":ug,"%GeneratorFunction%":Co,"%Int8Array%":typeof Int8Array>"u"?Lt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":To?lr(lr([][Symbol.iterator]())):Lt,"%JSON%":typeof JSON=="object"?JSON:Lt,"%Map%":typeof Map>"u"?Lt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!To?Lt:lr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lt:Promise,"%Proxy%":typeof Proxy>"u"?Lt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Lt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!To?Lt:lr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":To?lr(""[Symbol.iterator]()):Lt,"%Symbol%":To?Symbol:Lt,"%SyntaxError%":bs,"%ThrowTypeError%":jE,"%TypedArray%":UE,"%TypeError%":So,"%Uint8Array%":typeof Uint8Array>"u"?Lt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Lt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lt:WeakSet},VE=function i(s){var t;if(s==="%AsyncFunction%")t=Ac("async function () {}");else if(s==="%GeneratorFunction%")t=Ac("function* () {}");else if(s==="%AsyncGeneratorFunction%")t=Ac("async function* () {}");else if(s==="%AsyncGenerator%"){var r=i("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(s==="%AsyncIteratorPrototype%"){var l=i("%AsyncGenerator%");l&&(t=lr(l.prototype))}return Po[s]=t,t},cg={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},za=kc,ja=lg,WE=za.call(Function.call,Array.prototype.concat),GE=za.call(Function.apply,Array.prototype.splice),hg=za.call(Function.call,String.prototype.replace),Ua=za.call(Function.call,String.prototype.slice),qE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XE=/\\(\\)?/g,ZE=function(i){var s=Ua(i,0,1),t=Ua(i,-1);if(s==="%"&&t!=="%")throw new bs("invalid intrinsic syntax, expected closing `%`");if(t==="%"&&s!=="%")throw new bs("invalid intrinsic syntax, expected opening `%`");var r=[];return hg(i,qE,function(l,c,p,v){r[r.length]=p?hg(v,XE,"$1"):c||l}),r},YE=function(i,s){var t=i,r;if(ja(cg,t)&&(r=cg[t],t="%"+r[0]+"%"),ja(Po,t)){var l=Po[t];if(l===Co&&(l=VE(t)),typeof l>"u"&&!s)throw new So("intrinsic "+i+" exists, but is not available. Please file an issue!");return{alias:r,name:t,value:l}}throw new bs("intrinsic "+i+" does not exist!")},Gn=function(i,s){if(typeof i!="string"||i.length===0)throw new So("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!="boolean")throw new So('"allowMissing" argument must be a boolean');var t=ZE(i),r=t.length>0?t[0]:"",l=YE("%"+r+"%",s),c=l.name,p=l.value,v=!1,y=l.alias;y&&(r=y[0],GE(t,WE([0,1],y)));for(var b=1,w=!0;b<t.length;b+=1){var S=t[b],C=Ua(S,0,1),D=Ua(S,-1);if((C==='"'||C==="'"||C==="`"||D==='"'||D==="'"||D==="`")&&C!==D)throw new bs("property names with quotes must have matching quotes");if((S==="constructor"||!w)&&(v=!0),r+="."+S,c="%"+r+"%",ja(Po,c))p=Po[c];else if(p!=null){if(!(S in p)){if(!s)throw new So("base intrinsic for "+i+" exists, but the property is not available.");return}if(Lr&&b+1>=t.length){var H=Lr(p,S);w=!!H,w&&"get"in H&&!("originalValue"in H.get)?p=H.get:p=p[S]}else w=ja(p,S),p=p[S];w&&!v&&(Po[c]=p)}}return p};(function(i){var s=kc,t=Gn,r=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),c=t("%Reflect.apply%",!0)||s.call(l,r),p=t("%Object.getOwnPropertyDescriptor%",!0),v=t("%Object.defineProperty%",!0),y=t("%Math.max%");if(v)try{v({},"a",{value:1})}catch{v=null}i.exports=function(w){var S=c(s,l,arguments);if(p&&v){var C=p(S,"length");C.configurable&&v(S,"length",{value:1+y(0,w.length-(arguments.length-1))})}return S};var b=function(){return c(s,r,arguments)};v?v(i.exports,"apply",{value:b}):i.exports.apply=b})(Eo);var dg=Gn,fg=Eo.exports,KE=fg(dg("String.prototype.indexOf")),Hr=function(i,s){var t=dg(i,!!s);return typeof t=="function"&&KE(i,".prototype.")>-1?fg(t):t},JE=Gn,QE=JE("%TypeError%"),$E=function(i,s){if(i==null)throw new QE(s||"Cannot call method on "+i);return i},Va=$E,eS=Gn,pg=eS("%Array%"),tS=!pg.isArray&&Hr("Object.prototype.toString"),nS=pg.isArray||function(i){return tS(i)==="[object Array]"},gg=Gn,iS=Hr,rS=gg("%TypeError%"),oS=nS,sS=gg("%Reflect.apply%",!0)||iS("%Function.prototype.apply%"),aS=function(i,s){var t=arguments.length>2?arguments[2]:[];if(!oS(t))throw new rS("Assertion failed: optional `argumentsList`, if provided, must be a List");return sS(i,s,t)},lS={},uS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lS}),cS=ka(uS),Oc=typeof Map=="function"&&Map.prototype,Dc=Object.getOwnPropertyDescriptor&&Oc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wa=Oc&&Dc&&typeof Dc.get=="function"?Dc.get:null,hS=Oc&&Map.prototype.forEach,Mc=typeof Set=="function"&&Set.prototype,Bc=Object.getOwnPropertyDescriptor&&Mc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ga=Mc&&Bc&&typeof Bc.get=="function"?Bc.get:null,dS=Mc&&Set.prototype.forEach,fS=typeof WeakMap=="function"&&WeakMap.prototype,ws=fS?WeakMap.prototype.has:null,pS=typeof WeakSet=="function"&&WeakSet.prototype,xs=pS?WeakSet.prototype.has:null,gS=typeof WeakRef=="function"&&WeakRef.prototype,mg=gS?WeakRef.prototype.deref:null,mS=Boolean.prototype.valueOf,vS=Object.prototype.toString,yS=Function.prototype.toString,bS=String.prototype.match,Ic=String.prototype.slice,ur=String.prototype.replace,wS=String.prototype.toUpperCase,vg=String.prototype.toLowerCase,yg=RegExp.prototype.test,bg=Array.prototype.concat,ki=Array.prototype.join,xS=Array.prototype.slice,wg=Math.floor,Nc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fc=Object.getOwnPropertySymbols,Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ko=typeof Symbol=="function"&&typeof Symbol.iterator=="object",zn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ko?"object":"symbol")?Symbol.toStringTag:null,xg=Object.prototype.propertyIsEnumerable,_g=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Eg(i,s){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||yg.call(/e/,s))return s;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var r=i<0?-wg(-i):wg(i);if(r!==i){var l=String(r),c=Ic.call(s,l.length+1);return ur.call(l,t,"$&_")+"."+ur.call(ur.call(c,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ur.call(s,t,"$&_")}var Hc=cS.custom,zc=Hc&&Tg(Hc)?Hc:null,_S=function i(s,t,r,l){var c=t||{};if(cr(c,"quoteStyle")&&c.quoteStyle!=="single"&&c.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(cr(c,"maxStringLength")&&(typeof c.maxStringLength=="number"?c.maxStringLength<0&&c.maxStringLength!==1/0:c.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=cr(c,"customInspect")?c.customInspect:!0;if(typeof p!="boolean"&&p!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(cr(c,"indent")&&c.indent!==null&&c.indent!=="	"&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(cr(c,"numericSeparator")&&typeof c.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=c.numericSeparator;if(typeof s>"u")return"undefined";if(s===null)return"null";if(typeof s=="boolean")return s?"true":"false";if(typeof s=="string")return Pg(s,c);if(typeof s=="number"){if(s===0)return 1/0/s>0?"0":"-0";var y=String(s);return v?Eg(s,y):y}if(typeof s=="bigint"){var b=String(s)+"n";return v?Eg(s,b):b}var w=typeof c.depth>"u"?5:c.depth;if(typeof r>"u"&&(r=0),r>=w&&w>0&&typeof s=="object")return jc(s)?"[Array]":"[Object]";var S=jS(c,r);if(typeof l>"u")l=[];else if(Cg(l,s)>=0)return"[Circular]";function C(pt,ft,Tt){if(ft&&(l=xS.call(l),l.push(ft)),Tt){var xt={depth:c.depth};return cr(c,"quoteStyle")&&(xt.quoteStyle=c.quoteStyle),i(pt,xt,r+1,l)}return i(pt,c,r+1,l)}if(typeof s=="function"){var D=DS(s),H=qa(s,C);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(H.length>0?" { "+ki.call(H,", ")+" }":"")}if(Tg(s)){var Q=ko?ur.call(String(s),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lc.call(s);return typeof s=="object"&&!ko?_s(Q):Q}if(LS(s)){for(var G="<"+vg.call(String(s.nodeName)),te=s.attributes||[],P=0;P<te.length;P++)G+=" "+te[P].name+"="+Sg(ES(te[P].value),"double",c);return G+=">",s.childNodes&&s.childNodes.length&&(G+="..."),G+="</"+vg.call(String(s.nodeName))+">",G}if(jc(s)){if(s.length===0)return"[]";var Z=qa(s,C);return S&&!zS(Z)?"["+Vc(Z,S)+"]":"[ "+ki.call(Z,", ")+" ]"}if(CS(s)){var oe=qa(s,C);return"cause"in s&&!xg.call(s,"cause")?"{ ["+String(s)+"] "+ki.call(bg.call("[cause]: "+C(s.cause),oe),", ")+" }":oe.length===0?"["+String(s)+"]":"{ ["+String(s)+"] "+ki.call(oe,", ")+" }"}if(typeof s=="object"&&p){if(zc&&typeof s[zc]=="function")return s[zc]();if(p!=="symbol"&&typeof s.inspect=="function")return s.inspect()}if(MS(s)){var re=[];return hS.call(s,function(pt,ft){re.push(C(ft,s,!0)+" => "+C(pt,s))}),kg("Map",Wa.call(s),re,S)}if(NS(s)){var he=[];return dS.call(s,function(pt){he.push(C(pt,s))}),kg("Set",Ga.call(s),he,S)}if(BS(s))return Uc("WeakMap");if(FS(s))return Uc("WeakSet");if(IS(s))return Uc("WeakRef");if(kS(s))return _s(C(Number(s)));if(RS(s))return _s(C(Nc.call(s)));if(AS(s))return _s(mS.call(s));if(PS(s))return _s(C(String(s)));if(!SS(s)&&!TS(s)){var ge=qa(s,C),Ie=_g?_g(s)===Object.prototype:s instanceof Object||s.constructor===Object,je=s instanceof Object?"":"null prototype",Qe=!Ie&&zn&&Object(s)===s&&zn in s?Ic.call(hr(s),8,-1):je?"Object":"",rt=Ie||typeof s.constructor!="function"?"":s.constructor.name?s.constructor.name+" ":"",$e=rt+(Qe||je?"["+ki.call(bg.call([],Qe||[],je||[]),": ")+"] ":"");return ge.length===0?$e+"{}":S?$e+"{"+Vc(ge,S)+"}":$e+"{ "+ki.call(ge,", ")+" }"}return String(s)};function Sg(i,s,t){var r=(t.quoteStyle||s)==="double"?'"':"'";return r+i+r}function ES(i){return ur.call(String(i),/"/g,"&quot;")}function jc(i){return hr(i)==="[object Array]"&&(!zn||!(typeof i=="object"&&zn in i))}function SS(i){return hr(i)==="[object Date]"&&(!zn||!(typeof i=="object"&&zn in i))}function TS(i){return hr(i)==="[object RegExp]"&&(!zn||!(typeof i=="object"&&zn in i))}function CS(i){return hr(i)==="[object Error]"&&(!zn||!(typeof i=="object"&&zn in i))}function PS(i){return hr(i)==="[object String]"&&(!zn||!(typeof i=="object"&&zn in i))}function kS(i){return hr(i)==="[object Number]"&&(!zn||!(typeof i=="object"&&zn in i))}function AS(i){return hr(i)==="[object Boolean]"&&(!zn||!(typeof i=="object"&&zn in i))}function Tg(i){if(ko)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!Lc)return!1;try{return Lc.call(i),!0}catch{}return!1}function RS(i){if(!i||typeof i!="object"||!Nc)return!1;try{return Nc.call(i),!0}catch{}return!1}var OS=Object.prototype.hasOwnProperty||function(i){return i in this};function cr(i,s){return OS.call(i,s)}function hr(i){return vS.call(i)}function DS(i){if(i.name)return i.name;var s=bS.call(yS.call(i),/^function\s*([\w$]+)/);return s?s[1]:null}function Cg(i,s){if(i.indexOf)return i.indexOf(s);for(var t=0,r=i.length;t<r;t++)if(i[t]===s)return t;return-1}function MS(i){if(!Wa||!i||typeof i!="object")return!1;try{Wa.call(i);try{Ga.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function BS(i){if(!ws||!i||typeof i!="object")return!1;try{ws.call(i,ws);try{xs.call(i,xs)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function IS(i){if(!mg||!i||typeof i!="object")return!1;try{return mg.call(i),!0}catch{}return!1}function NS(i){if(!Ga||!i||typeof i!="object")return!1;try{Ga.call(i);try{Wa.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function FS(i){if(!xs||!i||typeof i!="object")return!1;try{xs.call(i,xs);try{ws.call(i,ws)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function LS(i){return!i||typeof i!="object"?!1:typeof HTMLElement<"u"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function Pg(i,s){if(i.length>s.maxStringLength){var t=i.length-s.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return Pg(Ic.call(i,0,s.maxStringLength),s)+r}var l=ur.call(ur.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,HS);return Sg(l,"single",s)}function HS(i){var s=i.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[s];return t?"\\"+t:"\\x"+(s<16?"0":"")+wS.call(s.toString(16))}function _s(i){return"Object("+i+")"}function Uc(i){return i+" { ? }"}function kg(i,s,t,r){var l=r?Vc(t,r):ki.call(t,", ");return i+" ("+s+") {"+l+"}"}function zS(i){for(var s=0;s<i.length;s++)if(Cg(i[s],`
`)>=0)return!1;return!0}function jS(i,s){var t;if(i.indent==="	")t="	";else if(typeof i.indent=="number"&&i.indent>0)t=ki.call(Array(i.indent+1)," ");else return null;return{base:t,prev:ki.call(Array(s+1),t)}}function Vc(i,s){if(i.length===0)return"";var t=`
`+s.prev+s.base;return t+ki.call(i,","+t)+`
`+s.prev}function qa(i,s){var t=jc(i),r=[];if(t){r.length=i.length;for(var l=0;l<i.length;l++)r[l]=cr(i,l)?s(i[l],i):""}var c=typeof Fc=="function"?Fc(i):[],p;if(ko){p={};for(var v=0;v<c.length;v++)p["$"+c[v]]=c[v]}for(var y in i)!cr(i,y)||t&&String(Number(y))===y&&y<i.length||ko&&p["$"+y]instanceof Symbol||(yg.call(/[^\w$]/,y)?r.push(s(y,i)+": "+s(i[y],i)):r.push(y+": "+s(i[y],i)));if(typeof Fc=="function")for(var b=0;b<c.length;b++)xg.call(i,c[b])&&r.push("["+s(c[b])+"]: "+s(i[c[b]],i));return r}var Ag=function(i){return typeof i=="string"||typeof i=="symbol"},US=function(i){if(i===null)return"Null";if(typeof i>"u")return"Undefined";if(typeof i=="function"||typeof i=="object")return"Object";if(typeof i=="number")return"Number";if(typeof i=="boolean")return"Boolean";if(typeof i=="string")return"String"},VS=US,Wc=function(i){return typeof i=="symbol"?"Symbol":typeof i=="bigint"?"BigInt":VS(i)},WS=Gn,Rg=WS("%TypeError%"),GS=_S,qS=Ag,XS=Wc,Og=function(i,s){if(XS(i)!=="Object")throw new Rg("Assertion failed: Type(O) is not Object");if(!qS(s))throw new Rg("Assertion failed: IsPropertyKey(P) is not true, got "+GS(s));return i[s]},ZS=Gn,Dg=ZS("%TypeError%"),YS=Ag,KS=Wc,JS=function(i,s){if(KS(i)!=="Object")throw new Dg("Assertion failed: `O` must be an Object");if(!YS(s))throw new Dg("Assertion failed: `P` must be a Property Key");return s in i},Mg=Function.prototype.toString,Ao=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Gc,Xa;if(typeof Ao=="function"&&typeof Object.defineProperty=="function")try{Gc=Object.defineProperty({},"length",{get:function(){throw Xa}}),Xa={},Ao(function(){throw 42},null,Gc)}catch(i){i!==Xa&&(Ao=null)}else Ao=null;var QS=/^\s*class\b/,qc=function(i){try{var s=Mg.call(i);return QS.test(s)}catch{return!1}},$S=function(i){try{return qc(i)?!1:(Mg.call(i),!0)}catch{return!1}},e2=Object.prototype.toString,t2="[object Function]",n2="[object GeneratorFunction]",i2=typeof Symbol=="function"&&!!Symbol.toStringTag,Bg=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},Xc=Ao?function(i){if(i===Bg)return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(typeof i=="function"&&!i.prototype)return!0;try{Ao(i,null,Gc)}catch(s){if(s!==Xa)return!1}return!qc(i)}:function(i){if(i===Bg)return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(typeof i=="function"&&!i.prototype)return!0;if(i2)return $S(i);if(qc(i))return!1;var s=e2.call(i);return s===t2||s===n2},r2=Xc,Ig=Gn,o2=Ig("%Math%"),s2=Ig("%Number%"),a2=s2.MAX_SAFE_INTEGER||o2.pow(2,53)-1,l2=Gn,u2=l2("%Math.abs%"),c2=function(i){return u2(i)},h2=Math.floor,d2=function(i){return h2(i)},Ng=function(i){return i===null||typeof i!="function"&&typeof i!="object"},f2=Object.prototype.toString,Fg=Ng,p2=Xc,Lg={"[[DefaultValue]]":function(i){var s;if(arguments.length>1?s=arguments[1]:s=f2.call(i)==="[object Date]"?String:Number,s===String||s===Number){var t=s===String?["toString","valueOf"]:["valueOf","toString"],r,l;for(l=0;l<t.length;++l)if(p2(i[t[l]])&&(r=i[t[l]](),Fg(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},g2=function(i){return Fg(i)?i:arguments.length>1?Lg["[[DefaultValue]]"](i,arguments[1]):Lg["[[DefaultValue]]"](i)},m2=g2,v2=m2,y2=function(i){var s=v2(i,Number);if(typeof s!="string")return+s;var t=s.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(t)?NaN:+t},b2=Number.isNaN||function(i){return i!==i},w2=Number.isNaN||function(i){return i!==i},x2=Number.isFinite||function(i){return typeof i=="number"&&!w2(i)&&i!==1/0&&i!==-1/0},_2=function(i){return i>=0?1:-1},E2=c2,S2=d2,T2=y2,C2=b2,P2=x2,k2=_2,A2=function(i){var s=T2(i);return C2(s)?0:s===0||!P2(s)?s:k2(s)*S2(E2(s))},R2=Gn,O2=R2("RegExp.prototype.test"),D2=Eo.exports,M2=function(i){return D2(O2,i)},B2=function(i){return i===null||typeof i!="function"&&typeof i!="object"},I2=og,Hg=function(){return I2()&&!!Symbol.toStringTag},N2=Date.prototype.getDay,F2=function(i){try{return N2.call(i),!0}catch{return!1}},L2=Object.prototype.toString,H2="[object Date]",z2=Hg(),j2=function(i){return typeof i!="object"||i===null?!1:z2?F2(i):L2.call(i)===H2},Zc={exports:{}},U2=Object.prototype.toString,V2=ag();if(V2){var W2=Symbol.prototype.toString,G2=/^Symbol\(.*\)$/,q2=function(i){return typeof i.valueOf()!="symbol"?!1:G2.test(W2.call(i))};Zc.exports=function(i){if(typeof i=="symbol")return!0;if(U2.call(i)!=="[object Symbol]")return!1;try{return q2(i)}catch{return!1}}}else Zc.exports=function(i){return!1};var X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Yc=Ng,zg=Xc,Z2=j2,jg=Zc.exports,Y2=function(i,s){if(typeof i>"u"||i===null)throw new TypeError("Cannot call method on "+i);if(typeof s!="string"||s!=="number"&&s!=="string")throw new TypeError('hint must be "string" or "number"');var t=s==="string"?["toString","valueOf"]:["valueOf","toString"],r,l,c;for(c=0;c<t.length;++c)if(r=i[t[c]],zg(r)&&(l=r.call(i),Yc(l)))return l;throw new TypeError("No default value")},K2=function(i,s){var t=i[s];if(t!==null&&typeof t<"u"){if(!zg(t))throw new TypeError(t+" returned for property "+s+" of object "+i+" is not a function");return t}},J2=function(i){if(Yc(i))return i;var s="default";arguments.length>1&&(arguments[1]===String?s="string":arguments[1]===Number&&(s="number"));var t;if(X2&&(Symbol.toPrimitive?t=K2(i,Symbol.toPrimitive):jg(i)&&(t=Symbol.prototype.valueOf)),typeof t<"u"){var r=t.call(i,s);if(Yc(r))return r;throw new TypeError("unable to convert exotic object to primitive")}return s==="default"&&(Z2(i)||jg(i))&&(s="string"),Y2(i,s==="default"?"number":s)},Ug=J2,Q2=function(i){return arguments.length>1?Ug(i,arguments[1]):Ug(i)},Za=Gn,Vg=Za("%TypeError%"),Wg=Za("%Number%"),$2=Za("%RegExp%"),Gg=Za("%parseInt%"),qg=Hr,Ya=M2,eT=B2,Xg=qg("String.prototype.slice"),tT=Ya(/^0b[01]+$/i),nT=Ya(/^0o[0-7]+$/i),iT=Ya(/^[-+]0x[0-9a-f]+$/i),rT=["\x85","\u200B","\uFFFE"].join(""),oT=new $2("["+rT+"]","g"),sT=Ya(oT),Zg=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),aT=new RegExp("(^["+Zg+"]+)|(["+Zg+"]+$)","g"),lT=qg("String.prototype.replace"),uT=function(i){return lT(i,aT,"")},cT=Q2,hT=function i(s){var t=eT(s)?s:cT(s,Wg);if(typeof t=="symbol")throw new Vg("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new Vg("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof t=="string"){if(tT(t))return i(Gg(Xg(t,2),2));if(nT(t))return i(Gg(Xg(t,2),8));if(sT(t)||iT(t))return NaN;var r=uT(t);if(r!==t)return i(r)}return Wg(t)},dT=A2,fT=hT,pT=function(i){var s=fT(i);return s!==0&&(s=dT(s)),s===0?0:s},Yg=a2,gT=pT,mT=function(i){var s=gT(i);return s<=0?0:s>Yg?Yg:s},vT=Gn,yT=vT("%TypeError%"),bT=Og,wT=mT,xT=Wc,_T=function(i){if(xT(i)!=="Object")throw new yT("Assertion failed: `obj` must be an Object");return wT(bT(i,"length"))},ET=Gn,ST=ET("%Object%"),TT=Va,CT=function(i){return TT(i),ST(i)},Kg=Gn,PT=Kg("%String%"),kT=Kg("%TypeError%"),Jg=function(i){if(typeof i=="symbol")throw new kT("Cannot convert a Symbol value to a string");return PT(i)},AT=String.prototype.valueOf,RT=function(i){try{return AT.call(i),!0}catch{return!1}},OT=Object.prototype.toString,DT="[object String]",MT=Hg(),BT=function(i){return typeof i=="string"?!0:typeof i!="object"?!1:MT?RT(i):OT.call(i)===DT},IT=Gn,NT=Hr,FT=IT("%TypeError%"),LT=aS,HT=Og,zT=JS,jT=r2,UT=_T,VT=CT,WT=Jg,GT=BT,qT=NT("String.prototype.split"),Qg=Object("a"),XT=Qg[0]!=="a"||!(0 in Qg),$g=function(i){var s=VT(this),t=XT&&GT(this)?qT(this,""):s,r=UT(t);if(!jT(i))throw new FT("Array.prototype.forEach callback must be a function");var l;arguments.length>1&&(l=arguments[1]);for(var c=0;c<r;){var p=WT(c),v=zT(t,p);if(v){var y=HT(t,p);LT(i,l,[y,c,t])}c+=1}},ZT=function(i){var s=!0,t=!0,r=!1;if(typeof i=="function"){try{i.call("f",function(l,c,p){typeof p!="object"&&(s=!1)}),i.call([null],function(){"use strict";t=typeof this=="string"},"x")}catch{r=!0}return!r&&s&&t}return!1},YT=ZT,KT=$g,em=function(){var i=Array.prototype.forEach;return YT(i)?i:KT},JT=_o,QT=em,$T=function(){var i=QT();return JT(Array.prototype,{forEach:i},{forEach:function(){return Array.prototype.forEach!==i}}),i},eC=_o,tC=Eo.exports,nC=Hr,iC=Va,rC=$g,tm=em,oC=tm(),sC=$T,aC=nC("Array.prototype.slice"),lC=tC.apply(oC),nm=function(i,s){return iC(i),lC(i,aC(arguments,1))};eC(nm,{getPolyfill:tm,implementation:rC,shim:sC});var uC=nm,cC=Va,im=Hr,hC=im("Object.prototype.propertyIsEnumerable"),dC=im("Array.prototype.push"),rm=function(i){var s=cC(i),t=[];for(var r in s)hC(s,r)&&dC(t,[r,s[r]]);return t},fC=rm,om=function(){return typeof Object.entries=="function"?Object.entries:fC},pC=om,gC=_o,mC=function(){var i=pC();return gC(Object,{entries:i},{entries:function(){return Object.entries!==i}}),i},vC=_o,yC=Eo.exports,bC=rm,sm=om,wC=mC,am=yC(sm(),Object);vC(am,{getPolyfill:sm,implementation:bC,shim:wC});var xC=am,_C=Va,EC=Jg,SC=Hr,lm=SC("String.prototype.replace"),TC=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,CC=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,um=function(){var i=EC(_C(this));return lm(lm(i,TC,""),CC,"")},PC=um,cm="\u200B",hm=function(){return String.prototype.trim&&cm.trim()===cm?String.prototype.trim:PC},kC=_o,AC=hm,RC=function(){var i=AC();return kC(String.prototype,{trim:i},{trim:function(){return String.prototype.trim!==i}}),i},OC=Eo.exports,DC=_o,MC=um,dm=hm,BC=RC,fm=OC(dm());DC(fm,{getPolyfill:dm,implementation:MC,shim:BC});var IC=fm,Ka=uC,Kc=xC,pm=lg,NC=IC,FC=function(i){},LC=String.prototype.replace,gm=String.prototype.split,Ja="||||",Jc=function(i){var s=i%100,t=s%10;return s!==11&&t===1?0:2<=t&&t<=4&&!(s>=12&&s<=14)?1:2},mm={pluralTypes:{arabic:function(i){if(i<3)return i;var s=i%100;return s>=3&&s<=10?3:s>=11?4:5},bosnian_serbian:Jc,chinese:function(){return 0},croatian:Jc,french:function(i){return i>=2?1:0},german:function(i){return i!==1?1:0},russian:Jc,lithuanian:function(i){return i%10===1&&i%100!==11?0:i%10>=2&&i%10<=9&&(i%100<11||i%100>19)?1:2},czech:function(i){return i===1?0:i>=2&&i<=4?1:2},polish:function(i){if(i===1)return 0;var s=i%10;return 2<=s&&s<=4&&(i%100<10||i%100>=20)?1:2},icelandic:function(i){return i%10!==1||i%100===11?1:0},slovenian:function(i){var s=i%100;return s===1?0:s===2?1:s===3||s===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function HC(i){var s={};return Ka(Kc(i),function(t){var r=t[0],l=t[1];Ka(l,function(c){s[c]=r})}),s}function zC(i,s){var t=HC(i.pluralTypeToLanguages);return t[s]||t[gm.call(s,/-/,1)[0]]||t.en}function jC(i,s,t){return i.pluralTypes[s](t)}function UC(){var i={};return function(s,t){var r=i[t];return r&&!s.pluralTypes[r]&&(r=null,i[t]=r),r||(r=zC(s,t),r&&(i[t]=r)),r}}function vm(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function VC(i){var s=i&&i.prefix||"%{",t=i&&i.suffix||"}";if(s===Ja||t===Ja)throw new RangeError('"'+Ja+'" token is reserved for pluralization');return new RegExp(vm(s)+"(.*?)"+vm(t),"g")}var WC=UC(),GC=/%\{(.*?)\}/g;function Qc(i,s,t,r,l){if(typeof i!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(s==null)return i;var c=i,p=r||GC,v=typeof s=="number"?{smart_count:s}:s;if(v.smart_count!=null&&i){var y=l||mm,b=gm.call(i,Ja),w=t||"en",S=WC(y,w),C=jC(y,S,v.smart_count);c=NC(b[C]||b[0])}return c=LC.call(c,p,function(D,H){return!pm(v,H)||v[H]==null?D:v[H]}),c}function Li(i){var s=i||{};this.phrases={},this.extend(s.phrases||{}),this.currentLocale=s.locale||"en";var t=s.allowMissing?Qc:null;this.onMissingKey=typeof s.onMissingKey=="function"?s.onMissingKey:t,this.warn=s.warn||FC,this.tokenRegex=VC(s.interpolation),this.pluralRules=s.pluralRules||mm}Li.prototype.locale=function(i){return i&&(this.currentLocale=i),this.currentLocale},Li.prototype.extend=function(i,s){Ka(Kc(i||{}),function(t){var r=t[0],l=t[1],c=s?s+"."+r:r;typeof l=="object"?this.extend(l,c):this.phrases[c]=l},this)},Li.prototype.unset=function(i,s){typeof i=="string"?delete this.phrases[i]:Ka(Kc(i||{}),function(t){var r=t[0],l=t[1],c=s?s+"."+r:r;typeof l=="object"?this.unset(l,c):delete this.phrases[c]},this)},Li.prototype.clear=function(){this.phrases={}},Li.prototype.replace=function(i){this.clear(),this.extend(i)},Li.prototype.t=function(i,s){var t,r,l=s==null?{}:s;if(typeof this.phrases[i]=="string")t=this.phrases[i];else if(typeof l._=="string")t=l._;else if(this.onMissingKey){var c=this.onMissingKey;r=c(i,l,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+i+'"'),r=i;return typeof t=="string"&&(r=Qc(t,l,this.currentLocale,this.tokenRegex,this.pluralRules)),r},Li.prototype.has=function(i){return pm(this.phrases,i)},Li.transformPhrase=function(i,s,t){return Qc(i,s,t)};var qC=Li,XC={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},ZC={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},YC={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},KC={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},JC={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},QC={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},$C={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},e4={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},t4={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},n4={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},i4={"Add a comment...":"\u30B3\u30E1\u30F3\u30C8\u3092\u8FFD\u52A0\u3059\u308B...","Add a reply...":"\u8FD4\u4FE1\u3059\u308B...","Add tag...":"\u30BF\u30B0\u3092\u8FFD\u52A0\u3059\u308B...",Cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",Close:"\u9589\u3058\u308B",Edit:"\u7DE8\u96C6",Delete:"\u524A\u9664",Ok:"Ok"},r4={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},o4={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},s4={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},a4={"Add a comment...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439...","Add a reply...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u0442\u0432\u0435\u0442...","Add tag...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u044D\u0433...",Cancel:"\u041E\u0442\u043C\u0435\u043D\u0430",Close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",Edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",Delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",Ok:"\u041E\u043A"},l4={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},u4={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},c4={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},h4={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},d4={"Add a comment...":"\u6DFB\u52A0\u8BC4\u8BBA...","Add a reply...":"\u6DFB\u52A0\u56DE\u590D...","Add tag...":"\u6DFB\u52A0\u6807\u7B7E...",Cancel:"\u53D6\u6D88",Close:"\u5173\u95ED",Edit:"\u7F16\u8F91",Delete:"\u5220\u9664",Ok:"\u786E\u8BA4"},f4={"Add a comment...":"\u6DFB\u52A0\u8A55\u8AD6...","Add a reply...":"\u6DFB\u52A0\u56DE\u8986...","Add tag...":"\u6DFB\u52A0\u6A19\u7C64...",Cancel:"\u53D6\u6D88",Close:"\u95DC\u9589",Edit:"\u7DE8\u8F2F",Delete:"\u522A\u9664",Ok:"\u78BA\u8A8D"},ym={};Object.defineProperty(ym,"__esModule",{value:!0});var $c=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function p4(i,s){return s<3?$c[i][s-1]:s>=3&&s<=10?$c[i][2]:$c[i][3]}function g4(i,s){if(s===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var t=p4(Math.floor(s/2),i);return["\u0645\u0646\u0630 "+t,"\u0628\u0639\u062F "+t]}var m4=ym.default=g4,bm={};Object.defineProperty(bm,"__esModule",{value:!0});function v4(i,s){var t=0,r=s==1||s==3||s==5||s==7||s==9||s==11||s==13;return r&&i>=5&&(t=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][s][t]}var y4=bm.default=v4,wm={};Object.defineProperty(wm,"__esModule",{value:!0});function b4(i,s){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][s]}var w4=wm.default=b4,xm={};Object.defineProperty(xm,"__esModule",{value:!0});function x4(i,s){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][s]}var _4=xm.default=x4,_m={};Object.defineProperty(_m,"__esModule",{value:!0});function E4(i,s){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][s]}var S4=_m.default=E4,Em={};Object.defineProperty(Em,"__esModule",{value:!0});function T4(i,s){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][s]}var C4=Em.default=T4,Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});function P4(i,s){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][s]}var k4=Sm.default=P4,Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});function A4(i,s){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][s]}var R4=Tm.default=A4,Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});function O4(i,s){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][s]}var D4=Cm.default=O4,Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});function M4(i,s){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][s]}var B4=Pm.default=M4,km={};Object.defineProperty(km,"__esModule",{value:!0});function I4(i,s){return[["\u3059\u3053\u3057\u524D","\u3059\u3050\u306B"],["%s\u79D2\u524D","%s\u79D2\u4EE5\u5185"],["1\u5206\u524D","1\u5206\u4EE5\u5185"],["%s\u5206\u524D","%s\u5206\u4EE5\u5185"],["1\u6642\u9593\u524D","1\u6642\u9593\u4EE5\u5185"],["%s\u6642\u9593\u524D","%s\u6642\u9593\u4EE5\u5185"],["1\u65E5\u524D","1\u65E5\u4EE5\u5185"],["%s\u65E5\u524D","%s\u65E5\u4EE5\u5185"],["1\u9031\u9593\u524D","1\u9031\u9593\u4EE5\u5185"],["%s\u9031\u9593\u524D","%s\u9031\u9593\u4EE5\u5185"],["1\u30F6\u6708\u524D","1\u30F6\u6708\u4EE5\u5185"],["%s\u30F6\u6708\u524D","%s\u30F6\u6708\u4EE5\u5185"],["1\u5E74\u524D","1\u5E74\u4EE5\u5185"],["%s\u5E74\u524D","%s\u5E74\u4EE5\u5185"]][s]}var N4=km.default=I4,Am={};Object.defineProperty(Am,"__esModule",{value:!0});function F4(i,s){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][s]}var L4=Am.default=F4,Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});function H4(i,s){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][s]}var z4=Rm.default=H4,Om={};Object.defineProperty(Om,"__esModule",{value:!0});function j4(i,s){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][s]}var U4=Om.default=j4,Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});function zr(i,s,t,r,l){var c=l%10,p=r;return l===1?p=i:c===1&&l>20?p=s:c>1&&c<5&&(l>20||l<10)&&(p=t),p}var Mm=zr.bind(null,"\u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u044B","%s \u0441\u0435\u043A\u0443\u043D\u0434"),Bm=zr.bind(null,"\u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u044B","%s \u043C\u0438\u043D\u0443\u0442"),Im=zr.bind(null,"\u0447\u0430\u0441","%s \u0447\u0430\u0441","%s \u0447\u0430\u0441\u0430","%s \u0447\u0430\u0441\u043E\u0432"),Nm=zr.bind(null,"\u0434\u0435\u043D\u044C","%s \u0434\u0435\u043D\u044C","%s \u0434\u043D\u044F","%s \u0434\u043D\u0435\u0439"),Fm=zr.bind(null,"\u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u0438","%s \u043D\u0435\u0434\u0435\u043B\u044C"),Lm=zr.bind(null,"\u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446\u0430","%s \u043C\u0435\u0441\u044F\u0446\u0435\u0432"),Hm=zr.bind(null,"\u0433\u043E\u0434","%s \u0433\u043E\u0434","%s \u0433\u043E\u0434\u0430","%s \u043B\u0435\u0442");function V4(i,s){switch(s){case 0:return["\u0442\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E","\u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434"];case 1:return[Mm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Mm(i)];case 2:case 3:return[Bm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Bm(i)];case 4:case 5:return[Im(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Im(i)];case 6:return["\u0432\u0447\u0435\u0440\u0430","\u0437\u0430\u0432\u0442\u0440\u0430"];case 7:return[Nm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Nm(i)];case 8:case 9:return[Fm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Fm(i)];case 10:case 11:return[Lm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Lm(i)];case 12:case 13:return[Hm(i)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Hm(i)];default:return["",""]}}var W4=Dm.default=V4,zm={};Object.defineProperty(zm,"__esModule",{value:!0});function G4(i,s){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][s]}var q4=zm.default=G4,jm={};Object.defineProperty(jm,"__esModule",{value:!0});function X4(i,s){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][s]}var Z4=jm.default=X4,Um={};Object.defineProperty(Um,"__esModule",{value:!0});function Y4(i,s){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][s]}var K4=Um.default=Y4,Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});var J4=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function Q4(i,s){if(s===0)return["\u521A\u521A","\u7247\u523B\u540E"];var t=J4[~~(s/2)];return[i+" "+t+"\u524D",i+" "+t+"\u540E"]}var $4=Vm.default=Q4,Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});function eP(i,s){return[["\u525B\u525B","\u7247\u523B\u5F8C"],["%s \u79D2\u524D","%s \u79D2\u5F8C"],["1 \u5206\u9418\u524D","1 \u5206\u9418\u5F8C"],["%s \u5206\u9418\u524D","%s \u5206\u9418\u5F8C"],["1 \u5C0F\u6642\u524D","1 \u5C0F\u6642\u5F8C"],["%s \u5C0F\u6642\u524D","%s \u5C0F\u6642\u5F8C"],["1 \u5929\u524D","1 \u5929\u5F8C"],["%s \u5929\u524D","%s \u5929\u5F8C"],["1 \u9031\u524D","1 \u9031\u5F8C"],["%s \u9031\u524D","%s \u9031\u5F8C"],["1 \u500B\u6708\u524D","1 \u500B\u6708\u5F8C"],["%s \u500B\u6708\u524D","%s \u500B\u6708\u5F8C"],["1 \u5E74\u524D","1 \u5E74\u5F8C"],["%s \u5E74\u524D","%s \u5E74\u5F8C"]][s]}var tP=Wm.default=eP;const Ro={ar:XC,cs:ZC,de:YC,el:KC,es:JC,fi:QC,fr:$C,gl:e4,hi:t4,it:n4,ja:i4,ko:r4,nl:o4,pt:s4,ru:a4,sv:l4,th:u4,tr:c4,ur:h4,"zh-CN":d4,"zh-TW":f4},nP=Object.keys(Ro),jr=new qC({allowMissing:!0});jr.init=(i,s)=>{jr.clear(),i&&(jr.locale(i),jr.extend(Ro[i])),s&&jr.extend(s)},gn("ar",m4),gn("cs",y4),gn("de",w4),gn("el",_4),gn("es",S4),gn("fi",C4),gn("fr",k4),gn("gl",R4),gn("hi",D4),gn("it",B4),gn("ja",N4),gn("ko",L4),gn("nl",z4),gn("pt",U4),gn("ru",W4),gn("sv",q4),gn("th",Z4),gn("tr",K4),gn("zh-CN",$4),gn("zh-TW",tP),jr.registerMessages=(i,s)=>{Ro[i]?Ro[i]={...Ro[i],...s}:Ro[i]=s};var oi=jr,iP=i=>{const s=Ve();return mE(s,()=>i.onClickOutside()),Ae.createElement("ul",{ref:s,className:"r6o-comment-dropdown-menu"},Ae.createElement("li",{onClick:i.onEdit},oi.t("Edit")),Ae.createElement("li",{onClick:i.onDelete},oi.t("Delete")))},Gm={},eh={},th={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(i,s){(function(t,r){r(i,s)})(sr,function(t,r){var l=typeof Map=="function"?new Map:function(){var w=[],S=[];return{has:function(C){return w.indexOf(C)>-1},get:function(C){return S[w.indexOf(C)]},set:function(C,D){w.indexOf(C)===-1&&(w.push(C),S.push(D))},delete:function(C){var D=w.indexOf(C);D>-1&&(w.splice(D,1),S.splice(D,1))}}}(),c=function(w){return new Event(w,{bubbles:!0})};try{new Event("test")}catch{c=function(w){var S=document.createEvent("Event");return S.initEvent(w,!0,!1),S}}function p(w){if(!w||!w.nodeName||w.nodeName!=="TEXTAREA"||l.has(w))return;var S=null,C=null,D=null;function H(){var re=window.getComputedStyle(w,null);re.resize==="vertical"?w.style.resize="none":re.resize==="both"&&(w.style.resize="horizontal"),re.boxSizing==="content-box"?S=-(parseFloat(re.paddingTop)+parseFloat(re.paddingBottom)):S=parseFloat(re.borderTopWidth)+parseFloat(re.borderBottomWidth),isNaN(S)&&(S=0),P()}function Q(re){{var he=w.style.width;w.style.width="0px",w.offsetWidth,w.style.width=he}w.style.overflowY=re}function G(re){for(var he=[];re&&re.parentNode&&re.parentNode instanceof Element;)re.parentNode.scrollTop&&he.push({node:re.parentNode,scrollTop:re.parentNode.scrollTop}),re=re.parentNode;return he}function te(){if(w.scrollHeight!==0){var re=G(w),he=document.documentElement&&document.documentElement.scrollTop;w.style.height="",w.style.height=w.scrollHeight+S+"px",C=w.clientWidth,re.forEach(function(ge){ge.node.scrollTop=ge.scrollTop}),he&&(document.documentElement.scrollTop=he)}}function P(){te();var re=Math.round(parseFloat(w.style.height)),he=window.getComputedStyle(w,null),ge=he.boxSizing==="content-box"?Math.round(parseFloat(he.height)):w.offsetHeight;if(ge<re?he.overflowY==="hidden"&&(Q("scroll"),te(),ge=he.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(w,null).height)):w.offsetHeight):he.overflowY!=="hidden"&&(Q("hidden"),te(),ge=he.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(w,null).height)):w.offsetHeight),D!==ge){D=ge;var Ie=c("autosize:resized");try{w.dispatchEvent(Ie)}catch{}}}var Z=function(){w.clientWidth!==C&&P()},oe=function(re){window.removeEventListener("resize",Z,!1),w.removeEventListener("input",P,!1),w.removeEventListener("keyup",P,!1),w.removeEventListener("autosize:destroy",oe,!1),w.removeEventListener("autosize:update",P,!1),Object.keys(re).forEach(function(he){w.style[he]=re[he]}),l.delete(w)}.bind(w,{height:w.style.height,resize:w.style.resize,overflowY:w.style.overflowY,overflowX:w.style.overflowX,wordWrap:w.style.wordWrap});w.addEventListener("autosize:destroy",oe,!1),"onpropertychange"in w&&"oninput"in w&&w.addEventListener("keyup",P,!1),window.addEventListener("resize",Z,!1),w.addEventListener("input",P,!1),w.addEventListener("autosize:update",P,!1),w.style.overflowX="hidden",w.style.wordWrap="break-word",l.set(w,{destroy:oe,update:P}),H()}function v(w){var S=l.get(w);S&&S.destroy()}function y(w){var S=l.get(w);S&&S.update()}var b=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(b=function(w){return w},b.destroy=function(w){return w},b.update=function(w){return w}):(b=function(w,S){return w&&Array.prototype.forEach.call(w.length?w:[w],function(C){return p(C)}),w},b.destroy=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],v),w},b.update=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],y),w}),r.default=b,t.exports=r.default})})(th,th.exports);var rP=function(i,s,t){return t=window.getComputedStyle,(t?t(i):i.currentStyle)[s.replace(/-(\w)/gi,function(r,l){return l.toUpperCase()})]},oP=rP,nh=oP;function sP(i){var s=nh(i,"line-height"),t=parseFloat(s,10);if(s===t+""){var r=i.style.lineHeight;i.style.lineHeight=s+"em",s=nh(i,"line-height"),t=parseFloat(s,10),r?i.style.lineHeight=r:delete i.style.lineHeight}if(s.indexOf("pt")!==-1?(t*=4,t/=3):s.indexOf("mm")!==-1?(t*=96,t/=25.4):s.indexOf("cm")!==-1?(t*=96,t/=2.54):s.indexOf("in")!==-1?t*=96:s.indexOf("pc")!==-1&&(t*=16),t=Math.round(t),s==="normal"){var l=i.nodeName,c=document.createElement(l);c.innerHTML="&nbsp;",l.toUpperCase()==="TEXTAREA"&&c.setAttribute("rows","1");var p=nh(i,"font-size");c.style.fontSize=p,c.style.padding="0px",c.style.border="0px";var v=document.body;v.appendChild(c);var y=c.offsetHeight;t=y,v.removeChild(c)}return t}var aP=sP,lP=sr&&sr.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r])};return function(s,t){i(s,t);function r(){this.constructor=s}s.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ih=sr&&sr.__assign||Object.assign||function(i){for(var s,t=1,r=arguments.length;t<r;t++){s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},uP=sr&&sr.__rest||function(i,s){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)s.indexOf(r[l])<0&&(t[r[l]]=i[r[l]]);return t};eh.__esModule=!0;var Qa=wo,Es=ms.exports,$a=th.exports,cP=aP,hP=cP,qm="autosize:resized",dP=function(i){lP(s,i);function s(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=null,t.onResize=function(r){t.props.onResize&&t.props.onResize(r)},t.updateLineHeight=function(){t.textarea&&t.setState({lineHeight:hP(t.textarea)})},t.onChange=function(r){var l=t.props.onChange;t.currentValue=r.currentTarget.value,l&&l(r)},t}return s.prototype.componentDidMount=function(){var t=this,r=this.props,l=r.maxRows,c=r.async;typeof l=="number"&&this.updateLineHeight(),typeof l=="number"||c?setTimeout(function(){return t.textarea&&$a(t.textarea)}):this.textarea&&$a(this.textarea),this.textarea&&this.textarea.addEventListener(qm,this.onResize)},s.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(qm,this.onResize),$a.destroy(this.textarea))},s.prototype.render=function(){var t=this,r=this,l=r.props;l.onResize;var c=l.maxRows;l.onChange;var p=l.style;l.innerRef;var v=l.children,y=uP(l,["onResize","maxRows","onChange","style","innerRef","children"]),b=r.state.lineHeight,w=c&&b?b*c:null;return Qa.createElement("textarea",ih({},y,{onChange:this.onChange,style:w?ih({},p,{maxHeight:w}):p,ref:function(S){t.textarea=S,typeof t.props.innerRef=="function"?t.props.innerRef(S):t.props.innerRef&&(t.props.innerRef.current=S)}}),v)},s.prototype.componentDidUpdate=function(){this.textarea&&$a.update(this.textarea)},s.defaultProps={rows:1,async:!1},s.propTypes={rows:Es.number,maxRows:Es.number,onResize:Es.func,innerRef:Es.any,async:Es.bool},s}(Qa.Component);eh.TextareaAutosize=Qa.forwardRef(function(i,s){return Qa.createElement(dP,ih({},i,{innerRef:s}))}),function(i){i.__esModule=!0;var s=eh;i.default=s.TextareaAutosize}(Gm);var fP=n_(Gm);class Xm extends me{constructor(s){super(s),u(this,"onKeyDown",t=>{t.which===13&&t.ctrlKey&&this.props.onSaveAndClose()}),this.element=ce()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Ae.createElement(fP,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||oi.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function yt(){return yt=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},yt.apply(this,arguments)}function pP(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function gP(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var mP=function(){function i(t){var r=this;this._insertTag=function(l){var c;r.tags.length===0?r.insertionPoint?c=r.insertionPoint.nextSibling:r.prepend?c=r.container.firstChild:c=r.before:c=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(l,c),r.tags.push(l)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(t){t.forEach(this._insertTag)},s.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gP(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var l=pP(r);try{l.insertRule(t,l.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},s.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},i}(),jn="-ms-",el="-moz-",Gt="-webkit-",Zm="comm",rh="rule",oh="decl",vP="@import",Ym="@keyframes",yP=Math.abs,tl=String.fromCharCode,bP=Object.assign;function wP(i,s){return(((s<<2^Zn(i,0))<<2^Zn(i,1))<<2^Zn(i,2))<<2^Zn(i,3)}function Km(i){return i.trim()}function xP(i,s){return(i=s.exec(i))?i[0]:i}function Zt(i,s,t){return i.replace(s,t)}function sh(i,s){return i.indexOf(s)}function Zn(i,s){return i.charCodeAt(s)|0}function Ss(i,s,t){return i.slice(s,t)}function Ai(i){return i.length}function ah(i){return i.length}function nl(i,s){return s.push(i),i}function _P(i,s){return i.map(s).join("")}var il=1,Oo=1,Jm=0,Yn=0,En=0,Do="";function rl(i,s,t,r,l,c,p){return{value:i,root:s,parent:t,type:r,props:l,children:c,line:il,column:Oo,length:p,return:""}}function Ts(i,s){return bP(rl("",null,null,"",null,null,0),i,{length:-i.length},s)}function EP(){return En}function SP(){return En=Yn>0?Zn(Do,--Yn):0,Oo--,En===10&&(Oo=1,il--),En}function si(){return En=Yn<Jm?Zn(Do,Yn++):0,Oo++,En===10&&(Oo=1,il++),En}function Ri(){return Zn(Do,Yn)}function ol(){return Yn}function Cs(i,s){return Ss(Do,i,s)}function Ps(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qm(i){return il=Oo=1,Jm=Ai(Do=i),Yn=0,[]}function $m(i){return Do="",i}function sl(i){return Km(Cs(Yn-1,lh(i===91?i+2:i===40?i+1:i)))}function TP(i){for(;(En=Ri())&&En<33;)si();return Ps(i)>2||Ps(En)>3?"":" "}function CP(i,s){for(;--s&&si()&&!(En<48||En>102||En>57&&En<65||En>70&&En<97););return Cs(i,ol()+(s<6&&Ri()==32&&si()==32))}function lh(i){for(;si();)switch(En){case i:return Yn;case 34:case 39:i!==34&&i!==39&&lh(En);break;case 40:i===41&&lh(i);break;case 92:si();break}return Yn}function PP(i,s){for(;si()&&i+En!==47+10&&!(i+En===42+42&&Ri()===47););return"/*"+Cs(s,Yn-1)+"*"+tl(i===47?i:si())}function kP(i){for(;!Ps(Ri());)si();return Cs(i,Yn)}function AP(i){return $m(al("",null,null,null,[""],i=Qm(i),0,[0],i))}function al(i,s,t,r,l,c,p,v,y){for(var b=0,w=0,S=p,C=0,D=0,H=0,Q=1,G=1,te=1,P=0,Z="",oe=l,re=c,he=r,ge=Z;G;)switch(H=P,P=si()){case 40:if(H!=108&&ge.charCodeAt(S-1)==58){sh(ge+=Zt(sl(P),"&","&\f"),"&\f")!=-1&&(te=-1);break}case 34:case 39:case 91:ge+=sl(P);break;case 9:case 10:case 13:case 32:ge+=TP(H);break;case 92:ge+=CP(ol()-1,7);continue;case 47:switch(Ri()){case 42:case 47:nl(RP(PP(si(),ol()),s,t),y);break;default:ge+="/"}break;case 123*Q:v[b++]=Ai(ge)*te;case 125*Q:case 59:case 0:switch(P){case 0:case 125:G=0;case 59+w:D>0&&Ai(ge)-S&&nl(D>32?tv(ge+";",r,t,S-1):tv(Zt(ge," ","")+";",r,t,S-2),y);break;case 59:ge+=";";default:if(nl(he=ev(ge,s,t,b,w,l,v,Z,oe=[],re=[],S),c),P===123)if(w===0)al(ge,s,he,he,oe,c,S,v,re);else switch(C){case 100:case 109:case 115:al(i,he,he,r&&nl(ev(i,he,he,0,0,l,v,Z,l,oe=[],S),re),l,re,S,v,r?oe:re);break;default:al(ge,he,he,he,[""],re,0,v,re)}}b=w=D=0,Q=te=1,Z=ge="",S=p;break;case 58:S=1+Ai(ge),D=H;default:if(Q<1){if(P==123)--Q;else if(P==125&&Q++==0&&SP()==125)continue}switch(ge+=tl(P),P*Q){case 38:te=w>0?1:(ge+="\f",-1);break;case 44:v[b++]=(Ai(ge)-1)*te,te=1;break;case 64:Ri()===45&&(ge+=sl(si())),C=Ri(),w=S=Ai(Z=ge+=kP(ol())),P++;break;case 45:H===45&&Ai(ge)==2&&(Q=0)}}return c}function ev(i,s,t,r,l,c,p,v,y,b,w){for(var S=l-1,C=l===0?c:[""],D=ah(C),H=0,Q=0,G=0;H<r;++H)for(var te=0,P=Ss(i,S+1,S=yP(Q=p[H])),Z=i;te<D;++te)(Z=Km(Q>0?C[te]+" "+P:Zt(P,/&\f/g,C[te])))&&(y[G++]=Z);return rl(i,s,t,l===0?rh:v,y,b,w)}function RP(i,s,t){return rl(i,s,t,Zm,tl(EP()),Ss(i,2,-2),0)}function tv(i,s,t,r){return rl(i,s,t,oh,Ss(i,0,r),Ss(i,r+1,-1),r)}function nv(i,s){switch(wP(i,s)){case 5103:return Gt+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+i+el+i+jn+i+i;case 6828:case 4268:return Gt+i+jn+i+i;case 6165:return Gt+i+jn+"flex-"+i+i;case 5187:return Gt+i+Zt(i,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+jn+"flex-$1$2")+i;case 5443:return Gt+i+jn+"flex-item-"+Zt(i,/flex-|-self/,"")+i;case 4675:return Gt+i+jn+"flex-line-pack"+Zt(i,/align-content|flex-|-self/,"")+i;case 5548:return Gt+i+jn+Zt(i,"shrink","negative")+i;case 5292:return Gt+i+jn+Zt(i,"basis","preferred-size")+i;case 6060:return Gt+"box-"+Zt(i,"-grow","")+Gt+i+jn+Zt(i,"grow","positive")+i;case 4554:return Gt+Zt(i,/([^-])(transform)/g,"$1"+Gt+"$2")+i;case 6187:return Zt(Zt(Zt(i,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),i,"")+i;case 5495:case 3959:return Zt(i,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Zt(Zt(i,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+i+i;case 4095:case 3583:case 4068:case 2532:return Zt(i,/(.+)-inline(.+)/,Gt+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(i)-1-s>6)switch(Zn(i,s+1)){case 109:if(Zn(i,s+4)!==45)break;case 102:return Zt(i,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+el+(Zn(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~sh(i,"stretch")?nv(Zt(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(Zn(i,s+1)!==115)break;case 6444:switch(Zn(i,Ai(i)-3-(~sh(i,"!important")&&10))){case 107:return Zt(i,":",":"+Gt)+i;case 101:return Zt(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(Zn(i,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+jn+"$2box$3")+i}break;case 5936:switch(Zn(i,s+11)){case 114:return Gt+i+jn+Zt(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Gt+i+jn+Zt(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Gt+i+jn+Zt(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Gt+i+jn+i+i}return i}function Mo(i,s){for(var t="",r=ah(i),l=0;l<r;l++)t+=s(i[l],l,i,s)||"";return t}function OP(i,s,t,r){switch(i.type){case vP:case oh:return i.return=i.return||i.value;case Zm:return"";case Ym:return i.return=i.value+"{"+Mo(i.children,r)+"}";case rh:i.value=i.props.join(",")}return Ai(t=Mo(i.children,r))?i.return=i.value+"{"+t+"}":""}function DP(i){var s=ah(i);return function(t,r,l,c){for(var p="",v=0;v<s;v++)p+=i[v](t,r,l,c)||"";return p}}function MP(i){return function(s){s.root||(s=s.return)&&i(s)}}function BP(i,s,t,r){if(i.length>-1&&!i.return)switch(i.type){case oh:i.return=nv(i.value,i.length);break;case Ym:return Mo([Ts(i,{value:Zt(i.value,"@","@"+Gt)})],r);case rh:if(i.length)return _P(i.props,function(l){switch(xP(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mo([Ts(i,{props:[Zt(l,/:(read-\w+)/,":"+el+"$1")]})],r);case"::placeholder":return Mo([Ts(i,{props:[Zt(l,/:(plac\w+)/,":"+Gt+"input-$1")]}),Ts(i,{props:[Zt(l,/:(plac\w+)/,":"+el+"$1")]}),Ts(i,{props:[Zt(l,/:(plac\w+)/,jn+"input-$1")]})],r)}return""})}}function IP(i){var s=Object.create(null);return function(t){return s[t]===void 0&&(s[t]=i(t)),s[t]}}var NP=function(i,s,t){for(var r=0,l=0;r=l,l=Ri(),r===38&&l===12&&(s[t]=1),!Ps(l);)si();return Cs(i,Yn)},FP=function(i,s){var t=-1,r=44;do switch(Ps(r)){case 0:r===38&&Ri()===12&&(s[t]=1),i[t]+=NP(Yn-1,s,t);break;case 2:i[t]+=sl(r);break;case 4:if(r===44){i[++t]=Ri()===58?"&\f":"",s[t]=i[t].length;break}default:i[t]+=tl(r)}while(r=si());return i},LP=function(i,s){return $m(FP(Qm(i),s))},iv=new WeakMap,HP=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,t=i.parent,r=i.column===t.column&&i.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!iv.get(t))&&!r){iv.set(i,!0);for(var l=[],c=LP(s,l),p=t.props,v=0,y=0;v<c.length;v++)for(var b=0;b<p.length;b++,y++)i.props[y]=l[v]?c[v].replace(/&\f/g,p[b]):p[b]+" "+c[v]}}},zP=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}},jP=[BP],UP=function(i){var s=i.key;if(s==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(H){var Q=H.getAttribute("data-emotion");Q.indexOf(" ")!==-1&&(document.head.appendChild(H),H.setAttribute("data-s",""))})}var r=i.stylisPlugins||jP,l={},c,p=[];c=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(H){for(var Q=H.getAttribute("data-emotion").split(" "),G=1;G<Q.length;G++)l[Q[G]]=!0;p.push(H)});var v,y=[HP,zP];{var b,w=[OP,MP(function(H){b.insert(H)})],S=DP(y.concat(r,w)),C=function(H){return Mo(AP(H),S)};v=function(H,Q,G,te){b=G,C(H?H+"{"+Q.styles+"}":Q.styles),te&&(D.inserted[Q.name]=!0)}}var D={key:s,sheet:new mP({key:s,container:c,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:l,registered:{},insert:v};return D.sheet.hydrate(p),D},rv={exports:{}},Kt={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kn=typeof Symbol=="function"&&Symbol.for,uh=kn?Symbol.for("react.element"):60103,ch=kn?Symbol.for("react.portal"):60106,ll=kn?Symbol.for("react.fragment"):60107,ul=kn?Symbol.for("react.strict_mode"):60108,cl=kn?Symbol.for("react.profiler"):60114,hl=kn?Symbol.for("react.provider"):60109,dl=kn?Symbol.for("react.context"):60110,hh=kn?Symbol.for("react.async_mode"):60111,fl=kn?Symbol.for("react.concurrent_mode"):60111,pl=kn?Symbol.for("react.forward_ref"):60112,gl=kn?Symbol.for("react.suspense"):60113,VP=kn?Symbol.for("react.suspense_list"):60120,ml=kn?Symbol.for("react.memo"):60115,vl=kn?Symbol.for("react.lazy"):60116,WP=kn?Symbol.for("react.block"):60121,GP=kn?Symbol.for("react.fundamental"):60117,qP=kn?Symbol.for("react.responder"):60118,XP=kn?Symbol.for("react.scope"):60119;function ai(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case uh:switch(i=i.type,i){case hh:case fl:case ll:case cl:case ul:case gl:return i;default:switch(i=i&&i.$$typeof,i){case dl:case pl:case vl:case ml:case hl:return i;default:return s}}case ch:return s}}}function ov(i){return ai(i)===fl}Kt.AsyncMode=hh,Kt.ConcurrentMode=fl,Kt.ContextConsumer=dl,Kt.ContextProvider=hl,Kt.Element=uh,Kt.ForwardRef=pl,Kt.Fragment=ll,Kt.Lazy=vl,Kt.Memo=ml,Kt.Portal=ch,Kt.Profiler=cl,Kt.StrictMode=ul,Kt.Suspense=gl,Kt.isAsyncMode=function(i){return ov(i)||ai(i)===hh},Kt.isConcurrentMode=ov,Kt.isContextConsumer=function(i){return ai(i)===dl},Kt.isContextProvider=function(i){return ai(i)===hl},Kt.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===uh},Kt.isForwardRef=function(i){return ai(i)===pl},Kt.isFragment=function(i){return ai(i)===ll},Kt.isLazy=function(i){return ai(i)===vl},Kt.isMemo=function(i){return ai(i)===ml},Kt.isPortal=function(i){return ai(i)===ch},Kt.isProfiler=function(i){return ai(i)===cl},Kt.isStrictMode=function(i){return ai(i)===ul},Kt.isSuspense=function(i){return ai(i)===gl},Kt.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===ll||i===fl||i===cl||i===ul||i===gl||i===VP||typeof i=="object"&&i!==null&&(i.$$typeof===vl||i.$$typeof===ml||i.$$typeof===hl||i.$$typeof===dl||i.$$typeof===pl||i.$$typeof===GP||i.$$typeof===qP||i.$$typeof===XP||i.$$typeof===WP)},Kt.typeOf=ai,rv.exports=Kt;var sv=rv.exports,ZP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},av={};av[sv.ForwardRef]=ZP,av[sv.Memo]=YP;var KP=!0;function lv(i,s,t){var r="";return t.split(" ").forEach(function(l){i[l]!==void 0?s.push(i[l]+";"):r+=l+" "}),r}var uv=function(i,s,t){var r=i.key+"-"+s.name;if((t===!1||KP===!1)&&i.registered[r]===void 0&&(i.registered[r]=s.styles),i.inserted[s.name]===void 0){var l=s;do i.insert(s===l?"."+r:"",l,i.sheet,!0),l=l.next;while(l!==void 0)}};function JP(i){for(var s=0,t,r=0,l=i.length;l>=4;++r,l-=4)t=i.charCodeAt(r)&255|(i.charCodeAt(++r)&255)<<8|(i.charCodeAt(++r)&255)<<16|(i.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,s=(t&65535)*1540483477+((t>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(l){case 3:s^=(i.charCodeAt(r+2)&255)<<16;case 2:s^=(i.charCodeAt(r+1)&255)<<8;case 1:s^=i.charCodeAt(r)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var QP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$P=/[A-Z]|^ms/g,e3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cv=function(i){return i.charCodeAt(1)===45},hv=function(i){return i!=null&&typeof i!="boolean"},dh=IP(function(i){return cv(i)?i:i.replace($P,"-$&").toLowerCase()}),dv=function(i,s){switch(i){case"animation":case"animationName":if(typeof s=="string")return s.replace(e3,function(t,r,l){return Oi={name:r,styles:l,next:Oi},r})}return QP[i]!==1&&!cv(i)&&typeof s=="number"&&s!==0?s+"px":s};function ks(i,s,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Oi={name:t.name,styles:t.styles,next:Oi},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Oi={name:r.name,styles:r.styles,next:Oi},r=r.next;var l=t.styles+";";return l}return t3(i,s,t)}case"function":{if(i!==void 0){var c=Oi,p=t(i);return Oi=c,ks(i,s,p)}break}}if(s==null)return t;var v=s[t];return v!==void 0?v:t}function t3(i,s,t){var r="";if(Array.isArray(t))for(var l=0;l<t.length;l++)r+=ks(i,s,t[l])+";";else for(var c in t){var p=t[c];if(typeof p!="object")s!=null&&s[p]!==void 0?r+=c+"{"+s[p]+"}":hv(p)&&(r+=dh(c)+":"+dv(c,p)+";");else if(Array.isArray(p)&&typeof p[0]=="string"&&(s==null||s[p[0]]===void 0))for(var v=0;v<p.length;v++)hv(p[v])&&(r+=dh(c)+":"+dv(c,p[v])+";");else{var y=ks(i,s,p);switch(c){case"animation":case"animationName":{r+=dh(c)+":"+y+";";break}default:r+=c+"{"+y+"}"}}}return r}var fv=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Oi,fh=function(i,s,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var r=!0,l="";Oi=void 0;var c=i[0];c==null||c.raw===void 0?(r=!1,l+=ks(t,s,c)):l+=c[0];for(var p=1;p<i.length;p++)l+=ks(t,s,i[p]),r&&(l+=c[p]);fv.lastIndex=0;for(var v="",y;(y=fv.exec(l))!==null;)v+="-"+y[1];var b=JP(l)+v;return{name:b,styles:l,next:Oi}},ph={}.hasOwnProperty,pv=Et(typeof HTMLElement<"u"?UP({key:"css"}):null);pv.Provider;var gv=function(i){return uc(function(s,t){var r=A(pv);return i(s,r,t)})},mv=Et({}),gh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",n3=function(i,s){var t={};for(var r in s)ph.call(s,r)&&(t[r]=s[r]);return t[gh]=i,t},i3=function(){return null},r3=gv(function(i,s,t){var r=i.css;typeof r=="string"&&s.registered[r]!==void 0&&(r=s.registered[r]);var l=i[gh],c=[r],p="";typeof i.className=="string"?p=lv(s.registered,c,i.className):i.className!=null&&(p=i.className+" ");var v=fh(c,void 0,A(mv));uv(s,v,typeof l=="string"),p+=s.key+"-"+v.name;var y={};for(var b in i)ph.call(i,b)&&b!=="css"&&b!==gh&&(y[b]=i[b]);y.ref=t,y.className=p;var w=L(l,y),S=L(i3,null);return L(pe,null,S,w)}),bt=function(i,s){var t=arguments;if(s==null||!ph.call(s,"css"))return L.apply(void 0,t);var r=t.length,l=new Array(r);l[0]=r3,l[1]=n3(i,s);for(var c=2;c<r;c++)l[c]=t[c];return L.apply(null,l)};function mh(){for(var i=arguments.length,s=new Array(i),t=0;t<i;t++)s[t]=arguments[t];return fh(s)}var o3=function(){var i=mh.apply(void 0,arguments),s="animation-"+i.name;return{name:s,styles:"@keyframes "+s+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},s3=function i(s){for(var t=s.length,r=0,l="";r<t;r++){var c=s[r];if(c!=null){var p=void 0;switch(typeof c){case"boolean":break;case"object":{if(Array.isArray(c))p=i(c);else{p="";for(var v in c)c[v]&&v&&(p&&(p+=" "),p+=v)}break}default:p=c}p&&(l&&(l+=" "),l+=p)}}return l};function a3(i,s,t){var r=[],l=lv(i,r,t);return r.length<2?t:l+s(r)}var l3=function(){return null},u3=gv(function(i,s){var t=function(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var w=fh(y,s.registered);return uv(s,w,!1),s.key+"-"+w.name},r=function(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];return a3(s.registered,t,s3(y))},l={css:t,cx:r,theme:A(mv)},c=i.children(l),p=L(l3,null);return L(pe,null,p,c)});function c3(i,s){return s||(s=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(s)}}))}function vh(i,s){if(i==null)return{};var t={},r=Object.keys(i),l,c;for(c=0;c<r.length;c++)l=r[c],!(s.indexOf(l)>=0)&&(t[l]=i[l]);return t}function Bo(i,s){if(i==null)return{};var t=vh(i,s),r,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(l=0;l<c.length;l++)r=c[l],!(s.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function yh(i){return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},yh(i)}var vv={};Object.defineProperty(vv,"__esModule",{value:!0});var bh=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},yv=function(){function i(s,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,t,r){return t&&i(s.prototype,t),r&&i(s,r),s}}(),bv=wo,As=wv(bv),h3=ms.exports,Sn=wv(h3);function wv(i){return i&&i.__esModule?i:{default:i}}function d3(i,s){var t={};for(var r in i)s.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(i,r)||(t[r]=i[r]);return t}function f3(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function p3(i,s){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:i}function g3(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(i,s):i.__proto__=s)}var xv={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},m3=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],v3=function(i){return m3.forEach(function(s){return delete i[s]}),i},_v=function(i,s){s.style.fontSize=i.fontSize,s.style.fontFamily=i.fontFamily,s.style.fontWeight=i.fontWeight,s.style.fontStyle=i.fontStyle,s.style.letterSpacing=i.letterSpacing,s.style.textTransform=i.textTransform},Ev=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,Sv=function(){return Ev?"_"+Math.random().toString(36).substr(2,12):void 0},wh=function(i){g3(s,i),yv(s,null,[{key:"getDerivedStateFromProps",value:function(t,r){var l=t.id;return l!==r.prevId?{inputId:l||Sv(),prevId:l}:null}}]);function s(t){f3(this,s);var r=p3(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t));return r.inputRef=function(l){r.input=l,typeof r.props.inputRef=="function"&&r.props.inputRef(l)},r.placeHolderSizerRef=function(l){r.placeHolderSizer=l},r.sizerRef=function(l){r.sizer=l},r.state={inputWidth:t.minWidth,inputId:t.id||Sv(),prevId:t.id},r}return yv(s,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(t,r){r.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var t=this.input&&window.getComputedStyle(this.input);!t||(_v(t,this.sizer),this.placeHolderSizer&&_v(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var t=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?t=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:t=this.sizer.scrollWidth+2;var r=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;t+=r,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return Ev&&t?As.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(p,v){return p!=null?p:v}),r=bh({},this.props.style);r.display||(r.display="inline-block");var l=bh({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),c=d3(this.props,[]);return v3(c),c.className=this.props.inputClassName,c.id=this.state.inputId,c.style=l,As.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),As.default.createElement("input",bh({},c,{ref:this.inputRef})),As.default.createElement("div",{ref:this.sizerRef,style:xv},t),this.props.placeholder?As.default.createElement("div",{ref:this.placeHolderSizerRef,style:xv},this.props.placeholder):null)}}]),s}(bv.Component);wh.propTypes={className:Sn.default.string,defaultValue:Sn.default.any,extraWidth:Sn.default.oneOfType([Sn.default.number,Sn.default.string]),id:Sn.default.string,injectStyles:Sn.default.bool,inputClassName:Sn.default.string,inputRef:Sn.default.func,inputStyle:Sn.default.object,minWidth:Sn.default.oneOfType([Sn.default.number,Sn.default.string]),onAutosize:Sn.default.func,onChange:Sn.default.func,placeholder:Sn.default.string,placeholderIsMinWidth:Sn.default.bool,style:Sn.default.object,value:Sn.default.any},wh.defaultProps={minWidth:1,injectStyles:!0};var y3=vv.default=wh;function yl(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function Tv(i,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function bl(i,s,t){return s&&Tv(i.prototype,s),t&&Tv(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function wl(i,s){return wl=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},wl(i,s)}function xl(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&wl(i,s)}function Hi(i,s,t){return s in i?Object.defineProperty(i,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[s]=t,i}function b3(i,s,t){return s in i?Object.defineProperty(i,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[s]=t,i}function Cv(i,s){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),t.push.apply(t,r)}return t}function On(i){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?Cv(Object(t),!0).forEach(function(r){b3(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Cv(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function _l(i){return _l=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_l(i)}function w3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function x3(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _3(i,s){return s&&(typeof s=="object"||typeof s=="function")?s:x3(i)}function El(i){var s=w3();return function(){var t=_l(i),r;if(s){var l=_l(this).constructor;r=Reflect.construct(t,arguments,l)}else r=t.apply(this,arguments);return _3(this,r)}}var Sl=function(){};function E3(i,s){return s?s[0]==="-"?i+s:i+"__"+s:i}function S3(i,s,t){var r=[t];if(s&&i)for(var l in s)s.hasOwnProperty(l)&&s[l]&&r.push("".concat(E3(i,l)));return r.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var Pv=function(i){return Array.isArray(i)?i.filter(Boolean):yh(i)==="object"&&i!==null?[i]:[]},kv=function(i){i.className,i.clearValue,i.cx,i.getStyles,i.getValue,i.hasValue,i.isMulti,i.isRtl,i.options,i.selectOption,i.selectProps,i.setValue,i.theme;var s=Bo(i,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return On({},s)};function xh(i){return[document.documentElement,document.body,window].indexOf(i)>-1}function Av(i){return xh(i)?window.pageYOffset:i.scrollTop}function Tl(i,s){if(xh(i)){window.scrollTo(0,s);return}i.scrollTop=s}function T3(i){var s=getComputedStyle(i),t=s.position==="absolute",r=/(auto|scroll)/,l=document.documentElement;if(s.position==="fixed")return l;for(var c=i;c=c.parentElement;)if(s=getComputedStyle(c),!(t&&s.position==="static")&&r.test(s.overflow+s.overflowY+s.overflowX))return c;return l}function C3(i,s,t,r){return t*((i=i/r-1)*i*i+1)+s}function Cl(i,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Sl,l=Av(i),c=s-l,p=10,v=0;function y(){v+=p;var b=C3(v,l,c,t);Tl(i,b),v<t?window.requestAnimationFrame(y):r(i)}y()}function P3(i,s){var t=i.getBoundingClientRect(),r=s.getBoundingClientRect(),l=s.offsetHeight/3;r.bottom+l>t.bottom?Tl(i,Math.min(s.offsetTop+s.clientHeight-i.offsetHeight+l,i.scrollHeight)):r.top-l<t.top&&Tl(i,Math.max(s.offsetTop-l,0))}function k3(i){var s=i.getBoundingClientRect();return{bottom:s.bottom,height:s.height,left:s.left,right:s.right,top:s.top,width:s.width}}function Rv(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function A3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Ov=!1,R3={get passive(){return Ov=!0}},Pl=typeof window<"u"?window:{};Pl.addEventListener&&Pl.removeEventListener&&(Pl.addEventListener("p",Sl,R3),Pl.removeEventListener("p",Sl,!1));var O3=Ov;function D3(i){var s=i.maxHeight,t=i.menuEl,r=i.minHeight,l=i.placement,c=i.shouldScroll,p=i.isFixedPosition,v=i.theme,y=v.spacing,b=T3(t),w={placement:"bottom",maxHeight:s};if(!t||!t.offsetParent)return w;var S=b.getBoundingClientRect(),C=S.height,D=t.getBoundingClientRect(),H=D.bottom,Q=D.height,G=D.top,te=t.offsetParent.getBoundingClientRect(),P=te.top,Z=window.innerHeight,oe=Av(b),re=parseInt(getComputedStyle(t).marginBottom,10),he=parseInt(getComputedStyle(t).marginTop,10),ge=P-he,Ie=Z-G,je=ge+oe,Qe=C-oe-G,rt=H-Z+oe+re,$e=oe+G-he,pt=160;switch(l){case"auto":case"bottom":if(Ie>=Q)return{placement:"bottom",maxHeight:s};if(Qe>=Q&&!p)return c&&Cl(b,rt,pt),{placement:"bottom",maxHeight:s};if(!p&&Qe>=r||p&&Ie>=r){c&&Cl(b,rt,pt);var ft=p?Ie-re:Qe-re;return{placement:"bottom",maxHeight:ft}}if(l==="auto"||p){var Tt=s,xt=p?ge:je;return xt>=r&&(Tt=Math.min(xt-re-y.controlHeight,s)),{placement:"top",maxHeight:Tt}}if(l==="bottom")return c&&Tl(b,rt),{placement:"bottom",maxHeight:s};break;case"top":if(ge>=Q)return{placement:"top",maxHeight:s};if(je>=Q&&!p)return c&&Cl(b,$e,pt),{placement:"top",maxHeight:s};if(!p&&je>=r||p&&ge>=r){var At=s;return(!p&&je>=r||p&&ge>=r)&&(At=p?ge-he:je-he),c&&Cl(b,$e,pt),{placement:"top",maxHeight:At}}return{placement:"bottom",maxHeight:s};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return w}function M3(i){var s={bottom:"top",top:"bottom"};return i?s[i]:"bottom"}var _h=function(i){return i==="auto"?"bottom":i},B3=function(i){var s,t=i.placement,r=i.theme,l=r.borderRadius,c=r.spacing,p=r.colors;return s={label:"menu"},Hi(s,M3(t),"100%"),Hi(s,"backgroundColor",p.neutral0),Hi(s,"borderRadius",l),Hi(s,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Hi(s,"marginBottom",c.menuGutter),Hi(s,"marginTop",c.menuGutter),Hi(s,"position","absolute"),Hi(s,"width","100%"),Hi(s,"zIndex",1),s},Dv=Et({getPortalPlacement:null}),Mv=function(i){xl(t,i);var s=El(t);function t(){var r;yl(this,t);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(v){var y=r.props,b=y.minMenuHeight,w=y.maxMenuHeight,S=y.menuPlacement,C=y.menuPosition,D=y.menuShouldScrollIntoView,H=y.theme;if(v){var Q=C==="fixed",G=D&&!Q,te=D3({maxHeight:w,menuEl:v,minHeight:b,placement:S,shouldScroll:G,isFixedPosition:Q,theme:H}),P=r.context.getPortalPlacement;P&&P(te),r.setState(te)}},r.getUpdatedProps=function(){var v=r.props.menuPlacement,y=r.state.placement||_h(v);return On(On({},r.props),{},{placement:y,maxHeight:r.state.maxHeight})},r}return bl(t,[{key:"render",value:function(){var r=this.props.children;return r({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(me);Mv.contextType=Dv;var I3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerRef,p=i.innerProps;return bt("div",yt({css:l("menu",i),className:r({menu:!0},t),ref:c},p),s)},N3=function(i){var s=i.maxHeight,t=i.theme.spacing.baseUnit;return{maxHeight:s,overflowY:"auto",paddingBottom:t,paddingTop:t,position:"relative",WebkitOverflowScrolling:"touch"}},F3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps,p=i.innerRef,v=i.isMulti;return bt("div",yt({css:l("menuList",i),className:r({"menu-list":!0,"menu-list--is-multi":v},t),ref:p},c),s)},Bv=function(i){var s=i.theme,t=s.spacing.baseUnit,r=s.colors;return{color:r.neutral40,padding:"".concat(t*2,"px ").concat(t*3,"px"),textAlign:"center"}},L3=Bv,H3=Bv,Iv=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("noOptionsMessage",i),className:r({"menu-notice":!0,"menu-notice--no-options":!0},t)},c),s)};Iv.defaultProps={children:"No options"};var Nv=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("loadingMessage",i),className:r({"menu-notice":!0,"menu-notice--loading":!0},t)},c),s)};Nv.defaultProps={children:"Loading..."};var z3=function(i){var s=i.rect,t=i.offset,r=i.position;return{left:s.left,position:r,top:t,width:s.width,zIndex:1}},j3=function(i){xl(t,i);var s=El(t);function t(){var r;yl(this,t);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=s.call.apply(s,[this].concat(c)),r.state={placement:null},r.getPortalPlacement=function(v){var y=v.placement,b=_h(r.props.menuPlacement);y!==b&&r.setState({placement:y})},r}return bl(t,[{key:"render",value:function(){var r=this.props,l=r.appendTo,c=r.children,p=r.className,v=r.controlElement,y=r.cx,b=r.innerProps,w=r.menuPlacement,S=r.menuPosition,C=r.getStyles,D=S==="fixed";if(!l&&!D||!v)return null;var H=this.state.placement||_h(w),Q=k3(v),G=D?0:window.pageYOffset,te=Q[H]+G,P={offset:te,position:S,rect:Q},Z=bt("div",yt({css:C("menuPortal",P),className:y({"menu-portal":!0},p)},b),c);return bt(Dv.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},l?cc(Z,l):Z)}}]),t}(me),U3=function(i){var s=i.isDisabled,t=i.isRtl;return{label:"container",direction:t?"rtl":null,pointerEvents:s?"none":null,position:"relative"}},V3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps,p=i.isDisabled,v=i.isRtl;return bt("div",yt({css:l("container",i),className:r({"--is-disabled":p,"--is-rtl":v},t)},c),s)},W3=function(i){var s=i.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},G3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.innerProps,c=i.isMulti,p=i.getStyles,v=i.hasValue;return bt("div",yt({css:p("valueContainer",i),className:r({"value-container":!0,"value-container--is-multi":c,"value-container--has-value":v},t)},l),s)},q3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},X3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.innerProps,c=i.getStyles;return bt("div",yt({css:c("indicatorsContainer",i),className:r({indicators:!0},t)},l),s)},Fv,Z3={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Lv=function(i){var s=i.size,t=Bo(i,["size"]);return bt("svg",yt({height:s,width:s,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Z3},t))},Eh=function(i){return bt(Lv,yt({size:20},i),bt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Hv=function(i){return bt(Lv,yt({size:20},i),bt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zv=function(i){var s=i.isFocused,t=i.theme,r=t.spacing.baseUnit,l=t.colors;return{label:"indicatorContainer",color:s?l.neutral60:l.neutral20,display:"flex",padding:r*2,transition:"color 150ms",":hover":{color:s?l.neutral80:l.neutral40}}},Y3=zv,K3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("dropdownIndicator",i),className:r({indicator:!0,"dropdown-indicator":!0},t)},c),s||bt(Hv,null))},J3=zv,Q3=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("clearIndicator",i),className:r({indicator:!0,"clear-indicator":!0},t)},c),s||bt(Eh,null))},$3=function(i){var s=i.isDisabled,t=i.theme,r=t.spacing.baseUnit,l=t.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:s?l.neutral10:l.neutral20,marginBottom:r*2,marginTop:r*2,width:1}},ek=function(i){var s=i.className,t=i.cx,r=i.getStyles,l=i.innerProps;return bt("span",yt({},l,{css:r("indicatorSeparator",i),className:t({"indicator-separator":!0},s)}))},tk=o3(Fv||(Fv=c3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),nk=function(i){var s=i.isFocused,t=i.size,r=i.theme,l=r.colors,c=r.spacing.baseUnit;return{label:"loadingIndicator",color:s?l.neutral60:l.neutral20,display:"flex",padding:c*2,transition:"color 150ms",alignSelf:"center",fontSize:t,lineHeight:1,marginRight:t,textAlign:"center",verticalAlign:"middle"}},Sh=function(i){var s=i.delay,t=i.offset;return bt("span",{css:mh({animation:"".concat(tk," 1s ease-in-out ").concat(s,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:t?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jv=function(i){var s=i.className,t=i.cx,r=i.getStyles,l=i.innerProps,c=i.isRtl;return bt("div",yt({css:r("loadingIndicator",i),className:t({indicator:!0,"loading-indicator":!0},s)},l),bt(Sh,{delay:0,offset:c}),bt(Sh,{delay:160,offset:!0}),bt(Sh,{delay:320,offset:!c}))};jv.defaultProps={size:4};var ik=function(i){var s=i.isDisabled,t=i.isFocused,r=i.theme,l=r.colors,c=r.borderRadius,p=r.spacing;return{label:"control",alignItems:"center",backgroundColor:s?l.neutral5:l.neutral0,borderColor:s?l.neutral10:t?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:t?"0 0 0 1px ".concat(l.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:p.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:t?l.primary:l.neutral30}}},rk=function(i){var s=i.children,t=i.cx,r=i.getStyles,l=i.className,c=i.isDisabled,p=i.isFocused,v=i.innerRef,y=i.innerProps,b=i.menuIsOpen;return bt("div",yt({ref:v,css:r("control",i),className:t({control:!0,"control--is-disabled":c,"control--is-focused":p,"control--menu-is-open":b},l)},y),s)},ok=function(i){var s=i.theme.spacing;return{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},sk=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.Heading,p=i.headingProps,v=i.innerProps,y=i.label,b=i.theme,w=i.selectProps;return bt("div",yt({css:l("group",i),className:r({group:!0},t)},v),bt(c,yt({},p,{selectProps:w,theme:b,getStyles:l,cx:r}),y),bt("div",null,s))},ak=function(i){var s=i.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"}},lk=function(i){var s=i.getStyles,t=i.cx,r=i.className,l=kv(i);l.data;var c=Bo(l,["data"]);return bt("div",yt({css:s("groupHeading",i),className:t({"group-heading":!0},r)},c))},uk=function(i){var s=i.isDisabled,t=i.theme,r=t.spacing,l=t.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:s?"hidden":"visible",color:l.neutral80}},ck=function(i){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:i?0:1,outline:0,padding:0,color:"inherit"}},hk=function(i){var s=i.className,t=i.cx,r=i.getStyles,l=kv(i),c=l.innerRef,p=l.isDisabled,v=l.isHidden,y=Bo(l,["innerRef","isDisabled","isHidden"]);return bt("div",{css:r("input",i)},bt(y3,yt({className:t({input:!0},s),inputRef:c,inputStyle:ck(v),disabled:p},y)))},dk=function(i){var s=i.theme,t=s.spacing,r=s.borderRadius,l=s.colors;return{label:"multiValue",backgroundColor:l.neutral10,borderRadius:r/2,display:"flex",margin:t.baseUnit/2,minWidth:0}},fk=function(i){var s=i.theme,t=s.borderRadius,r=s.colors,l=i.cropWithEllipsis;return{borderRadius:t/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:l?"ellipsis":null,whiteSpace:"nowrap"}},pk=function(i){var s=i.theme,t=s.spacing,r=s.borderRadius,l=s.colors,c=i.isFocused;return{alignItems:"center",borderRadius:r/2,backgroundColor:c&&l.dangerLight,display:"flex",paddingLeft:t.baseUnit,paddingRight:t.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}}},Uv=function(i){var s=i.children,t=i.innerProps;return bt("div",t,s)},gk=Uv,mk=Uv;function vk(i){var s=i.children,t=i.innerProps;return bt("div",t,s||bt(Eh,{size:14}))}var Vv=function(i){var s=i.children,t=i.className,r=i.components,l=i.cx,c=i.data,p=i.getStyles,v=i.innerProps,y=i.isDisabled,b=i.removeProps,w=i.selectProps,S=r.Container,C=r.Label,D=r.Remove;return bt(u3,null,function(H){var Q=H.css,G=H.cx;return bt(S,{data:c,innerProps:On({className:G(Q(p("multiValue",i)),l({"multi-value":!0,"multi-value--is-disabled":y},t))},v),selectProps:w},bt(C,{data:c,innerProps:{className:G(Q(p("multiValueLabel",i)),l({"multi-value__label":!0},t))},selectProps:w},s),bt(D,{data:c,innerProps:On({className:G(Q(p("multiValueRemove",i)),l({"multi-value__remove":!0},t))},b),selectProps:w}))})};Vv.defaultProps={cropWithEllipsis:!0};var yk=function(i){var s=i.isDisabled,t=i.isFocused,r=i.isSelected,l=i.theme,c=l.spacing,p=l.colors;return{label:"option",backgroundColor:r?p.primary:t?p.primary25:"transparent",color:s?p.neutral20:r?p.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!s&&(r?p.primary:p.primary50)}}},bk=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.isDisabled,p=i.isFocused,v=i.isSelected,y=i.innerRef,b=i.innerProps;return bt("div",yt({css:l("option",i),className:r({option:!0,"option--is-disabled":c,"option--is-focused":p,"option--is-selected":v},t),ref:y},b),s)},wk=function(i){var s=i.theme,t=s.spacing,r=s.colors;return{label:"placeholder",color:r.neutral50,marginLeft:t.baseUnit/2,marginRight:t.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},xk=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.innerProps;return bt("div",yt({css:l("placeholder",i),className:r({placeholder:!0},t)},c),s)},_k=function(i){var s=i.isDisabled,t=i.theme,r=t.spacing,l=t.colors;return{label:"singleValue",color:s?l.neutral40:l.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(r.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Ek=function(i){var s=i.children,t=i.className,r=i.cx,l=i.getStyles,c=i.isDisabled,p=i.innerProps;return bt("div",yt({css:l("singleValue",i),className:r({"single-value":!0,"single-value--is-disabled":c},t)},p),s)},Sk={ClearIndicator:Q3,Control:rk,DropdownIndicator:K3,DownChevron:Hv,CrossIcon:Eh,Group:sk,GroupHeading:lk,IndicatorsContainer:X3,IndicatorSeparator:ek,Input:hk,LoadingIndicator:jv,Menu:I3,MenuList:F3,MenuPortal:j3,LoadingMessage:Nv,NoOptionsMessage:Iv,MultiValue:Vv,MultiValueContainer:gk,MultiValueLabel:mk,MultiValueRemove:vk,Option:bk,Placeholder:xk,SelectContainer:V3,SingleValue:Ek,ValueContainer:G3},Tk=function(i){return On(On({},Sk),i.components)};function Th(i,s){(s==null||s>i.length)&&(s=i.length);for(var t=0,r=new Array(s);t<s;t++)r[t]=i[t];return r}function Ck(i){if(Array.isArray(i))return Th(i)}function Pk(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function kk(i,s){if(i){if(typeof i=="string")return Th(i,s);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Th(i,s)}}function Ak(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wv(i){return Ck(i)||Pk(i)||kk(i)||Ak()}var Gv=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function Rk(i,s){return!!(i===s||Gv(i)&&Gv(s))}function Ok(i,s){if(i.length!==s.length)return!1;for(var t=0;t<i.length;t++)if(!Rk(i[t],s[t]))return!1;return!0}function Dk(i,s){s===void 0&&(s=Ok);var t,r=[],l,c=!1;function p(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return c&&t===this&&s(v,r)||(l=i.apply(this,v),c=!0,t=this,r=v),l}return p}for(var Mk={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Bk=function(i){return bt("span",yt({css:Mk},i))},Ik={guidance:function(i){var s=i.isSearchable,t=i.isMulti,r=i.isDisabled,l=i.tabSelectsValue,c=i.context;switch(c){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(i["aria-label"]||"Select"," is focused ").concat(s?",type to refine list":"",", press Down to open the menu, ").concat(t?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(i){var s=i.action,t=i.label,r=t===void 0?"":t,l=i.isDisabled;switch(s){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return l?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(i){var s=i.context,t=i.focused,r=t===void 0?{}:t,l=i.options,c=i.label,p=c===void 0?"":c,v=i.selectValue,y=i.isDisabled,b=i.isSelected,w=function(D,H){return D&&D.length?"".concat(D.indexOf(H)+1," of ").concat(D.length):""};if(s==="value"&&v)return"value ".concat(p," focused, ").concat(w(v,r),".");if(s==="menu"){var S=y?" disabled":"",C="".concat(b?"selected":"focused").concat(S);return"option ".concat(p," ").concat(C,", ").concat(w(l,r),".")}return""},onFilter:function(i){var s=i.inputValue,t=i.resultsMessage;return"".concat(t).concat(s?" for search term "+s:"",".")}},Nk=function(i){var s=i.ariaSelection,t=i.focusedOption,r=i.focusedValue,l=i.focusableOptions,c=i.isFocused,p=i.selectValue,v=i.selectProps,y=v.ariaLiveMessages,b=v.getOptionLabel,w=v.inputValue,S=v.isMulti,C=v.isOptionDisabled,D=v.isSearchable,H=v.menuIsOpen,Q=v.options,G=v.screenReaderStatus,te=v.tabSelectsValue,P=v["aria-label"],Z=v["aria-live"],oe=Be(function(){return On(On({},Ik),y||{})},[y]),re=Be(function(){var Qe="";if(s&&oe.onChange){var rt=s.option,$e=s.removedValue,pt=s.value,ft=function(At){return Array.isArray(At)?null:At},Tt=$e||rt||ft(pt),xt=On({isDisabled:Tt&&C(Tt),label:Tt?b(Tt):""},s);Qe=oe.onChange(xt)}return Qe},[s,C,b,oe]),he=Be(function(){var Qe="",rt=t||r,$e=!!(t&&p&&p.includes(t));if(rt&&oe.onFocus){var pt={focused:rt,label:b(rt),isDisabled:C(rt),isSelected:$e,options:Q,context:rt===t?"menu":"value",selectValue:p};Qe=oe.onFocus(pt)}return Qe},[t,r,b,C,oe,Q,p]),ge=Be(function(){var Qe="";if(H&&Q.length&&oe.onFilter){var rt=G({count:l.length});Qe=oe.onFilter({inputValue:w,resultsMessage:rt})}return Qe},[l,w,H,oe,Q,G]),Ie=Be(function(){var Qe="";if(oe.guidance){var rt=r?"value":H?"menu":"input";Qe=oe.guidance({"aria-label":P,context:rt,isDisabled:t&&C(t),isMulti:S,isSearchable:D,tabSelectsValue:te})}return Qe},[P,t,r,S,C,D,H,oe,te]),je="".concat(he," ").concat(ge," ").concat(Ie);return bt(Bk,{"aria-live":Z,"aria-atomic":"false","aria-relevant":"additions text"},c&&bt(Ae.Fragment,null,bt("span",{id:"aria-selection"},re),bt("span",{id:"aria-context"},je)))},Ch=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Fk=new RegExp("["+Ch.map(function(i){return i.letters}).join("")+"]","g"),qv={},Ph=0;Ph<Ch.length;Ph++)for(var kh=Ch[Ph],Ah=0;Ah<kh.letters.length;Ah++)qv[kh.letters[Ah]]=kh.base;var Xv=function(i){return i.replace(Fk,function(s){return qv[s]})},Lk=Dk(Xv),Zv=function(i){return i.replace(/^\s+|\s+$/g,"")},Hk=function(i){return"".concat(i.label," ").concat(i.value)},zk=function(i){return function(s,t){var r=On({ignoreCase:!0,ignoreAccents:!0,stringify:Hk,trim:!0,matchFrom:"any"},i),l=r.ignoreCase,c=r.ignoreAccents,p=r.stringify,v=r.trim,y=r.matchFrom,b=v?Zv(t):t,w=v?Zv(p(s)):p(s);return l&&(b=b.toLowerCase(),w=w.toLowerCase()),c&&(b=Lk(b),w=Xv(w)),y==="start"?w.substr(0,b.length)===b:w.indexOf(b)>-1}};function jk(i){i.in,i.out,i.onExited,i.appear,i.enter,i.exit;var s=i.innerRef;i.emotion;var t=Bo(i,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return bt("input",yt({ref:s},t,{css:mh({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Uk=function(i){i.preventDefault(),i.stopPropagation()};function Vk(i){var s=i.isEnabled,t=i.onBottomArrive,r=i.onBottomLeave,l=i.onTopArrive,c=i.onTopLeave,p=Ve(!1),v=Ve(!1),y=Ve(0),b=Ve(null),w=R(function(G,te){if(b.current!==null){var P=b.current,Z=P.scrollTop,oe=P.scrollHeight,re=P.clientHeight,he=b.current,ge=te>0,Ie=oe-re-Z,je=!1;Ie>te&&p.current&&(r&&r(G),p.current=!1),ge&&v.current&&(c&&c(G),v.current=!1),ge&&te>Ie?(t&&!p.current&&t(G),he.scrollTop=oe,je=!0,p.current=!0):!ge&&-te>Z&&(l&&!v.current&&l(G),he.scrollTop=0,je=!0,v.current=!0),je&&Uk(G)}},[]),S=R(function(G){w(G,G.deltaY)},[w]),C=R(function(G){y.current=G.changedTouches[0].clientY},[]),D=R(function(G){var te=y.current-G.changedTouches[0].clientY;w(G,te)},[w]),H=R(function(G){if(G){var te=O3?{passive:!1}:!1;typeof G.addEventListener=="function"&&G.addEventListener("wheel",S,te),typeof G.addEventListener=="function"&&G.addEventListener("touchstart",C,te),typeof G.addEventListener=="function"&&G.addEventListener("touchmove",D,te)}},[D,C,S]),Q=R(function(G){!G||(typeof G.removeEventListener=="function"&&G.removeEventListener("wheel",S,!1),typeof G.removeEventListener=="function"&&G.removeEventListener("touchstart",C,!1),typeof G.removeEventListener=="function"&&G.removeEventListener("touchmove",D,!1))},[D,C,S]);return Pe(function(){if(s){var G=b.current;return H(G),function(){Q(G)}}},[s,H,Q]),function(G){b.current=G}}var Yv=["boxSizing","height","overflow","paddingRight","position"],Kv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Jv(i){i.preventDefault()}function Qv(i){i.stopPropagation()}function $v(){var i=this.scrollTop,s=this.scrollHeight,t=i+this.offsetHeight;i===0?this.scrollTop=1:t===s&&(this.scrollTop=i-1)}function e0(){return"ontouchstart"in window||navigator.maxTouchPoints}var t0=!!(typeof window<"u"&&window.document&&window.document.createElement),Rs=0,Io={capture:!1,passive:!1};function Wk(i){var s=i.isEnabled,t=i.accountForScrollbars,r=t===void 0?!0:t,l=Ve({}),c=Ve(null),p=R(function(y){if(t0){var b=document.body,w=b&&b.style;if(r&&Yv.forEach(function(H){var Q=w&&w[H];l.current[H]=Q}),r&&Rs<1){var S=parseInt(l.current.paddingRight,10)||0,C=document.body?document.body.clientWidth:0,D=window.innerWidth-C+S||0;Object.keys(Kv).forEach(function(H){var Q=Kv[H];w&&(w[H]=Q)}),w&&(w.paddingRight="".concat(D,"px"))}b&&e0()&&(b.addEventListener("touchmove",Jv,Io),y&&(y.addEventListener("touchstart",$v,Io),y.addEventListener("touchmove",Qv,Io))),Rs+=1}},[]),v=R(function(y){if(t0){var b=document.body,w=b&&b.style;Rs=Math.max(Rs-1,0),r&&Rs<1&&Yv.forEach(function(S){var C=l.current[S];w&&(w[S]=C)}),b&&e0()&&(b.removeEventListener("touchmove",Jv,Io),y&&(y.removeEventListener("touchstart",$v,Io),y.removeEventListener("touchmove",Qv,Io)))}},[]);return Pe(function(){if(s){var y=c.current;return p(y),function(){v(y)}}},[s,p,v]),function(y){c.current=y}}var Gk=function(){return document.activeElement&&document.activeElement.blur()},qk={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Xk(i){var s=i.children,t=i.lockEnabled,r=i.captureEnabled,l=r===void 0?!0:r,c=i.onBottomArrive,p=i.onBottomLeave,v=i.onTopArrive,y=i.onTopLeave,b=Vk({isEnabled:l,onBottomArrive:c,onBottomLeave:p,onTopArrive:v,onTopLeave:y}),w=Wk({isEnabled:t}),S=function(C){b(C),w(C)};return bt(Ae.Fragment,null,t&&bt("div",{onClick:Gk,css:qk}),s(S))}var Zk=function(i){return i.label},Yk=function(i){return i.label},Kk=function(i){return i.value},Jk=function(i){return!!i.isDisabled},Qk={clearIndicator:J3,container:U3,control:ik,dropdownIndicator:Y3,group:ok,groupHeading:ak,indicatorsContainer:q3,indicatorSeparator:$3,input:uk,loadingIndicator:nk,loadingMessage:H3,menu:B3,menuList:N3,menuPortal:z3,multiValue:dk,multiValueLabel:fk,multiValueRemove:pk,noOptionsMessage:L3,option:yk,placeholder:wk,singleValue:_k,valueContainer:W3},$k={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},eA=4,n0=4,tA=38,nA=n0*2,iA={baseUnit:n0,controlHeight:tA,menuGutter:nA},Rh={borderRadius:eA,colors:$k,spacing:iA},rA={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Rv(),captureMenuScroll:!Rv(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:zk(),formatGroupLabel:Zk,getOptionLabel:Yk,getOptionValue:Kk,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Jk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!A3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(i){var s=i.count;return"".concat(s," result").concat(s!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function i0(i,s,t,r){var l=l0(i,s,t),c=u0(i,s,t),p=a0(i,s),v=kl(i,s);return{type:"option",data:s,isDisabled:l,isSelected:c,label:p,value:v,index:r}}function r0(i,s){return i.options.map(function(t,r){if(t.options){var l=t.options.map(function(p,v){return i0(i,p,s,v)}).filter(function(p){return s0(i,p)});return l.length>0?{type:"group",data:t,options:l,index:r}:void 0}var c=i0(i,t,s,r);return s0(i,c)?c:void 0}).filter(function(t){return!!t})}function o0(i){return i.reduce(function(s,t){return t.type==="group"?s.push.apply(s,Wv(t.options.map(function(r){return r.data}))):s.push(t.data),s},[])}function oA(i,s){return o0(r0(i,s))}function s0(i,s){var t=i.inputValue,r=t===void 0?"":t,l=s.data,c=s.isSelected,p=s.label,v=s.value;return(!h0(i)||!c)&&c0(i,{label:p,value:v,data:l},r)}function sA(i,s){var t=i.focusedValue,r=i.selectValue,l=r.indexOf(t);if(l>-1){var c=s.indexOf(t);if(c>-1)return t;if(l<s.length)return s[l]}return null}function aA(i,s){var t=i.focusedOption;return t&&s.indexOf(t)>-1?t:s[0]}var a0=function(i,s){return i.getOptionLabel(s)},kl=function(i,s){return i.getOptionValue(s)};function l0(i,s,t){return typeof i.isOptionDisabled=="function"?i.isOptionDisabled(s,t):!1}function u0(i,s,t){if(t.indexOf(s)>-1)return!0;if(typeof i.isOptionSelected=="function")return i.isOptionSelected(s,t);var r=kl(i,s);return t.some(function(l){return kl(i,l)===r})}function c0(i,s,t){return i.filterOption?i.filterOption(s,t):!0}var h0=function(i){var s=i.hideSelectedOptions,t=i.isMulti;return s===void 0?t:s},lA=1,d0=function(i){xl(t,i);var s=El(t);function t(r){var l;return yl(this,t),l=s.call(this,r),l.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.instancePrefix="",l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(c){l.controlRef=c},l.focusedOptionRef=null,l.getFocusedOptionRef=function(c){l.focusedOptionRef=c},l.menuListRef=null,l.getMenuListRef=function(c){l.menuListRef=c},l.inputRef=null,l.getInputRef=function(c){l.inputRef=c},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(c,p){var v=l.props,y=v.onChange,b=v.name;p.name=b,l.ariaOnChange(c,p),y(c,p)},l.setValue=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",v=arguments.length>2?arguments[2]:void 0,y=l.props,b=y.closeMenuOnSelect,w=y.isMulti;l.onInputChange("",{action:"set-value"}),b&&(l.setState({inputIsHiddenAfterUpdate:!w}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(c,{action:p,option:v})},l.selectOption=function(c){var p=l.props,v=p.blurInputOnSelect,y=p.isMulti,b=p.name,w=l.state.selectValue,S=y&&l.isOptionSelected(c,w),C=l.isOptionDisabled(c,w);if(S){var D=l.getOptionValue(c);l.setValue(w.filter(function(H){return l.getOptionValue(H)!==D}),"deselect-option",c)}else if(!C)y?l.setValue([].concat(Wv(w),[c]),"select-option",c):l.setValue(c,"select-option");else{l.ariaOnChange(c,{action:"select-option",name:b});return}v&&l.blurInput()},l.removeValue=function(c){var p=l.props.isMulti,v=l.state.selectValue,y=l.getOptionValue(c),b=v.filter(function(S){return l.getOptionValue(S)!==y}),w=p?b:b[0]||null;l.onChange(w,{action:"remove-value",removedValue:c}),l.focusInput()},l.clearValue=function(){var c=l.state.selectValue;l.onChange(l.props.isMulti?[]:null,{action:"clear",removedValues:c})},l.popValue=function(){var c=l.props.isMulti,p=l.state.selectValue,v=p[p.length-1],y=p.slice(0,p.length-1),b=c?y:y[0]||null;l.onChange(b,{action:"pop-value",removedValue:v})},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return S3.apply(void 0,[l.props.classNamePrefix].concat(p))},l.getOptionLabel=function(c){return a0(l.props,c)},l.getOptionValue=function(c){return kl(l.props,c)},l.getStyles=function(c,p){var v=Qk[c](p);v.boxSizing="border-box";var y=l.props.styles[c];return y?y(v,p):v},l.getElementId=function(c){return"".concat(l.instancePrefix,"-").concat(c)},l.getComponents=function(){return Tk(l.props)},l.buildCategorizedOptions=function(){return r0(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return o0(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(c,p){l.setState({ariaSelection:On({value:c},p)})},l.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(c){l.blockOptionHover=!1},l.onControlMouseDown=function(c){var p=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&l.onMenuClose():p&&l.openMenu("first"):(p&&(l.openAfterFocus=!0),l.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()},l.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!l.props.isDisabled){var p=l.props,v=p.isMulti,y=p.menuIsOpen;l.focusInput(),y?(l.setState({inputIsHiddenAfterUpdate:!v}),l.onMenuClose()):l.openMenu("first"),c.preventDefault(),c.stopPropagation()}},l.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(l.clearValue(),c.stopPropagation(),l.openAfterFocus=!1,c.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(c){typeof l.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&xh(c.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(c)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(c){var p=c.touches,v=p&&p.item(0);!v||(l.initialTouchX=v.clientX,l.initialTouchY=v.clientY,l.userIsDragging=!1)},l.onTouchMove=function(c){var p=c.touches,v=p&&p.item(0);if(v){var y=Math.abs(v.clientX-l.initialTouchX),b=Math.abs(v.clientY-l.initialTouchY),w=5;l.userIsDragging=y>w||b>w}},l.onTouchEnd=function(c){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(c.target)&&l.menuListRef&&!l.menuListRef.contains(c.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(c){l.userIsDragging||l.onControlMouseDown(c)},l.onClearIndicatorTouchEnd=function(c){l.userIsDragging||l.onClearIndicatorMouseDown(c)},l.onDropdownIndicatorTouchEnd=function(c){l.userIsDragging||l.onDropdownIndicatorMouseDown(c)},l.handleInputChange=function(c){var p=c.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(p,{action:"input-change"}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(c){l.props.onFocus&&l.props.onFocus(c),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(c){if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(c),l.onInputChange("",{action:"input-blur"}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(c){l.blockOptionHover||l.state.focusedOption===c||l.setState({focusedOption:c})},l.shouldHideSelectedOptions=function(){return h0(l.props)},l.onKeyDown=function(c){var p=l.props,v=p.isMulti,y=p.backspaceRemovesValue,b=p.escapeClearsValue,w=p.inputValue,S=p.isClearable,C=p.isDisabled,D=p.menuIsOpen,H=p.onKeyDown,Q=p.tabSelectsValue,G=p.openMenuOnFocus,te=l.state,P=te.focusedOption,Z=te.focusedValue,oe=te.selectValue;if(!C&&!(typeof H=="function"&&(H(c),c.defaultPrevented))){switch(l.blockOptionHover=!0,c.key){case"ArrowLeft":if(!v||w)return;l.focusValue("previous");break;case"ArrowRight":if(!v||w)return;l.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(Z)l.removeValue(Z);else{if(!y)return;v?l.popValue():S&&l.clearValue()}break;case"Tab":if(l.isComposing||c.shiftKey||!D||!Q||!P||G&&l.isOptionSelected(P,oe))return;l.selectOption(P);break;case"Enter":if(c.keyCode===229)break;if(D){if(!P||l.isComposing)return;l.selectOption(P);break}return;case"Escape":D?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close"}),l.onMenuClose()):S&&b&&l.clearValue();break;case" ":if(w)return;if(!D){l.openMenu("first");break}if(!P)return;l.selectOption(P);break;case"ArrowUp":D?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":D?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!D)return;l.focusOption("pageup");break;case"PageDown":if(!D)return;l.focusOption("pagedown");break;case"Home":if(!D)return;l.focusOption("first");break;case"End":if(!D)return;l.focusOption("last");break;default:return}c.preventDefault()}},l.instancePrefix="react-select-"+(l.props.instanceId||++lA),l.state.selectValue=Pv(r.value),l}return bl(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(r){var l=this.props,c=l.isDisabled,p=l.menuIsOpen,v=this.state.isFocused;(v&&!c&&r.isDisabled||v&&p&&!r.menuIsOpen)&&this.focusInput(),v&&c&&!r.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(P3(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,l){this.props.onInputChange(r,l)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(r){var l=this,c=this.state,p=c.selectValue,v=c.isFocused,y=this.buildFocusableOptions(),b=r==="first"?0:y.length-1;if(!this.props.isMulti){var w=y.indexOf(p[0]);w>-1&&(b=w)}this.scrollToFocusedOptionOnUpdate=!(v&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:y[b]},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(r){var l=this.state,c=l.selectValue,p=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var v=c.indexOf(p);p||(v=-1);var y=c.length-1,b=-1;if(c.length){switch(r){case"previous":v===0?b=0:v===-1?b=y:b=v-1;break;case"next":v>-1&&v<y&&(b=v+1);break}this.setState({inputIsHidden:b!==-1,focusedValue:c[b]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,p=this.getFocusableOptions();if(p.length){var v=0,y=p.indexOf(c);c||(y=-1),r==="up"?v=y>0?y-1:p.length-1:r==="down"?v=(y+1)%p.length:r==="pageup"?(v=y-l,v<0&&(v=0)):r==="pagedown"?(v=y+l,v>p.length-1&&(v=p.length-1)):r==="last"&&(v=p.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:p[v],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Rh):On(On({},Rh),this.props.theme):Rh}},{key:"getCommonProps",value:function(){var r=this.clearValue,l=this.cx,c=this.getStyles,p=this.getValue,v=this.selectOption,y=this.setValue,b=this.props,w=b.isMulti,S=b.isRtl,C=b.options,D=this.hasValue();return{clearValue:r,cx:l,getStyles:c,getValue:p,hasValue:D,isMulti:w,isRtl:S,options:C,selectOption:v,selectProps:b,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,l=r.isClearable,c=r.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(r,l){return l0(this.props,r,l)}},{key:"isOptionSelected",value:function(r,l){return u0(this.props,r,l)}},{key:"filterOption",value:function(r,l){return c0(this.props,r,l)}},{key:"formatOptionLabel",value:function(r,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,p=this.state.selectValue;return this.props.formatOptionLabel(r,{context:l,inputValue:c,selectValue:p})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,l=r.isDisabled,c=r.isSearchable,p=r.inputId,v=r.inputValue,y=r.tabIndex,b=r.form,w=this.getComponents(),S=w.Input,C=this.state.inputIsHidden,D=this.commonProps,H=p||this.getElementId("input"),Q={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return c?Ae.createElement(S,yt({},D,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:l,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:y,form:b,type:"text",value:v},Q)):Ae.createElement(jk,yt({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sl,onFocus:this.onInputFocus,readOnly:!0,disabled:l,tabIndex:y,form:b,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,l=this.getComponents(),c=l.MultiValue,p=l.MultiValueContainer,v=l.MultiValueLabel,y=l.MultiValueRemove,b=l.SingleValue,w=l.Placeholder,S=this.commonProps,C=this.props,D=C.controlShouldRenderValue,H=C.isDisabled,Q=C.isMulti,G=C.inputValue,te=C.placeholder,P=this.state,Z=P.selectValue,oe=P.focusedValue,re=P.isFocused;if(!this.hasValue()||!D)return G?null:Ae.createElement(w,yt({},S,{key:"placeholder",isDisabled:H,isFocused:re}),te);if(Q){var he=Z.map(function(Ie,je){var Qe=Ie===oe;return Ae.createElement(c,yt({},S,{components:{Container:p,Label:v,Remove:y},isFocused:Qe,isDisabled:H,key:"".concat(r.getOptionValue(Ie)).concat(je),index:je,removeProps:{onClick:function(){return r.removeValue(Ie)},onTouchEnd:function(){return r.removeValue(Ie)},onMouseDown:function(rt){rt.preventDefault(),rt.stopPropagation()}},data:Ie}),r.formatOptionLabel(Ie,"value"))});return he}if(G)return null;var ge=Z[0];return Ae.createElement(b,yt({},S,{data:ge,isDisabled:H}),this.formatOptionLabel(ge,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),l=r.ClearIndicator,c=this.commonProps,p=this.props,v=p.isDisabled,y=p.isLoading,b=this.state.isFocused;if(!this.isClearable()||!l||v||!this.hasValue()||y)return null;var w={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ae.createElement(l,yt({},c,{innerProps:w,isFocused:b}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),l=r.LoadingIndicator,c=this.commonProps,p=this.props,v=p.isDisabled,y=p.isLoading,b=this.state.isFocused;if(!l||!y)return null;var w={"aria-hidden":"true"};return Ae.createElement(l,yt({},c,{innerProps:w,isDisabled:v,isFocused:b}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),l=r.DropdownIndicator,c=r.IndicatorSeparator;if(!l||!c)return null;var p=this.commonProps,v=this.props.isDisabled,y=this.state.isFocused;return Ae.createElement(c,yt({},p,{isDisabled:v,isFocused:y}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),l=r.DropdownIndicator;if(!l)return null;var c=this.commonProps,p=this.props.isDisabled,v=this.state.isFocused,y={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ae.createElement(l,yt({},c,{innerProps:y,isDisabled:p,isFocused:v}))}},{key:"renderMenu",value:function(){var r=this,l=this.getComponents(),c=l.Group,p=l.GroupHeading,v=l.Menu,y=l.MenuList,b=l.MenuPortal,w=l.LoadingMessage,S=l.NoOptionsMessage,C=l.Option,D=this.commonProps,H=this.state.focusedOption,Q=this.props,G=Q.captureMenuScroll,te=Q.inputValue,P=Q.isLoading,Z=Q.loadingMessage,oe=Q.minMenuHeight,re=Q.maxMenuHeight,he=Q.menuIsOpen,ge=Q.menuPlacement,Ie=Q.menuPosition,je=Q.menuPortalTarget,Qe=Q.menuShouldBlockScroll,rt=Q.menuShouldScrollIntoView,$e=Q.noOptionsMessage,pt=Q.onMenuScrollToTop,ft=Q.onMenuScrollToBottom;if(!he)return null;var Tt=function(Dt,De){var We=Dt.type,Ze=Dt.data,qe=Dt.isDisabled,Je=Dt.isSelected,gt=Dt.label,Yt=Dt.value,hn=H===Ze,Ht=qe?void 0:function(){return r.onOptionHover(Ze)},gi=qe?void 0:function(){return r.selectOption(Ze)},Kn="".concat(r.getElementId("option"),"-").concat(De),li={id:Kn,onClick:gi,onMouseMove:Ht,onMouseOver:Ht,tabIndex:-1};return Ae.createElement(C,yt({},D,{innerProps:li,data:Ze,isDisabled:qe,isSelected:Je,key:Kn,label:gt,type:We,value:Yt,isFocused:hn,innerRef:hn?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(Dt.data,"menu"))},xt;if(this.hasOptions())xt=this.getCategorizedOptions().map(function(Dt){if(Dt.type==="group"){var De=Dt.data,We=Dt.options,Ze=Dt.index,qe="".concat(r.getElementId("group"),"-").concat(Ze),Je="".concat(qe,"-heading");return Ae.createElement(c,yt({},D,{key:qe,data:De,options:We,Heading:p,headingProps:{id:Je,data:Dt.data},label:r.formatGroupLabel(Dt.data)}),Dt.options.map(function(gt){return Tt(gt,"".concat(Ze,"-").concat(gt.index))}))}else if(Dt.type==="option")return Tt(Dt,"".concat(Dt.index))});else if(P){var At=Z({inputValue:te});if(At===null)return null;xt=Ae.createElement(w,D,At)}else{var Ut=$e({inputValue:te});if(Ut===null)return null;xt=Ae.createElement(S,D,Ut)}var Jt={minMenuHeight:oe,maxMenuHeight:re,menuPlacement:ge,menuPosition:Ie,menuShouldScrollIntoView:rt},et=Ae.createElement(Mv,yt({},D,Jt),function(Dt){var De=Dt.ref,We=Dt.placerProps,Ze=We.placement,qe=We.maxHeight;return Ae.createElement(v,yt({},D,Jt,{innerRef:De,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:P,placement:Ze}),Ae.createElement(Xk,{captureEnabled:G,onTopArrive:pt,onBottomArrive:ft,lockEnabled:Qe},function(Je){return Ae.createElement(y,yt({},D,{innerRef:function(gt){r.getMenuListRef(gt),Je(gt)},isLoading:P,maxHeight:qe,focusedOption:H}),xt)}))});return je||Ie==="fixed"?Ae.createElement(b,yt({},D,{appendTo:je,controlElement:this.controlRef,menuPlacement:ge,menuPosition:Ie}),et):et}},{key:"renderFormField",value:function(){var r=this,l=this.props,c=l.delimiter,p=l.isDisabled,v=l.isMulti,y=l.name,b=this.state.selectValue;if(!(!y||p))if(v)if(c){var w=b.map(function(D){return r.getOptionValue(D)}).join(c);return Ae.createElement("input",{name:y,type:"hidden",value:w})}else{var S=b.length>0?b.map(function(D,H){return Ae.createElement("input",{key:"i-".concat(H),name:y,type:"hidden",value:r.getOptionValue(D)})}):Ae.createElement("input",{name:y,type:"hidden"});return Ae.createElement("div",null,S)}else{var C=b[0]?this.getOptionValue(b[0]):"";return Ae.createElement("input",{name:y,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,l=this.state,c=l.ariaSelection,p=l.focusedOption,v=l.focusedValue,y=l.isFocused,b=l.selectValue,w=this.getFocusableOptions();return Ae.createElement(Nk,yt({},r,{ariaSelection:c,focusedOption:p,focusedValue:v,isFocused:y,selectValue:b,focusableOptions:w}))}},{key:"render",value:function(){var r=this.getComponents(),l=r.Control,c=r.IndicatorsContainer,p=r.SelectContainer,v=r.ValueContainer,y=this.props,b=y.className,w=y.id,S=y.isDisabled,C=y.menuIsOpen,D=this.state.isFocused,H=this.commonProps=this.getCommonProps();return Ae.createElement(p,yt({},H,{className:b,innerProps:{id:w,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:D}),this.renderLiveRegion(),Ae.createElement(l,yt({},H,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:D,menuIsOpen:C}),Ae.createElement(v,yt({},H,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),Ae.createElement(c,yt({},H,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,l){var c=l.prevProps,p=l.clearFocusValueOnUpdate,v=l.inputIsHiddenAfterUpdate,y=r.options,b=r.value,w=r.menuIsOpen,S=r.inputValue,C={};if(c&&(b!==c.value||y!==c.options||w!==c.menuIsOpen||S!==c.inputValue)){var D=Pv(b),H=w?oA(r,D):[],Q=p?sA(l,D):null,G=aA(l,H);C={selectValue:D,focusedOption:G,focusedValue:Q,clearFocusValueOnUpdate:!1}}var te=v!=null&&r!==c?{inputIsHidden:v,inputIsHiddenAfterUpdate:void 0}:{};return On(On(On({},C),te),{},{prevProps:r})}}]),t}(me);d0.defaultProps=rA;var uA={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},cA=function(i){var s,t;return t=s=function(r){xl(c,r);var l=El(c);function c(){var p;yl(this,c);for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];return p=l.call.apply(l,[this].concat(y)),p.select=void 0,p.state={inputValue:p.props.inputValue!==void 0?p.props.inputValue:p.props.defaultInputValue,menuIsOpen:p.props.menuIsOpen!==void 0?p.props.menuIsOpen:p.props.defaultMenuIsOpen,value:p.props.value!==void 0?p.props.value:p.props.defaultValue},p.onChange=function(w,S){p.callProp("onChange",w,S),p.setState({value:w})},p.onInputChange=function(w,S){var C=p.callProp("onInputChange",w,S);p.setState({inputValue:C!==void 0?C:w})},p.onMenuOpen=function(){p.callProp("onMenuOpen"),p.setState({menuIsOpen:!0})},p.onMenuClose=function(){p.callProp("onMenuClose"),p.setState({menuIsOpen:!1})},p}return bl(c,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(p){return this.props[p]!==void 0?this.props[p]:this.state[p]}},{key:"callProp",value:function(p){if(typeof this.props[p]=="function"){for(var v,y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return(v=this.props)[p].apply(v,b)}}},{key:"render",value:function(){var p=this,v=this.props;v.defaultInputValue,v.defaultMenuIsOpen,v.defaultValue;var y=Bo(v,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Ae.createElement(i,yt({},y,{ref:function(b){p.select=b},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),c}(me),s.defaultProps=uA,t},hA=cA(d0),dA=hA;const Oh=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var f0=i=>{const s=i.content?Oh.find(t=>t.value===i.content):null;return Ae.createElement("div",{className:"r6o-purposedropdown"},Ae.createElement(dA,{value:s,onChange:i.onChange,options:Oh,isDisabled:!i.editable}))};const fA=i=>Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:i.width},Ae.createElement("metadata",null,"IcoFont Icons"),Ae.createElement("title",null,"simple-down"),Ae.createElement("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),Ae.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),pA=i=>Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:i.width},Ae.createElement("metadata",null,"IcoFont Icons"),Ae.createElement("title",null,"close"),Ae.createElement("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),Ae.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),gA=i=>Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:i.width},Ae.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var mA=i=>{const[s,t]=ke(!1),[r,l]=ke(!1),c=S=>{t(!0),l(!1)},p=S=>{i.onDelete(i.body),l(!1)},v=S=>i.onUpdate(i.body,{...i.body,value:S.target.value}),y=S=>i.onUpdate(i.body,{...i.body,purpose:S.value}),b=i.body.modified||i.body.created,w=i.body.creator&&Ae.createElement("div",{className:"r6o-lastmodified"},Ae.createElement("span",{className:"r6o-lastmodified-by"},i.body.creator.name||i.body.creator.id),i.body.created&&Ae.createElement("span",{className:"r6o-lastmodified-at"},Ae.createElement(gE,{datetime:i.env.toClientTime(b),locale:oi.locale()})));return i.readOnly?Ae.createElement("div",{className:"r6o-widget comment"},Ae.createElement("div",{className:"r6o-readonly-comment"},i.body.value),w):Ae.createElement("div",{className:s?"r6o-widget comment editable":"r6o-widget comment"},Ae.createElement(Xm,{editable:s,content:i.body.value,onChange:v,onSaveAndClose:i.onSaveAndClose}),!s&&w,i.purposeSelector&&Ae.createElement(f0,{editable:s,content:i.body.purpose,onChange:y,onSaveAndClose:i.onSaveAndClose}),Ae.createElement("div",{className:r?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>l(!r)},Ae.createElement(fA,{width:12})),r&&Ae.createElement(iP,{onEdit:c,onDelete:p,onClickOutside:()=>l(!1)}))};const vA=Oh.map(i=>i.value),p0=(i,s)=>{const t=s?vA.indexOf(i.purpose)>-1:i.purpose=="commenting"||i.purpose=="replying";return i.type==="TextualBody"&&(!i.hasOwnProperty("purpose")||t)},g0=(i,s)=>{var t,r;if(s.editable===!0)return!1;if(s.editable===!1)return!0;if(s.editable==="MINE_ONLY"){const l=(t=i.creator)==null?void 0:t.id;return((r=s.env.user)==null?void 0:r.id)!==l}return s.readOnly},yA=(i,s)=>i||{type:"TextualBody",value:"",purpose:s?"replying":"commenting",draft:!0},m0=i=>{const s=i.annotation?i.annotation.bodies.filter(p=>p0(p,i.purposeSelector)):[],t=yA(s.find(p=>p.draft==!0),s.length>1),r=s.filter(p=>p!=t),l=p=>{const v=t.value,y=p.target.value;v.length===0&&y.length>0?i.onAppendBody({...t,value:y}):v.length>0&&y.length===0?i.onRemoveBody(t):i.onUpdateBody(t,{...t,value:y})},c=p=>i.onUpdateBody(t,{...t,purpose:p.value});return Ae.createElement(Ae.Fragment,null,r.map((p,v)=>Ae.createElement(mA,{key:v,env:i.env,purposeSelector:i.purposeSelector,readOnly:g0(p,i),body:p,onUpdate:i.onUpdateBody,onDelete:i.onRemoveBody,onSaveAndClose:i.onSaveAndClose})),!i.readOnly&&i.annotation&&Ae.createElement("div",{className:"r6o-widget comment editable"},Ae.createElement(Xm,{focus:i.focus,content:t.value,editable:!0,placeholder:r.length>0?oi.t("Add a reply..."):oi.t("Add a comment..."),onChange:l,onSaveAndClose:()=>i.onSaveAndClose()}),i.purposeSelector&&t.value.length>0&&Ae.createElement(f0,{editable:!0,content:t.purpose,onChange:c,onSaveAndClose:()=>i.onSaveAndClose()})))};m0.disableDelete=(i,s)=>i.bodies.filter(t=>p0(t,s.purposeSelector)).some(t=>g0(t,s));var v0=m0;function y0(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,wl(i,s)}function bA(i,s){return i.classList?!!s&&i.classList.contains(s):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+s+" ")!==-1}function wA(i,s){i.classList?i.classList.add(s):bA(i,s)||(typeof i.className=="string"?i.className=i.className+" "+s:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+s))}function b0(i,s){return i.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xA(i,s){i.classList?i.classList.remove(s):typeof i.className=="string"?i.className=b0(i.className,s):i.setAttribute("class",b0(i.className&&i.className.baseVal||"",s))}var w0={disabled:!1},x0=Ae.createContext(null),Os="unmounted",Ur="exited",Vr="entering",No="entered",Dh="exiting",zi=function(i){y0(s,i);function s(r,l){var c;c=i.call(this,r,l)||this;var p=l,v=p&&!p.isMounting?r.enter:r.appear,y;return c.appearStatus=null,r.in?v?(y=Ur,c.appearStatus=Vr):y=No:r.unmountOnExit||r.mountOnEnter?y=Os:y=Ur,c.state={status:y},c.nextCallback=null,c}s.getDerivedStateFromProps=function(r,l){var c=r.in;return c&&l.status===Os?{status:Ur}:null};var t=s.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var l=null;if(r!==this.props){var c=this.state.status;this.props.in?c!==Vr&&c!==No&&(l=Vr):(c===Vr||c===No)&&(l=Dh)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,l,c,p;return l=c=p=r,r!=null&&typeof r!="number"&&(l=r.exit,c=r.enter,p=r.appear!==void 0?r.appear:c),{exit:l,enter:c,appear:p}},t.updateStatus=function(r,l){r===void 0&&(r=!1),l!==null?(this.cancelNextCallback(),l===Vr?this.performEnter(r):this.performExit()):this.props.unmountOnExit&&this.state.status===Ur&&this.setState({status:Os})},t.performEnter=function(r){var l=this,c=this.props.enter,p=this.context?this.context.isMounting:r,v=this.props.nodeRef?[p]:[Ae.findDOMNode(this),p],y=v[0],b=v[1],w=this.getTimeouts(),S=p?w.appear:w.enter;if(!r&&!c||w0.disabled){this.safeSetState({status:No},function(){l.props.onEntered(y)});return}this.props.onEnter(y,b),this.safeSetState({status:Vr},function(){l.props.onEntering(y,b),l.onTransitionEnd(S,function(){l.safeSetState({status:No},function(){l.props.onEntered(y,b)})})})},t.performExit=function(){var r=this,l=this.props.exit,c=this.getTimeouts(),p=this.props.nodeRef?void 0:Ae.findDOMNode(this);if(!l||w0.disabled){this.safeSetState({status:Ur},function(){r.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:Dh},function(){r.props.onExiting(p),r.onTransitionEnd(c.exit,function(){r.safeSetState({status:Ur},function(){r.props.onExited(p)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,l){l=this.setNextCallback(l),this.setState(r,l)},t.setNextCallback=function(r){var l=this,c=!0;return this.nextCallback=function(p){c&&(c=!1,l.nextCallback=null,r(p))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(r,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Ae.findDOMNode(this),p=r==null&&!this.props.addEndListener;if(!c||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var v=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],y=v[0],b=v[1];this.props.addEndListener(y,b)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Os)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var p=vh(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ae.createElement(x0.Provider,{value:null},typeof c=="function"?c(r,p):Ae.cloneElement(Ae.Children.only(c),p))},s}(Ae.Component);zi.contextType=x0,zi.propTypes={};function Fo(){}zi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fo,onEntering:Fo,onEntered:Fo,onExit:Fo,onExiting:Fo,onExited:Fo},zi.UNMOUNTED=Os,zi.EXITED=Ur,zi.ENTERING=Vr,zi.ENTERED=No,zi.EXITING=Dh;var _A=zi,EA=function(i,s){return i&&s&&s.split(" ").forEach(function(t){return wA(i,t)})},Mh=function(i,s){return i&&s&&s.split(" ").forEach(function(t){return xA(i,t)})},Bh=function(i){y0(s,i);function s(){for(var r,l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=i.call.apply(i,[this].concat(c))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(v,y){var b=r.resolveArguments(v,y),w=b[0],S=b[1];r.removeClasses(w,"exit"),r.addClass(w,S?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(v,y)},r.onEntering=function(v,y){var b=r.resolveArguments(v,y),w=b[0],S=b[1],C=S?"appear":"enter";r.addClass(w,C,"active"),r.props.onEntering&&r.props.onEntering(v,y)},r.onEntered=function(v,y){var b=r.resolveArguments(v,y),w=b[0],S=b[1],C=S?"appear":"enter";r.removeClasses(w,C),r.addClass(w,C,"done"),r.props.onEntered&&r.props.onEntered(v,y)},r.onExit=function(v){var y=r.resolveArguments(v),b=y[0];r.removeClasses(b,"appear"),r.removeClasses(b,"enter"),r.addClass(b,"exit","base"),r.props.onExit&&r.props.onExit(v)},r.onExiting=function(v){var y=r.resolveArguments(v),b=y[0];r.addClass(b,"exit","active"),r.props.onExiting&&r.props.onExiting(v)},r.onExited=function(v){var y=r.resolveArguments(v),b=y[0];r.removeClasses(b,"exit"),r.addClass(b,"exit","done"),r.props.onExited&&r.props.onExited(v)},r.resolveArguments=function(v,y){return r.props.nodeRef?[r.props.nodeRef.current,v]:[v,y]},r.getClassNames=function(v){var y=r.props.classNames,b=typeof y=="string",w=b&&y?y+"-":"",S=b?""+w+v:y[v],C=b?S+"-active":y[v+"Active"],D=b?S+"-done":y[v+"Done"];return{baseClassName:S,activeClassName:C,doneClassName:D}},r}var t=s.prototype;return t.addClass=function(r,l,c){var p=this.getClassNames(l)[c+"ClassName"],v=this.getClassNames("enter"),y=v.doneClassName;l==="appear"&&c==="done"&&y&&(p+=" "+y),c==="active"&&r&&r.scrollTop,p&&(this.appliedClasses[l][c]=p,EA(r,p))},t.removeClasses=function(r,l){var c=this.appliedClasses[l],p=c.base,v=c.active,y=c.done;this.appliedClasses[l]={},p&&Mh(r,p),v&&Mh(r,v),y&&Mh(r,y)},t.render=function(){var r=this.props;r.classNames;var l=vh(r,["classNames"]);return Ae.createElement(_A,yt({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(Ae.Component);Bh.defaultProps={classNames:""},Bh.propTypes={};var SA=Bh;const TA=(i,s)=>s.filter(t=>(t.label?t.label:t).toLowerCase().startsWith(i.toLowerCase())),CA=(i,s)=>s(i);var PA=i=>{const s=Ve(),[t,r]=ke(i.initialValue||""),[l,c]=ke([]),[p,v]=ke(null);Pe(()=>{i.focus&&s.current.querySelector("input").focus({preventScroll:!0})},[]),Pe(()=>{i.onChange&&i.onChange(t)},[t]);const y=C=>{if(typeof i.vocabulary=="function"){const D=CA(C,i.vocabulary);D.then?D.then(c):c(D)}else{const D=TA(C,i.vocabulary);c(D)}},b=()=>{if(p!==null)i.onSubmit(l[p]);else{const C=t.trim();if(C){const D=Array.isArray(i.vocabulary)?i.vocabulary.find(H=>(H.label||H).toLowerCase()===C.toLowerCase()):null;D?i.onSubmit(D):i.onSubmit(C)}}r(""),c([]),v(null)},w=C=>{if(C.which===13)b();else if(C.which===27)i.onCancel&&i.onCancel();else if(l.length>0){if(C.which===38)if(p===null)v(0);else{const D=Math.max(0,p-1);v(D)}else if(C.which===40)if(p===null)v(0);else{const D=Math.min(l.length-1,p+1);v(D)}}else C.which===40&&Array.isArray(i.vocabulary)&&c(i.vocabulary)},S=C=>{const{value:D}=C.target;r(D),v(null),D?y(D):c([])};return Ae.createElement("div",{ref:s,className:"r6o-autocomplete"},Ae.createElement("div",null,Ae.createElement("input",{onKeyDown:w,onChange:S,value:t,placeholder:i.placeholder})),Ae.createElement("ul",null,l.length>0&&l.map((C,D)=>Ae.createElement("li",{key:`${C.label?C.label:C}${D}`,onClick:b,onMouseEnter:()=>v(D),style:p===D?{backgroundColor:"#bde4ff"}:{}},C.label?C.label:C))))};const kA=i=>i||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var _0=i=>{const s=i.annotation?i.annotation.bodies.filter(S=>S.purpose==="tagging"):[],t=kA(s.slice().reverse().find(S=>S.draft)),r=s.filter(S=>S!=t),[l,c]=ke(!1),p=S=>C=>{c(l===S?!1:S)},v=S=>{const C=t.value.trim(),D=S.trim();C.length===0&&D.length>0?i.onAppendBody({...t,value:D}):C.length>0&&D.length===0?i.onRemoveBody(t):C!==D&&i.onUpdateBody(t,{...t,value:D})},y=S=>C=>{C.stopPropagation(),i.onRemoveBody(S)},b=S=>{const C=S.uri?{type:"SpecificResource",purpose:"tagging",source:{id:S.uri,label:S.label}}:{type:"TextualBody",purpose:"tagging",value:S.label||S};t.value.trim().length===0?i.onAppendBody(C):i.onUpdateBody(t,C)},w=S=>S.value||S.source.label;return Ae.createElement("div",{className:"r6o-widget r6o-tag"},r.length>0&&Ae.createElement("ul",{className:"r6o-taglist"},r.map(S=>Ae.createElement("li",{key:w(S),onClick:p(S)},Ae.createElement("span",{className:"r6o-label"},w(S)),!i.readOnly&&Ae.createElement(SA,{in:l===S,timeout:200,classNames:"r6o-delete"},Ae.createElement("span",{className:"r6o-delete-wrapper",onClick:y(S)},Ae.createElement("span",{className:"r6o-delete"},Ae.createElement(pA,{width:12}))))))),!i.readOnly&&Ae.createElement(PA,{focus:i.focus,placeholder:oi.t("Add tag..."),vocabulary:i.vocabulary||[],onChange:v,onSubmit:b}))};class E0 extends me{constructor(s){super(s),this.element=Ae.createRef()}renderWidget(s){const t=this.props.widget({annotation:s.annotation,readOnly:s.readOnly,...s.config,onAppendBody:(r,l)=>s.onAppendBody(r,l),onUpdateBody:(r,l,c)=>s.onUpdateBody(r,l,c),onUpsertBody:(r,l,c)=>s.onUpsertBody(r,l,c),onRemoveBody:(r,l)=>s.onRemoveBody(r,l),onBatchModify:(r,l)=>s.onBatchModify(r,l),onSetProperty:(r,l)=>s.onSetProperty(r,l),onAddContext:r=>s.onAddContext(r),onSaveAndClose:()=>s.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(t)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(s){this.element.current&&this.props.annotation!==s.annotation&&this.renderWidget(s)}render(){return Ae.createElement("div",{ref:this.element,className:"widget"})}}window.React=Ae,window.ReactDOM=Ae;const AA={COMMENT:v0,TAG:_0},RA=[Ae.createElement(v0,null),Ae.createElement(_0,null)],OA=i=>{const s=r=>{var l;return typeof r=="function"&&!!((l=r.prototype)!=null&&l.isReactComponent)},t=r=>typeof r=="function"&&(String(r).match(/return .+\(['|"].+['|"],\s*\{/g)||String(r).match(/return .+preact_compat/)||String(r).match(/return .+\.createElement/g));return s(i)||t(i)},DA=i=>{const s=(t,r,l)=>{if(typeof t=="string"||t instanceof String)return Ae.createElement(AA[t],r);if((l==null?void 0:l.toLowerCase())==="react")return Ae.createElement(t,r);if((l==null?void 0:l.toLowerCase())==="plainjs")return Ae.createElement(E0,{widget:t,config:r});if(OA(t))return Ae.createElement(t,r);if(typeof t=="function"||t instanceof Function)return Ae.createElement(E0,{widget:t,config:r});throw`${t} is not a valid plugin`};if(i.widget){const{widget:t,force:r,...l}=i;return s(t,l,r)}else return s(i)},S0=14;var T0=(i,s,t,r)=>{const l=i.getBoundingClientRect();s.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:c,top:p,right:v,bottom:y}=t.getBoundingClientRect();if(s.style.top=`${y-l.top+S0}px`,s.style.left=`${c-l.left}px`,r){const b=s.children[1].getBoundingClientRect(),{innerWidth:w,innerHeight:S}=i.ownerDocument.defaultView;if(b.right>w&&(s.classList.remove("r6o-arrow-left"),s.classList.add("r6o-arrow-right"),s.style.left=`${v-b.width-l.left}px`),b.bottom>S){s.classList.remove("r6o-arrow-top"),s.classList.add("r6o-arrow-bottom");const D=s.children[1].getBoundingClientRect().height;s.style.top=`${p-l.top-D-S0}px`}const C=s.children[1].getBoundingClientRect();if(C.top<0){s.classList.add("pushed","down"),s.style.top=`${-l.top}px`;const D=y-l.top;C.height-l.top>D&&s.classList.remove("r6o-arrow-bottom")}C.left<0&&(s.classList.add("pushed","right"),s.style.left=`${-l.left}px`),requestAnimationFrame(()=>s.style.opacity=1)}};const C0=i=>{const{top:s,left:t,width:r,height:l}=i.getBoundingClientRect();return`${s}, ${t}, ${r}, ${l}`};class MA extends me{constructor(s){super(s),u(this,"initResizeObserver",()=>{const t=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const r=new ResizeObserver(()=>{this.state.dragged||T0(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)});return r.observe(this.props.wrapperEl),()=>r.disconnect()}else this.state.dragged||T0(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)}),u(this,"creationMeta",t=>{const r={},{user:l}=this.props.env;return l&&(r.creator={},l.id&&(r.creator.id=l.id),l.displayName&&(r.creator.name=l.displayName),r[t.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),r}),u(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),u(this,"hasChanges",()=>{var t;return!((t=this.props.annotation)!=null&&t.isEqual(this.state.currentAnnotation))}),u(this,"updateCurrentAnnotation",(t,r)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(t)},()=>{r?this.onOk():this.props.onChanged&&this.props.onChanged()})}),u(this,"onAppendBody",(t,r)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...t,...this.creationMeta(t)}]},r)),u(this,"onUpdateBody",(t,r,l)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(c=>c===t?{...r,...this.creationMeta(r)}:c)},l)),u(this,"onRemoveBody",(t,r)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(l=>l!==t)},r)),u(this,"onUpsertBody",(t,r,l)=>{if(t==null&&r!=null)this.onAppendBody(r,l);else if(t!=null&&r!=null)this.onUpdateBody(t,r,l);else if(t!=null&&r==null){const c=this.state.currentAnnotation.bodies.find(p=>p.purpose===t.purpose);c?this.onUpdateBody(c,t,l):this.onAppendBody(t,l)}}),u(this,"onBatchModify",(t,r)=>{const l=t.filter(b=>b.action==="upsert"&&b.body).map(b=>({previous:this.state.currentAnnotation.bodies.find(w=>w.purpose===b.body.purpose),updated:{...b.body,...this.creationMeta(b.body)}})),c=t.filter(b=>b.action==="remove").map(b=>b.body),p=[...t.filter(b=>b.action==="append"||b.action==="upsert"&&b.updated&&!b.previous).map(b=>({...b.body,...this.creationMeta(b.body)})),...l.filter(b=>!b.previous).map(b=>b.updated)],v=[...t.filter(b=>b.action==="update"||b.action==="upsert"&&b.updated&&b.previous).map(b=>({previous:b.previous,updated:{...b.updated,...this.creationMeta(b.updated)}})),...l.filter(b=>b.previous)],y=[...this.state.currentAnnotation.bodies.filter(b=>!c.includes(b)).map(b=>{const w=v.find(S=>S.previous===b);return w?w.updated:b}),...p];this.updateCurrentAnnotation({body:y},r)}),u(this,"onSetProperty",(t,r)=>{if(["@context","id","type","body","target"].includes(t))throw new Exception(`Cannot set ${t} - not allowed`);if(r)this.updateCurrentAnnotation({[t]:r});else{const l=this.currentAnnotation.clone();delete l[t],this.setState({currentAnnotation:l})}}),u(this,"onAddContext",t=>{const{currentAnnotation:r}=this.state,l=Array.isArray(r.context)?r.context:[r.context];l.indexOf(t)<0&&(l.push(t),this.updateCurrentAnnotation({"@context":l}))}),u(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),u(this,"onOk",()=>{const t=l=>l.clone({body:l.bodies.map(({draft:c,...p})=>p)}),{currentAnnotation:r}=this.state;r.bodies.length===0&&!this.props.allowEmpty?r.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):r.isSelection?this.props.onAnnotationCreated(t(r).toAnnotation()):this.props.onAnnotationUpdated(t(r),this.props.annotation)}),u(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Ae.createRef(),this.state={currentAnnotation:s.annotation,dragged:!1,selectionBounds:C0(s.selectedElement)}}componentWillReceiveProps(s){var t;const{selectionBounds:r}=this.state,l=C0(s.selectedElement);(t=this.props.annotation)!=null&&t.isEqual(s.annotation)?this.setState({selectionBounds:l}):this.setState({currentAnnotation:s.annotation,selectionBounds:l}),this.props.modifiedTarget!=s.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),r!=l&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:s}=this.state,t=this.props.widgets?this.props.widgets.map(DA):RA,r=c=>c.type.disableDelete?c.type.disableDelete(s,{...c.props,readOnly:this.props.readOnly,env:this.props.env}):!1,l=s&&(s.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!s.isSelection&&!t.some(r);return Ae.createElement(nE,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Ae.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Ae.createElement("div",{className:"r6o-arrow"}),Ae.createElement("div",{className:"r6o-editor-inner"},t.map((c,p)=>Ae.cloneElement(c,{key:`${p}`,focus:p===0,annotation:s,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Ae.createElement("div",{className:"r6o-footer"},Ae.createElement("button",{className:"r6o-btn",onClick:this.onCancel},oi.t("Close"))):Ae.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},l&&Ae.createElement("button",{className:"r6o-btn left delete-annotation",title:oi.t("Delete"),onClick:this.onDelete},Ae.createElement(gA,{width:12})),Ae.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},oi.t("Cancel")),Ae.createElement("button",{className:"r6o-btn ",onClick:this.onOk},oi.t("Ok"))))))}}var Al,BA=new Uint8Array(16);function IA(){if(!Al&&(Al=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Al))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Al(BA)}var NA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function FA(i){return typeof i=="string"&&NA.test(i)}for(var Dn=[],Ih=0;Ih<256;++Ih)Dn.push((Ih+256).toString(16).substr(1));function LA(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Dn[i[s+0]]+Dn[i[s+1]]+Dn[i[s+2]]+Dn[i[s+3]]+"-"+Dn[i[s+4]]+Dn[i[s+5]]+"-"+Dn[i[s+6]]+Dn[i[s+7]]+"-"+Dn[i[s+8]]+Dn[i[s+9]]+"-"+Dn[i[s+10]]+Dn[i[s+11]]+Dn[i[s+12]]+Dn[i[s+13]]+Dn[i[s+14]]+Dn[i[s+15]]).toLowerCase();if(!FA(t))throw TypeError("Stringified UUID is invalid");return t}function P0(i,s,t){i=i||{};var r=i.random||(i.rng||IA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,s){t=t||0;for(var l=0;l<16;++l)s[t+l]=r[l];return s}return LA(r)}var HA=function i(s,t){if(s===t)return!0;if(s&&t&&typeof s=="object"&&typeof t=="object"){if(s.constructor!==t.constructor)return!1;var r,l,c;if(Array.isArray(s)){if(r=s.length,r!=t.length)return!1;for(l=r;l--!==0;)if(!i(s[l],t[l]))return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===t.toString();if(c=Object.keys(s),r=c.length,r!==Object.keys(t).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[l]))return!1;for(l=r;l--!==0;){var p=c[l];if(!i(s[p],t[p]))return!1}return!0}return s!==s&&t!==t},k0=HA;const Nh=class{constructor(i,s){u(this,"clone",(t,r)=>new Nh({...this.underlying,...t},{...this.opts,...r})),u(this,"selector",t=>{const{target:r}=this.underlying;if(r.selector)return(Array.isArray(r.selector)?r.selector:[r.selector]).find(l=>l.type===t)}),this.underlying=i,this.opts=s}isEqual(i){return(i==null?void 0:i.type)!=="Annotation"?!1:this.underlying===i.underlying?!0:!this.underlying.id||!i.underlying.id?!1:k0(this.underlying,i.underlying)}get readOnly(){var i;return(i=this.opts)==null?void 0:i.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(i){this.underlying.body=i}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var i;return(i=this.selector("TextQuoteSelector"))==null?void 0:i.exact}get start(){var i;return(i=this.selector("TextPositionSelector"))==null?void 0:i.start}get end(){var i;return(i=this.selector("TextPositionSelector"))==null?void 0:i.end}};let Wr=Nh;u(Wr,"create",i=>{const s={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${P0()}`,body:[]};return new Nh({...s,...i})});class Ds{constructor(s,t){u(this,"clone",r=>{const l=new Ds;return l.underlying=JSON.parse(JSON.stringify(this.underlying)),r&&(l.underlying={...l.underlying,...r}),l}),u(this,"selector",r=>{const{target:l}=this.underlying;if(l.selector)return(Array.isArray(l.selector)?l.selector:[l.selector]).find(c=>c.type===r)}),u(this,"toAnnotation",()=>{const r=Object.assign({},this.underlying,{type:"Annotation",id:`#${P0()}`});return new Wr(r)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:t||[],target:s}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(s){return s?k0(this.underlying,s.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get isSelection(){return!0}}let Fh=0;var zA=()=>({setServerTime:i=>{const s=Date.now();Fh=i-s},getCurrentTimeAdjusted:()=>new Date(Date.now()+Fh).toISOString(),toClientTime:i=>Date.parse(i)-Fh});const jA=(i,s)=>{if(i){const t=i==="auto"?window.navigator.userLanguage||window.navigator.language:i,r=t.split("-")[0].toLowerCase(),l=[t,r].find(c=>nP.includes(c));l||console.warn(`Unsupported locale '${t}'. Falling back to default en.`),oi.init(l,s)}else oi.init(null,s)};var A0={exports:{}};(function(i){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function s(t){return new s.Viewer(t)}(function(t){t.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,c=Object.prototype.hasOwnProperty;t.isFunction=function(p){return t.type(p)==="function"},t.isArray=Array.isArray||function(p){return t.type(p)==="array"},t.isWindow=function(p){return p&&typeof p=="object"&&"setInterval"in p},t.type=function(p){return p==null?String(p):r[l.call(p)]||"object"},t.isPlainObject=function(p){if(!p||s.type(p)!=="object"||p.nodeType||t.isWindow(p)||p.constructor&&!c.call(p,"constructor")&&!c.call(p.constructor.prototype,"isPrototypeOf"))return!1;var v;for(var y in p)v=y;return v===void 0||c.call(p,v)},t.isEmptyObject=function(p){for(var v in p)return!1;return!0},t.freezeObject=function(p){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(v){return v},t.freezeObject(p)},t.supportsCanvas=function(){var p=document.createElement("canvas");return!!(t.isFunction(p.getContext)&&p.getContext("2d"))}(),t.isCanvasTainted=function(p){var v=!1;try{p.getContext("2d").getImageData(0,0,1,1)}catch{v=!0}return v},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var p=0;if(t.supportsAddEventListener)try{var v={get capture(){return p++,!1},get once(){return p++,!1},get passive(){return p++,!1}};window.addEventListener("test",null,v),window.removeEventListener("test",null,v)}catch{p=0}return p>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var p=document.createElement("canvas").getContext("2d"),v=window.devicePixelRatio||1,y=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return Math.max(v,1)/y}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(s),function(t){t.extend=function(){var y,b,w,S,C,D,H=arguments[0]||{},Q=arguments.length,G=!1,te=1;for(typeof H=="boolean"&&(G=H,H=arguments[1]||{},te=2),typeof H!="object"&&!s.isFunction(H)&&(H={}),Q===te&&(H=this,--te);te<Q;te++)if(y=arguments[te],y!==null||y!==void 0)for(b in y)w=H[b],S=y[b],H!==S&&(G&&S&&(s.isPlainObject(S)||(C=s.isArray(S)))?(C?(C=!1,D=w&&s.isArray(w)?w:[]):D=w&&s.isPlainObject(w)?w:{},H[b]=s.extend(G,D,S)):S!==void 0&&(H[b]=S));return H};var r=function(){if(typeof navigator!="object")return!1;var y=navigator.userAgent;return typeof y!="string"?!1:y.indexOf("iPhone")!==-1||y.indexOf("iPad")!==-1||y.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:r(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(y,b){return function(){var w=arguments;return w===void 0&&(w=[]),b.apply(y,w)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(y){return t._viewers.get(this.getElement(y))},getElement:function(y){return typeof y=="string"&&(y=document.getElementById(y)),y},getElementPosition:function(y){var b=new t.Point,w,S;for(y=t.getElement(y),w=t.getElementStyle(y).position==="fixed",S=v(y,w);S;)b.x+=y.offsetLeft,b.y+=y.offsetTop,w&&(b=b.plus(t.getPageScroll())),y=S,w=t.getElementStyle(y).position==="fixed",S=v(y,w);return b},getElementOffset:function(y){y=t.getElement(y);var b=y&&y.ownerDocument,w,S,C={top:0,left:0};return b?(w=b.documentElement,typeof y.getBoundingClientRect<"u"&&(C=y.getBoundingClientRect()),S=b===b.window?b:b.nodeType===9?b.defaultView||b.parentWindow:!1,new t.Point(C.left+(S.pageXOffset||w.scrollLeft)-(w.clientLeft||0),C.top+(S.pageYOffset||w.scrollTop)-(w.clientTop||0))):new t.Point},getElementSize:function(y){return y=t.getElement(y),new t.Point(y.clientWidth,y.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(y){return y=t.getElement(y),y.currentStyle}:function(y){return y=t.getElement(y),window.getComputedStyle(y,"")},getCssPropertyWithVendorPrefix:function(y){var b={};return t.getCssPropertyWithVendorPrefix=function(w){if(b[w]!==void 0)return b[w];var S=document.createElement("div").style,C=null;if(S[w]!==void 0)C=w;else for(var D=["Webkit","Moz","MS","O","webkit","moz","ms","o"],H=t.capitalizeFirstLetter(w),Q=0;Q<D.length;Q++){var G=D[Q]+H;if(S[G]!==void 0){C=G;break}}return b[w]=C,C},t.getCssPropertyWithVendorPrefix(y)},capitalizeFirstLetter:function(y){return y.charAt(0).toUpperCase()+y.slice(1)},positiveModulo:function(y,b){var w=y%b;return w<0&&(w+=b),w},pointInElement:function(y,b){y=t.getElement(y);var w=t.getElementOffset(y),S=t.getElementSize(y);return b.x>=w.x&&b.x<w.x+S.x&&b.y<w.y+S.y&&b.y>=w.y},getMousePosition:function(y){if(typeof y.pageX=="number")t.getMousePosition=function(b){var w=new t.Point;return w.x=b.pageX,w.y=b.pageY,w};else if(typeof y.clientX=="number")t.getMousePosition=function(b){var w=new t.Point;return w.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,w.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop,w};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(y)},getPageScroll:function(){var y=document.documentElement||{},b=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(b.scrollLeft||b.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(y.scrollLeft||y.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(y){if(typeof window.scrollTo<"u")t.setPageScroll=function(S){window.scrollTo(S.x,S.y)};else{var b=t.getPageScroll();if(b.x===y.x&&b.y===y.y)return;document.body.scrollLeft=y.x,document.body.scrollTop=y.y;var w=t.getPageScroll();if(w.x!==b.x&&w.y!==b.y){t.setPageScroll=function(S){document.body.scrollLeft=S.x,document.body.scrollTop=S.y};return}if(document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y,w=t.getPageScroll(),w.x!==b.x&&w.y!==b.y){t.setPageScroll=function(S){document.documentElement.scrollLeft=S.x,document.documentElement.scrollTop=S.y};return}t.setPageScroll=function(S){}}t.setPageScroll(y)},getWindowSize:function(){var y=document.documentElement||{},b=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(y.clientWidth||y.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(b.clientWidth||b.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(y){y=t.getElement(y);var b=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(b[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(b[1].style,{display:"table-row"}),t.extend(b[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),b[0].appendChild(b[1]),b[1].appendChild(b[2]),b[2].appendChild(y),b[0]},makeNeutralElement:function(y){var b=document.createElement(y),w=b.style;return w.background="transparent none",w.border="none",w.margin="0px",w.padding="0px",w.position="static",b},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(y){var b=t.makeNeutralElement("img");return b.src=y,b},setElementOpacity:function(y,b,w){var S,C;y=t.getElement(y),w&&!t.Browser.alpha&&(b=Math.round(b)),t.Browser.opacity?y.style.opacity=b<1?b:"":b<1?(S=Math.round(100*b),C="alpha(opacity="+S+")",y.style.filter=C):y.style.filter=""},setElementTouchActionNone:function(y){y=t.getElement(y),typeof y.style.touchAction<"u"?y.style.touchAction="none":typeof y.style.msTouchAction<"u"&&(y.style.msTouchAction="none")},setElementPointerEvents:function(y,b){y=t.getElement(y),typeof y.style.pointerEvents<"u"&&(y.style.pointerEvents=b)},setElementPointerEventsNone:function(y){t.setElementPointerEvents(y,"none")},addClass:function(y,b){y=t.getElement(y),y.className?(" "+y.className+" ").indexOf(" "+b+" ")===-1&&(y.className+=" "+b):y.className=b},indexOf:function(y,b,w){return Array.prototype.indexOf?this.indexOf=function(S,C,D){return S.indexOf(C,D)}:this.indexOf=function(S,C,D){var H,Q=D||0,G;if(!S)throw new TypeError;if(G=S.length,G===0||Q>=G)return-1;for(Q<0&&(Q=G-Math.abs(Q)),H=Q;H<G;H++)if(S[H]===C)return H;return-1},this.indexOf(y,b,w)},removeClass:function(y,b){var w,S=[],C;for(y=t.getElement(y),w=y.className.split(/\s+/),C=0;C<w.length;C++)w[C]&&w[C]!==b&&S.push(w[C]);y.className=S.join(" ")},normalizeEventListenerOptions:function(y){var b;return typeof y<"u"?typeof y=="boolean"?b=t.supportsEventListenerOptions?{capture:y}:y:b=t.supportsEventListenerOptions?y:typeof y.capture<"u"?y.capture:!1:b=t.supportsEventListenerOptions?{capture:!1}:!1,b},addEvent:function(){if(t.supportsAddEventListener)return function(y,b,w,S){S=t.normalizeEventListenerOptions(S),y=t.getElement(y),y.addEventListener(b,w,S)};if(document.documentElement.attachEvent&&document.attachEvent)return function(y,b,w){y=t.getElement(y),y.attachEvent("on"+b,w)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(y,b,w,S){S=t.normalizeEventListenerOptions(S),y=t.getElement(y),y.removeEventListener(b,w,S)};if(document.documentElement.detachEvent&&document.detachEvent)return function(y,b,w){y=t.getElement(y),y.detachEvent("on"+b,w)};throw new Error("No known event model.")}(),cancelEvent:function(y){y.preventDefault()},eventIsCanceled:function(y){return y.defaultPrevented},stopEvent:function(y){y.stopPropagation()},createCallback:function(y,b){var w=[],S;for(S=2;S<arguments.length;S++)w.push(arguments[S]);return function(){var C=w.concat([]),D;for(D=0;D<arguments.length;D++)C.push(arguments[D]);return b.apply(y,C)}},getUrlParameter:function(y){var b=p[y];return b||null},getUrlProtocol:function(y){var b=y.match(/^([a-z]+:)\/\//i);return b===null?window.location.protocol:b[1].toLowerCase()},createAjaxRequest:function(y){var b;try{b=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{b=!1}if(b)window.XMLHttpRequest?t.createAjaxRequest=function(w){return w?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(y)},makeAjaxRequest:function(y,b,w){var S,C,D;t.isPlainObject(y)&&(b=y.success,w=y.error,S=y.withCredentials,C=y.headers,D=y.responseType||null,y=y.url);var H=t.getUrlProtocol(y),Q=t.createAjaxRequest(H==="file:");if(!t.isFunction(b))throw new Error("makeAjaxRequest requires a success callback");Q.onreadystatechange=function(){Q.readyState===4&&(Q.onreadystatechange=function(){},Q.status>=200&&Q.status<300||Q.status===0&&H!=="http:"&&H!=="https:"?b(Q):(t.console.log("AJAX request returned %d: %s",Q.status,y),t.isFunction(w)&&w(Q)))};try{if(Q.open("GET",y,!0),D&&(Q.responseType=D),C)for(var G in C)Object.prototype.hasOwnProperty.call(C,G)&&C[G]&&Q.setRequestHeader(G,C[G]);S&&(Q.withCredentials=!0),Q.send(null)}catch(te){t.console.log("%s while making AJAX request: %s",te.name,te.message),Q.onreadystatechange=function(){},t.isFunction(w)&&w(Q,te)}return Q},jsonp:function(y){var b,w=y.url,S=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=y.callbackName||"openseadragon"+t.now(),D=window[C],H="$1"+C+"$2",Q=y.param||"callback",G=y.callback;w=w.replace(/(=)\?(&|$)|\?\?/i,H),w+=(/\?/.test(w)?"&":"?")+Q+"="+C,window[C]=function(te){if(D)window[C]=D;else try{delete window[C]}catch{}G&&t.isFunction(G)&&G(te)},b=document.createElement("script"),(y.async!==void 0||y.async!==!1)&&(b.async="async"),y.scriptCharset&&(b.charset=y.scriptCharset),b.src=w,b.onload=b.onreadystatechange=function(te,P){(P||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,S&&b.parentNode&&S.removeChild(b),b=void 0)},S.insertBefore(b,S.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(y){if(window.DOMParser)t.parseXml=function(b){var w=null,S;return S=new DOMParser,w=S.parseFromString(b,"text/xml"),w};else if(window.ActiveXObject)t.parseXml=function(b){var w=null;return w=new ActiveXObject("Microsoft.XMLDOM"),w.async=!1,w.loadXML(b),w};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(y)},parseJSON:function(y){return t.parseJSON=window.JSON.parse,t.parseJSON(y)},imageFormatSupported:function(y){return y=y||"",!!c[y.toLowerCase()]},setImageFormatsSupported:function(y){t.extend(c,y)}});var l=function(y){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var c={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},p={};(function(){var y=navigator.appVersion,b=navigator.userAgent,w;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(b.substring(b.indexOf("MSIE")+5,b.indexOf(";",b.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(b.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(b.substring(b.indexOf("Edge")+5))):b.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(b.substring(b.indexOf("Edg")+4))):b.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(b.substring(b.indexOf("Firefox")+8))):b.indexOf("Safari")>=0?(t.Browser.vendor=b.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(b.substring(b.substring(0,b.indexOf("Safari")).lastIndexOf("/")+1,b.indexOf("Safari")))):(w=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),w.exec(b)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(y);break}var S=window.location.search.substring(1),C=S.split("&"),D,H,Q;for(Q=0;Q<C.length;Q++)if(D=C[Q],H=D.indexOf("="),H>0){var G=D.substring(0,H),te=D.substring(H+1);try{p[G]=decodeURIComponent(te)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",G,te)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(y){var b=y.requestAnimationFrame||y.mozRequestAnimationFrame||y.webkitRequestAnimationFrame||y.msRequestAnimationFrame,w=y.cancelAnimationFrame||y.mozCancelAnimationFrame||y.webkitCancelAnimationFrame||y.msCancelAnimationFrame;if(b&&w)t.requestAnimationFrame=function(){return b.apply(y,arguments)},t.cancelAnimationFrame=function(){return w.apply(y,arguments)};else{var S=[],C=[],D=0,H;t.requestAnimationFrame=function(Q){return S.push([++D,Q]),H||(H=setInterval(function(){if(S.length){var G=t.now(),te=C;for(C=S,S=te;C.length;)C.shift()[1](G)}else clearInterval(H),H=void 0},1e3/50)),D},t.cancelAnimationFrame=function(Q){var G,te;for(G=0,te=S.length;G<te;G+=1)if(S[G][0]===Q){S.splice(G,1);return}for(G=0,te=C.length;G<te;G+=1)if(C[G][0]===Q){C.splice(G,1);return}}}}(window);function v(y,b){return b&&y!==document.body?document.body:y.offsetParent}}(s),function(t,r){i.exports?i.exports=r():t.OpenSeadragon=r()}(sr,function(){return s}),function(t){var r={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.fullscreenElement},r.requestFullScreen=function(l){return l.requestFullscreen()},r.exitFullScreen=function(){document.exitFullscreen()},r.fullScreenEventName="fullscreenchange",r.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.msFullscreenElement},r.requestFullScreen=function(l){return l.msRequestFullscreen()},r.exitFullScreen=function(){document.msExitFullscreen()},r.fullScreenEventName="MSFullscreenChange",r.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitFullscreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullscreen()},r.exitFullScreen=function(){document.webkitExitFullscreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullScreen()},r.exitFullScreen=function(){document.webkitCancelFullScreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.mozFullScreenElement},r.requestFullScreen=function(l){return l.mozRequestFullScreen()},r.exitFullScreen=function(){document.mozCancelFullScreen()},r.fullScreenEventName="mozfullscreenchange",r.fullScreenErrorEventName="mozfullscreenerror"),r.isFullScreen=function(){return r.getFullScreenElement()!==null},r.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),r.exitFullScreen()},t.extend(t,r)}(s),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(r,l,c,p){var v=this;p=p||1;var y=0,b=function(w){y++,y===p&&v.removeHandler(r,b),l(w)};this.addHandler(r,b,c)},addHandler:function(r,l,c){var p=this.events[r];p||(this.events[r]=p=[]),l&&t.isFunction(l)&&(p[p.length]={handler:l,userData:c||null})},removeHandler:function(r,l){var c=this.events[r],p=[],v;if(!!c&&t.isArray(c)){for(v=0;v<c.length;v++)c[v].handler!==l&&p.push(c[v]);this.events[r]=p}},removeAllHandlers:function(r){if(r)this.events[r]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(r){var l=this.events[r];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(c,p){var v,y=l.length;for(v=0;v<y;v++)l[v]&&(p.eventSource=c,p.userData=l[v].userData,l[v].handler(p))})},raiseEvent:function(r,l){var c=this.getHandler(r);c&&(l||(l={}),c(this,l))}}}(s),function(t){var r={};t.MouseTracker=function(I){var O=arguments;t.isPlainObject(I)||(I={element:O[0],clickTimeThreshold:O[1],clickDistThreshold:O[2]}),this.hash=Math.random(),this.element=t.getElement(I.element),this.clickTimeThreshold=I.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=I.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=I.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=I.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=I.userData||null,this.stopDelay=I.stopDelay||50,this.preProcessEventHandler=I.preProcessEventHandler||null,this.contextMenuHandler=I.contextMenuHandler||null,this.enterHandler=I.enterHandler||null,this.leaveHandler=I.leaveHandler||null,this.exitHandler=I.exitHandler||null,this.overHandler=I.overHandler||null,this.outHandler=I.outHandler||null,this.pressHandler=I.pressHandler||null,this.nonPrimaryPressHandler=I.nonPrimaryPressHandler||null,this.releaseHandler=I.releaseHandler||null,this.nonPrimaryReleaseHandler=I.nonPrimaryReleaseHandler||null,this.moveHandler=I.moveHandler||null,this.scrollHandler=I.scrollHandler||null,this.clickHandler=I.clickHandler||null,this.dblClickHandler=I.dblClickHandler||null,this.dragHandler=I.dragHandler||null,this.dragEndHandler=I.dragEndHandler||null,this.pinchHandler=I.pinchHandler||null,this.stopHandler=I.stopHandler||null,this.keyDownHandler=I.keyDownHandler||null,this.keyUpHandler=I.keyUpHandler||null,this.keyHandler=I.keyHandler||null,this.focusHandler=I.focusHandler||null,this.blurHandler=I.blurHandler||null;var U=this;r[this.hash]={click:function(q){Z(U,q)},dblclick:function(q){oe(U,q)},keydown:function(q){re(U,q)},keyup:function(q){he(U,q)},keypress:function(q){ge(U,q)},focus:function(q){Ie(U,q)},blur:function(q){je(U,q)},contextmenu:function(q){Qe(U,q)},wheel:function(q){rt(U,q)},mousewheel:function(q){$e(U,q)},DOMMouseScroll:function(q){$e(U,q)},MozMousePixelScroll:function(q){$e(U,q)},losecapture:function(q){ft(U,q)},mouseenter:function(q){We(U,q)},mouseleave:function(q){Ze(U,q)},mouseover:function(q){qe(U,q)},mouseout:function(q){Je(U,q)},mousedown:function(q){gt(U,q)},mouseup:function(q){Yt(U,q)},mousemove:function(q){gi(U,q)},touchstart:function(q){Tt(U,q)},touchend:function(q){xt(U,q)},touchmove:function(q){At(U,q)},touchcancel:function(q){Ut(U,q)},gesturestart:function(q){Jt(U,q)},gesturechange:function(q){et(U,q)},gotpointercapture:function(q){Dt(U,q)},lostpointercapture:function(q){De(U,q)},pointerenter:function(q){We(U,q)},pointerleave:function(q){Ze(U,q)},pointerover:function(q){qe(U,q)},pointerout:function(q){Je(U,q)},pointerdown:function(q){gt(U,q)},pointerup:function(q){Yt(U,q)},pointermove:function(q){gi(U,q)},pointercancel:function(q){k(U,q)},pointerupcaptured:function(q){hn(U,q)},pointermovecaptured:function(q){Kn(U,q)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),I.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){y(this),this.element=null,r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(I){return I?v(this):y(this),this},getActivePointersListByType:function(I){var O=r[this.hash],U,q=O.activePointersLists.length,Ee;for(U=0;U<q;U++)if(O.activePointersLists[U].type===I)return O.activePointersLists[U];return Ee=new t.MouseTracker.GesturePointList(I),O.activePointersLists.push(Ee),Ee},getActivePointerCount:function(){var I=r[this.hash],O,U=I.activePointersLists.length,q=0;for(O=0;O<U;O++)q+=I.activePointersLists[O].getLength();return q},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function c(I){try{return I.addEventListener&&I.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var I=[],O=0,U=0,q=function(Qt,vt){return Qt.hash.toString()+vt.type+vt.id.toString()},Ee=function(){var Qt,vt=I.length,ui,An,jo=t.now(),Q0,$0,ey;for(Q0=jo-U,U=jo,Qt=0;Qt<vt;Qt++)ui=I[Qt],An=ui.gPoint,An.direction=Math.atan2(An.currentPos.y-ui.lastPos.y,An.currentPos.x-ui.lastPos.x),$0=ui.lastPos.distanceTo(An.currentPos),ui.lastPos=An.currentPos,ey=1e3*$0/(Q0+1),An.speed=.75*ey+.25*An.speed},Ue=function(Qt,vt){var ui=q(Qt,vt);I.push({guid:ui,gPoint:vt,lastPos:vt.currentPos}),I.length===1&&(U=t.now(),O=window.setInterval(Ee,50))},mt=function(Qt,vt){var ui=q(Qt,vt),An,jo=I.length;for(An=0;An<jo;An++)if(I[An].guid===ui){I.splice(An,1),jo--,jo===0&&window.clearInterval(O);break}};return{addPoint:Ue,removePoint:mt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var I=document.createElement("div");return t.isFunction(I.setPointerCapture)&&t.isFunction(I.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var I=document.createElement("div");return t.isFunction(I.setCapture)&&t.isFunction(I.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(I){this._gPoints=[],this.type=I,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(I){return this._gPoints.push(I)},removeById:function(I){var O,U=this._gPoints.length;for(O=0;O<U;O++)if(this._gPoints[O].id===I){this._gPoints.splice(O,1);break}return this._gPoints.length},getByIndex:function(I){return I<this._gPoints.length?this._gPoints[I]:null},getById:function(I){var O,U=this._gPoints.length;for(O=0;O<U;O++)if(this._gPoints[O].id===I)return this._gPoints[O];return null},getPrimary:function(I){var O,U=this._gPoints.length;for(O=0;O<U;O++)if(this._gPoints[O].isPrimary)return this._gPoints[O];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(t.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function p(I){var O=r[I.hash],U,q,Ee,Ue,mt,Qt=O.activePointersLists.length;for(U=0;U<Qt;U++)if(Ee=O.activePointersLists[U],Ee.getLength()>0){for(mt=[],Ue=Ee.asArray(),q=0;q<Ue.length;q++)mt.push(Ue[q]);for(q=0;q<mt.length;q++)we(I,Ee,mt[q])}for(U=0;U<Qt;U++)O.activePointersLists.pop();O.sentDragEvent=!1}function v(I){var O=r[I.hash],U,q;if(!O.tracking){for(q=0;q<t.MouseTracker.subscribeEvents.length;q++)U=t.MouseTracker.subscribeEvents[q],t.addEvent(I.element,U,O[U],U===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);p(I),O.tracking=!0}}function y(I){var O=r[I.hash],U,q;if(O.tracking){for(q=0;q<t.MouseTracker.subscribeEvents.length;q++)U=t.MouseTracker.subscribeEvents[q],t.removeEvent(I.element,U,O[U],!1);p(I),O.tracking=!1}}function b(I,O){var U=r[I.hash];if(O==="pointerevent")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(O==="mouse")return{upName:"pointerup",upHandler:U.pointerupcaptured,moveName:"pointermove",moveHandler:U.pointermovecaptured};if(O==="touch")return{upName:"touchend",upHandler:U.touchendcaptured,moveName:"touchmove",moveHandler:U.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function w(I,O){var U;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{I.element.setPointerCapture(O.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else I.element.setCapture(!0);else U=b(I,t.MouseTracker.havePointerEvents?"pointerevent":O.type),l&&c(window.top)&&t.addEvent(window.top,U.upName,U.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,U.upName,U.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,U.moveName,U.moveHandler,!0);ht(I,O,!0)}function S(I,O){var U,q,Ee;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(q=I.getActivePointersListByType(O.type),Ee=q.getById(O.id),!Ee||!Ee.captured)return;try{I.element.releasePointerCapture(O.id)}catch{}}else I.element.releaseCapture();else U=b(I,t.MouseTracker.havePointerEvents?"pointerevent":O.type),l&&c(window.top)&&t.removeEvent(window.top,U.upName,U.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,U.moveName,U.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,U.upName,U.upHandler,!0);ht(I,O,!1)}function C(I){return t.MouseTracker.havePointerEvents?I.pointerId:t.MouseTracker.mousePointerId}function D(I){return t.MouseTracker.havePointerEvents?I.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function H(I){return t.MouseTracker.havePointerEvents?I.isPrimary:!0}function Q(I){return t.getMousePosition(I)}function G(I,O){return te(Q(I),O)}function te(I,O){var U=t.getElementOffset(O);return I.minus(U)}function P(I,O){return new t.Point((I.x+O.x)/2,(I.y+O.y)/2)}function Z(I,O){var U={originalEvent:O,eventType:"click",pointerType:"mouse",isEmulated:!1};Oe(I,U),U.preventDefault&&!U.defaultPrevented&&t.cancelEvent(O),U.stopPropagation&&t.stopEvent(O)}function oe(I,O){var U={originalEvent:O,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Oe(I,U),U.preventDefault&&!U.defaultPrevented&&t.cancelEvent(O),U.stopPropagation&&t.stopEvent(O)}function re(I,O){var U=null,q={originalEvent:O,eventType:"keydown",pointerType:"",isEmulated:!1};Oe(I,q),I.keyDownHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyDownHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function he(I,O){var U=null,q={originalEvent:O,eventType:"keyup",pointerType:"",isEmulated:!1};Oe(I,q),I.keyUpHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyUpHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function ge(I,O){var U=null,q={originalEvent:O,eventType:"keypress",pointerType:"",isEmulated:!1};Oe(I,q),I.keyHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.keyHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function Ie(I,O){var U={originalEvent:O,eventType:"focus",pointerType:"",isEmulated:!1};Oe(I,U),I.focusHandler&&!U.preventGesture&&I.focusHandler({eventSource:I,originalEvent:O,userData:I.userData})}function je(I,O){var U={originalEvent:O,eventType:"blur",pointerType:"",isEmulated:!1};Oe(I,U),I.blurHandler&&!U.preventGesture&&I.blurHandler({eventSource:I,originalEvent:O,userData:I.userData})}function Qe(I,O){var U=null,q={originalEvent:O,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Oe(I,q),I.contextMenuHandler&&!q.preventGesture&&!q.defaultPrevented&&(U={eventSource:I,position:te(Q(O),I.element),originalEvent:q.originalEvent,preventDefault:q.preventDefault||q.defaultPrevented,userData:I.userData},I.contextMenuHandler(U)),(U&&U.preventDefault||q.preventDefault&&!q.defaultPrevented)&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function rt(I,O){pt(I,O,O)}function $e(I,O){var U={target:O.target||O.srcElement,type:"wheel",shiftKey:O.shiftKey||!1,clientX:O.clientX,clientY:O.clientY,pageX:O.pageX?O.pageX:O.clientX,pageY:O.pageY?O.pageY:O.clientY,deltaMode:O.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?U.deltaY=-O.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:U.deltaY=O.detail,pt(I,U,O)}function pt(I,O,U){var q=0,Ee,Ue=null;q=O.deltaY<0?1:-1,Ee={originalEvent:O,eventType:"wheel",pointerType:"mouse",isEmulated:O!==U},Oe(I,Ee),I.scrollHandler&&!Ee.preventGesture&&!Ee.defaultPrevented&&(Ue={eventSource:I,pointerType:"mouse",position:G(O,I.element),scroll:q,shift:O.shiftKey,isTouchEvent:!1,originalEvent:U,preventDefault:Ee.preventDefault||Ee.defaultPrevented,userData:I.userData},I.scrollHandler(Ue)),Ee.stopPropagation&&t.stopEvent(U),(Ue&&Ue.preventDefault||Ee.preventDefault&&!Ee.defaultPrevented)&&t.cancelEvent(U)}function ft(I,O){var U={id:t.MouseTracker.mousePointerId,type:"mouse"},q={originalEvent:O,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Oe(I,q),O.target===I.element&&ht(I,U,!1),q.stopPropagation&&t.stopEvent(O)}function Tt(I,O){var U,q,Ee=O.changedTouches.length,Ue,mt=I.getActivePointersListByType("touch");U=t.now(),mt.getLength()>O.touches.length-Ee&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var Qt={originalEvent:O,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Oe(I,Qt),q=0;q<Ee;q++)Ue={id:O.changedTouches[q].identifier,type:"touch",isPrimary:mt.getLength()===0,currentPos:Q(O.changedTouches[q]),currentTime:U},tt(I,Qt,Ue),Ct(I,Qt,Ue,0),ht(I,Ue,!0);Qt.preventDefault&&!Qt.defaultPrevented&&t.cancelEvent(O),Qt.stopPropagation&&t.stopEvent(O)}function xt(I,O){var U,q,Ee=O.changedTouches.length,Ue;U=t.now();var mt={originalEvent:O,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Oe(I,mt),q=0;q<Ee;q++)Ue={id:O.changedTouches[q].identifier,type:"touch",currentPos:Q(O.changedTouches[q]),currentTime:U},mn(I,mt,Ue,0),ht(I,Ue,!1),Vt(I,mt,Ue);mt.preventDefault&&!mt.defaultPrevented&&t.cancelEvent(O),mt.stopPropagation&&t.stopEvent(O)}function At(I,O){var U,q,Ee=O.changedTouches.length,Ue;U=t.now();var mt={originalEvent:O,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Oe(I,mt),q=0;q<Ee;q++)Ue={id:O.changedTouches[q].identifier,type:"touch",currentPos:Q(O.changedTouches[q]),currentTime:U},Ft(I,mt,Ue);mt.preventDefault&&!mt.defaultPrevented&&t.cancelEvent(O),mt.stopPropagation&&t.stopEvent(O)}function Ut(I,O){var U=O.changedTouches.length,q,Ee,Ue={originalEvent:O,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Oe(I,Ue),q=0;q<U;q++)Ee={id:O.changedTouches[q].identifier,type:"touch"},Mn(I,Ue,Ee);Ue.stopPropagation&&t.stopEvent(O)}function Jt(I,O){return t.eventIsCanceled(O)||O.preventDefault(),!1}function et(I,O){return t.eventIsCanceled(O)||O.preventDefault(),!1}function Dt(I,O){var U={originalEvent:O,eventType:"gotpointercapture",pointerType:D(O),isEmulated:!1};Oe(I,U),O.target===I.element&&ht(I,{id:O.pointerId,type:D(O)},!0),U.stopPropagation&&t.stopEvent(O)}function De(I,O){var U={originalEvent:O,eventType:"lostpointercapture",pointerType:D(O),isEmulated:!1};Oe(I,U),O.target===I.element&&ht(I,{id:O.pointerId,type:D(O)},!1),U.stopPropagation&&t.stopEvent(O)}function We(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q={originalEvent:O,eventType:"pointerenter",pointerType:U.type,isEmulated:!1};Oe(I,q),tt(I,q,U)}function Ze(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q={originalEvent:O,eventType:"pointerleave",pointerType:U.type,isEmulated:!1};Oe(I,q),Vt(I,q,U)}function qe(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q={originalEvent:O,eventType:"pointerover",pointerType:U.type,isEmulated:!1};Oe(I,q),sn(I,q,U),q.preventDefault&&!q.defaultPrevented&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function Je(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q={originalEvent:O,eventType:"pointerout",pointerType:U.type,isEmulated:!1};Oe(I,q),Wt(I,q,U),q.preventDefault&&!q.defaultPrevented&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function gt(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q=t.MouseTracker.havePointerEvents&&U.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Ee={originalEvent:O,eventType:"pointerdown",pointerType:U.type,isEmulated:!1};Oe(I,Ee),Ct(I,Ee,U,O.button),Ee.preventDefault&&!Ee.defaultPrevented&&t.cancelEvent(O),Ee.stopPropagation&&t.stopEvent(O),Ee.shouldCapture&&(q?ht(I,U,!0):w(I,U))}function Yt(I,O){Ht(I,O)}function hn(I,O){var U=I.getActivePointersListByType(D(O));U.getById(O.pointerId)&&Ht(I,O),t.stopEvent(O)}function Ht(I,O){var U;U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()};var q={originalEvent:O,eventType:"pointerup",pointerType:U.type,isEmulated:!1};Oe(I,q),mn(I,q,U,O.button),q.preventDefault&&!q.defaultPrevented&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O),q.shouldReleaseCapture&&(O.target===I.element?S(I,U):ht(I,U,!1))}function gi(I,O){li(I,O)}function Kn(I,O){var U=I.getActivePointersListByType(D(O));U.getById(O.pointerId)&&li(I,O),t.stopEvent(O)}function li(I,O){var U={id:C(O),type:D(O),isPrimary:H(O),currentPos:Q(O),currentTime:t.now()},q={originalEvent:O,eventType:"pointermove",pointerType:U.type,isEmulated:!1};Oe(I,q),Ft(I,q,U),q.preventDefault&&!q.defaultPrevented&&t.cancelEvent(O),q.stopPropagation&&t.stopEvent(O)}function k(I,O){var U={id:O.pointerId,type:D(O)},q={originalEvent:O,eventType:"pointercancel",pointerType:U.type,isEmulated:!1};Oe(I,q),Mn(I,q,U),q.stopPropagation&&t.stopEvent(O)}function ee(I,O){return O.speed=0,O.direction=0,O.contactPos=O.currentPos,O.contactTime=O.currentTime,O.lastPos=O.currentPos,O.lastTime=O.currentTime,I.add(O)}function we(I,O,U){var q,Ee=O.getById(U.id);return Ee?(Ee.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),S(I,Ee)),(O.type==="mouse"||O.type==="pen")&&O.contacts>0&&O.removeContact(),q=O.removeById(U.id)):q=O.getLength(),q}function He(I,O){switch(O.eventType){case"pointermove":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!I.hasGestureHandlers,O.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1;break;case"pointerdown":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!I.hasGestureHandlers,O.stopPropagation=!1;break;case"pointerup":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!I.hasGestureHandlers,O.stopPropagation=!1;break;case"wheel":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!I.hasScrollHandler,O.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":O.isStoppable=!0,O.isCancelable=!1,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1;break;case"click":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!!I.clickHandler,O.preventGesture=!1,O.stopPropagation=!1;break;case"dblclick":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!!I.dblClickHandler,O.preventGesture=!1,O.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:O.isStoppable=!1,O.isCancelable=!1,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1;break}}function Oe(I,O){O.eventSource=I,O.eventPhase=O.originalEvent&&typeof O.originalEvent.eventPhase<"u"?O.originalEvent.eventPhase:0,O.defaultPrevented=t.eventIsCanceled(O.originalEvent),O.shouldCapture=!1,O.shouldReleaseCapture=!1,O.userData=I.userData,He(I,O),I.preProcessEventHandler&&I.preProcessEventHandler(O)}function ht(I,O,U){var q=I.getActivePointersListByType(O.type),Ee=q.getById(O.id);Ee?U&&!Ee.captured?(Ee.captured=!0,q.captureCount++):!U&&Ee.captured&&(Ee.captured=!1,q.captureCount--,q.captureCount<0&&(q.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function tt(I,O,U){var q=I.getActivePointersListByType(U.type),Ee;Ee=q.getById(U.id),Ee?(Ee.insideElement=!0,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=U.currentPos,Ee.currentTime=U.currentTime,U=Ee):(U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,ee(q,U)),I.enterHandler&&I.enterHandler({eventSource:I,pointerType:U.type,position:te(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData})}function Vt(I,O,U){var q=I.getActivePointersListByType(U.type),Ee,Ue;Ee=q.getById(U.id),Ee?(Ee.captured?(Ee.insideElement=!1,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=U.currentPos,Ee.currentTime=U.currentTime):we(I,q,Ee),U=Ee):(U.captured=!1,U.insideElementPressed=!1),(I.leaveHandler||I.exitHandler)&&(Ue={eventSource:I,pointerType:U.type,position:U.currentPos&&te(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData},I.leaveHandler&&I.leaveHandler(Ue),I.exitHandler&&I.exitHandler(Ue))}function sn(I,O,U){var q,Ee;q=I.getActivePointersListByType(U.type),Ee=q.getById(U.id),Ee?U=Ee:(U.captured=!1,U.insideElementPressed=!1),I.overHandler&&I.overHandler({eventSource:I,pointerType:U.type,position:te(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData})}function Wt(I,O,U){var q,Ee;q=I.getActivePointersListByType(U.type),Ee=q.getById(U.id),Ee?U=Ee:(U.captured=!1,U.insideElementPressed=!1),I.outHandler&&I.outHandler({eventSource:I,pointerType:U.type,position:U.currentPos&&te(U.currentPos,I.element),buttons:q.buttons,pointers:I.getActivePointerCount(),insideElementPressed:U.insideElementPressed,buttonDownAny:q.buttons!==0,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData})}function Ct(I,O,U,q){var Ee=r[I.hash],Ue=I.getActivePointersListByType(U.type),mt;if(typeof O.originalEvent.buttons<"u"?Ue.buttons=O.originalEvent.buttons:q===0?Ue.buttons|=1:q===1?Ue.buttons|=4:q===2?Ue.buttons|=2:q===3?Ue.buttons|=8:q===4?Ue.buttons|=16:q===5&&(Ue.buttons|=32),q!==0){O.shouldCapture=!1,O.shouldReleaseCapture=!1,I.nonPrimaryPressHandler&&!O.preventGesture&&!O.defaultPrevented&&(O.preventDefault=!0,I.nonPrimaryPressHandler({eventSource:I,pointerType:U.type,position:te(U.currentPos,I.element),button:q,buttons:Ue.buttons,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData}));return}if(mt=Ue.getById(U.id),mt)mt.insideElementPressed=!0,mt.insideElement=!0,mt.originalTarget=O.originalEvent.target,mt.contactPos=U.currentPos,mt.contactTime=U.currentTime,mt.lastPos=mt.currentPos,mt.lastTime=mt.currentTime,mt.currentPos=U.currentPos,mt.currentTime=U.currentTime,U=mt;else{t.console.warn("pointerdown event on untracked pointer"),U.captured=!1,U.insideElementPressed=!0,U.insideElement=!0,U.originalTarget=O.originalEvent.target,ee(Ue,U);return}Ue.addContact(),!O.preventGesture&&!O.defaultPrevented?(O.shouldCapture=!0,O.shouldReleaseCapture=!1,O.preventDefault=!0,(I.dragHandler||I.dragEndHandler||I.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(I,U),Ue.contacts===1?I.pressHandler&&!O.preventGesture&&I.pressHandler({eventSource:I,pointerType:U.type,position:te(U.contactPos,I.element),buttons:Ue.buttons,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData}):Ue.contacts===2&&I.pinchHandler&&U.type==="touch"&&(Ee.pinchGPoints=Ue.asArray(),Ee.lastPinchDist=Ee.currentPinchDist=Ee.pinchGPoints[0].currentPos.distanceTo(Ee.pinchGPoints[1].currentPos),Ee.lastPinchCenter=Ee.currentPinchCenter=P(Ee.pinchGPoints[0].currentPos,Ee.pinchGPoints[1].currentPos))):(O.shouldCapture=!1,O.shouldReleaseCapture=!1)}function mn(I,O,U,q){var Ee=r[I.hash],Ue=I.getActivePointersListByType(U.type),mt,Qt,vt,ui=!1,An;if(typeof O.originalEvent.buttons<"u"?Ue.buttons=O.originalEvent.buttons:q===0?Ue.buttons^=-2:q===1?Ue.buttons^=-5:q===2?Ue.buttons^=-3:q===3?Ue.buttons^=-9:q===4?Ue.buttons^=-17:q===5&&(Ue.buttons^=-33),O.shouldCapture=!1,q!==0){O.shouldReleaseCapture=!1,I.nonPrimaryReleaseHandler&&!O.preventGesture&&!O.defaultPrevented&&(O.preventDefault=!0,I.nonPrimaryReleaseHandler({eventSource:I,pointerType:U.type,position:te(U.currentPos,I.element),button:q,buttons:Ue.buttons,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData}));return}vt=Ue.getById(U.id),vt?(Ue.removeContact(),vt.captured&&(ui=!0),vt.lastPos=vt.currentPos,vt.lastTime=vt.currentTime,vt.currentPos=U.currentPos,vt.currentTime=U.currentTime,vt.insideElement||we(I,Ue,vt),mt=vt.currentPos,Qt=vt.currentTime):(t.console.warn("updatePointerUp(): pointerup on untracked gPoint"),U.captured=!1,U.insideElementPressed=!1,U.insideElement=!0,ee(Ue,U),vt=U),!O.preventGesture&&!O.defaultPrevented&&(ui?(O.shouldReleaseCapture=!0,O.preventDefault=!0,(I.dragHandler||I.dragEndHandler||I.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(I,vt),Ue.contacts===0?(I.releaseHandler&&I.releaseHandler({eventSource:I,pointerType:vt.type,position:te(mt,I.element),buttons:Ue.buttons,insideElementPressed:vt.insideElementPressed,insideElementReleased:vt.insideElement,isTouchEvent:vt.type==="touch",originalEvent:O.originalEvent,userData:I.userData}),I.dragEndHandler&&Ee.sentDragEvent&&I.dragEndHandler({eventSource:I,pointerType:vt.type,position:te(vt.currentPos,I.element),speed:vt.speed,direction:vt.direction,shift:O.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:O.originalEvent,userData:I.userData}),Ee.sentDragEvent=!1,(I.clickHandler||I.dblClickHandler)&&vt.insideElement&&(An=Qt-vt.contactTime<=I.clickTimeThreshold&&vt.contactPos.distanceTo(mt)<=I.clickDistThreshold,I.clickHandler&&I.clickHandler({eventSource:I,pointerType:vt.type,position:te(vt.currentPos,I.element),quick:An,shift:O.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:O.originalEvent,originalTarget:vt.originalTarget,userData:I.userData}),I.dblClickHandler&&An&&(Ue.clicks++,Ue.clicks===1?(Ee.lastClickPos=mt,Ee.dblClickTimeOut=setTimeout(function(){Ue.clicks=0},I.dblClickTimeThreshold)):Ue.clicks===2&&(clearTimeout(Ee.dblClickTimeOut),Ue.clicks=0,Ee.lastClickPos.distanceTo(mt)<=I.dblClickDistThreshold&&I.dblClickHandler({eventSource:I,pointerType:vt.type,position:te(vt.currentPos,I.element),shift:O.originalEvent.shiftKey,isTouchEvent:vt.type==="touch",originalEvent:O.originalEvent,userData:I.userData}),Ee.lastClickPos=null)))):Ue.contacts===2&&I.pinchHandler&&vt.type==="touch"&&(Ee.pinchGPoints=Ue.asArray(),Ee.lastPinchDist=Ee.currentPinchDist=Ee.pinchGPoints[0].currentPos.distanceTo(Ee.pinchGPoints[1].currentPos),Ee.lastPinchCenter=Ee.currentPinchCenter=P(Ee.pinchGPoints[0].currentPos,Ee.pinchGPoints[1].currentPos))):(O.shouldReleaseCapture=!1,I.releaseHandler&&(I.releaseHandler({eventSource:I,pointerType:vt.type,position:te(mt,I.element),buttons:Ue.buttons,insideElementPressed:vt.insideElementPressed,insideElementReleased:vt.insideElement,isTouchEvent:vt.type==="touch",originalEvent:O.originalEvent,userData:I.userData}),O.preventDefault=!0)))}function Ft(I,O,U){var q=r[I.hash],Ee=I.getActivePointersListByType(U.type),Ue,mt,Qt;if(typeof O.originalEvent.buttons<"u"&&(Ee.buttons=O.originalEvent.buttons),Ue=Ee.getById(U.id),Ue)Ue.lastPos=Ue.currentPos,Ue.lastTime=Ue.currentTime,Ue.currentPos=U.currentPos,Ue.currentTime=U.currentTime;else return;O.shouldCapture=!1,O.shouldReleaseCapture=!1,I.stopHandler&&U.type==="mouse"&&(clearTimeout(I.stopTimeOut),I.stopTimeOut=setTimeout(function(){pr(I,O.originalEvent,U.type)},I.stopDelay)),Ee.contacts===0?I.moveHandler&&I.moveHandler({eventSource:I,pointerType:U.type,position:te(U.currentPos,I.element),buttons:Ee.buttons,isTouchEvent:U.type==="touch",originalEvent:O.originalEvent,userData:I.userData}):Ee.contacts===1?(I.moveHandler&&(Ue=Ee.asArray()[0],I.moveHandler({eventSource:I,pointerType:Ue.type,position:te(Ue.currentPos,I.element),buttons:Ee.buttons,isTouchEvent:Ue.type==="touch",originalEvent:O.originalEvent,userData:I.userData})),I.dragHandler&&!O.preventGesture&&!O.defaultPrevented&&(Ue=Ee.asArray()[0],Qt=Ue.currentPos.minus(Ue.lastPos),I.dragHandler({eventSource:I,pointerType:Ue.type,position:te(Ue.currentPos,I.element),buttons:Ee.buttons,delta:Qt,speed:Ue.speed,direction:Ue.direction,shift:O.originalEvent.shiftKey,isTouchEvent:Ue.type==="touch",originalEvent:O.originalEvent,userData:I.userData}),O.preventDefault=!0,q.sentDragEvent=!0)):Ee.contacts===2&&(I.moveHandler&&(mt=Ee.asArray(),I.moveHandler({eventSource:I,pointerType:mt[0].type,position:te(P(mt[0].currentPos,mt[1].currentPos),I.element),buttons:Ee.buttons,isTouchEvent:mt[0].type==="touch",originalEvent:O.originalEvent,userData:I.userData})),I.pinchHandler&&U.type==="touch"&&!O.preventGesture&&!O.defaultPrevented&&(Qt=q.pinchGPoints[0].currentPos.distanceTo(q.pinchGPoints[1].currentPos),Qt!==q.currentPinchDist&&(q.lastPinchDist=q.currentPinchDist,q.currentPinchDist=Qt,q.lastPinchCenter=q.currentPinchCenter,q.currentPinchCenter=P(q.pinchGPoints[0].currentPos,q.pinchGPoints[1].currentPos),I.pinchHandler({eventSource:I,pointerType:"touch",gesturePoints:q.pinchGPoints,lastCenter:te(q.lastPinchCenter,I.element),center:te(q.currentPinchCenter,I.element),lastDistance:q.lastPinchDist,distance:q.currentPinchDist,shift:O.originalEvent.shiftKey,originalEvent:O.originalEvent,userData:I.userData}),O.preventDefault=!0)))}function Mn(I,O,U){var q=I.getActivePointersListByType(U.type),Ee;Ee=q.getById(U.id),Ee&&we(I,q,Ee)}function pr(I,O,U){I.stopHandler&&I.stopHandler({eventSource:I,pointerType:U,position:G(O,I.element),buttons:I.getActivePointersListByType(U).buttons,isTouchEvent:U==="touch",originalEvent:O,userData:I.userData})}}(s),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(r,l,c){var p=r.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=r,this.anchor=l.anchor,this.container=c,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):p.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(r){this.wrapper.style.display=r?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(r){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,r,!0):t.setElementOpacity(this.wrapper,r,!0)}}}(s),function(t){t.ControlDock=function(l){var c=["topleft","topright","bottomright","bottomleft"],p,v;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),v=0;v<c.length;v++)p=c[v],this.controls[p]=t.makeNeutralElement("div"),this.controls[p].style.position="absolute",p.match("left")&&(this.controls[p].style.left="0px"),p.match("right")&&(this.controls[p].style.right="0px"),p.match("top")&&(this.controls[p].style.top="0px"),p.match("bottom")&&(this.controls[p].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,c){l=t.getElement(l);var p=null;if(!(r(this,l)>=0)){switch(c.anchor){case t.ControlAnchor.TOP_RIGHT:p=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:p=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:p=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:p=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:p=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:p=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,c,p)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var c=r(this,l);return c>=0&&(this.controls[c].destroy(),this.controls.splice(c,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var c;for(c=this.controls.length-1;c>=0;c--)this.controls[c].setVisible(l);return this}};function r(l,c){var p=l.controls,v;for(v=p.length-1;v>=0;v--)if(p[v].element===c)return v;return-1}}(s),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(s),function(t){var r={},l=1;t.Viewer=function(k){var ee=arguments,we=this,He;if(t.isPlainObject(k)||(k={id:ee[0],xmlPath:ee.length>1?ee[1]:void 0,prefixUrl:ee.length>2?ee[2]:void 0,controls:ee.length>3?ee[3]:void 0,overlays:ee.length>4?ee[4]:void 0}),k.config&&(t.extend(!0,k,k.config),delete k.config),t.extend(!0,this,{id:k.id,hash:k.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},t.DEFAULT_SETTINGS,k),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof r[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),r[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(Oe){var ht=t.getString("Errors.OpenFailed",Oe.eventSource,Oe.message);we._showMessage(ht)}),t.ControlDock.call(this,k),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Oe){Oe.width="100%",Oe.height="100%",Oe.overflow="hidden",Oe.position="absolute",Oe.top="0px",Oe.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),k.tabIndex!==""&&(this.canvas.tabIndex=k.tabIndex===void 0?0:k.tabIndex),this.container.className="openseadragon-container",function(Oe){Oe.width="100%",Oe.height="100%",Oe.position="relative",Oe.overflow="hidden",Oe.left="0px",Oe.top="0px",Oe.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,G),keyDownHandler:t.delegate(this,te),keyHandler:t.delegate(this,P),clickHandler:t.delegate(this,Z),dblClickHandler:t.delegate(this,oe),dragHandler:t.delegate(this,re),dragEndHandler:t.delegate(this,he),enterHandler:t.delegate(this,ge),leaveHandler:t.delegate(this,Ie),pressHandler:t.delegate(this,je),releaseHandler:t.delegate(this,Qe),nonPrimaryPressHandler:t.delegate(this,rt),nonPrimaryReleaseHandler:t.delegate(this,$e),scrollHandler:t.delegate(this,ft),pinchHandler:t.delegate(this,pt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,Tt),leaveHandler:t.delegate(this,xt)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),r[this.hash].prevContainerSize=c(this.container),this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(Oe){we.source=we.world.getItemAt(0).source,r[we.hash].forceRedraw=!0,we._updateRequestId||(we._updateRequestId=b(we,At))}),this.world.addHandler("remove-item",function(Oe){we.world.getItemCount()?we.source=we.world.getItemAt(0).source:we.source=null,r[we.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Oe){we.viewport&&we.viewport._setContentBounds(we.world.getHomeBounds(),we.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Oe){we.source=we.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:r[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:k.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(He=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(He,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(He=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(He,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),He=0;He<this.customControls.length;He++)this.addControl(this.customControls[He].id,{anchor:this.customControls[He].anchor});t.requestAnimationFrame(function(){S(we)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(k){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(k)},openTileSource:function(k){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(k)},open:function(k,ee){var we=this;if(this.close(),!k)return this;if(this.sequenceMode&&t.isArray(k))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof ee<"u"&&!isNaN(ee)&&(this.initialPage=ee),this.tileSources=k,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(k)||(k=[k]),!k.length)return this;this._opening=!0;for(var He=k.length,Oe=0,ht=0,tt,Vt=function(){if(Oe+ht===He)if(Oe){(we._firstOpen||!we.preserveViewport)&&(we.viewport.goHome(!0),we.viewport.update()),we._firstOpen=!1;var Ct=k[0];if(Ct.tileSource&&(Ct=Ct.tileSource),we.overlays&&!we.preserveOverlays)for(var mn=0;mn<we.overlays.length;mn++)we.currentOverlays[mn]=v(we,we.overlays[mn]);we._drawOverlays(),we._opening=!1,we.raiseEvent("open",{source:Ct})}else we._opening=!1,we.raiseEvent("open-failed",tt)},sn=function(Ct){(!t.isPlainObject(Ct)||!Ct.tileSource)&&(Ct={tileSource:Ct}),Ct.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Ct.index),Ct.collectionImmediately===void 0&&(Ct.collectionImmediately=!0);var mn=Ct.success;Ct.success=function(Mn){if(Oe++,Ct.tileSource.overlays)for(var pr=0;pr<Ct.tileSource.overlays.length;pr++)we.addOverlay(Ct.tileSource.overlays[pr]);mn&&mn(Mn),Vt()};var Ft=Ct.error;Ct.error=function(Mn){ht++,tt||(tt=Mn),Ft&&Ft(Mn),Vt()},we.addTiledImage(Ct)},Wt=0;Wt<k.length;Wt++)sn(k[Wt]);return this},close:function(){return r[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),r[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(r[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),r[this.navigator.hash]=null,delete r[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),r[this.hash]=null,delete r[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(k){return this.innerTracker.setTracking(k),this.outerTracker.setTracking(k),this.raiseEvent("mouse-enabled",{enabled:k}),this},areControlsEnabled:function(){var k=this.controls.length,ee;for(ee=0;ee<this.controls.length;ee++)k=k&&this.controls[ee].isVisible();return k},setControlsEnabled:function(k){return k?D(this):S(this),this.raiseEvent("controls-enabled",{enabled:k}),this},setDebugMode:function(k){for(var ee=0;ee<this.world.getItemCount();ee++)this.world.getItemAt(ee).debugMode=k;this.debugMode=k,this.forceRedraw()},isFullPage:function(){return r[this.hash].fullPage},setFullPage:function(k){var ee=document.body,we=ee.style,He=document.documentElement.style,Oe=this,ht,tt;if(k===this.isFullPage())return this;var Vt={fullPage:k,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Vt),Vt.preventDefaultAction)return this;if(k){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=we.margin,this.docMargin=He.margin,we.margin="0",He.margin="0",this.bodyPadding=we.padding,this.docPadding=He.padding,we.padding="0",He.padding="0",this.bodyWidth=we.width,this.docWidth=He.width,we.width="100%",He.width="100%",this.bodyHeight=we.height,this.docHeight=He.height,we.height="100%",He.height="100%",this.bodyDisplay=we.display,we.display="block",this.previousBody=[],r[this.hash].prevElementParent=this.element.parentNode,r[this.hash].prevNextSibling=this.element.nextSibling,r[this.hash].prevElementWidth=this.element.style.width,r[this.hash].prevElementHeight=this.element.style.height,ht=ee.childNodes.length,tt=0;tt<ht;tt++)this.previousBody.push(ee.childNodes[0]),ee.removeChild(ee.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,ee.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),ee.appendChild(this.element),this.element.style.height=t.getWindowSize().y+"px",this.element.style.width=t.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),r[this.hash].fullPage=!0,t.delegate(this,Tt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,we.margin=this.bodyMargin,He.margin=this.docMargin,we.padding=this.bodyPadding,He.padding=this.docPadding,we.width=this.bodyWidth,He.width=this.docWidth,we.height=this.bodyHeight,He.height=this.docHeight,we.display=this.bodyDisplay,ee.removeChild(this.element),ht=this.previousBody.length,tt=0;tt<ht;tt++)ee.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),r[this.hash].prevElementParent.insertBefore(this.element,r[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(ee.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=r[this.hash].prevElementWidth,this.element.style.height=r[this.hash].prevElementHeight;var sn=0,Wt=function(){t.setPageScroll(Oe.pageScroll);var Ct=t.getPageScroll();sn++,sn<10&&(Ct.x!==Oe.pageScroll.x||Ct.y!==Oe.pageScroll.y)&&t.requestAnimationFrame(Wt)};t.requestAnimationFrame(Wt),r[this.hash].fullPage=!1,t.delegate(this,xt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:k}),this},setFullScreen:function(k){var ee=this;if(!t.supportsFullScreen)return this.setFullPage(k);if(t.isFullScreen()===k)return this;var we={fullScreen:k,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",we),we.preventDefaultAction)return this;if(k){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var He=function(){var Oe=t.isFullScreen();Oe||(t.removeEvent(document,t.fullScreenEventName,He),t.removeEvent(document,t.fullScreenErrorEventName,He),ee.setFullPage(!1),ee.isFullPage()&&(ee.element.style.width=ee.fullPageStyleWidth,ee.element.style.height=ee.fullPageStyleHeight)),ee.navigator&&ee.viewport&&setTimeout(function(){ee.navigator.update(ee.viewport)}),ee.raiseEvent("full-screen",{fullScreen:Oe})};t.addEvent(document,t.fullScreenEventName,He),t.addEvent(document,t.fullScreenErrorEventName,He),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(k){return this.container.style.visibility=k?"":"hidden",this.raiseEvent("visible",{visible:k}),this},addTiledImage:function(k){t.console.assert(k,"[Viewer.addTiledImage] options is required"),t.console.assert(k.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!k.replace||k.index>-1&&k.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var ee=this;k.replace&&(k.replaceItem=ee.world.getItemAt(k.index)),this._hideMessage(),k.placeholderFillStyle===void 0&&(k.placeholderFillStyle=this.placeholderFillStyle),k.opacity===void 0&&(k.opacity=this.opacity),k.preload===void 0&&(k.preload=this.preload),k.compositeOperation===void 0&&(k.compositeOperation=this.compositeOperation),k.crossOriginPolicy===void 0&&(k.crossOriginPolicy=k.tileSource.crossOriginPolicy!==void 0?k.tileSource.crossOriginPolicy:this.crossOriginPolicy),k.ajaxWithCredentials===void 0&&(k.ajaxWithCredentials=this.ajaxWithCredentials),k.loadTilesWithAjax===void 0&&(k.loadTilesWithAjax=this.loadTilesWithAjax),k.ajaxHeaders===void 0||k.ajaxHeaders===null?k.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(k.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(k.ajaxHeaders=t.extend({},this.ajaxHeaders,k.ajaxHeaders));var we={options:k};function He(tt){for(var Vt=0;Vt<ee._loadQueue.length;Vt++)if(ee._loadQueue[Vt]===we){ee._loadQueue.splice(Vt,1);break}ee._loadQueue.length===0&&Oe(we),ee.raiseEvent("add-item-failed",tt),k.error&&k.error(tt)}function Oe(tt){ee.collectionMode&&(ee.world.arrange({immediately:tt.options.collectionImmediately,rows:ee.collectionRows,columns:ee.collectionColumns,layout:ee.collectionLayout,tileSize:ee.collectionTileSize,tileMargin:ee.collectionTileMargin}),ee.world.setAutoRefigureSizes(!0))}if(t.isArray(k.tileSource)){setTimeout(function(){He({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:k.tileSource,options:k})});return}this._loadQueue.push(we);function ht(){for(var tt,Vt,sn;ee._loadQueue.length&&(tt=ee._loadQueue[0],!!tt.tileSource);){if(ee._loadQueue.splice(0,1),tt.options.replace){var Wt=ee.world.getIndexOfItem(tt.options.replaceItem);Wt!==-1&&(tt.options.index=Wt),ee.world.removeItem(tt.options.replaceItem)}Vt=new t.TiledImage({viewer:ee,source:tt.tileSource,viewport:ee.viewport,drawer:ee.drawer,tileCache:ee.tileCache,imageLoader:ee.imageLoader,x:tt.options.x,y:tt.options.y,width:tt.options.width,height:tt.options.height,fitBounds:tt.options.fitBounds,fitBoundsPlacement:tt.options.fitBoundsPlacement,clip:tt.options.clip,placeholderFillStyle:tt.options.placeholderFillStyle,opacity:tt.options.opacity,preload:tt.options.preload,degrees:tt.options.degrees,flipped:tt.options.flipped,compositeOperation:tt.options.compositeOperation,springStiffness:ee.springStiffness,animationTime:ee.animationTime,minZoomImageRatio:ee.minZoomImageRatio,wrapHorizontal:ee.wrapHorizontal,wrapVertical:ee.wrapVertical,immediateRender:ee.immediateRender,blendTime:ee.blendTime,alwaysBlend:ee.alwaysBlend,minPixelRatio:ee.minPixelRatio,smoothTileEdgesMinZoom:ee.smoothTileEdgesMinZoom,iOSDevice:ee.iOSDevice,crossOriginPolicy:tt.options.crossOriginPolicy,ajaxWithCredentials:tt.options.ajaxWithCredentials,loadTilesWithAjax:tt.options.loadTilesWithAjax,ajaxHeaders:tt.options.ajaxHeaders,debugMode:ee.debugMode}),ee.collectionMode&&ee.world.setAutoRefigureSizes(!1),ee.navigator&&(sn=t.extend({},tt.options,{replace:!1,originalTiledImage:Vt,tileSource:tt.tileSource}),ee.navigator.addTiledImage(sn)),ee.world.addItem(Vt,{index:tt.options.index}),ee._loadQueue.length===0&&Oe(tt),ee.world.getItemCount()===1&&!ee.preserveViewport&&ee.viewport.goHome(!0),tt.options.success&&tt.options.success({item:Vt})}}p(this,k.tileSource,k,function(tt){we.tileSource=tt,ht()},function(tt){tt.options=k,He(tt),ht()})},addSimpleImage:function(k){t.console.assert(k,"[Viewer.addSimpleImage] options is required"),t.console.assert(k.url,"[Viewer.addSimpleImage] options.url is required");var ee=t.extend({},k,{tileSource:{type:"image",url:k.url}});delete ee.url,this.addTiledImage(ee)},addLayer:function(k){var ee=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var we=t.extend({},k,{success:function(He){ee.raiseEvent("add-layer",{options:k,drawer:He.item})},error:function(He){ee.raiseEvent("add-layer-failed",He)}});return this.addTiledImage(we),this},getLayerAtLevel:function(k){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(k)},getLevelOfLayer:function(k){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(k)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(k,ee){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(k,ee)},removeLayer:function(k){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(k)},forceRedraw:function(){return r[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var k=t.delegate(this,H),ee=t.delegate(this,Q),we=t.delegate(this,this.goToNextPage),He=t.delegate(this,this.goToPreviousPage),Oe=this.navImages,ht=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ht=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:et(this.prefixUrl,Oe.previous.REST),srcGroup:et(this.prefixUrl,Oe.previous.GROUP),srcHover:et(this.prefixUrl,Oe.previous.HOVER),srcDown:et(this.prefixUrl,Oe.previous.DOWN),onRelease:He,onFocus:k,onBlur:ee}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:et(this.prefixUrl,Oe.next.REST),srcGroup:et(this.prefixUrl,Oe.next.GROUP),srcHover:et(this.prefixUrl,Oe.next.HOVER),srcDown:et(this.prefixUrl,Oe.next.DOWN),onRelease:we,onFocus:k,onBlur:ee}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ht&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var k=t.delegate(this,Dt),ee=t.delegate(this,We),we=t.delegate(this,Je),He=t.delegate(this,De),Oe=t.delegate(this,gt),ht=t.delegate(this,hn),tt=t.delegate(this,Ht),Vt=t.delegate(this,gi),sn=t.delegate(this,Kn),Wt=t.delegate(this,li),Ct=t.delegate(this,H),mn=t.delegate(this,Q),Ft=this.navImages,Mn=[],pr=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(pr=!1),this.showZoomControl&&(Mn.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:et(this.prefixUrl,Ft.zoomIn.REST),srcGroup:et(this.prefixUrl,Ft.zoomIn.GROUP),srcHover:et(this.prefixUrl,Ft.zoomIn.HOVER),srcDown:et(this.prefixUrl,Ft.zoomIn.DOWN),onPress:k,onRelease:ee,onClick:we,onEnter:k,onExit:ee,onFocus:Ct,onBlur:mn})),Mn.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:et(this.prefixUrl,Ft.zoomOut.REST),srcGroup:et(this.prefixUrl,Ft.zoomOut.GROUP),srcHover:et(this.prefixUrl,Ft.zoomOut.HOVER),srcDown:et(this.prefixUrl,Ft.zoomOut.DOWN),onPress:He,onRelease:ee,onClick:Oe,onEnter:He,onExit:ee,onFocus:Ct,onBlur:mn}))),this.showHomeControl&&Mn.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:et(this.prefixUrl,Ft.home.REST),srcGroup:et(this.prefixUrl,Ft.home.GROUP),srcHover:et(this.prefixUrl,Ft.home.HOVER),srcDown:et(this.prefixUrl,Ft.home.DOWN),onRelease:ht,onFocus:Ct,onBlur:mn})),this.showFullPageControl&&Mn.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:et(this.prefixUrl,Ft.fullpage.REST),srcGroup:et(this.prefixUrl,Ft.fullpage.GROUP),srcHover:et(this.prefixUrl,Ft.fullpage.HOVER),srcDown:et(this.prefixUrl,Ft.fullpage.DOWN),onRelease:tt,onFocus:Ct,onBlur:mn})),this.showRotationControl&&(Mn.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:et(this.prefixUrl,Ft.rotateleft.REST),srcGroup:et(this.prefixUrl,Ft.rotateleft.GROUP),srcHover:et(this.prefixUrl,Ft.rotateleft.HOVER),srcDown:et(this.prefixUrl,Ft.rotateleft.DOWN),onRelease:Vt,onFocus:Ct,onBlur:mn})),Mn.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:et(this.prefixUrl,Ft.rotateright.REST),srcGroup:et(this.prefixUrl,Ft.rotateright.GROUP),srcHover:et(this.prefixUrl,Ft.rotateright.HOVER),srcDown:et(this.prefixUrl,Ft.rotateright.DOWN),onRelease:sn,onFocus:Ct,onBlur:mn}))),this.showFlipControl&&Mn.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:et(this.prefixUrl,Ft.flip.REST),srcGroup:et(this.prefixUrl,Ft.flip.GROUP),srcHover:et(this.prefixUrl,Ft.flip.HOVER),srcDown:et(this.prefixUrl,Ft.flip.DOWN),onRelease:Wt,onFocus:Ct,onBlur:mn})),pr?(this.buttonGroup=new t.ButtonGroup({buttons:Mn,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Yt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=Mn),this},currentPage:function(){return this._sequenceIndex},goToPage:function(k){return this.tileSources&&k>=0&&k<this.tileSources.length&&(this._sequenceIndex=k,this._updateSequenceButtons(k),this.open(this.tileSources[k]),this.referenceStrip&&this.referenceStrip.setFocus(k),this.raiseEvent("page",{page:k})),this},addOverlay:function(k,ee,we,He){var Oe;if(t.isPlainObject(k)?Oe=k:Oe={element:k,location:ee,placement:we,onDraw:He},k=t.getElement(Oe.element),y(this.currentOverlays,k)>=0)return this;var ht=v(this,Oe);return this.currentOverlays.push(ht),ht.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:k,location:Oe.location,placement:Oe.placement}),this},updateOverlay:function(k,ee,we){var He;return k=t.getElement(k),He=y(this.currentOverlays,k),He>=0&&(this.currentOverlays[He].update(ee,we),r[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:k,location:ee,placement:we})),this},removeOverlay:function(k){var ee;return k=t.getElement(k),ee=y(this.currentOverlays,k),ee>=0&&(this.currentOverlays[ee].destroy(),this.currentOverlays.splice(ee,1),r[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:k})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return r[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(k){var ee;return k=t.getElement(k),ee=y(this.currentOverlays,k),ee>=0?this.currentOverlays[ee]:null},_updateSequenceButtons:function(k){this.nextButton&&(!this.tileSources||this.tileSources.length-1===k?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(k>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(k){this._hideMessage();var ee=t.makeNeutralElement("div");ee.appendChild(document.createTextNode(k)),this.messageDiv=t.makeCenteredNode(ee),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var k=this.messageDiv;k&&(k.parentNode.removeChild(k),delete this.messageDiv)},gestureSettingsByDeviceType:function(k){switch(k){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var k,ee=this.currentOverlays.length;for(k=0;k<ee;k++)this.currentOverlays[k].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var k=t.pixelDensityRatio,ee=t.getCurrentPixelDensityRatio();k!==ee&&(t.pixelDensityRatio=ee,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var k=this._sequenceIndex-1;this.navPrevNextWrap&&k<0&&(k+=this.tileSources.length),this.goToPage(k)},goToNextPage:function(){var k=this._sequenceIndex+1;this.navPrevNextWrap&&k>=this.tileSources.length&&(k=0),this.goToPage(k)}});function c(k){return k=t.getElement(k),new t.Point(k.clientWidth===0?1:k.clientWidth,k.clientHeight===0?1:k.clientHeight)}function p(k,ee,we,He,Oe){var ht=k;if(t.type(ee)==="string"){if(ee.match(/^\s*<.*>\s*$/))ee=t.parseXml(ee);else if(ee.match(/^\s*[{[].*[}\]]\s*$/))try{var tt=t.parseJSON(ee);ee=tt}catch{}}function Vt(sn,Wt){sn.ready?He(sn):(sn.addHandler("ready",function(){He(sn)}),sn.addHandler("open-failed",function(Ct){Oe({message:Ct.message,source:Wt})}))}setTimeout(function(){if(t.type(ee)==="string")ee=new t.TileSource({url:ee,crossOriginPolicy:we.crossOriginPolicy!==void 0?we.crossOriginPolicy:k.crossOriginPolicy,ajaxWithCredentials:k.ajaxWithCredentials,ajaxHeaders:we.ajaxHeaders?we.ajaxHeaders:k.ajaxHeaders,useCanvas:k.useCanvas,success:function(mn){He(mn.tileSource)}}),ee.addHandler("open-failed",function(mn){Oe(mn)});else if(t.isPlainObject(ee)||ee.nodeType)if(ee.crossOriginPolicy===void 0&&(we.crossOriginPolicy!==void 0||k.crossOriginPolicy!==void 0)&&(ee.crossOriginPolicy=we.crossOriginPolicy!==void 0?we.crossOriginPolicy:k.crossOriginPolicy),ee.ajaxWithCredentials===void 0&&(ee.ajaxWithCredentials=k.ajaxWithCredentials),ee.useCanvas===void 0&&(ee.useCanvas=k.useCanvas),t.isFunction(ee.getTileUrl)){var sn=new t.TileSource(ee);sn.getTileUrl=ee.getTileUrl,He(sn)}else{var Wt=t.TileSource.determineType(ht,ee);if(!Wt){Oe({message:"Unable to load TileSource",source:ee});return}var Ct=Wt.prototype.configure.apply(ht,[ee]);Vt(new Wt(Ct),ee)}else Vt(ee,ee)})}function v(k,ee){if(ee instanceof t.Overlay)return ee;var we=null;if(ee.element)we=t.getElement(ee.element);else{var He=ee.id?ee.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);we=t.getElement(ee.id),we||(we=document.createElement("a"),we.href="#/overlay/"+He),we.id=He,t.addClass(we,ee.className?ee.className:"openseadragon-overlay")}var Oe=ee.location,ht=ee.width,tt=ee.height;if(!Oe){var Vt=ee.x,sn=ee.y;if(ee.px!==void 0){var Wt=k.viewport.imageToViewportRectangle(new t.Rect(ee.px,ee.py,ht||0,tt||0));Vt=Wt.x,sn=Wt.y,ht=ht!==void 0?Wt.width:void 0,tt=tt!==void 0?Wt.height:void 0}Oe=new t.Point(Vt,sn)}var Ct=ee.placement;return Ct&&t.type(Ct)==="string"&&(Ct=t.Placement[ee.placement.toUpperCase()]),new t.Overlay({element:we,location:Oe,placement:Ct,onDraw:ee.onDraw,checkResize:ee.checkResize,width:ht,height:tt,rotationMode:ee.rotationMode})}function y(k,ee){var we;for(we=k.length-1;we>=0;we--)if(k[we].element===ee)return we;return-1}function b(k,ee){return t.requestAnimationFrame(function(){ee(k)})}function w(k){t.requestAnimationFrame(function(){C(k)})}function S(k){!k.autoHideControls||(k.controlsShouldFade=!0,k.controlsFadeBeginTime=t.now()+k.controlsFadeDelay,window.setTimeout(function(){w(k)},k.controlsFadeDelay))}function C(k){var ee,we,He,Oe;if(k.controlsShouldFade){for(ee=t.now(),we=ee-k.controlsFadeBeginTime,He=1-we/k.controlsFadeLength,He=Math.min(1,He),He=Math.max(0,He),Oe=k.controls.length-1;Oe>=0;Oe--)k.controls[Oe].autoFade&&k.controls[Oe].setOpacity(He);He>0&&w(k)}}function D(k){var ee;for(k.controlsShouldFade=!1,ee=k.controls.length-1;ee>=0;ee--)k.controls[ee].setOpacity(1)}function H(){D(this)}function Q(){S(this)}function G(k){var ee={tracker:k.eventSource,position:k.position,originalEvent:k.originalEvent,preventDefault:k.preventDefault};this.raiseEvent("canvas-contextmenu",ee),k.preventDefault=ee.preventDefault}function te(k){var ee={originalEvent:k.originalEvent,preventDefaultAction:!1,preventVerticalPan:k.preventVerticalPan,preventHorizontalPan:k.preventHorizontalPan};if(this.raiseEvent("canvas-key",ee),!ee.preventDefaultAction&&!k.ctrl&&!k.alt&&!k.meta)switch(k.keyCode){case 38:ee.preventVerticalPan||(k.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 40:ee.preventVerticalPan||(k.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 37:ee.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 39:ee.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),k.preventDefault=!0;break;default:k.preventDefault=!1;break}else k.preventDefault=!1}function P(k){var ee={originalEvent:k.originalEvent,preventDefaultAction:!1,preventVerticalPan:k.preventVerticalPan,preventHorizontalPan:k.preventHorizontalPan};if(this.raiseEvent("canvas-key",ee),!ee.preventDefaultAction&&!k.ctrl&&!k.alt&&!k.meta)switch(k.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),k.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),k.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),k.preventDefault=!0;break;case 119:case 87:ee.preventVerticalPan||(k.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 115:case 83:ee.preventVerticalPan||(k.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 97:ee.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 100:ee.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),k.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(t.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(t.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),k.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(t.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(t.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),k.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),k.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:k.preventDefault=!1;break}else k.preventDefault=!1}function Z(k){var ee,we=document.activeElement===this.canvas;we||this.canvas.focus(),this.viewport.flipped&&(k.position.x=this.viewport.getContainerSize().x-k.position.x);var He={tracker:k.eventSource,position:k.position,quick:k.quick,shift:k.shift,originalEvent:k.originalEvent,originalTarget:k.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",He),!He.preventDefaultAction&&this.viewport&&k.quick&&(ee=this.gestureSettingsByDeviceType(k.pointerType),ee.clickToZoom&&(this.viewport.zoomBy(k.shift?1/this.zoomPerClick:this.zoomPerClick,ee.zoomToRefPoint?this.viewport.pointFromPixel(k.position,!0):null),this.viewport.applyConstraints()))}function oe(k){var ee,we={tracker:k.eventSource,position:k.position,shift:k.shift,originalEvent:k.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",we),!we.preventDefaultAction&&this.viewport&&(ee=this.gestureSettingsByDeviceType(k.pointerType),ee.dblClickToZoom&&(this.viewport.zoomBy(k.shift?1/this.zoomPerClick:this.zoomPerClick,ee.zoomToRefPoint?this.viewport.pointFromPixel(k.position,!0):null),this.viewport.applyConstraints()))}function re(k){var ee,we={tracker:k.eventSource,pointerType:k.pointerType,position:k.position,delta:k.delta,speed:k.speed,direction:k.direction,shift:k.shift,originalEvent:k.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",we),ee=this.gestureSettingsByDeviceType(k.pointerType),ee.dragToPan&&!we.preventDefaultAction&&this.viewport){if(this.panHorizontal||(k.delta.x=0),this.panVertical||(k.delta.y=0),this.viewport.flipped&&(k.delta.x=-k.delta.x),this.constrainDuringPan){var He=this.viewport.deltaPointsFromPixels(k.delta.negate());this.viewport.centerSpringX.target.value+=He.x,this.viewport.centerSpringY.target.value+=He.y;var Oe=this.viewport.getBounds(),ht=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=He.x,this.viewport.centerSpringY.target.value-=He.y,Oe.x!==ht.x&&(k.delta.x=0),Oe.y!==ht.y&&(k.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(k.delta.negate()),ee.flickEnabled&&!this.constrainDuringPan)}}function he(k){var ee={tracker:k.eventSource,pointerType:k.pointerType,position:k.position,speed:k.speed,direction:k.direction,shift:k.shift,originalEvent:k.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",ee),!ee.preventDefaultAction&&this.viewport){var we=this.gestureSettingsByDeviceType(k.pointerType);if(we.flickEnabled&&k.speed>=we.flickMinSpeed){var He=0;this.panHorizontal&&(He=we.flickMomentum*k.speed*Math.cos(k.direction));var Oe=0;this.panVertical&&(Oe=we.flickMomentum*k.speed*Math.sin(k.direction));var ht=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),tt=this.viewport.pointFromPixel(new t.Point(ht.x-He,ht.y-Oe));this.viewport.panTo(tt,!1)}this.viewport.applyConstraints()}}function ge(k){this.raiseEvent("canvas-enter",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,buttons:k.buttons,pointers:k.pointers,insideElementPressed:k.insideElementPressed,buttonDownAny:k.buttonDownAny,originalEvent:k.originalEvent})}function Ie(k){this.raiseEvent("canvas-exit",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,buttons:k.buttons,pointers:k.pointers,insideElementPressed:k.insideElementPressed,buttonDownAny:k.buttonDownAny,originalEvent:k.originalEvent})}function je(k){this.raiseEvent("canvas-press",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,insideElementPressed:k.insideElementPressed,insideElementReleased:k.insideElementReleased,originalEvent:k.originalEvent})}function Qe(k){this.raiseEvent("canvas-release",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,insideElementPressed:k.insideElementPressed,insideElementReleased:k.insideElementReleased,originalEvent:k.originalEvent})}function rt(k){this.raiseEvent("canvas-nonprimary-press",{tracker:k.eventSource,position:k.position,pointerType:k.pointerType,button:k.button,buttons:k.buttons,originalEvent:k.originalEvent})}function $e(k){this.raiseEvent("canvas-nonprimary-release",{tracker:k.eventSource,position:k.position,pointerType:k.pointerType,button:k.button,buttons:k.buttons,originalEvent:k.originalEvent})}function pt(k){var ee,we,He,Oe,ht={tracker:k.eventSource,pointerType:k.pointerType,gesturePoints:k.gesturePoints,lastCenter:k.lastCenter,center:k.center,lastDistance:k.lastDistance,distance:k.distance,shift:k.shift,originalEvent:k.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ht),this.viewport&&(ee=this.gestureSettingsByDeviceType(k.pointerType),ee.pinchToZoom&&(!ht.preventDefaultPanAction||!ht.preventDefaultZoomAction)&&(we=this.viewport.pointFromPixel(k.center,!0),ht.preventDefaultZoomAction||this.viewport.zoomBy(k.distance/k.lastDistance,we,!0),ee.zoomToRefPoint&&!ht.preventDefaultPanAction&&(He=this.viewport.pointFromPixel(k.lastCenter,!0),Oe=He.minus(we),this.panHorizontal||(Oe.x=0),this.panVertical||(Oe.y=0),this.viewport.panBy(Oe,!0)),this.viewport.applyConstraints()),ee.pinchRotate&&!ht.preventDefaultRotateAction)){var tt=Math.atan2(k.gesturePoints[0].currentPos.y-k.gesturePoints[1].currentPos.y,k.gesturePoints[0].currentPos.x-k.gesturePoints[1].currentPos.x),Vt=Math.atan2(k.gesturePoints[0].lastPos.y-k.gesturePoints[1].lastPos.y,k.gesturePoints[0].lastPos.x-k.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(tt-Vt)*(180/Math.PI))}}function ft(k){var ee,we,He,Oe,ht;Oe=t.now(),ht=Oe-this._lastScrollTime,ht>this.minScrollDeltaTime?(this._lastScrollTime=Oe,ee={tracker:k.eventSource,position:k.position,scroll:k.scroll,shift:k.shift,originalEvent:k.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",ee),!ee.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(k.position.x=this.viewport.getContainerSize().x-k.position.x),we=this.gestureSettingsByDeviceType(k.pointerType),we.scrollToZoom&&(He=Math.pow(this.zoomPerScroll,k.scroll),this.viewport.zoomBy(He,we.zoomToRefPoint?this.viewport.pointFromPixel(k.position,!0):null),this.viewport.applyConstraints())),k.preventDefault=ee.preventDefault):k.preventDefault=!0}function Tt(k){r[this.hash].mouseInside=!0,D(this),this.raiseEvent("container-enter",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,buttons:k.buttons,pointers:k.pointers,insideElementPressed:k.insideElementPressed,buttonDownAny:k.buttonDownAny,originalEvent:k.originalEvent})}function xt(k){k.pointers<1&&(r[this.hash].mouseInside=!1,r[this.hash].animating||S(this)),this.raiseEvent("container-exit",{tracker:k.eventSource,pointerType:k.pointerType,position:k.position,buttons:k.buttons,pointers:k.pointers,insideElementPressed:k.insideElementPressed,buttonDownAny:k.buttonDownAny,originalEvent:k.originalEvent})}function At(k){Ut(k),k.isOpen()?k._updateRequestId=b(k,At):k._updateRequestId=!1}function Ut(k){if(!(k._opening||!r[k.hash])){if(k.autoResize){var ee=c(k.container),we=r[k.hash].prevContainerSize;if(!ee.equals(we)){var He=k.viewport;if(k.preserveImageSizeOnResize){var Oe=we.x/ee.x,ht=He.getZoom()*Oe,tt=He.getCenter();He.resize(ee,!1),He.zoomTo(ht,null,!0),He.panTo(tt,!0)}else{var Vt=He.getBounds();He.resize(ee,!0),He.fitBoundsWithConstraints(Vt,!0)}r[k.hash].prevContainerSize=ee,r[k.hash].forceRedraw=!0}}var sn=k.viewport.update(),Wt=k.world.update()||sn;sn&&k.raiseEvent("viewport-change"),k.referenceStrip&&(Wt=k.referenceStrip.update(k.viewport)||Wt),!r[k.hash].animating&&Wt&&(k.raiseEvent("animation-start"),D(k)),(Wt||r[k.hash].forceRedraw||k.world.needsDraw())&&(Jt(k),k._drawOverlays(),k.navigator&&k.navigator.update(k.viewport),r[k.hash].forceRedraw=!1,Wt&&k.raiseEvent("animation")),r[k.hash].animating&&!Wt&&(k.raiseEvent("animation-finish"),r[k.hash].mouseInside||S(k)),r[k.hash].animating=Wt}}function Jt(k){k.imageLoader.clear(),k.drawer.clear(),k.world.draw(),k.raiseEvent("update-viewport",{})}function et(k,ee){return k?k+ee:ee}function Dt(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=this.zoomPerSecond,r[this.hash].zooming=!0,Ze(this)}function De(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=1/this.zoomPerSecond,r[this.hash].zooming=!0,Ze(this)}function We(){r[this.hash].zooming=!1}function Ze(k){t.requestAnimationFrame(t.delegate(k,qe))}function qe(){var k,ee,we;r[this.hash].zooming&&this.viewport&&(k=t.now(),ee=k-r[this.hash].lastZoomTime,we=Math.pow(r[this.hash].zoomFactor,ee/1e3),this.viewport.zoomBy(we),this.viewport.applyConstraints(),r[this.hash].lastZoomTime=k,Ze(this))}function Je(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function gt(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Yt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function hn(){this.viewport&&this.viewport.goHome()}function Ht(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function gi(){if(this.viewport){var k=this.viewport.getRotation();this.viewport.flipped?k=t.positiveModulo(k+this.rotationIncrement,360):k=t.positiveModulo(k-this.rotationIncrement,360),this.viewport.setRotation(k)}}function Kn(){if(this.viewport){var k=this.viewport.getRotation();this.viewport.flipped?k=t.positiveModulo(k-this.rotationIncrement,360):k=t.positiveModulo(k+this.rotationIncrement,360),this.viewport.setRotation(k)}}function li(){this.viewport.toggleFlip()}}(s),function(t){t.Navigator=function(b){var w=b.viewer,S=this,C,D;b.id?(this.element=document.getElementById(b.id),b.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(b.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),b.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:b.autoFade},b.position&&(b.position==="BOTTOM_RIGHT"?b.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:b.position==="BOTTOM_LEFT"?b.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:b.position==="TOP_RIGHT"?b.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:b.position==="TOP_LEFT"?b.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:b.position==="ABSOLUTE"&&(b.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,b.controlOptions.top=b.top,b.controlOptions.left=b.left,b.controlOptions.height=b.height,b.controlOptions.width=b.width))),this.element.id=b.id,this.element.className+=" navigator",b=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},b,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:b.autoResize,minZoomImageRatio:1,background:b.background,opacity:b.opacity,borderColor:b.borderColor,displayRegionColor:b.displayRegionColor}),b.minPixelRatio=this.minPixelRatio=w.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),b.controlOptions.anchor!==t.ControlAnchor.NONE&&function(G,te){G.margin="0px",G.border=te+"px solid "+b.borderColor,G.padding="0px",G.background=b.background,G.opacity=b.opacity,G.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(G,te){G.position="relative",G.top="0px",G.left="0px",G.fontSize="0px",G.overflow="hidden",G.border=te+"px solid "+b.displayRegionColor,G.margin="0px",G.padding="0px",G.background="transparent",G.float="left",G.cssFloat="left",G.styleFloat="left",G.zIndex=999999999,G.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),w.addControl(this.element,b.controlOptions),this._resizeWithViewer=b.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&b.controlOptions.anchor!==t.ControlAnchor.NONE,b.width&&b.height?(this.setWidth(b.width),this.setHeight(b.height)):this._resizeWithViewer&&(C=t.getElementSize(w.element),this.element.style.height=Math.round(C.y*b.sizeRatio)+"px",this.element.style.width=Math.round(C.x*b.sizeRatio)+"px",this.oldViewerSize=C,D=t.getElementSize(this.element),this.elementArea=D.x*D.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[b]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function H(G){v(S.displayRegionContainer,G),v(S.displayRegion,-G),S.viewport.setRotation(G)}if(b.navigatorRotate){var Q=b.viewer.viewport?b.viewer.viewport.getRotation():b.viewer.degrees||0;H(Q),b.viewer.addHandler("rotate",function(G){H(G.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,r),releaseHandler:t.delegate(this,c),scrollHandler:t.delegate(this,p),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){S.viewport&&S.viewport.goHome(!0)}),w.world.addHandler("item-index-change",function(G){window.setTimeout(function(){var te=S.world.getItemAt(G.previousIndex);S.world.setItemIndex(te,G.newIndex)},1)}),w.world.addHandler("remove-item",function(G){var te=G.item,P=S._getMatchingItem(te);P&&S.world.removeItem(P)}),this.update(w.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var b=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);b.equals(this.oldContainerSize)||(this.viewport.resize(b,!0),this.viewport.goHome(!0),this.oldContainerSize=b,this.drawer.clear(),this.world.draw())}},setWidth:function(b){this.width=b,this.element.style.width=typeof b=="number"?b+"px":b,this._resizeWithViewer=!1},setHeight:function(b){this.height=b,this.element.style.height=typeof b=="number"?b+"px":b,this._resizeWithViewer=!1},setFlip:function(b){return this.viewport.setFlip(b),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(b){y(this.displayRegion,b),y(this.canvas,b),y(this.element,b)},update:function(b){var w,S,C,D,H,Q;if(w=t.getElementSize(this.viewer.element),this._resizeWithViewer&&w.x&&w.y&&!w.equals(this.oldViewerSize)&&(this.oldViewerSize=w,this.maintainSizeRatio||!this.elementArea?(S=w.x*this.sizeRatio,C=w.y*this.sizeRatio):(S=Math.sqrt(this.elementArea*(w.x/w.y)),C=this.elementArea/S),this.element.style.width=Math.round(S)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=S*C),this.updateSize()),b&&this.viewport){D=b.getBoundsNoRotate(!0),H=this.viewport.pixelFromPointNoRotate(D.getTopLeft(),!1),Q=this.viewport.pixelFromPointNoRotate(D.getBottomRight(),!1).minus(this.totalBorderWidths);var G=this.displayRegion.style;G.display=this.world.getItemCount()?"block":"none",G.top=Math.round(H.y)+"px",G.left=Math.round(H.x)+"px";var te=Math.abs(H.x-Q.x),P=Math.abs(H.y-Q.y);G.width=Math.round(Math.max(te,0))+"px",G.height=Math.round(Math.max(P,0))+"px"}},addTiledImage:function(b){var w=this,S=b.originalTiledImage;delete b.original;var C=t.extend({},b,{success:function(D){var H=D.item;H._originalForNavigator=S,w._matchBounds(H,S,!0),w._matchOpacity(H,S),w._matchCompositeOperation(H,S);function Q(){w._matchBounds(H,S)}function G(){w._matchOpacity(H,S)}function te(){w._matchCompositeOperation(H,S)}S.addHandler("bounds-change",Q),S.addHandler("clip-change",Q),S.addHandler("opacity-change",G),S.addHandler("composite-operation-change",te)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(b){for(var w=this.world.getItemCount(),S,C=0;C<w;C++)if(S=this.world.getItemAt(C),S._originalForNavigator===b)return S;return null},_matchBounds:function(b,w,S){var C=w.getBoundsNoRotate();b.setPosition(C.getTopLeft(),S),b.setWidth(C.width,S),b.setRotation(w.getRotation(),S),b.setClip(w.getClip()),b.setFlip(w.getFlip())},_matchOpacity:function(b,w){b.setOpacity(w.opacity)},_matchCompositeOperation:function(b,w){b.setCompositeOperation(w.compositeOperation)}});function r(b){var w={tracker:b.eventSource,position:b.position,quick:b.quick,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",w),!w.preventDefaultAction&&b.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(b.position.x=this.viewport.getContainerSize().x-b.position.x);var S=this.viewport.pointFromPixel(b.position);this.panVertical?this.panHorizontal||(S.x=this.viewer.viewport.getCenter(!0).x):S.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(S),this.viewer.viewport.applyConstraints()}}function l(b){var w={tracker:b.eventSource,position:b.position,delta:b.delta,speed:b.speed,direction:b.direction,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",w),!w.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(b.delta.x=0),this.panVertical||(b.delta.y=0),this.viewer.viewport.flipped&&(b.delta.x=-b.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(b.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function c(b){b.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function p(b){var w={tracker:b.eventSource,position:b.position,scroll:b.scroll,shift:b.shift,originalEvent:b.originalEvent,preventDefault:b.preventDefault};this.viewer.raiseEvent("navigator-scroll",w),b.preventDefault=w.preventDefault}function v(b,w){y(b,"rotate("+w+"deg)")}function y(b,w){b.style.webkitTransform=w,b.style.mozTransform=w,b.style.msTransform=w,b.style.oTransform=w,b.style.transform=w}}(s),function(t){var r={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var c=l.split("."),p=null,v=arguments,y=r,b;for(b=0;b<c.length-1;b++)y=y[c[b]]||{};return p=y[c[b]],typeof p!="string"&&(t.console.log("Untranslated source string:",l),p=""),p.replace(/\{\d+\}/g,function(w){var S=parseInt(w.match(/\d+/),10)+1;return S<v.length?v[S]:""})},setString:function(l,c){var p=l.split("."),v=r,y;for(y=0;y<p.length-1;y++)v[p[y]]||(v[p[y]]={}),v=v[p[y]];v[p[y]]=c}})}(s),function(t){t.Point=function(r,l){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(r){return new t.Point(this.x+r.x,this.y+r.y)},minus:function(r){return new t.Point(this.x-r.x,this.y-r.y)},times:function(r){return new t.Point(this.x*r,this.y*r)},divide:function(r){return new t.Point(this.x/r,this.y/r)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(r){return Math.sqrt(Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2))},squaredDistanceTo:function(r){return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)},apply:function(r){return new t.Point(r(this.x),r(this.y))},equals:function(r){return r instanceof t.Point&&this.x===r.x&&this.y===r.y},rotate:function(r,l){l=l||new t.Point(0,0);var c,p;if(r%90===0){var v=t.positiveModulo(r,360);switch(v){case 0:c=1,p=0;break;case 90:c=0,p=1;break;case 180:c=-1,p=0;break;case 270:c=0,p=-1;break}}else{var y=r*Math.PI/180;c=Math.cos(y),p=Math.sin(y)}var b=c*(this.x-l.x)-p*(this.y-l.y)+l.x,w=p*(this.x-l.x)+c*(this.y-l.y)+l.y;return new t.Point(b,w)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(s),function(t){t.TileSource=function(l,c,p,v,y,b){var w=this,S=arguments,C,D;if(t.isPlainObject(l)?C=l:C={width:S[0],height:S[1],tileSize:S[2],tileOverlap:S[3],minLevel:S[4],maxLevel:S[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(D=0;D<arguments.length;D++)if(t.isFunction(arguments[D])){this.success=arguments[D];break}}this.success&&this.addHandler("ready",function(H){w.success(H)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},c;for(c=0;c<=this.maxLevel;c++)l[c]=1/Math.pow(2,this.maxLevel-c);this.getLevelScale=function(p){return l[p]}},getNumTiles:function(l){var c=this.getLevelScale(l),p=Math.ceil(c*this.dimensions.x/this.getTileWidth(l)),v=Math.ceil(c*this.dimensions.y/this.getTileHeight(l));return new t.Point(p,v)},getPixelRatio:function(l){var c=this.dimensions.times(this.getLevelScale(l)),p=1/c.x*t.pixelDensityRatio,v=1/c.y*t.pixelDensityRatio;return new t.Point(p,v)},getClosestLevel:function(){var l,c;for(l=this.minLevel+1;l<=this.maxLevel&&(c=this.getNumTiles(l),!(c.x>1||c.y>1));l++);return l-1},getTileAtPoint:function(l,c){var p=c.x>=0&&c.x<=1&&c.y>=0&&c.y<=1/this.aspectRatio;t.console.assert(p,"[TileSource.getTileAtPoint] must be called with a valid point.");var v=this.dimensions.x*this.getLevelScale(l),y=c.x*v,b=c.y*v,w=Math.floor(y/this.getTileWidth(l)),S=Math.floor(b/this.getTileHeight(l));c.x>=1&&(w=this.getNumTiles(l).x-1);var C=1e-15;return c.y>=1/this.aspectRatio-C&&(S=this.getNumTiles(l).y-1),new t.Point(w,S)},getTileBounds:function(l,c,p,v){var y=this.dimensions.times(this.getLevelScale(l)),b=this.getTileWidth(l),w=this.getTileHeight(l),S=c===0?0:b*c-this.tileOverlap,C=p===0?0:w*p-this.tileOverlap,D=b+(c===0?1:2)*this.tileOverlap,H=w+(p===0?1:2)*this.tileOverlap,Q=1/y.x;return D=Math.min(D,y.x-S),H=Math.min(H,y.y-C),v?new t.Rect(0,0,D,H):new t.Rect(S*Q,C*Q,D*Q,H*Q)},getImageInfo:function(l){var c=this,p,v,y,b,w,S,C;l&&(w=l.split("/"),S=w[w.length-1],C=S.lastIndexOf("."),C>-1&&(w[w.length-1]=S.slice(0,C))),v=function(D){typeof D=="string"&&(D=t.parseXml(D));var H=t.TileSource.determineType(c,D,l);if(!H){c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}b=H.prototype.configure.apply(c,[D,l]),b.ajaxWithCredentials===void 0&&(b.ajaxWithCredentials=c.ajaxWithCredentials),y=new H(b),c.ready=!0,c.raiseEvent("ready",{tileSource:y})},l.match(/\.js$/)?(p=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:p,callback:v})):t.makeAjaxRequest({url:l,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(D){var H=r(D);v(H)},error:function(D,H){var Q;try{Q="HTTP "+D.status+" attempting to load TileSource"}catch{var G;typeof H>"u"||!H.toString?G="Unknown error":G=H.toString(),Q=G+" attempting to load TileSource"}c.raiseEvent("open-failed",{message:Q,source:l})}})},supports:function(l,c){return!1},configure:function(l,c){throw new Error("Method not implemented.")},getTileUrl:function(l,c,p){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(l,c,p){return{}},tileExists:function(l,c,p){var v=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&c>=0&&p>=0&&c<v.x&&p<v.y}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function r(l){var c=l.responseText,p=l.status,v,y;if(l){if(l.status!==200&&l.status!==0)throw p=l.status,v=p===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",p,v))}else throw new Error(t.getString("Errors.Security"));if(c.match(/\s*<.*/))try{y=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(c)}catch{y=l.responseText}else if(c.match(/\s*[{[].*/))try{y=t.parseJSON(c)}catch{y=c}else y=c;return y}t.TileSource.determineType=function(l,c,p){var v;for(v in s)if(v.match(/.+TileSource$/)&&t.isFunction(s[v])&&t.isFunction(s[v].prototype.supports)&&s[v].prototype.supports.call(l,c,p))return s[v];return t.console.error("No TileSource was able to open %s %s",p,c),null}}(s),function(t){t.DziTileSource=function(c,p,v,y,b,w,S,C,D){var H,Q,G,te;if(t.isPlainObject(c)?te=c:te={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=te.tilesUrl,this.fileFormat=te.fileFormat,this.displayRects=te.displayRects,this.displayRects)for(H=this.displayRects.length-1;H>=0;H--)for(Q=this.displayRects[H],G=Q.minLevel;G<=Q.maxLevel;G++)this._levelRects[G]||(this._levelRects[G]=[]),this._levelRects[G].push(Q);t.TileSource.apply(this,[te])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(c,p){var v;return c.Image?v=c.Image.xmlns:c.documentElement&&(c.documentElement.localName==="Image"||c.documentElement.tagName==="Image")&&(v=c.documentElement.namespaceURI),v=(v||"").toLowerCase(),v.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||v.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(c,p){var v;return t.isPlainObject(c)?v=l(this,c):v=r(this,c),p&&!v.tilesUrl&&(v.tilesUrl=p.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),p.search(/\.(dzi|xml|js)\?/)!==-1?v.queryParams=p.match(/\?.*/):v.queryParams=""),v},getTileUrl:function(c,p,v){return[this.tilesUrl,c,"/",p,"_",v,".",this.fileFormat,this.queryParams].join("")},tileExists:function(c,p,v){var y=this._levelRects[c],b,w,S,C,D,H,Q;if(this.minLevel&&c<this.minLevel||this.maxLevel&&c>this.maxLevel)return!1;if(!y||!y.length)return!0;for(Q=y.length-1;Q>=0;Q--)if(b=y[Q],!(c<b.minLevel||c>b.maxLevel)&&(w=this.getLevelScale(c),S=b.x*w,C=b.y*w,D=S+b.width*w,H=C+b.height*w,S=Math.floor(S/this._tileWidth),C=Math.floor(C/this._tileWidth),D=Math.ceil(D/this._tileWidth),H=Math.ceil(H/this._tileWidth),S<=p&&p<D&&C<=v&&v<H))return!0;return!1}});function r(c,p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var v=p.documentElement,y=v.localName||v.tagName,b=p.documentElement.namespaceURI,w=null,S=[],C,D,H,Q,G;if(y==="Image")try{if(Q=v.getElementsByTagName("Size")[0],Q===void 0&&(Q=v.getElementsByTagNameNS(b,"Size")[0]),w={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:v.getAttribute("Url"),Format:v.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(v.getAttribute("Overlap"),10),TileSize:parseInt(v.getAttribute("TileSize"),10),Size:{Height:parseInt(Q.getAttribute("Height"),10),Width:parseInt(Q.getAttribute("Width"),10)}}},!t.imageFormatSupported(w.Image.Format))throw new Error(t.getString("Errors.ImageFormat",w.Image.Format.toUpperCase()));for(C=v.getElementsByTagName("DisplayRect"),C===void 0&&(C=v.getElementsByTagNameNS(b,"DisplayRect")[0]),G=0;G<C.length;G++)D=C[G],H=D.getElementsByTagName("Rect")[0],H===void 0&&(H=D.getElementsByTagNameNS(b,"Rect")[0]),S.push({Rect:{X:parseInt(H.getAttribute("X"),10),Y:parseInt(H.getAttribute("Y"),10),Width:parseInt(H.getAttribute("Width"),10),Height:parseInt(H.getAttribute("Height"),10),MinLevel:parseInt(D.getAttribute("MinLevel"),10),MaxLevel:parseInt(D.getAttribute("MaxLevel"),10)}});return S.length&&(w.Image.DisplayRect=S),l(c,w)}catch(Z){throw Z instanceof Error?Z:new Error(t.getString("Errors.Dzi"))}else{if(y==="Collection")throw new Error(t.getString("Errors.Dzc"));if(y==="Error"){var te=v.getElementsByTagName("Message")[0],P=te.firstChild.nodeValue;throw new Error(P)}}throw new Error(t.getString("Errors.Dzi"))}function l(c,p){var v=p.Image,y=v.Url,b=v.Format,w=v.Size,S=v.DisplayRect||[],C=parseInt(w.Width,10),D=parseInt(w.Height,10),H=parseInt(v.TileSize,10),Q=parseInt(v.Overlap,10),G=[],te,P;for(P=0;P<S.length;P++)te=S[P].Rect,G.push(new t.DisplayRect(parseInt(te.X,10),parseInt(te.Y,10),parseInt(te.Width,10),parseInt(te.Height,10),parseInt(te.MinLevel,10),parseInt(te.MaxLevel,10)));return t.extend(!0,{width:C,height:D,tileSize:H,tileOverlap:Q,minLevel:null,maxLevel:null,tilesUrl:y,fileFormat:b,displayRects:G},p)}}(s),function(t){t.IIIFTileSource=function(v){if(t.extend(!0,this,v),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(v.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=v.version,this.tile_width&&this.tile_height)v.tileWidth=this.tile_width,v.tileHeight=this.tile_height;else if(this.tile_width)v.tileSize=this.tile_width;else if(this.tile_height)v.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)v.tileWidth=this.tiles[0].width,v.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var y=0;y<this.tiles.length;y++)for(var b=0;b<this.tiles[y].scaleFactors.length;b++){var w=this.tiles[y].scaleFactors[b];this.scale_factors.push(w),v.tileSizePerScaleFactor[w]={width:this.tiles[y].width,height:this.tiles[y].height||this.tiles[y].width}}}else if(r(v)){for(var S=Math.min(this.height,this.width),C=[256,512,1024],D=[],H=0;H<C.length;H++)C[H]<=S&&D.push(C[H]);D.length>0?v.tileSize=Math.max.apply(null,D):v.tileSize=S}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,v.levels=l(this),t.extend(!0,v,{width:v.levels[v.levels.length-1].width,height:v.levels[v.levels.length-1].height,tileSize:Math.max(v.height,v.width),tileOverlap:0,minLevel:0,maxLevel:v.levels.length-1}),this.levels=v.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!v.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)v.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var Q=Math.max.apply(null,this.scale_factors);v.maxLevel=Math.round(Math.log(Q)*Math.LOG2E)}t.TileSource.apply(this,[v])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(v,y){return v.protocol&&v.protocol==="http://iiif.io/api/image"||v["@context"]&&(v["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||v["@context"]==="http://iiif.io/api/image/1/context.json")||v.profile&&v.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||v.identifier&&v.width&&v.height?!0:!!(v.documentElement&&v.documentElement.tagName==="info"&&v.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(v,y){if(t.isPlainObject(v)){if(!v["@context"])v["@context"]="http://iiif.io/api/image/1.0/context.json",v["@id"]=y.replace("/info.json",""),v.version=1;else{var b=v["@context"];if(Array.isArray(b)){for(var w=0;w<b.length;w++)if(typeof b[w]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(b[w])||b[w]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){b=b[w];break}}switch(b){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":v.version=1;break;case"http://iiif.io/api/image/2/context.json":v.version=2;break;case"http://iiif.io/api/image/3/context.json":v.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!v["@id"]&&v.id&&(v["@id"]=v.id),v.preferredFormats){for(var S=0;S<v.preferredFormats.length;S++)if(s.imageFormatSupported(v.preferredFormats[S])){v.tileFormat=v.preferredFormats[S];break}}return v}else{var C=c(v);return C["@context"]="http://iiif.io/api/image/1.0/context.json",C["@id"]=y.replace("/info.xml",""),C.version=1,C}},getTileWidth:function(v){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,v);var y=Math.pow(2,this.maxLevel-v);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].width:this._tileWidth},getTileHeight:function(v){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,v);var y=Math.pow(2,this.maxLevel-v);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].height:this._tileHeight},getLevelScale:function(v){if(this.emulateLegacyImagePyramid){var y=NaN;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(y=this.levels[v].width/this.levels[this.maxLevel].width),y}return t.TileSource.prototype.getLevelScale.call(this,v)},getNumTiles:function(v){if(this.emulateLegacyImagePyramid){var y=this.getLevelScale(v);return y?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,v)},getTileAtPoint:function(v,y){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,v,y)},getTileUrl:function(v,y,b){if(this.emulateLegacyImagePyramid){var w=null;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(w=this.levels[v].url),w}var S="0",C=Math.pow(.5,this.maxLevel-v),D=Math.ceil(this.width*C),H=Math.ceil(this.height*C),Q,G,te,P,Z,oe,re,he,ge,Ie,je,Qe,rt,$e;return Q=this.getTileWidth(v),G=this.getTileHeight(v),te=Math.ceil(Q/C),P=Math.ceil(G/C),this.version===1?rt="native."+this.tileFormat:rt="default."+this.tileFormat,D<Q&&H<G?(this.version===2&&D===this.width?Ie="full":this.version===3&&D===this.width&&H===this.height?Ie="max":this.version===3?Ie=D+","+H:Ie=D+",",Z="full"):(oe=y*te,re=b*P,he=Math.min(te,this.width-oe),ge=Math.min(P,this.height-re),y===0&&b===0&&he===this.width&&ge===this.height?Z="full":Z=[oe,re,he,ge].join(","),je=Math.ceil(he*C),Qe=Math.ceil(ge*C),this.version===2&&je===this.width?Ie="full":this.version===3&&je===this.width&&Qe===this.height?Ie="max":this.version===3?Ie=je+","+Qe:Ie=je+","),$e=[this["@id"],Z,Ie,S,rt].join("/"),$e},__testonly__:{canBeTiled:r,constructLevels:l}});function r(v){var y=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],b=Array.isArray(v.profile)?v.profile[0]:v.profile,w=y.indexOf(b)!==-1,S=!1;return v.version===2&&v.profile.length>1&&v.profile[1].supports&&(S=v.profile[1].supports.indexOf("sizeByW")!==-1),v.version===3&&v.extraFeatures&&(S=v.extraFeatures.indexOf("sizeByWh")!==-1),!w||S}function l(v){for(var y=[],b=0;b<v.sizes.length;b++)y.push({url:v["@id"]+"/full/"+v.sizes[b].width+","+(v.version===3?v.sizes[b].height:"")+"/0/default."+v.tileFormat,width:v.sizes[b].width,height:v.sizes[b].height});return y.sort(function(w,S){return w.width-S.width})}function c(v){if(!v||!v.documentElement)throw new Error(t.getString("Errors.Xml"));var y=v.documentElement,b=y.tagName,w=null;if(b==="info")try{return w={},p(y,w),w}catch(S){throw S instanceof Error?S:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function p(v,y,b){var w,S;if(v.nodeType===3&&b)S=v.nodeValue.trim(),S.match(/^\d*$/)&&(S=Number(S)),y[b]?(t.isArray(y[b])||(y[b]=[y[b]]),y[b].push(S)):y[b]=S;else if(v.nodeType===1)for(w=0;w<v.childNodes.length;w++)p(v.childNodes[w],y,v.nodeName)}}(s),function(t){t.OsmTileSource=function(r,l,c,p,v){var y;t.isPlainObject(r)?y=r:y={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!y.width||!y.height)&&(y.width=65572864,y.height=65572864),y.tileSize||(y.tileSize=256,y.tileOverlap=0),y.tilesUrl||(y.tilesUrl="http://tile.openstreetmap.org/"),y.minLevel=8,t.TileSource.apply(this,[y])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="openstreetmaps"},configure:function(r,l){return r},getTileUrl:function(r,l,c){return this.tilesUrl+(r-8)+"/"+l+"/"+c+".png"}})}(s),function(t){t.TmsTileSource=function(r,l,c,p,v){var y;t.isPlainObject(r)?y=r:y={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var b=Math.ceil(y.width/256)*256,w=Math.ceil(y.height/256)*256,S;b>w?S=b/256:S=w/256,y.maxLevel=Math.ceil(Math.log(S)/Math.log(2))-1,y.tileSize=256,y.width=b,y.height=w,t.TileSource.apply(this,[y])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="tiledmapservice"},configure:function(r,l){return r},getTileUrl:function(r,l,c){var p=this.getNumTiles(r).y-1;return this.tilesUrl+r+"/"+l+"/"+(p-c)+".png"}})}(s),function(t){t.ZoomifyTileSource=function(r){typeof r.tileSize>"u"&&(r.tileSize=256),typeof r.fileFormat>"u"&&(r.fileFormat="jpg",this.fileFormat=r.fileFormat);var l={x:r.width,y:r.height};for(r.imageSizes=[{x:r.width,y:r.height}],r.gridSize=[this._getGridSize(r.width,r.height,r.tileSize)];parseInt(l.x,10)>r.tileSize||parseInt(l.y,10)>r.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),r.imageSizes.push({x:l.x,y:l.y}),r.gridSize.push(this._getGridSize(l.x,l.y,r.tileSize));r.imageSizes.reverse(),r.gridSize.reverse(),r.minLevel=0,r.maxLevel=r.gridSize.length-1,s.TileSource.apply(this,[r])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(r,l,c){return{x:Math.ceil(r/c),y:Math.ceil(l/c)}},_calculateAbsoluteTileNumber:function(r,l,c){for(var p=0,v={},y=0;y<r;y++)v=this.gridSize[y],p+=v.x*v.y;return v=this.gridSize[r],p+=v.x*c+l,p},supports:function(r,l){return r.type&&r.type==="zoomifytileservice"},configure:function(r,l){return r},getTileUrl:function(r,l,c){var p=0,v=this._calculateAbsoluteTileNumber(r,l,c);return p=Math.floor(v/256),this.tilesUrl+"TileGroup"+p+"/"+r+"-"+l+"-"+c+"."+this.fileFormat}})}(s),function(t){t.LegacyTileSource=function(p){var v,y,b;t.isArray(p)&&(v={type:"legacy-image-pyramid",levels:p}),v.levels=r(v.levels),v.levels.length>0?(y=v.levels[v.levels.length-1].width,b=v.levels[v.levels.length-1].height):(y=0,b=0,t.console.error("No supported image formats found")),t.extend(!0,v,{width:y,height:b,tileSize:Math.max(b,y),tileOverlap:0,minLevel:0,maxLevel:v.levels.length>0?v.levels.length-1:0}),t.TileSource.apply(this,[v]),this.levels=v.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(p,v){return p.type&&p.type==="legacy-image-pyramid"||p.documentElement&&p.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(p,v){var y;return t.isPlainObject(p)?y=c(this,p):y=l(this,p),y},getLevelScale:function(p){var v=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(v=this.levels[p].width/this.levels[this.maxLevel].width),v},getNumTiles:function(p){var v=this.getLevelScale(p);return v?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(p,v,y){var b=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(b=this.levels[p].url),b}});function r(p){var v=[],y,b;for(b=0;b<p.length;b++)y=p[b],y.height&&y.width&&y.url?v.push({url:y.url,width:Number(y.width),height:Number(y.height)}):t.console.error("Unsupported image format: %s",y.url?y.url:"<no URL>");return v.sort(function(w,S){return w.height-S.height})}function l(p,v){if(!v||!v.documentElement)throw new Error(t.getString("Errors.Xml"));var y=v.documentElement,b=y.tagName,w=null,S=[],C,D;if(b==="image")try{for(w={type:y.getAttribute("type"),levels:[]},S=y.getElementsByTagName("level"),D=0;D<S.length;D++)C=S[D],w.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return c(p,w)}catch(H){throw H instanceof Error?H:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(b==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(b==="error")throw new Error("Error: "+v)}throw new Error("Unknown element "+b)}function c(p,v){return v.levels}}(s),function(t){t.ImageTileSource=function(r){r=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},r),t.TileSource.apply(this,[r])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="image"},configure:function(r,l){return r},getImageInfo:function(r){var l=this._image=new Image,c=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){c.width=l.naturalWidth,c.height=l.naturalHeight,c.aspectRatio=c.width/c.height,c.dimensions=new t.Point(c.width,c.height),c._tileWidth=c.width,c._tileHeight=c.height,c.tileOverlap=0,c.minLevel=0,c.levels=c._buildLevels(),c.maxLevel=c.levels.length-1,c.ready=!0,c.raiseEvent("ready",{tileSource:c})}),t.addEvent(l,"error",function(){c.raiseEvent("open-failed",{message:"Error loading image at "+r,source:r})}),l.src=r},getLevelScale:function(r){var l=NaN;return r>=this.minLevel&&r<=this.maxLevel&&(l=this.levels[r].width/this.levels[this.maxLevel].width),l},getNumTiles:function(r){var l=this.getLevelScale(r);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(r,l,c){var p=null;return r>=this.minLevel&&r<=this.maxLevel&&(p=this.levels[r].url),p},getContext2D:function(r,l,c){var p=null;return r>=this.minLevel&&r<=this.maxLevel&&(p=this.levels[r].context2D),p},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var r=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,r;var l=this._image.naturalWidth,c=this._image.naturalHeight,p=document.createElement("canvas"),v=p.getContext("2d");if(p.width=l,p.height=c,v.drawImage(this._image,0,0,l,c),r[0].context2D=v,delete this._image,t.isCanvasTainted(p))return r;for(;l>=2&&c>=2;){l=Math.floor(l/2),c=Math.floor(c/2);var y=document.createElement("canvas"),b=y.getContext("2d");y.width=l,y.height=c,b.drawImage(p,0,0,l,c),r.splice(0,0,{context2D:b,width:l,height:c}),p=y,v=b}return r},_freeupCanvasMemory:function(){for(var r=0;r<this.levels.length;r++)this.levels[r].context2D.canvas.height=0,this.levels[r].context2D.canvas.width=0}})}(s),function(t){t.TileSourceCollection=function(r,l,c,p){t.console.error("TileSourceCollection is deprecated; use World instead")}}(s),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(b){var w=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},b),this.element=b.element||t.makeNeutralElement("div"),b.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(S){S.insideElementPressed?(v(w,t.ButtonState.DOWN),w.raiseEvent("enter",{originalEvent:S.originalEvent})):S.buttonDownAny||v(w,t.ButtonState.HOVER)},focusHandler:function(S){w.tracker.enterHandler(S),w.raiseEvent("focus",{originalEvent:S.originalEvent})},leaveHandler:function(S){y(w,t.ButtonState.GROUP),S.insideElementPressed&&w.raiseEvent("exit",{originalEvent:S.originalEvent})},blurHandler:function(S){w.tracker.leaveHandler(S),w.raiseEvent("blur",{originalEvent:S.originalEvent})},pressHandler:function(S){v(w,t.ButtonState.DOWN),w.raiseEvent("press",{originalEvent:S.originalEvent})},releaseHandler:function(S){S.insideElementPressed&&S.insideElementReleased?(y(w,t.ButtonState.HOVER),w.raiseEvent("release",{originalEvent:S.originalEvent})):S.insideElementPressed?y(w,t.ButtonState.GROUP):v(w,t.ButtonState.HOVER)},clickHandler:function(S){S.quick&&w.raiseEvent("click",{originalEvent:S.originalEvent})},keyHandler:function(S){S.keyCode===13?(w.raiseEvent("click",{originalEvent:S.originalEvent}),w.raiseEvent("release",{originalEvent:S.originalEvent}),S.preventDefault=!0):S.preventDefault=!1}}),y(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){v(this,t.ButtonState.GROUP)},notifyGroupExit:function(){y(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function r(b){t.requestAnimationFrame(function(){l(b)})}function l(b){var w,S,C;b.shouldFade&&(w=t.now(),S=w-b.fadeBeginTime,C=1-S/b.fadeLength,C=Math.min(1,C),C=Math.max(0,C),b.imgGroup&&t.setElementOpacity(b.imgGroup,C,!0),C>0&&r(b))}function c(b){b.shouldFade=!0,b.fadeBeginTime=t.now()+b.fadeDelay,window.setTimeout(function(){r(b)},b.fadeDelay)}function p(b){b.shouldFade=!1,b.imgGroup&&t.setElementOpacity(b.imgGroup,1,!0)}function v(b,w){b.element.disabled||(w>=t.ButtonState.GROUP&&b.currentState===t.ButtonState.REST&&(p(b),b.currentState=t.ButtonState.GROUP),w>=t.ButtonState.HOVER&&b.currentState===t.ButtonState.GROUP&&(b.imgHover&&(b.imgHover.style.visibility=""),b.currentState=t.ButtonState.HOVER),w>=t.ButtonState.DOWN&&b.currentState===t.ButtonState.HOVER&&(b.imgDown&&(b.imgDown.style.visibility=""),b.currentState=t.ButtonState.DOWN))}function y(b,w){b.element.disabled||(w<=t.ButtonState.HOVER&&b.currentState===t.ButtonState.DOWN&&(b.imgDown&&(b.imgDown.style.visibility="hidden"),b.currentState=t.ButtonState.HOVER),w<=t.ButtonState.GROUP&&b.currentState===t.ButtonState.HOVER&&(b.imgHover&&(b.imgHover.style.visibility="hidden"),b.currentState=t.ButtonState.GROUP),w<=t.ButtonState.REST&&b.currentState===t.ButtonState.GROUP&&(c(b),b.currentState=t.ButtonState.REST))}}(s),function(t){t.ButtonGroup=function(r){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},r);var l=this.buttons.concat([]),c=this,p;if(this.element=r.element||t.makeNeutralElement("div"),!r.group)for(this.element.style.display="inline-block",p=0;p<l.length;p++)this.element.appendChild(l[p].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(v){var y;for(y=0;y<c.buttons.length;y++)c.buttons[y].notifyGroupEnter()},leaveHandler:function(v){var y;if(!v.insideElementPressed)for(y=0;y<c.buttons.length;y++)c.buttons[y].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var r=this.buttons.pop();this.element.removeChild(r.element),r.destroy()}this.tracker.destroy(),this.element=null}}}(s),function(t){t.Rect=function(r,l,c,p,v){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0,this.width=typeof c=="number"?c:0,this.height=typeof p=="number"?p:0,this.degrees=typeof v=="number"?v:0,this.degrees=t.positiveModulo(this.degrees,360);var y,b;this.degrees>=270?(y=this.getTopRight(),this.x=y.x,this.y=y.y,b=this.height,this.height=this.width,this.width=b,this.degrees-=270):this.degrees>=180?(y=this.getBottomRight(),this.x=y.x,this.y=y.y,this.degrees-=180):this.degrees>=90&&(y=this.getBottomLeft(),this.x=y.x,this.y=y.y,b=this.height,this.height=this.width,this.width=b,this.degrees-=90)},t.Rect.fromSummits=function(r,l,c){var p=r.distanceTo(l),v=r.distanceTo(c),y=l.minus(r),b=Math.atan(y.y/y.x);return y.x<0?b+=Math.PI:y.y<0&&(b+=2*Math.PI),new t.Rect(r.x,r.y,p,v,b/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(r){return r instanceof t.Rect&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height&&this.degrees===r.degrees},times:function(r){return new t.Rect(this.x*r,this.y*r,this.width*r,this.height*r,this.degrees)},translate:function(r){return new t.Rect(this.x+r.x,this.y+r.y,this.width,this.height,this.degrees)},union:function(r){var l=this.getBoundingBox(),c=r.getBoundingBox(),p=Math.min(l.x,c.x),v=Math.min(l.y,c.y),y=Math.max(l.x+l.width,c.x+c.width),b=Math.max(l.y+l.height,c.y+c.height);return new t.Rect(p,v,y-p,b-v)},intersection:function(r){var l=1e-10,c=[],p=this.getTopLeft();r.containsPoint(p,l)&&c.push(p);var v=this.getTopRight();r.containsPoint(v,l)&&c.push(v);var y=this.getBottomLeft();r.containsPoint(y,l)&&c.push(y);var b=this.getBottomRight();r.containsPoint(b,l)&&c.push(b);var w=r.getTopLeft();this.containsPoint(w,l)&&c.push(w);var S=r.getTopRight();this.containsPoint(S,l)&&c.push(S);var C=r.getBottomLeft();this.containsPoint(C,l)&&c.push(C);var D=r.getBottomRight();this.containsPoint(D,l)&&c.push(D);for(var H=this._getSegments(),Q=r._getSegments(),G=0;G<H.length;G++)for(var te=H[G],P=0;P<Q.length;P++){var Z=Q[P],oe=re(te[0],te[1],Z[0],Z[1]);oe&&c.push(oe)}function re($e,pt,ft,Tt){var xt=pt.minus($e),At=Tt.minus(ft),Ut=-At.x*xt.y+xt.x*At.y;if(Ut===0)return null;var Jt=(xt.x*($e.y-ft.y)-xt.y*($e.x-ft.x))/Ut,et=(At.x*($e.y-ft.y)-At.y*($e.x-ft.x))/Ut;return-l<=Jt&&Jt<=1-l&&-l<=et&&et<=1-l?new t.Point($e.x+et*xt.x,$e.y+et*xt.y):null}if(c.length===0)return null;for(var he=c[0].x,ge=c[0].x,Ie=c[0].y,je=c[0].y,Qe=1;Qe<c.length;Qe++){var rt=c[Qe];rt.x<he&&(he=rt.x),rt.x>ge&&(ge=rt.x),rt.y<Ie&&(Ie=rt.y),rt.y>je&&(je=rt.y)}return new t.Rect(he,Ie,ge-he,je-Ie)},_getSegments:function(){var r=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),p=this.getBottomRight();return[[r,l],[l,p],[p,c],[c,r]]},rotate:function(r,l){if(r=t.positiveModulo(r,360),r===0)return this.clone();l=l||this.getCenter();var c=this.getTopLeft().rotate(r,l),p=this.getTopRight().rotate(r,l),v=p.minus(c);v=v.apply(function(b){var w=1e-15;return Math.abs(b)<w?0:b});var y=Math.atan(v.y/v.x);return v.x<0?y+=Math.PI:v.y<0&&(y+=2*Math.PI),new t.Rect(c.x,c.y,this.width,this.height,y/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var r=this.getTopLeft(),l=this.getTopRight(),c=this.getBottomLeft(),p=this.getBottomRight(),v=Math.min(r.x,l.x,c.x,p.x),y=Math.max(r.x,l.x,c.x,p.x),b=Math.min(r.y,l.y,c.y,p.y),w=Math.max(r.y,l.y,c.y,p.y);return new t.Rect(v,b,y-v,w-b)},getIntegerBoundingBox:function(){var r=this.getBoundingBox(),l=Math.floor(r.x),c=Math.floor(r.y),p=Math.ceil(r.width+r.x-l),v=Math.ceil(r.height+r.y-c);return new t.Rect(l,c,p,v)},containsPoint:function(r,l){l=l||0;var c=this.getTopLeft(),p=this.getTopRight(),v=this.getBottomLeft(),y=p.minus(c),b=v.minus(c);return(r.x-c.x)*y.x+(r.y-c.y)*y.y>=-l&&(r.x-p.x)*y.x+(r.y-p.y)*y.y<=l&&(r.x-c.x)*b.x+(r.y-c.y)*b.y>=-l&&(r.x-v.x)*b.x+(r.y-v.y)*b.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(s),function(t){var r={};t.ReferenceStrip=function(C){var D=this,H=C.viewer,Q=t.getElementSize(H.element),G,te,P;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),r[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,te=this.element.style,te.marginTop="0px",te.marginRight="0px",te.marginBottom="0px",te.marginLeft="0px",te.left="0px",te.bottom="0px",te.border="0px",te.background="#000",te.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=H,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,c),scrollHandler:t.delegate(this,p),enterHandler:t.delegate(this,y),leaveHandler:t.delegate(this,b),keyDownHandler:t.delegate(this,w),keyHandler:t.delegate(this,S),preProcessEventHandler:function(Z){Z.eventType==="wheel"&&(Z.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",H.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=Q.x*C.sizeRatio*H.tileSources.length+12*H.tileSources.length+"px",this.element.style.height=Q.y*C.sizeRatio+"px",H.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=Q.y*C.sizeRatio*H.tileSources.length+12*H.tileSources.length+"px",this.element.style.width=Q.x*C.sizeRatio+"px",H.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=Q.x*this.sizeRatio+8,this.panelHeight=Q.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},P=0;P<H.tileSources.length;P++)G=t.makeNeutralElement("div"),G.id=this.element.id+"-"+P,G.style.width=D.panelWidth+"px",G.style.height=D.panelHeight+"px",G.style.display="inline",G.style.float="left",G.style.cssFloat="left",G.style.styleFloat="left",G.style.padding="2px",t.setElementTouchActionNone(G),t.setElementPointerEventsNone(G),this.element.appendChild(G),G.activePanel=!1,this.panels.push(G);v(this,this.scroll==="vertical"?Q.y:Q.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var D=this.element.querySelector("#"+this.element.id+"-"+C),H=t.getElementSize(this.viewer.canvas),Q=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),te=-Number(this.element.style.marginLeft.replace("px","")),P=-Number(this.element.style.marginTop.replace("px","")),Z;this.currentSelected!==D&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=D,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Z=Number(C)*(this.panelWidth+3),Z>te+H.x-this.panelWidth?(Z=Math.min(Z,Q-H.x),this.element.style.marginLeft=-Z+"px",v(this,H.x,-Z)):Z<te&&(Z=Math.max(0,Z-H.x/2),this.element.style.marginLeft=-Z+"px",v(this,H.x,-Z))):(Z=Number(C)*(this.panelHeight+3),Z>P+H.y-this.panelHeight?(Z=Math.min(Z,G-H.y),this.element.style.marginTop=-Z+"px",v(this,H.y,-Z)):Z<P&&(Z=Math.max(0,Z-H.y/2),this.element.style.marginTop=-Z+"px",v(this,H.y,-Z))),this.currentPage=C,y.call(this,{eventSource:this.tracker}))},update:function(){return r[this.id].animating?(t.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var D;this.scroll==="horizontal"?D=Math.floor(C.position.x/this.panelWidth):D=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(D)}this.element.focus()}function c(C){if(this.dragging=!0,this.element){var D=Number(this.element.style.marginLeft.replace("px","")),H=Number(this.element.style.marginTop.replace("px","")),Q=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),te=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?D>-(Q-te.x)&&(this.element.style.marginLeft=D+C.delta.x*2+"px",v(this,te.x,D+C.delta.x*2)):-C.delta.x<0&&D<0&&(this.element.style.marginLeft=D+C.delta.x*2+"px",v(this,te.x,D+C.delta.x*2)):-C.delta.y>0?H>-(G-te.y)&&(this.element.style.marginTop=H+C.delta.y*2+"px",v(this,te.y,H+C.delta.y*2)):-C.delta.y<0&&H<0&&(this.element.style.marginTop=H+C.delta.y*2+"px",v(this,te.y,H+C.delta.y*2))}}function p(C){if(this.element){var D=Number(this.element.style.marginLeft.replace("px","")),H=Number(this.element.style.marginTop.replace("px","")),Q=Number(this.element.style.width.replace("px","")),G=Number(this.element.style.height.replace("px","")),te=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?D>-(Q-te.x)&&(this.element.style.marginLeft=D-C.scroll*60+"px",v(this,te.x,D-C.scroll*60)):C.scroll<0&&D<0&&(this.element.style.marginLeft=D-C.scroll*60+"px",v(this,te.x,D-C.scroll*60)):C.scroll<0?H>te.y-G&&(this.element.style.marginTop=H+C.scroll*60+"px",v(this,te.y,H+C.scroll*60)):C.scroll>0&&H<0&&(this.element.style.marginTop=H+C.scroll*60+"px",v(this,te.y,H+C.scroll*60)),C.preventDefault=!0}}function v(C,D,H){var Q,G,te,P,Z,oe;for(C.scroll==="horizontal"?Q=C.panelWidth:Q=C.panelHeight,G=Math.ceil(D/Q)+5,te=Math.ceil((Math.abs(H)+D)/Q)+1,G=te-G,G=G<0?0:G,Z=G;Z<te&&Z<C.panels.length;Z++)if(oe=C.panels[Z],!oe.activePanel){var re,he=C.viewer.tileSources[Z];he.referenceStripThumbnailUrl?re={type:"image",url:he.referenceStripThumbnailUrl}:re=he,P=new t.Viewer({id:oe.id,tileSources:[re],element:oe,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(P.canvas),t.setElementPointerEventsNone(P.container),P.innerTracker.setTracking(!1),P.outerTracker.setTracking(!1),C.miniViewers[oe.id]=P,oe.activePanel=!0}}function y(C){var D=C.eventSource.element;this.scroll==="horizontal"?D.style.marginBottom="0px":D.style.marginLeft="0px"}function b(C){var D=C.eventSource.element;this.scroll==="horizontal"?D.style.marginBottom="-"+t.getElementSize(D).y/2+"px":D.style.marginLeft="-"+t.getElementSize(D).x/2+"px"}function w(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function S(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(s),function(t){t.DisplayRect=function(r,l,c,p,v,y){t.Rect.apply(this,[r,l,c,p]),this.minLevel=v,this.maxLevel=y},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(s),function(t){t.Spring=function(l){var c=arguments;typeof l!="object"&&(l={initial:c.length&&typeof c[0]=="number"?c[0]:void 0,springStiffness:c.length>1?c[1].springStiffness:5,animationTime:c.length>1?c[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,c;this._exponential?(l=this.start._logValue,c=this.target._logValue):(l=this.start.value,c=this.target.value);var p=this.current.time>=this.target.time?c:l+(c-l)*r(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),v=this.current.value;return this._exponential?this.current.value=Math.exp(p):this.current.value=p,v!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function r(l,c){return(1-Math.exp(l*-c))/(1-Math.exp(-l))}}(s),function(t){function r(c){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},c),this.image=null}r.prototype={errorMsg:null,start:function(){var c=this,p=this.abort;this.image=new Image,this.image.onload=function(){c.finish(!0)},this.image.onabort=this.image.onerror=function(){c.errorMsg="Image load aborted",c.finish(!1)},this.jobId=window.setTimeout(function(){c.errorMsg="Image load exceeded timeout ("+c.timeout+" ms)",c.finish(!1)},this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(v){var y;try{y=new window.Blob([v.response])}catch(C){var b=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&b){var w=new b;w.append(v.response),y=w.getBlob()}}y.size===0&&(c.errorMsg="Empty image response.",c.finish(!1));var S=(window.URL||window.webkitURL).createObjectURL(y);c.image.src=S},error:function(v){c.errorMsg="Image load aborted - XHR error",c.finish(!1)}}),this.abort=function(){c.request.abort(),typeof p=="function"&&p()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(c){this.image.onload=this.image.onerror=this.image.onabort=null,c||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(c){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},c)},t.ImageLoader.prototype={addJob:function(c){var p=this,v=function(w){l(p,w,c.callback)},y={src:c.src,loadWithAjax:c.loadWithAjax,ajaxHeaders:c.loadWithAjax?c.ajaxHeaders:null,crossOriginPolicy:c.crossOriginPolicy,ajaxWithCredentials:c.ajaxWithCredentials,callback:v,abort:c.abort,timeout:this.timeout},b=new r(y);!this.jobLimit||this.jobsInProgress<this.jobLimit?(b.start(),this.jobsInProgress++):this.jobQueue.push(b)},clear:function(){for(var c=0;c<this.jobQueue.length;c++){var p=this.jobQueue[c];typeof p.abort=="function"&&p.abort()}this.jobQueue=[]}};function l(c,p,v){var y;c.jobsInProgress--,(!c.jobLimit||c.jobsInProgress<c.jobLimit)&&c.jobQueue.length>0&&(y=c.jobQueue.shift(),y.start(),c.jobsInProgress++),v(p.image,p.errorMsg,p.request)}}(s),function(t){t.Tile=function(r,l,c,p,v,y,b,w,S,C){this.level=r,this.x=l,this.y=c,this.bounds=p,this.sourceBounds=C,this.exists=v,this.url=y,this.context2D=b,this.loadWithAjax=w,this.ajaxHeaders=S,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(r){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=t.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==r&&r.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},drawCanvas:function(r,l,c,p){var v=this.position.times(t.pixelDensityRatio),y=this.size.times(t.pixelDensityRatio),b;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(b=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!b){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}r.save(),r.globalAlpha=this.opacity,typeof c=="number"&&c!==1&&(v=v.times(c),y=y.times(c)),p instanceof t.Point&&(v=v.plus(p)),r.globalAlpha===1&&this._hasTransparencyChannel()&&r.clearRect(v.x,v.y,y.x,y.y),l({context:r,tile:this,rendered:b});var w,S;this.sourceBounds?(w=Math.min(this.sourceBounds.width,b.canvas.width),S=Math.min(this.sourceBounds.height,b.canvas.height)):(w=b.canvas.width,S=b.canvas.height),r.translate(v.x+y.x/2,0),this.flipped&&r.scale(-1,1),r.drawImage(b.canvas,0,0,w,S,-y.x/2,v.y,y.x,y.y),r.restore()},getScaleForEdgeSmoothing:function(){var r;if(this.cacheImageRecord)r=this.cacheImageRecord.getRenderedContext();else if(this.context2D)r=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return r.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(r,l,c){var p=Math.max(1,Math.ceil((c.x-l.x)/2)),v=Math.max(1,Math.ceil((c.y-l.y)/2));return new t.Point(p,v).minus(this.position.times(t.pixelDensityRatio).times(r||1).apply(function(y){return y%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(s),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(r,l,c){var p;t.isPlainObject(r)?p=r:p={element:r,location:l,placement:c},this.element=p.element,this.style=p.element.style,this._init(p)},t.Overlay.prototype={_init:function(r){this.location=r.location,this.placement=r.placement===void 0?t.Placement.TOP_LEFT:r.placement,this.onDraw=r.onDraw,this.checkResize=r.checkResize===void 0?!0:r.checkResize,this.width=r.width===void 0?null:r.width,this.height=r.height===void 0?null:r.height,this.rotationMode=r.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(r,l){var c=t.Placement.properties[this.placement];!c||(c.isHorizontallyCentered?r.x-=l.x/2:c.isRight&&(r.x-=l.x),c.isVerticallyCentered?r.y-=l.y/2:c.isBottom&&(r.y-=l.y))},destroy:function(){var r=this.element,l=this.style;r.parentNode&&(r.parentNode.removeChild(r),r.prevElementParent&&(l.display="none",document.body.appendChild(r))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var c=t.getCssPropertyWithVendorPrefix("transformOrigin"),p=t.getCssPropertyWithVendorPrefix("transform");c&&p&&(l[c]="",l[p]="")},drawHTML:function(r,l){var c=this.element;c.parentNode!==r&&(c.prevElementParent=c.parentNode,c.prevNextSibling=c.nextSibling,r.appendChild(c),this.style.position="absolute",this.size=t.getElementSize(c));var p=this._getOverlayPositionAndSize(l),v=p.position,y=this.size=p.size,b=p.rotate;if(this.onDraw)this.onDraw(v,y,this.element);else{var w=this.style;w.left=v.x+"px",w.top=v.y+"px",this.width!==null&&(w.width=y.x+"px"),this.height!==null&&(w.height=y.y+"px");var S=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");S&&C&&(b?(w[S]=this._getTransformOrigin(),w[C]="rotate("+b+"deg)"):(w[S]="",w[C]="")),w.display="block"}},_getOverlayPositionAndSize:function(r){var l=r.pixelFromPoint(this.location,!0),c=this._getSizeInPixels(r);this.adjust(l,c);var p=0;if(r.degrees&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var v=new t.Rect(l.x,l.y,c.x,c.y),y=this._getBoundingBox(v,r.degrees);l=y.getTopLeft(),c=y.getSize()}else p=r.degrees;return{position:l,size:c,rotate:p}},_getSizeInPixels:function(r){var l=this.size.x,c=this.size.y;if(this.width!==null||this.height!==null){var p=r.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=p.x),this.height!==null&&(c=p.y)}if(this.checkResize&&(this.width===null||this.height===null)){var v=this.size=t.getElementSize(this.element);this.width===null&&(l=v.x),this.height===null&&(c=v.y)}return new t.Point(l,c)},_getBoundingBox:function(r,l){var c=this._getPlacementPoint(r);return r.rotate(l,c).getBoundingBox()},_getPlacementPoint:function(r){var l=new t.Point(r.x,r.y),c=t.Placement.properties[this.placement];return c&&(c.isHorizontallyCentered?l.x+=r.width/2:c.isRight&&(l.x+=r.width),c.isVerticallyCentered?l.y+=r.height/2:c.isBottom&&(l.y+=r.height)),l},_getTransformOrigin:function(){var r="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?r="left":l.isRight&&(r="right"),l.isTop?r+=" top":l.isBottom&&(r+=" bottom")),r},update:function(r,l){var c=t.isPlainObject(r)?r:{location:r,placement:l};this._init({location:c.location||this.location,placement:c.placement!==void 0?c.placement:this.placement,onDraw:c.onDraw||this.onDraw,checkResize:c.checkResize||this.checkResize,width:c.width!==void 0?c.width:this.width,height:c.height!==void 0?c.height:this.height,rotationMode:c.rotationMode||this.rotationMode})},getBounds:function(r){t.console.assert(r,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,c=this.height;if(l===null||c===null){var p=r.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=p.x),c===null&&(c=p.y)}var v=this.location.clone();return this.adjust(v,new t.Point(l,c)),this._adjustBoundsForRotation(r,new t.Rect(v.x,v.y,l,c))},_adjustBoundsForRotation:function(r,l){if(!r||r.degrees===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var c=this._getOverlayPositionAndSize(r);return r.viewerElementToViewportRectangle(new t.Rect(c.position.x,c.position.y,c.size.x,c.size.y))}return l.rotate(-r.degrees,this._getPlacementPoint(l))}}}(s),function(t){t.Drawer=function(r){t.console.assert(r.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(r)||(r={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(r.viewport,"[Drawer] options.viewport is required"),t.console.assert(r.element,"[Drawer] options.element is required"),r.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=r.viewer,this.viewport=r.viewport,this.debugGridColor=typeof r.debugGridColor=="string"?[r.debugGridColor]:r.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,r.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(r.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var c=this._calculateCanvasSize();this.canvas.width=c.x,this.canvas.height=c.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(r,l,c,p){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(r,l,c,p),this},updateOverlay:function(r,l,c){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(r,l,c),this},removeOverlay:function(r){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(r),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(r){var l=this.viewport.pixelFromPointNoRotate(r,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(r,l){if(this.useCanvas){var c=this._getContext(l);c.beginPath(),r.forEach(function(p){p.forEach(function(v,y){c[y===0?"moveTo":"lineTo"](v.x,v.y)})}),c.clip()}},setOpacity:function(r){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,c=0;c<l.getItemCount();c++)l.getItemAt(c).setOpacity(r);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var r=this.viewer.world,l=0,c=0;c<r.getItemCount();c++){var p=r.getItemAt(c).getOpacity();p>l&&(l=p)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var r=this._calculateCanvasSize();if((this.canvas.width!==r.x||this.canvas.height!==r.y)&&(this.canvas.width=r.x,this.canvas.height=r.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(r,l){if(this.useCanvas){var c=this._getContext(r);if(l)c.clearRect(l.x,l.y,l.width,l.height);else{var p=c.canvas;c.clearRect(0,0,p.width,p.height)}}},viewportToDrawerRectangle:function(r){var l=this.viewport.pixelFromPointNoRotate(r.getTopLeft(),!0),c=this.viewport.deltaPixelsFromPointsNoRotate(r.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,c.x*t.pixelDensityRatio,c.y*t.pixelDensityRatio)},drawTile:function(r,l,c,p,v){if(t.console.assert(r,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var y=this._getContext(c);p=p||1,r.drawCanvas(y,l,p,v)}else r.drawHTML(this.canvas)},_getContext:function(r){var l=this.context;if(r){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var c=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=c.x,this.sketchCanvas.height=c.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var p=this;this.viewer.addHandler("rotate",function v(){if(p.viewport.getRotation()!==0){p.viewer.removeHandler("rotate",v);var y=p._calculateSketchCanvasSize();p.sketchCanvas.width=y.x,p.sketchCanvas.height=y.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(r){!this.useCanvas||this._getContext(r).save()},restoreContext:function(r){!this.useCanvas||this._getContext(r).restore()},setClip:function(r,l){if(this.useCanvas){var c=this._getContext(l);c.beginPath(),c.rect(r.x,r.y,r.width,r.height),c.clip()}},drawRectangle:function(r,l,c){if(this.useCanvas){var p=this._getContext(c);p.save(),p.fillStyle=l,p.fillRect(r.x,r.y,r.width,r.height),p.restore()}},blendSketch:function(r,l,c,p){var v=r;if(t.isPlainObject(v)||(v={opacity:r,scale:l,translate:c,compositeOperation:p}),!(!this.useCanvas||!this.sketchCanvas)){r=v.opacity,p=v.compositeOperation;var y=v.bounds;if(this.context.save(),this.context.globalAlpha=r,p&&(this.context.globalCompositeOperation=p),y)y.x<0&&(y.width+=y.x,y.x=0),y.x+y.width>this.canvas.width&&(y.width=this.canvas.width-y.x),y.y<0&&(y.height+=y.y,y.y=0),y.y+y.height>this.canvas.height&&(y.height=this.canvas.height-y.y),this.context.drawImage(this.sketchCanvas,y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height);else{l=v.scale||1,c=v.translate;var b=c instanceof t.Point?c:new t.Point(0,0),w=0,S=0;if(c){var C=this.sketchCanvas.width-this.canvas.width,D=this.sketchCanvas.height-this.canvas.height;w=Math.round(C/2),S=Math.round(D/2)}this.context.drawImage(this.sketchCanvas,b.x-w*l,b.y-S*l,(this.canvas.width+2*w)*l,(this.canvas.height+2*S)*l,-w,-S,this.canvas.width+2*w,this.canvas.height+2*S)}this.context.restore()}},drawDebugInfo:function(r,l,c,p){if(this.useCanvas){var v=this.viewer.world.getIndexOfItem(p)%this.debugGridColor.length,y=this.context;y.save(),y.lineWidth=2*t.pixelDensityRatio,y.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",y.strokeStyle=this.debugGridColor[v],y.fillStyle=this.debugGridColor[v],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),p.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:p.getRotation(!0),point:p.viewport.pixelFromPointNoRotate(p._getRotationPoint(!0),!0)}),p.viewport.degrees===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),y.strokeRect(r.position.x*t.pixelDensityRatio,r.position.y*t.pixelDensityRatio,r.size.x*t.pixelDensityRatio,r.size.y*t.pixelDensityRatio);var b=(r.position.x+r.size.x/2)*t.pixelDensityRatio,w=(r.position.y+r.size.y/2)*t.pixelDensityRatio;y.translate(b,w),y.rotate(Math.PI/180*-this.viewport.degrees),y.translate(-b,-w),r.x===0&&r.y===0&&(y.fillText("Zoom: "+this.viewport.getZoom(),r.position.x*t.pixelDensityRatio,(r.position.y-30)*t.pixelDensityRatio),y.fillText("Pan: "+this.viewport.getBounds().toString(),r.position.x*t.pixelDensityRatio,(r.position.y-20)*t.pixelDensityRatio)),y.fillText("Level: "+r.level,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+20)*t.pixelDensityRatio),y.fillText("Column: "+r.x,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+30)*t.pixelDensityRatio),y.fillText("Row: "+r.y,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+40)*t.pixelDensityRatio),y.fillText("Order: "+c+" of "+l,(r.position.x+10)*t.pixelDensityRatio,(r.position.y+50)*t.pixelDensityRatio),y.fillText("Size: "+r.size.toString(),(r.position.x+10)*t.pixelDensityRatio,(r.position.y+60)*t.pixelDensityRatio),y.fillText("Position: "+r.position.toString(),(r.position.x+10)*t.pixelDensityRatio,(r.position.y+70)*t.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),p.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.viewport.degrees===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),y.restore()}},debugRect:function(r){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio,r.width*t.pixelDensityRatio,r.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(r){this.useCanvas&&(this._imageSmoothingEnabled=r,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(r){r.msImageSmoothingEnabled=this._imageSmoothingEnabled,r.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(r){var l=this._getContext(r).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(r){var l=r.point?r.point.times(t.pixelDensityRatio):this.getCanvasCenter(),c=this._getContext(r.useSketch);c.save(),c.translate(l.x,l.y),this.viewer.viewport.flipped?(c.rotate(Math.PI/180*-r.degrees),c.scale(-1,1)):c.rotate(Math.PI/180*r.degrees),c.translate(-l.x,-l.y)},_flip:function(r){r=r||{};var l=r.point?r.point.times(t.pixelDensityRatio):this.getCanvasCenter(),c=this._getContext(r.useSketch);c.translate(l.x,0),c.scale(-1,1),c.translate(-l.x,0)},_restoreRotationChanges:function(r){var l=this._getContext(r);l.restore()},_calculateCanvasSize:function(){var r=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*r),y:Math.round(l.y*r)}},_calculateSketchCanvasSize:function(){var r=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return r;var l=Math.ceil(Math.sqrt(r.x*r.x+r.y*r.y));return{x:l,y:l}}}}(s),function(t){t.Viewport=function(r){var l=arguments;l.length&&l[0]instanceof t.Point&&(r={containerSize:l[0],contentSize:l[1],config:l[2]}),r.config&&(t.extend(!0,r,r.config),delete r.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r.margins||{}),delete r.margins,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,degrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer},r),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={resetContentSize:function(r){return t.console.assert(r,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(r instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(r.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(r.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,r.y/r.x),r.x),this},setHomeBounds:function(r,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(r,l)},_setContentBounds:function(r,l){t.console.assert(r,"[Viewport._setContentBounds] bounds is required"),t.console.assert(r instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(r.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(r.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=r.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=r.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var r=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=r>=1?r:1:l=r>=1?1:r,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var r=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),c=l/this.getAspectRatio();return new t.Rect(r.x-l/2,r.y-c/2,l,c)},goHome:function(r){return this.viewer&&this.viewer.raiseEvent("home",{immediately:r}),this.fitBounds(this.getHomeBounds(),r)},getMinZoom:function(){var r=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*r;return l},getMaxZoom:function(){var r=this.maxZoomLevel;return r||(r=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,r/=this._contentBounds.width),Math.max(r,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(r){t.console.assert(t.type(r)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(r){return this.getBoundsNoRotate(r).rotate(-this.getRotation())},getBoundsNoRotate:function(r){var l=this.getCenter(r),c=1/this.getZoom(r),p=c/this.getAspectRatio();return new t.Rect(l.x-c/2,l.y-p/2,c,p)},getBoundsWithMargins:function(r){return this.getBoundsNoRotateWithMargins(r).rotate(-this.getRotation(),this.getCenter(r))},getBoundsNoRotateWithMargins:function(r){var l=this.getBoundsNoRotate(r),c=this._containerInnerSize.x*this.getZoom(r);return l.x-=this._margins.left/c,l.y-=this._margins.top/c,l.width+=(this._margins.left+this._margins.right)/c,l.height+=(this._margins.top+this._margins.bottom)/c,l},getCenter:function(r){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),p,v,y,b,w,S,C,D;return r?l:this.zoomPoint?(p=this.pixelFromPoint(this.zoomPoint,!0),v=this.getZoom(),y=1/v,b=y/this.getAspectRatio(),w=new t.Rect(l.x-y/2,l.y-b/2,y,b),S=this._pixelFromPoint(this.zoomPoint,w),C=S.minus(p),D=C.divide(this._containerInnerSize.x*v),c.plus(D)):c},getZoom:function(r){return r?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(r){return Math.max(Math.min(r,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(r){var l=new t.Rect(r.x,r.y,r.width,r.height);if(!this.wrapHorizontal){var c=this.visibilityRatio*l.width,p=l.x+l.width,v=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,y=this._contentBoundsNoRotate.x-p+c,b=v-l.x-c;c>this._contentBoundsNoRotate.width?l.x+=(y+b)/2:b<0?l.x+=b:y>0&&(l.x+=y)}if(!this.wrapVertical){var w=this.visibilityRatio*l.height,S=l.y+l.height,C=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,D=this._contentBoundsNoRotate.y-S+w,H=C-l.y-w;w>this._contentBoundsNoRotate.height?l.y+=(D+H)/2:H<0?l.y+=H:D>0&&(l.y+=D)}return l},_raiseConstraintsEvent:function(r){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:r})},applyConstraints:function(r){var l=this.getZoom(),c=this._applyZoomConstraints(l);l!==c&&this.zoomTo(c,this.zoomPoint,r);var p=this.getBoundsNoRotate(),v=this._applyBoundaryConstraints(p);return this._raiseConstraintsEvent(r),(p.x!==v.x||p.y!==v.y||r)&&this.fitBounds(v.rotate(-this.getRotation()),r),this},ensureVisible:function(r){return this.applyConstraints(r)},_fitBounds:function(r,l){l=l||{};var c=l.immediately||!1,p=l.constraints||!1,v=this.getAspectRatio(),y=r.getCenter(),b=new t.Rect(r.x,r.y,r.width,r.height,r.degrees+this.getRotation()).getBoundingBox();b.getAspectRatio()>=v?b.height=b.width/v:b.width=b.height*v,b.x=y.x-b.width/2,b.y=y.y-b.height/2;var w=1/b.width;if(p){var S=b.getAspectRatio(),C=this._applyZoomConstraints(w);w!==C&&(w=C,b.width=1/w,b.x=y.x-b.width/2,b.height=b.width/S,b.y=y.y-b.height/2),b=this._applyBoundaryConstraints(b),y=b.getCenter(),this._raiseConstraintsEvent(c)}if(c)return this.panTo(y,!0),this.zoomTo(w,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var D=this.getBounds(),H=this.getZoom();if(H===0||Math.abs(w/H-1)<1e-8)return this.zoomTo(w,!0),this.panTo(y,c);b=b.rotate(-this.getRotation());var Q=b.getTopLeft().times(w).minus(D.getTopLeft().times(H)).divide(w-H);return this.zoomTo(w,Q,c)},fitBounds:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!0})},fitVertically:function(r){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,r)},fitHorizontally:function(r){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,r)},getConstrainedBounds:function(r){var l,c;return l=this.getBounds(r),c=this._applyBoundaryConstraints(l),c},panBy:function(r,l){var c=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(c.plus(r),l)},panTo:function(r,l){return l?(this.centerSpringX.resetTo(r.x),this.centerSpringY.resetTo(r.y)):(this.centerSpringX.springTo(r.x),this.centerSpringY.springTo(r.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:r,immediately:l}),this},zoomBy:function(r,l,c){return this.zoomTo(this.zoomSpring.target.value*r,l,c)},zoomTo:function(r,l,c){var p=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,c?this._adjustCenterSpringsForZoomPoint(function(){p.zoomSpring.resetTo(r)}):this.zoomSpring.springTo(r),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:r,refPoint:l,immediately:c}),this},setRotation:function(r){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=t.positiveModulo(r,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:r}),this)},getRotation:function(){return this.degrees},resize:function(r,l){var c=this.getBoundsNoRotate(),p=c,v;return this.containerSize.x=r.x,this.containerSize.y=r.y,this._updateContainerInnerSize(),l&&(v=r.x/this.containerSize.x,p.width=c.width*v,p.height=p.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:r,maintain:l}),this.fitBounds(p,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var r=this;this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,l},_adjustCenterSpringsForZoomPoint:function(r){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);r();var c=this.pixelFromPoint(this.zoomPoint,!0),p=c.minus(l),v=this.deltaPointsFromPixels(p,!0);this.centerSpringX.shiftBy(v.x),this.centerSpringY.shiftBy(v.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else r()},deltaPixelsFromPointsNoRotate:function(r,l){return r.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(r,l){return this.deltaPixelsFromPointsNoRotate(r.rotate(this.getRotation()),l)},deltaPointsFromPixelsNoRotate:function(r,l){return r.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(r,l){return this.deltaPointsFromPixelsNoRotate(r,l).rotate(-this.getRotation())},pixelFromPointNoRotate:function(r,l){return this._pixelFromPointNoRotate(r,this.getBoundsNoRotate(l))},pixelFromPoint:function(r,l){return this._pixelFromPoint(r,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(r,l){return r.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(r,l){return this._pixelFromPointNoRotate(r.rotate(this.getRotation(),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(r,l){var c=this.getBoundsNoRotate(l);return r.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/c.width).plus(c.getTopLeft())},pointFromPixel:function(r,l){return this.pointFromPixelNoRotate(r,l).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(r,l){var c=this._contentBoundsNoRotate.width;return new t.Point(r*this._contentSizeNoRotate.x/c,l*this._contentSizeNoRotate.x/c)},viewportToImageCoordinates:function(r,l){if(r instanceof t.Point)return this.viewportToImageCoordinates(r.x,r.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(c===1){var p=this.viewer.world.getItemAt(0);return p.viewportToImageCoordinates(r,l,!0)}}return this._viewportToImageDelta(r-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(r,l){var c=this._contentBoundsNoRotate.width;return new t.Point(r/this._contentSizeNoRotate.x*c,l/this._contentSizeNoRotate.x*c)},imageToViewportCoordinates:function(r,l){if(r instanceof t.Point)return this.imageToViewportCoordinates(r.x,r.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(c===1){var p=this.viewer.world.getItemAt(0);return p.imageToViewportCoordinates(r,l,!0)}}var v=this._imageToViewportDelta(r,l);return v.x+=this._contentBoundsNoRotate.x,v.y+=this._contentBoundsNoRotate.y,v},imageToViewportRectangle:function(r,l,c,p){var v=r;if(v instanceof t.Rect||(v=new t.Rect(r,l,c,p)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(y===1){var b=this.viewer.world.getItemAt(0);return b.imageToViewportRectangle(r,l,c,p,!0)}}var w=this.imageToViewportCoordinates(v.x,v.y),S=this._imageToViewportDelta(v.width,v.height);return new t.Rect(w.x,w.y,S.x,S.y,v.degrees)},viewportToImageRectangle:function(r,l,c,p){var v=r;if(v instanceof t.Rect||(v=new t.Rect(r,l,c,p)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(y===1){var b=this.viewer.world.getItemAt(0);return b.viewportToImageRectangle(r,l,c,p,!0)}}var w=this.viewportToImageCoordinates(v.x,v.y),S=this._viewportToImageDelta(v.width,v.height);return new t.Rect(w.x,w.y,S.x,S.y,v.degrees)},viewerElementToImageCoordinates:function(r){var l=this.pointFromPixel(r,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(r){var l=this.imageToViewportCoordinates(r);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(r);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(r){return this.pointFromPixel(r,!0)},viewportToViewerElementCoordinates:function(r){return this.pixelFromPoint(r,!0)},viewerElementToViewportRectangle:function(r){return t.Rect.fromSummits(this.pointFromPixel(r.getTopLeft(),!0),this.pointFromPixel(r.getTopRight(),!0),this.pointFromPixel(r.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(r){return t.Rect.fromSummits(this.pixelFromPoint(r.getTopLeft(),!0),this.pixelFromPoint(r.getTopRight(),!0),this.pixelFromPoint(r.getBottomLeft(),!0))},windowToViewportCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(r);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageZoom(r)}}var p=this._contentSizeNoRotate.x,v=this._containerInnerSize.x,y=this._contentBoundsNoRotate.width,b=v/p*y;return r*b},imageToViewportZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportZoom(r)}}var p=this._contentSizeNoRotate.x,v=this._containerInnerSize.x,y=this._contentBoundsNoRotate.width,b=p/v/y;return r*b},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(r){return this.flipped===r?this:(this.flipped=r,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:r}),this)}}}(s),function(t){t.TiledImage=function(P){var Z=this;t.console.assert(P.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(P.drawer,"[TiledImage] options.drawer is required"),t.console.assert(P.viewer,"[TiledImage] options.viewer is required"),t.console.assert(P.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(P.source,"[TiledImage] options.source is required"),t.console.assert(!P.clip||P.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=P.tileCache,delete P.tileCache,this._drawer=P.drawer,delete P.drawer,this._imageLoader=P.imageLoader,delete P.imageLoader,P.clip instanceof t.Rect&&(this._clip=P.clip.clone()),delete P.clip;var oe=P.x||0;delete P.x;var re=P.y||0;delete P.y,this.normHeight=P.source.dimensions.y/P.source.dimensions.x,this.contentAspectX=P.source.dimensions.x/P.source.dimensions.y;var he=1;P.width?(he=P.width,delete P.width,P.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete P.height)):P.height&&(he=P.height/this.normHeight,delete P.height);var ge=P.fitBounds;delete P.fitBounds;var Ie=P.fitBoundsPlacement||s.Placement.CENTER;delete P.fitBoundsPlacement;var je=P.degrees||0;delete P.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation},P),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:oe,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:re,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:he,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:je,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),ge&&this.fitBounds(ge,Ie,!0),this._drawingHandler=function(Qe){Z.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:Z},Qe))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(P){P!==this._fullyLoaded&&(this._fullyLoaded=P,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var P=this._xSpring.update(),Z=this._ySpring.update(),oe=this._scaleSpring.update(),re=this._degreesSpring.update();return P||Z||oe||re?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(P){return this.getBoundsNoRotate(P).rotate(this.getRotation(P),this._getRotationPoint(P))},getBoundsNoRotate:function(P){return P?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(P){var Z=this.getBoundsNoRotate(P);if(this._clip){var oe=P?this._worldWidthCurrent:this._worldWidthTarget,re=oe/this.source.dimensions.x,he=this._clip.times(re);Z=new t.Rect(Z.x+he.x,Z.y+he.y,he.width,he.height)}return Z.rotate(this.getRotation(P),this._getRotationPoint(P))},getTileBounds:function(P,Z,oe){var re=this.source.getNumTiles(P),he=(re.x+Z%re.x)%re.x,ge=(re.y+oe%re.y)%re.y,Ie=this.source.getTileBounds(P,he,ge);return this.getFlip()&&(Ie.x=1-Ie.x-Ie.width),Ie.x+=(Z-he)/re.x,Ie.y+=this._worldHeightCurrent/this._worldWidthCurrent*((oe-ge)/re.y),Ie},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var P=this.imageToWindowCoordinates(new t.Point(0,0)),Z=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(Z.x-P.x,Z.y-P.y)},_viewportToImageDelta:function(P,Z,oe){var re=oe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(P*(this.source.dimensions.x/re),Z*(this.source.dimensions.y*this.contentAspectX/re))},viewportToImageCoordinates:function(P,Z,oe){var re;return P instanceof t.Point?(oe=Z,re=P):re=new t.Point(P,Z),re=re.rotate(-this.getRotation(oe),this._getRotationPoint(oe)),oe?this._viewportToImageDelta(re.x-this._xSpring.current.value,re.y-this._ySpring.current.value):this._viewportToImageDelta(re.x-this._xSpring.target.value,re.y-this._ySpring.target.value)},_imageToViewportDelta:function(P,Z,oe){var re=oe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(P/this.source.dimensions.x*re,Z/this.source.dimensions.y/this.contentAspectX*re)},imageToViewportCoordinates:function(P,Z,oe){P instanceof t.Point&&(oe=Z,Z=P.y,P=P.x);var re=this._imageToViewportDelta(P,Z);return oe?(re.x+=this._xSpring.current.value,re.y+=this._ySpring.current.value):(re.x+=this._xSpring.target.value,re.y+=this._ySpring.target.value),re.rotate(this.getRotation(oe),this._getRotationPoint(oe))},imageToViewportRectangle:function(P,Z,oe,re,he){var ge=P;ge instanceof t.Rect?he=Z:ge=new t.Rect(P,Z,oe,re);var Ie=this.imageToViewportCoordinates(ge.getTopLeft(),he),je=this._imageToViewportDelta(ge.width,ge.height,he);return new t.Rect(Ie.x,Ie.y,je.x,je.y,ge.degrees+this.getRotation(he))},viewportToImageRectangle:function(P,Z,oe,re,he){var ge=P;P instanceof t.Rect?he=Z:ge=new t.Rect(P,Z,oe,re);var Ie=this.viewportToImageCoordinates(ge.getTopLeft(),he),je=this._viewportToImageDelta(ge.width,ge.height,he);return new t.Rect(Ie.x,Ie.y,je.x,je.y,ge.degrees-this.getRotation(he))},viewerElementToImageCoordinates:function(P){var Z=this.viewport.pointFromPixel(P,!0);return this.viewportToImageCoordinates(Z)},imageToViewerElementCoordinates:function(P){var Z=this.imageToViewportCoordinates(P);return this.viewport.pixelFromPoint(Z,!0)},windowToImageCoordinates:function(P){var Z=P.minus(s.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(Z)},imageToWindowCoordinates:function(P){var Z=this.imageToViewerElementCoordinates(P);return Z.plus(s.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(P){var Z=this._scaleSpring.current.value;return P=P.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((P.x-this._xSpring.current.value)/Z,(P.y-this._ySpring.current.value)/Z,P.width/Z,P.height/Z,P.degrees)},viewportToImageZoom:function(P){var Z=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Z*P},imageToViewportZoom:function(P){var Z=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return P/Z},setPosition:function(P,Z){var oe=this._xSpring.target.value===P.x&&this._ySpring.target.value===P.y;if(Z){if(oe&&this._xSpring.current.value===P.x&&this._ySpring.current.value===P.y)return;this._xSpring.resetTo(P.x),this._ySpring.resetTo(P.y),this._needsDraw=!0}else{if(oe)return;this._xSpring.springTo(P.x),this._ySpring.springTo(P.y),this._needsDraw=!0}oe||this._raiseBoundsChange()},setWidth:function(P,Z){this._setScale(P,Z)},setHeight:function(P,Z){this._setScale(P/this.normHeight,Z)},setCroppingPolygons:function(P){var Z=function(re){return re instanceof t.Point||typeof re.x=="number"&&typeof re.y=="number"},oe=function(re){return re.map(function(he){try{if(Z(he))return{x:he.x,y:he.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(P))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=P.map(function(re){return oe(re)})}catch(re){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(re),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(P,Z,oe){Z=Z||t.Placement.CENTER;var re=t.Placement.properties[Z],he=this.contentAspectX,ge=0,Ie=0,je=1,Qe=1;if(this._clip&&(he=this._clip.getAspectRatio(),je=this._clip.width/this.source.dimensions.x,Qe=this._clip.height/this.source.dimensions.y,P.getAspectRatio()>he?(ge=this._clip.x/this._clip.height*P.height,Ie=this._clip.y/this._clip.height*P.height):(ge=this._clip.x/this._clip.width*P.width,Ie=this._clip.y/this._clip.width*P.width)),P.getAspectRatio()>he){var rt=P.height/Qe,$e=0;re.isHorizontallyCentered?$e=(P.width-P.height*he)/2:re.isRight&&($e=P.width-P.height*he),this.setPosition(new t.Point(P.x-ge+$e,P.y-Ie),oe),this.setHeight(rt,oe)}else{var pt=P.width/je,ft=0;re.isVerticallyCentered?ft=(P.height-P.width/he)/2:re.isBottom&&(ft=P.height-P.width/he),this.setPosition(new t.Point(P.x-ge,P.y-Ie+ft),oe),this.setWidth(pt,oe)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(P){t.console.assert(!P||P instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),P instanceof t.Rect?this._clip=P.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(P){this.flipped=!!P,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(P){P!==this.opacity&&(this.opacity=P,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(P){this._preload=!!P,this._needsDraw=!0},getRotation:function(P){return P?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(P,Z){this._degreesSpring.target.value===P&&this._degreesSpring.isAtTargetValue()||(Z?this._degreesSpring.resetTo(P):this._degreesSpring.springTo(P),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(P){return this.getBoundsNoRotate(P).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(P){P!==this.compositeOperation&&(this.compositeOperation=P,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(P,Z){var oe=this._scaleSpring.target.value===P;if(Z){if(oe&&this._scaleSpring.current.value===P)return;this._scaleSpring.resetTo(P),this._updateForScale(),this._needsDraw=!0}else{if(oe)return;this._scaleSpring.springTo(P),this._updateForScale(),this._needsDraw=!0}oe||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var P=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),Z=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,oe=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(Z/this.minPixelRatio)/Math.log(2))));return oe=Math.max(oe,this.source.minLevel||0),P=Math.min(P,oe),{lowestLevel:P,highestLevel:oe}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var P=this.lastDrawn.pop();P.beingDrawn=!1}var Z=this.viewport,oe=this._viewportToTiledImageRectangle(Z.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var re=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(oe=oe.intersection(re),oe===null)return}for(var he=this._getLevelsInterval(),ge=he.lowestLevel,Ie=he.highestLevel,je=null,Qe=!1,rt=t.now(),$e=Ie;$e>=ge;$e--){var pt=!1,ft=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio($e),!0).x*this._scaleSpring.current.value;if($e===ge||!Qe&&ft>=this.minPixelRatio)pt=!0,Qe=!0;else if(!Qe)continue;var Tt=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio($e),!1).x*this._scaleSpring.current.value,xt=Z.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,At=this.immediateRender?1:xt,Ut=Math.min(1,(ft-.5)/.5),Jt=At/Math.abs(At-Tt);if(je=r(this,Qe,pt,$e,Ut,Jt,oe,rt,je),S(this.coverage,$e))break}G(this,this.lastDrawn),je&&!je.context2D?(p(this,je,rt),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(P,Z,oe){var re,he;this.wrapHorizontal?(re=t.positiveModulo(Z.x,1),he=t.positiveModulo(oe.x,1)):(re=Math.max(0,Z.x),he=Math.min(1,oe.x));var ge,Ie,je=1/this.source.aspectRatio;this.wrapVertical?(ge=t.positiveModulo(Z.y,je),Ie=t.positiveModulo(oe.y,je)):(ge=Math.max(0,Z.y),Ie=Math.min(je,oe.y));var Qe=this.source.getTileAtPoint(P,new t.Point(re,ge)),rt=this.source.getTileAtPoint(P,new t.Point(he,Ie)),$e=this.source.getNumTiles(P);return this.wrapHorizontal&&(Qe.x+=$e.x*Math.floor(Z.x),rt.x+=$e.x*Math.floor(oe.x)),this.wrapVertical&&(Qe.y+=$e.y*Math.floor(Z.y/je),rt.y+=$e.y*Math.floor(oe.y/je)),{topLeft:Qe,bottomRight:rt}}});function r(P,Z,oe,re,he,ge,Ie,je,Qe){var rt=Ie.getBoundingBox().getTopLeft(),$e=Ie.getBoundingBox().getBottomRight();P.viewer&&P.viewer.raiseEvent("update-level",{tiledImage:P,havedrawn:Z,level:re,opacity:he,visibility:ge,drawArea:Ie,topleft:rt,bottomright:$e,currenttime:je,best:Qe}),H(P.coverage,re),H(P.loadingCoverage,re);var pt=P._getCornerTiles(re,rt,$e),ft=pt.topLeft,Tt=pt.bottomRight,xt=P.source.getNumTiles(re),At=P.viewport.pixelFromPoint(P.viewport.getCenter());P.getFlip()&&(Tt.x+=1,P.wrapHorizontal||(Tt.x=Math.min(Tt.x,xt.x-1)));for(var Ut=ft.x;Ut<=Tt.x;Ut++)for(var Jt=ft.y;Jt<=Tt.y;Jt++){var et;if(P.getFlip()){var Dt=(xt.x+Ut%xt.x)%xt.x;et=Ut+xt.x-Dt-Dt-1}else et=Ut;Ie.intersection(P.getTileBounds(re,et,Jt))!==null&&(Qe=l(P,oe,Z,et,Jt,re,he,ge,At,xt,je,Qe))}return Qe}function l(P,Z,oe,re,he,ge,Ie,je,Qe,rt,$e,pt){var ft=c(re,he,ge,P,P.source,P.tilesMatrix,$e,rt,P._worldWidthCurrent,P._worldHeightCurrent),Tt=oe;P.viewer&&P.viewer.raiseEvent("update-tile",{tiledImage:P,tile:ft}),D(P.coverage,ge,re,he,!1);var xt=ft.loaded||ft.loading||C(P.loadingCoverage,ge,re,he);if(D(P.loadingCoverage,ge,re,he,xt),!ft.exists||(Z&&!Tt&&(C(P.coverage,ge,re,he)?D(P.coverage,ge,re,he,!0):Tt=!0),!Tt))return pt;if(b(ft,P.source.tileOverlap,P.viewport,Qe,je,P),!ft.loaded)if(ft.context2D)y(P,ft);else{var At=P._tileCache.getImageRecord(ft.cacheKey);if(At){var Ut=At.getImage();y(P,ft,Ut)}}if(ft.loaded){var Jt=w(P,ft,re,he,ge,Ie,$e);Jt&&(P._needsDraw=!0)}else ft.loading?P._tilesLoading++:xt||(pt=Q(pt,ft));return pt}function c(P,Z,oe,re,he,ge,Ie,je,Qe,rt){var $e,pt,ft,Tt,xt,At,Ut,Jt,et;return ge[oe]||(ge[oe]={}),ge[oe][P]||(ge[oe][P]={}),(!ge[oe][P][Z]||!ge[oe][P][Z].flipped!=!re.flipped)&&($e=(je.x+P%je.x)%je.x,pt=(je.y+Z%je.y)%je.y,ft=re.getTileBounds(oe,P,Z),Tt=he.getTileBounds(oe,$e,pt,!0),xt=he.tileExists(oe,$e,pt),At=he.getTileUrl(oe,$e,pt),re.loadTilesWithAjax?(Ut=he.getTileAjaxHeaders(oe,$e,pt),t.isPlainObject(re.ajaxHeaders)&&(Ut=t.extend({},re.ajaxHeaders,Ut))):Ut=null,Jt=he.getContext2D?he.getContext2D(oe,$e,pt):void 0,et=new t.Tile(oe,P,Z,ft,xt,At,Jt,re.loadTilesWithAjax,Ut,Tt),re.getFlip()?$e===0&&(et.isRightMost=!0):$e===je.x-1&&(et.isRightMost=!0),pt===je.y-1&&(et.isBottomMost=!0),et.flipped=re.flipped,ge[oe][P][Z]=et),et=ge[oe][P][Z],et.lastTouchTime=Ie,et}function p(P,Z,oe){Z.loading=!0,P._imageLoader.addJob({src:Z.url,loadWithAjax:Z.loadWithAjax,ajaxHeaders:Z.ajaxHeaders,crossOriginPolicy:P.crossOriginPolicy,ajaxWithCredentials:P.ajaxWithCredentials,callback:function(re,he,ge){v(P,Z,oe,re,he,ge)},abort:function(){Z.loading=!1}})}function v(P,Z,oe,re,he,ge){if(!re){t.console.log("Tile %s failed to load: %s - error: %s",Z,Z.url,he),P.viewer.raiseEvent("tile-load-failed",{tile:Z,tiledImage:P,time:oe,message:he,tileRequest:ge}),Z.loading=!1,Z.exists=!1;return}if(oe<P.lastResetTime){t.console.log("Ignoring tile %s loaded before reset: %s",Z,Z.url),Z.loading=!1;return}var Ie=function(){var je=P.source.getClosestLevel();y(P,Z,re,je,ge)};P._midDraw?window.setTimeout(Ie,1):Ie()}function y(P,Z,oe,re,he){var ge=0;function Ie(){return ge++,je}function je(){ge--,ge===0&&(Z.loading=!1,Z.loaded=!0,Z.context2D||P._tileCache.cacheTile({image:oe,tile:Z,cutoff:re,tiledImage:P}),P._needsDraw=!0)}P.viewer.raiseEvent("tile-loaded",{tile:Z,tiledImage:P,tileRequest:he,image:oe,getCompletionCallback:Ie}),Ie()()}function b(P,Z,oe,re,he,ge){var Ie=P.bounds.getTopLeft();Ie.x*=ge._scaleSpring.current.value,Ie.y*=ge._scaleSpring.current.value,Ie.x+=ge._xSpring.current.value,Ie.y+=ge._ySpring.current.value;var je=P.bounds.getSize();je.x*=ge._scaleSpring.current.value,je.y*=ge._scaleSpring.current.value;var Qe=oe.pixelFromPointNoRotate(Ie,!0),rt=oe.pixelFromPointNoRotate(Ie,!1),$e=oe.deltaPixelsFromPointsNoRotate(je,!0),pt=oe.deltaPixelsFromPointsNoRotate(je,!1),ft=rt.plus(pt.divide(2)),Tt=re.squaredDistanceTo(ft);Z||($e=$e.plus(new t.Point(1,1))),P.isRightMost&&ge.wrapHorizontal&&($e.x+=.75),P.isBottomMost&&ge.wrapVertical&&($e.y+=.75),P.position=Qe,P.size=$e,P.squaredDistance=Tt,P.visibility=he}function w(P,Z,oe,re,he,ge,Ie){var je=1e3*P.blendTime,Qe,rt;if(Z.blendStart||(Z.blendStart=Ie),Qe=Ie-Z.blendStart,rt=je?Math.min(1,Qe/je):1,P.alwaysBlend&&(rt*=ge),Z.opacity=rt,P.lastDrawn.push(Z),rt===1)D(P.coverage,he,oe,re,!0),P._hasOpaqueTile=!0;else if(Qe<je)return!0;return!1}function S(P,Z,oe,re){var he,ge,Ie,je;if(!P[Z])return!1;if(oe===void 0||re===void 0){he=P[Z];for(Ie in he)if(Object.prototype.hasOwnProperty.call(he,Ie)){ge=he[Ie];for(je in ge)if(Object.prototype.hasOwnProperty.call(ge,je)&&!ge[je])return!1}return!0}return P[Z][oe]===void 0||P[Z][oe][re]===void 0||P[Z][oe][re]===!0}function C(P,Z,oe,re){return oe===void 0||re===void 0?S(P,Z+1):S(P,Z+1,2*oe,2*re)&&S(P,Z+1,2*oe,2*re+1)&&S(P,Z+1,2*oe+1,2*re)&&S(P,Z+1,2*oe+1,2*re+1)}function D(P,Z,oe,re,he){if(!P[Z]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",Z);return}P[Z][oe]||(P[Z][oe]={}),P[Z][oe][re]=he}function H(P,Z){P[Z]={}}function Q(P,Z){return!P||Z.visibility>P.visibility||Z.visibility===P.visibility&&Z.squaredDistance<P.squaredDistance?Z:P}function G(P,Z){if(!(P.opacity===0||Z.length===0&&!P.placeholderFillStyle)){var oe=Z[0],re;oe&&(re=P.opacity<1||P.compositeOperation&&P.compositeOperation!=="source-over"||!P._isBottomItem()&&oe._hasTransparencyChannel());var he,ge,Ie=P.viewport.getZoom(!0),je=P.viewportToImageZoom(Ie);Z.length>1&&je>P.smoothTileEdgesMinZoom&&!P.iOSDevice&&P.getRotation(!0)%360===0&&t.supportsCanvas&&(re=!0,he=oe.getScaleForEdgeSmoothing(),ge=oe.getTranslationForEdgeSmoothing(he,P._drawer.getCanvasSize(!1),P._drawer.getCanvasSize(!0)));var Qe;re&&(he||(Qe=P.viewport.viewportToViewerElementRectangle(P.getClippedBounds(!0)).getIntegerBoundingBox(),P._drawer.viewer.viewport.getFlip()&&(P.viewport.degrees!==0||P.getRotation(!0)%360!==0)&&(Qe.x=P._drawer.viewer.container.clientWidth-(Qe.x+Qe.width)),Qe=Qe.times(t.pixelDensityRatio)),P._drawer._clear(!0,Qe)),he||(P.viewport.degrees!==0&&P._drawer._offsetForRotation({degrees:P.viewport.degrees,useSketch:re}),P.getRotation(!0)%360!==0&&P._drawer._offsetForRotation({degrees:P.getRotation(!0),point:P.viewport.pixelFromPointNoRotate(P._getRotationPoint(!0),!0),useSketch:re}),P.viewport.degrees===0&&P.getRotation(!0)%360===0&&P._drawer.viewer.viewport.getFlip()&&P._drawer._flip());var rt=!1;if(P._clip){P._drawer.saveContext(re);var $e=P.imageToViewportRectangle(P._clip,!0);$e=$e.rotate(-P.getRotation(!0),P._getRotationPoint(!0));var pt=P._drawer.viewportToDrawerRectangle($e);he&&(pt=pt.times(he)),ge&&(pt=pt.translate(ge)),P._drawer.setClip(pt,re),rt=!0}if(P._croppingPolygons){P._drawer.saveContext(re);try{var ft=P._croppingPolygons.map(function(Ut){return Ut.map(function(Jt){var et=P.imageToViewportCoordinates(Jt.x,Jt.y,!0).rotate(-P.getRotation(!0),P._getRotationPoint(!0)),Dt=P._drawer.viewportCoordToDrawerCoord(et);return he&&(Dt=Dt.times(he)),Dt})});P._drawer.clipWithPolygons(ft,re)}catch(Ut){t.console.error(Ut)}rt=!0}if(P.placeholderFillStyle&&P._hasOpaqueTile===!1){var Tt=P._drawer.viewportToDrawerRectangle(P.getBounds(!0));he&&(Tt=Tt.times(he)),ge&&(Tt=Tt.translate(ge));var xt=null;typeof P.placeholderFillStyle=="function"?xt=P.placeholderFillStyle(P,P._drawer.context):xt=P.placeholderFillStyle,P._drawer.drawRectangle(Tt,xt,re)}for(var At=Z.length-1;At>=0;At--)oe=Z[At],P._drawer.drawTile(oe,P._drawingHandler,re,he,ge),oe.beingDrawn=!0,P.viewer&&P.viewer.raiseEvent("tile-drawn",{tiledImage:P,tile:oe});rt&&P._drawer.restoreContext(re),he||(P.getRotation(!0)%360!==0&&P._drawer._restoreRotationChanges(re),P.viewport.degrees!==0&&P._drawer._restoreRotationChanges(re)),re&&(he&&(P.viewport.degrees!==0&&P._drawer._offsetForRotation({degrees:P.viewport.degrees,useSketch:!1}),P.getRotation(!0)%360!==0&&P._drawer._offsetForRotation({degrees:P.getRotation(!0),point:P.viewport.pixelFromPointNoRotate(P._getRotationPoint(!0),!0),useSketch:!1})),P._drawer.blendSketch({opacity:P.opacity,scale:he,translate:ge,compositeOperation:P.compositeOperation,bounds:Qe}),he&&(P.getRotation(!0)%360!==0&&P._drawer._restoreRotationChanges(!1),P.viewport.degrees!==0&&P._drawer._restoreRotationChanges(!1))),he||P.viewport.degrees===0&&P.getRotation(!0)%360===0&&P._drawer.viewer.viewport.getFlip()&&P._drawer._flip(),te(P,Z)}}function te(P,Z){if(P.debugMode)for(var oe=Z.length-1;oe>=0;oe--){var re=Z[oe];try{P._drawer.drawDebugInfo(re,Z.length,oe,P)}catch(he){t.console.error(he)}}}}(s),function(t){var r=function(c){t.console.assert(c,"[TileCache.cacheTile] options is required"),t.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=c.tile,this.tiledImage=c.tiledImage},l=function(c){t.console.assert(c,"[ImageRecord] options is required"),t.console.assert(c.image,"[ImageRecord] options.image is required"),this._image=c.image,this._tiles=[]};l.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var c=document.createElement("canvas");c.width=this._image.width,c.height=this._image.height,this._renderedContext=c.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(c){t.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=c},addTile:function(c){t.console.assert(c,"[ImageRecord.addTile] tile is required"),this._tiles.push(c)},removeTile:function(c){for(var p=0;p<this._tiles.length;p++)if(this._tiles[p]===c){this._tiles.splice(p,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",c)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(c){c=c||{},this._maxImageCacheCount=c.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(c){t.console.assert(c,"[TileCache.cacheTile] options is required"),t.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(c.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var p=c.cutoff||0,v=this._tilesLoaded.length,y=this._imagesLoaded[c.tile.cacheKey];if(y||(t.console.assert(c.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),y=this._imagesLoaded[c.tile.cacheKey]=new l({image:c.image}),this._imagesLoadedCount++),y.addTile(c.tile),c.tile.cacheImageRecord=y,this._imagesLoadedCount>this._maxImageCacheCount){for(var b=null,w=-1,S=null,C,D,H,Q,G,te,P=this._tilesLoaded.length-1;P>=0;P--)if(te=this._tilesLoaded[P],C=te.tile,!(C.level<=p||C.beingDrawn)){if(!b){b=C,w=P,S=te;continue}Q=C.lastTouchTime,D=b.lastTouchTime,G=C.level,H=b.level,(Q<D||Q===D&&G>H)&&(b=C,w=P,S=te)}b&&w>=0&&(this._unloadTile(S),v=w)}this._tilesLoaded[v]=new r({tile:c.tile,tiledImage:c.tiledImage})},clearTilesFor:function(c){t.console.assert(c,"[TileCache.clearTilesFor] tiledImage is required");for(var p,v=0;v<this._tilesLoaded.length;++v)p=this._tilesLoaded[v],p.tiledImage===c&&(this._unloadTile(p),this._tilesLoaded.splice(v,1),v--)},getImageRecord:function(c){return t.console.assert(c,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[c]},_unloadTile:function(c){t.console.assert(c,"[TileCache._unloadTile] tileRecord is required");var p=c.tile,v=c.tiledImage;p.unload(),p.cacheImageRecord=null;var y=this._imagesLoaded[p.cacheKey];y.removeTile(p),y.getTileCount()||(y.destroy(),delete this._imagesLoaded[p.cacheKey],this._imagesLoadedCount--),v.viewer.raiseEvent("tile-unloaded",{tile:p,tiledImage:v})}}}(s),function(t){t.World=function(r){var l=this;t.console.assert(r.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=r.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(c){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(r,l){if(t.console.assert(r,"[World.addItem] item is required"),t.console.assert(r instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var c=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(c,0,r)}else this._items.push(r);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,r.addHandler("bounds-change",this._delegatedFigureSizes),r.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:r})},getItemAt:function(r){return t.console.assert(r!==void 0,"[World.getItemAt] index is required"),this._items[r]},getIndexOfItem:function(r){return t.console.assert(r,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,r)},getItemCount:function(){return this._items.length},setItemIndex:function(r,l){t.console.assert(r,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var c=this.getIndexOfItem(r);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===c||c===-1||(this._items.splice(c,1),this._items.splice(l,0,r),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:r,previousIndex:c,newIndex:l}))},removeItem:function(r){t.console.assert(r,"[World.removeItem] item is required");var l=t.indexOf(this._items,r);l!==-1&&(r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(r))},removeAll:function(){this.viewer._cancelPendingImages();var r,l;for(l=0;l<this._items.length;l++)r=this._items[l],r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy();var c=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<c.length;l++)r=c[l],this._raiseRemoveItem(r)},resetItems:function(){for(var r=0;r<this._items.length;r++)this._items[r].reset()},update:function(){for(var r=!1,l=0;l<this._items.length;l++)r=this._items[l].update()||r;return r},draw:function(){for(var r=0;r<this._items.length;r++)this._items[r].draw();this._needsDraw=!1},needsDraw:function(){for(var r=0;r<this._items.length;r++)if(this._items[r].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(r){this._autoRefigureSizes=r,r&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(r){r=r||{};var l=r.immediately||!1,c=r.layout||t.DEFAULT_SETTINGS.collectionLayout,p=r.rows||t.DEFAULT_SETTINGS.collectionRows,v=r.columns||t.DEFAULT_SETTINGS.collectionColumns,y=r.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,b=r.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,w=y+b,S;!r.rows&&v?S=v:S=Math.ceil(this._items.length/p);var C=0,D=0,H,Q,G,te,P;this.setAutoRefigureSizes(!1);for(var Z=0;Z<this._items.length;Z++)Z&&Z%S===0&&(c==="horizontal"?(D+=w,C=0):(C+=w,D=0)),H=this._items[Z],Q=H.getBounds(),Q.width>Q.height?G=y:G=y*(Q.width/Q.height),te=G*(Q.height/Q.width),P=new t.Point(C+(y-G)/2,D+(y-te)/2),H.setPosition(P,l),H.setWidth(G,l),c==="horizontal"?C+=w:D+=w;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var r=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,c=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var p=this._items[0],v=p.getBounds();this._contentFactor=p.getContentSize().x/v.width;for(var y=p.getClippedBounds().getBoundingBox(),b=y.x,w=y.y,S=y.x+y.width,C=y.y+y.height,D=1;D<this._items.length;D++)p=this._items[D],v=p.getBounds(),this._contentFactor=Math.max(this._contentFactor,p.getContentSize().x/v.width),y=p.getClippedBounds().getBoundingBox(),b=Math.min(b,y.x),w=Math.min(w,y.y),S=Math.max(S,y.x+y.width),C=Math.max(C,y.y+y.height);this._homeBounds=new t.Rect(b,w,S-b,C-w),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==c||!this._homeBounds.equals(r)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(r){this.raiseEvent("remove-item",{item:r})}})}(s)})(A0);var dr=A0.exports;const Nt="http://www.w3.org/2000/svg",Lh=i=>{const s=i.getAttribute("class");return s?new Set(s.split(" ")):new Set},ji=(i,s)=>{const t=Lh(i);t.add(s),i.setAttribute("class",Array.from(t).join(" "))},Rl=(i,s)=>{const t=Lh(i);t.delete(s),t.size===0?i.removeAttribute("class"):i.setAttribute("class",Array.from(t).join(" "))},Hh=(i,s)=>Lh(i).has(s),fr=(i,s)=>{const t=i.selector("FragmentSelector");if(t!=null&&t.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:r}=t,l=r.includes(":")?r.substring(r.indexOf("=")+1,r.indexOf(":")):"pixel",c=r.includes(":")?r.substring(r.indexOf(":")+1):r.substring(r.indexOf("=")+1);let[p,v,y,b]=c.split(",").map(parseFloat);return l.toLowerCase()==="percent"&&(p=p*s.naturalWidth/100,v=v*s.naturalHeight/100,y=y*s.naturalWidth/100,b=b*s.naturalHeight/100),{x:p,y:v,w:y,h:b}}},UA=(i,s,t,r,l)=>({source:l==null?void 0:l.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${i},${s},${t},${r}`}}),VA=(i,s,t,r,l)=>{const c=i/l.naturalWidth*100,p=s/l.naturalHeight*100,v=t/l.naturalWidth*100,y=r/l.naturalHeight*100;return{source:l.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${c},${p},${v},${y}`}}},Lo=(i,s,t,r,l,c)=>(c==null?void 0:c.toLowerCase())==="percent"?VA(i,s,t,r,l):UA(i,s,t,r,l),Ol=(i,s,t,r,l)=>{i.setAttribute("x",s),i.setAttribute("y",t),i.setAttribute("width",r),i.setAttribute("height",l)},Dl=(i,s,t)=>{i.setAttribute("cx",s),i.setAttribute("cy",t),i.setAttribute("r",7)},R0=(i,s,t,r,l)=>{const c=document.createElementNS(Nt,"path");c.setAttribute("fill-rule","evenodd");const{naturalWidth:p,naturalHeight:v}=i;return c.setAttribute("d",`M0 0 h${p} v${v} h-${p} z M${s} ${t} h${r} v${l} h-${r} z`),c},zh=(i,s,t,r,l,c)=>{const{naturalWidth:p,naturalHeight:v}=s;i.setAttribute("d",`M0 0 h${p} v${v} h-${p} z M${t} ${r} h${l} v${c} h-${l} z`)},jh=(i,s,t,r)=>{const{x:l,y:c,w:p,h:v}=i.type==="Annotation"||i.type==="Selection"?fr(i,s):{x:i,y:s,w:t,h:r},y=document.createElementNS(Nt,"g");if(p===0&&v===0){ji(y,"a9s-point"),ji(y,"a9s-non-scaling"),y.setAttribute("transform-origin",`${l} ${c}`);const b=document.createElementNS(Nt,"circle"),w=document.createElementNS(Nt,"circle");w.setAttribute("class","a9s-inner"),Dl(w,l,c),b.setAttribute("class","a9s-outer"),Dl(b,l,c),y.appendChild(b),y.appendChild(w)}else{const b=document.createElementNS(Nt,"rect"),w=document.createElementNS(Nt,"rect");w.setAttribute("class","a9s-inner"),Ol(w,l,c,p,v),b.setAttribute("class","a9s-outer"),Ol(b,l,c,p,v),y.appendChild(b),y.appendChild(w)}return y},O0=i=>{const s=i.querySelector(".a9s-outer");if(s.nodeName==="rect"){const t=parseFloat(s.getAttribute("x")),r=parseFloat(s.getAttribute("y")),l=parseFloat(s.getAttribute("width")),c=parseFloat(s.getAttribute("height"));return{x:t,y:r,w:l,h:c}}else{const t=parseFloat(s.getAttribute("cx")),r=parseFloat(s.getAttribute("cy"));return{x:t,y:r,w:0,h:0}}},Uh=(i,s,t,r,l)=>{const c=i.querySelector(".a9s-inner"),p=i.querySelector(".a9s-outer");p.nodeName==="rect"?(Ol(c,s,t,r,l),Ol(p,s,t,r,l)):(Dl(c,s,t),Dl(p,s,t))},WA=(i,s)=>{const{w:t,h:r}=fr(i,s);return t*r};class GA{constructor(s,t,r,l,c){u(this,"dragTo",(p,v)=>{this.group.style.display=null,this.opposite=[p,v];const{x:y,y:b,w,h:S}=this.bbox;zh(this.mask,this.env.image,y,b,w,S),Uh(this.rect,y,b,w,S)}),u(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),u(this,"toSelection",()=>{const{x:p,y:v,w:y,h:b}=this.bbox;return new Ds(Lo(p,v,y,b,this.env.image,this.config.fragmentUnit))}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[s,t],this.opposite=[s,t],this.config=l,this.env=c,this.group=document.createElementNS(Nt,"g"),this.mask=R0(c.image,s,t,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=jh(s,t,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),r.appendChild(this.group)}get bbox(){const s=this.opposite[0]-this.anchor[0],t=this.opposite[1]-this.anchor[1];return{x:s>0?this.anchor[0]:this.opposite[0],y:t>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(s)),h:Math.max(1,Math.abs(t))}}get element(){return this.rect}}const qA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Vh=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,XA=i=>{let s=null;const t=(l,c)=>new MouseEvent(l,{screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,pageX:c.pageX,pageY:c.pageY,bubbles:!0}),r=l=>{const c=l.changedTouches[0],p=t(qA[l.type],c);c.target.dispatchEvent(p),l.preventDefault(),(l.type==="touchstart"||l.type==="touchmove")&&(s&&clearTimeout(s),s=setTimeout(()=>{const v=t("dblclick",c);c.target.dispatchEvent(v)},800)),l.type==="touchend"&&s&&clearTimeout(s)};i.addEventListener("touchstart",r,!0),i.addEventListener("touchmove",r,!0),i.addEventListener("touchend",r,!0),i.addEventListener("touchcancel",r,!0)},Ml="An implementation is missing",ZA=Vh();class D0 extends Aa{constructor(s,t,r){super(),u(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const c=this.svg.getBoundingClientRect(),{width:p,height:v}=this.svg.viewBox.baseVal;this.scale=Math.max(p/c.width,v/c.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),u(this,"getSVGPoint",c=>{const p=this.svg.createSVGPoint();if(ZA){const v=this.svg.getBoundingClientRect(),y=c.clientX-v.x,b=c.clientY-v.y,{left:w,top:S}=this.svg.getBoundingClientRect();return p.x=y+w,p.y=b+S,p.matrixTransform(this.g.getScreenCTM().inverse())}else return p.x=c.offsetX,p.y=c.offsetY,p.matrixTransform(this.g.getCTM().inverse())}),u(this,"drawHandle",(c,p)=>{const v=document.createElementNS(Nt,"g");v.setAttribute("class","a9s-handle");const y=document.createElementNS(Nt,"g"),b=D=>{const H=document.createElementNS(Nt,"circle");return H.setAttribute("cx",c),H.setAttribute("cy",p),H.setAttribute("r",D),H.setAttribute("transform-origin",`${c} ${p}`),H},w=this.config.handleRadius||6,S=b(w);S.setAttribute("class","a9s-handle-inner");const C=b(w+1);return C.setAttribute("class","a9s-handle-outer"),y.appendChild(C),y.appendChild(S),v.appendChild(y),v}),u(this,"setHandleXY",(c,p,v)=>{const y=c.querySelector(".a9s-handle-inner");y.setAttribute("cx",p),y.setAttribute("cy",v),y.setAttribute("transform-origin",`${p} ${v}`);const b=c.querySelector(".a9s-handle-outer");b.setAttribute("cx",p),b.setAttribute("cy",v),b.setAttribute("transform-origin",`${p} ${v}`)}),u(this,"getHandleXY",c=>{const p=c.querySelector(".a9s-handle-outer");return{x:parseFloat(p.getAttribute("cx")),y:parseFloat(p.getAttribute("cy"))}}),u(this,"scaleHandle",c=>{const p=c.querySelector(".a9s-handle-inner"),v=c.querySelector(".a9s-handle-outer"),y=this.scale*(this.config.handleRadius||6);p.setAttribute("r",y),v.setAttribute("r",y)}),this.svg=s.closest("svg"),this.g=s,this.config=t,this.env=r,this.scale=1;const{image:l}=r;(l instanceof Element||l instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Wh extends D0{constructor(s,t,r){super(s,t,r),u(this,"attachListeners",({mouseMove:l,mouseUp:c,dblClick:p})=>{l&&(this.mouseMove=v=>{const{x:y,y:b}=this.getSVGPoint(v);this.started||(this.emit("startSelection",{x:y,y:b}),this.started=!0),l(y,b,v)},this.svg.addEventListener("mousemove",this.mouseMove)),c&&(this.mouseUp=v=>{if(v.button!==0)return;const{x:y,y:b}=this.getSVGPoint(v);c(y,b,v)},document.addEventListener("mouseup",this.mouseUp)),p&&(this.dblClick=v=>{const{x:y,y:b}=this.getSVGPoint(v);p(y,b,v)},document.addEventListener("dblclick",this.dblClick))}),u(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),u(this,"start",(l,c)=>{const{x:p,y:v}=this.getSVGPoint(l);this.startDrawing(p,v,c,l)}),u(this,"startDrawing",l=>{throw new Error(Ml)}),u(this,"createEditableShape",(l,c)=>{throw new Error(Ml)}),this.started=!1}get isDrawing(){throw new Error(Ml)}}Wh.supports=i=>{throw new Error(Ml)};const M0="An implementation is missing";class B0 extends D0{constructor(s,t,r,l){super(t,r,l),u(this,"updateState",c=>{throw new Error(M0)}),this.annotation=s}get element(){throw new Error(M0)}}const YA=/firefox/i.test(navigator.userAgent),I0=(i,s,t,r,l)=>{i.setAttribute("width",r),i.setAttribute("height",l),YA?(i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("transform",`translate(${s}, ${t})`)):(i.setAttribute("x",s),i.setAttribute("y",t))},KA=(i,s)=>{const{x:t,y:r,width:l,height:c}=s.getBBox(),p=document.createElementNS(Nt,"svg");p.setAttribute("class","a9s-formatter-el"),I0(p,t,r,l,c);const v=document.createElementNS(Nt,"g");v.appendChild(i),p.appendChild(v),s.append(p)},Bl=(i,s,t)=>{if(!t)return i;const r=t.reduce((v,y)=>{const b=y(s);if(!b)return v;if(typeof b=="string"||b instanceof String)v.className=v.className?`${v.className} ${b}`:b;else if(b.nodeType===Node.ELEMENT_NODE)v.elements=v.elements?[...v.elements,b]:[b];else{const{className:w,style:S,element:C}=b;w&&(v.className=v.className?`${v.className} ${w}`:w),S&&(v.style=v.style?`${v.style} ${S}`:S),C&&(v.elements=v.elements?[...v.elements,C]:[C])}for(const w in b)b.hasOwnProperty(w)&&w.startsWith("data-")&&(v[w]=b[w]);return v},{}),{className:l,style:c,elements:p}=r;if(l&&ji(i,l),c){const v=i.querySelector(".a9s-outer"),y=i.querySelector(".a9s-inner");v&&y?(v.setAttribute("style","display:none"),y.setAttribute("style",c)):i.setAttribute("style",c)}p&&p.forEach(v=>KA(v,i));for(const v in r)r.hasOwnProperty(v)&&v.startsWith("data-")&&i.setAttribute(v,r[v])},Gh=(i,s,t,r,l)=>{const c=i.querySelector(".a9s-formatter-el");c&&I0(c,s,t,r,l)};class JA extends B0{constructor(s,t,r,l){super(s,t,r,l),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setSize",(b,w,S,C)=>{Uh(this.rectangle,b,w,S,C),zh(this.mask,this.env.image,b,w,S,C),Gh(this.elementGroup,b,w,S,C);const[D,H,Q,G]=this.handles;this.setHandleXY(D,b,w),this.setHandleXY(H,b+S,w),this.setHandleXY(Q,b+S,w+C),this.setHandleXY(G,b,w+C)}),u(this,"stretchCorners",(b,w,S)=>{const C=this.getHandleXY(w),D=S.x-C.x,H=S.y-C.y,Q=D>0?C.x:S.x,G=H>0?C.y:S.y,te=Math.abs(D),P=Math.abs(H);Uh(this.rectangle,Q,G,te,P),zh(this.mask,this.env.image,Q,G,te,P),Gh(this.elementGroup,Q,G,te,P),this.setHandleXY(this.handles[b],S.x,S.y);const Z=this.handles[(b+3)%4];this.setHandleXY(Z,C.x,S.y);const oe=this.handles[(b+5)%4];return this.setHandleXY(oe,S.x,C.y),{x:Q,y:G,w:te,h:P}}),u(this,"onGrab",b=>w=>{if(w.button!==0)return;this.grabbedElem=b;const S=this.getSVGPoint(w),{x:C,y:D}=O0(this.rectangle);this.mouseOffset={x:S.x-C,y:S.y-D}}),u(this,"onMouseMove",b=>{if(b.button!==0)return;const w=(S,C)=>S<0?0:S>C?C:S;if(this.grabbedElem){const S=this.getSVGPoint(b);if(this.grabbedElem===this.rectangle){const{w:C,h:D}=O0(this.rectangle),{naturalWidth:H,naturalHeight:Q}=this.env.image,G=w(S.x-this.mouseOffset.x,H-C),te=w(S.y-this.mouseOffset.y,Q-D);this.setSize(G,te,C,D),this.emit("update",Lo(G,te,C,D,this.env.image,this.config.fragmentUnit))}else{const C=this.handles.indexOf(this.grabbedElem),D=C<2?this.handles[C+2]:this.handles[C-2],{x:H,y:Q,w:G,h:te}=this.stretchCorners(C,D,S);this.emit("update",Lo(H,Q,G,te,this.env.image,this.config.fragmentUnit))}}}),u(this,"onMouseUp",b=>{this.grabbedElem=null,this.mouseOffset=null}),u(this,"updateState",b=>{const{x:w,y:S,w:C,h:D}=fr(b,this.env.image);this.setSize(w,S,C,D)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:c,y:p,w:v,h:y}=fr(s,l.image);this.containerGroup=document.createElementNS(Nt,"g"),this.mask=R0(l.image,c,p,v,y),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Nt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",s.id),this.rectangle=jh(c,p,v,y),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[c,p],[c+v,p],[c+v,p+y],[c,p+y]].map(b=>{const[w,S]=b,C=this.drawHandle(w,S);return C.addEventListener("mousedown",this.onGrab(C)),this.elementGroup.appendChild(C),C}),this.containerGroup.appendChild(this.elementGroup),t.appendChild(this.containerGroup),Bl(this.rectangle,s,r.formatters),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class Il extends Wh{constructor(s,t,r){super(s,t,r),u(this,"startDrawing",(l,c)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new GA(l,c,this.g,this.config,this.env)}),u(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(l,c)=>this.rubberband.dragTo(l,c)),u(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:l,height:c}=this.rubberband.getBoundingClientRect(),p=this.config.minSelectionWidth||4,v=this.config.minSelectionHeight||4;if(l>=p&&c>=v){const{element:y}=this.rubberband;y.annotation=this.rubberband.toSelection(),this.emit("complete",y)}else this.emit("cancel");this.stop()}),u(this,"createEditableShape",(l,c)=>new JA(l,this.g,{...this.config,formatters:c},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}Il.identifier="rect",Il.supports=i=>{const s=i.selector("FragmentSelector");return s==null?void 0:s.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const Nl=i=>{let s=0,t=i.length-1;for(let r=0;r<i.length;r++)s+=(i[t][0]+i[r][0])*(i[t][1]-i[r][1]),t=r;return Math.abs(.5*s)},QA=(i,s,t,r)=>{const l=i[0]-s,c=i[1]-t;return Math.sqrt(l*l+c*c)<=r},$A=(i,s,t,r,l,c)=>{const p=c||0,v=Math.cos(p),y=Math.sin(p),b=i[0]-s,w=i[1]-t,S=v*b+y*w,C=y*b-v*w;return S*S/(r*r)+C*C/(l*l)<=1},qh=(i,s)=>{const t=i[0],r=i[1];let l=!1;for(let c=0,p=s.length-1;c<s.length;p=c++){const v=s[c][0],y=s[c][1],b=s[p][0],w=s[p][1];y>r!=w>r&&t<(b-v)*(r-y)/(w-y)+v&&(l=!l)}return l},eR=(i,s)=>{for(let t of i)if(!qh(t,s))return!1;return!0},tR=(i,s,t,r,l,c)=>{const p=i[0],v=i[1],y=r-s,b=l-t,w=Math.sqrt(y*y+b*b);return Math.abs((p-s)*b-(v-t)*y)/w<=c},N0=i=>{const s=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()),t=[];let r=[];for(let l of s){const c=l.substring(0,1);if(c.toLowerCase()==="z")t.push([...r]),r=[];else{const p=l.substring(1).split(" ").map(w=>parseFloat(w.trim())),v=c===c.toUpperCase(),y=v?p[0]:p[0]+r[r.length-1][0],b=v?p[1]:p[1]+r[r.length-1][1];r.push([y,b])}}return r.length>0&&t.push([...r]),t},nR=i=>{const s=new XMLSerializer().serializeToString(i.documentElement).replace("<svg>",`<svg xmlns="${Nt}">`);return new DOMParser().parseFromString(s,"image/svg+xml").documentElement},F0=i=>{const s=r=>{Array.from(r.attributes).forEach(l=>{l.name.startsWith("on")&&r.removeAttribute(l.name)})},t=i.getElementsByTagName("script");return Array.from(t).reverse().forEach(r=>r.parentNode.removeChild(r)),s(i),Array.from(i.querySelectorAll("*")).forEach(s),i},Gr=i=>{const s=i.selector("SvgSelector");if(s){const t=new DOMParser,{value:r}=s,l=t.parseFromString(r,"image/svg+xml"),c=l.lookupPrefix(Nt),p=l.lookupNamespaceURI(null);return c||p?F0(l).firstChild:F0(nR(l)).firstChild}},L0=i=>{const s=Gr(i),t=document.createElementNS(Nt,"g"),r=s.cloneNode(!0);r.setAttribute("class","a9s-inner");const l=s.cloneNode(!0);return l.setAttribute("class","a9s-outer"),t.appendChild(l),t.appendChild(r),t},Xh=(i,s)=>{const t=i.querySelector(".a9s-inner").cloneNode(!0);t.removeAttribute("class"),t.removeAttribute("xmlns");let r=t.outerHTML||new XMLSerializer().serializeToString(t);return r=r.replace(` xmlns="${Nt}"`,""),{source:s==null?void 0:s.src,selector:{type:"SvgSelector",value:`<svg>${r}</svg>`}}},iR=i=>{const s=Gr(i),t=s.nodeName.toLowerCase();if(t==="polygon")return rR(s);if(t==="circle")return oR(s);if(t==="ellipse")return sR(s);if(t=="path")return aR(s);if(t=="line")return 0;throw`Unsupported SVG shape type: ${t}`},rR=i=>{const s=i.getAttribute("points").trim().split(" ").map(t=>t.split(",").map(r=>parseFloat(r.trim())));return Nl(s)},oR=i=>{const s=i.getAttribute("r");return s*s*Math.PI},sR=i=>{const s=i.getAttribute("rx"),t=i.getAttribute("ry");return s*t*Math.PI},aR=i=>{const s=N0(i);if(s.length==1)return Nl(s[0]);{const t=l=>s.find(c=>{if(l!==c)return eR(l,c)});let r=0;for(let l of s)t(l)?r-=Nl(l):r+=Nl(l);return r}};class H0{constructor(s,t){u(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),u(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=s.naturalWidth,this.h=s.naturalHeight,this.polygon=t,this.mask=document.createElementNS(Nt,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class lR{constructor(s,t,r){u(this,"setPoints",l=>{const c=l.map(p=>`${p[0]},${p[1]}`).join(" ");this.outer.setAttribute("points",c),this.inner.setAttribute("points",c)}),u(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),u(this,"dragTo",l=>{this.group.style.display=null,this.mousepos=l;const c=[...this.points,l];this.setPoints(c),this.mask.redraw()}),u(this,"addPoint",()=>{const[l,c]=this.mousepos,p=this.points[this.points.length-1];Math.pow(l-p[0],2)+Math.pow(c-p[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),u(this,"toSelection",()=>new Ds(Xh(this.group,this.env.image))),this.points=[s],this.env=r,this.mousepos=s,this.group=document.createElementNS(Nt,"g"),this.polygon=document.createElementNS(Nt,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Nt,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Nt,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new H0(r.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),t.appendChild(this.group)}get element(){return this.polygon}}const Zh=i=>{const s=i.querySelector(".a9s-inner").points,t=[];for(let r=0;r<s.numberOfItems;r++)t.push(s.getItem(r));return t},uR=i=>i.querySelector(".a9s-inner").getBBox();class cR extends B0{constructor(s,t,r,l){super(s,t,r,l),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setPoints",c=>{const p=D=>Math.round(10*D)/10,v=c.map(D=>`${p(D.x)},${p(D.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",v);const y=this.shape.querySelector(".a9s-outer");y.setAttribute("points",v),this.mask.redraw();const{x:b,y:w,width:S,height:C}=y.getBBox();Gh(this.elementGroup,b,w,S,C)}),u(this,"onGrab",c=>p=>{p.button===0&&(this.grabbedElem=c,this.grabbedAt=this.getSVGPoint(p))}),u(this,"onMouseMove",c=>{const p=(v,y,b)=>v+y<0?-v:v+y>b?b-v:y;if(this.grabbedElem){const v=this.getSVGPoint(c);if(this.grabbedElem===this.shape){const{x:y,y:b,width:w,height:S}=uR(this.shape),{naturalWidth:C,naturalHeight:D}=this.env.image,H=p(y,v.x-this.grabbedAt.x,C-w),Q=p(b,v.y-this.grabbedAt.y,D-S),G=Zh(this.shape).map(te=>({x:te.x+H,y:te.y+Q}));this.grabbedAt=v,this.setPoints(G),G.forEach((te,P)=>this.setHandleXY(this.handles[P],te.x,te.y)),this.emit("update",Xh(this.shape,this.env.image))}else{const y=this.handles.indexOf(this.grabbedElem),b=Zh(this.shape).map((w,S)=>S===y?v:w);this.setPoints(b),this.setHandleXY(this.handles[y],v.x,v.y),this.emit("update",Xh(this.shape,this.env.image))}}}),u(this,"onMouseUp",c=>{this.grabbedElem=null,this.grabbedAt=null}),u(this,"updateState",c=>{const p=Gr(c).getAttribute("points").split(" ").map(v=>{const[y,b]=v.split(",").map(w=>parseFloat(w.trim()));return{x:y,y:b}});this.setPoints(p),p.forEach((v,y)=>this.setHandleXY(this.handles[y],v.x,v.y))}),u(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Nt,"g"),this.shape=L0(s),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new H0(l.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Nt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",s.id),this.elementGroup.appendChild(this.shape),this.handles=Zh(this.shape).map(c=>{const p=this.drawHandle(c.x,c.y);return p.addEventListener("mousedown",this.onGrab(p)),this.elementGroup.appendChild(p),p}),this.containerGroup.appendChild(this.elementGroup),t.appendChild(this.containerGroup),Bl(this.shape,s,r.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Yh extends Wh{constructor(s,t,r){super(s,t,r),u(this,"startDrawing",(l,c,p)=>{this._isDrawing=!0,this._startOnSingleClick=p,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new lR([l,c],this.g,this.env)}),u(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(l,c)=>this.rubberband.dragTo([l,c])),u(this,"onMouseUp",()=>{const{width:l,height:c}=this.rubberband.getBoundingClientRect(),p=this.config.minSelectionWidth||4,v=this.config.minSelectionHeight||4;l>=p||c>=v?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),u(this,"onDblClick",()=>{this._isDrawing=!1;const l=this.rubberband.element;l.annotation=this.rubberband.toSelection(),this.emit("complete",l),this.stop()}),u(this,"createEditableShape",(l,c)=>new cR(l,this.g,{...this.config,formatters:c},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Yh.identifier="polygon",Yh.supports=i=>{var s;const t=i.selector("SvgSelector");if(t)return(s=t.value)==null?void 0:s.match(/^<svg.*<polygon/g)};class hR extends Aa{constructor(s,t,r){super(),u(this,"listTools",()=>this._registered.map(l=>l.identifier)),u(this,"registerTool",l=>{const c=l.identifier;this.listTools().includes(c)&&this.unregisterTool(c),this._registered.unshift(l)}),u(this,"unregisterTool",l=>this._registered=this._registered.filter(c=>c.identifier!==l)),u(this,"setCurrent",l=>{this._current&&this._current.destroy();const c=typeof l=="string"||l instanceof String?this._registered.find(p=>p.identifier===l):l;this._current=new c(this._g,this._config,this._env),this._current.on("startSelection",p=>this.emit("startSelection",p)),this._current.on("complete",p=>this.emit("complete",p)),this._current.on("cancel",p=>this.emit("cancel",p))}),u(this,"forAnnotation",l=>{var c;const[p,...v]=l.targets,y=(c=p.renderedVia)==null?void 0:c.name,b=y?this._registered.find(w=>w.identifier===y):this._registered.find(w=>w.supports(l));return b?new b(this._g,this._config,this._env):null}),this._g=s,this._config=t,this._env=r,this._registered=[Il,Yh],this.setCurrent(Il)}get current(){return this._current}}const dR={FragmentSelector:jh,SvgSelector:L0},fR={FragmentSelector:WA,SvgSelector:iR},z0=i=>{const s=i.targets[0];if(s)return Array.isArray(s.selector)?s.selector[0]:s.selector},Kh=(i,s)=>dR[z0(i).type](i,s),j0=(i,s)=>fR[z0(i).type](i,s);class pR{constructor(s){const t=document.createElementNS(Nt,"svg");t.setAttribute("class","a9s-osd-crosshair-container");const r=document.createElementNS(Nt,"g");r.setAttribute("class","a9s-crosshair"),t.appendChild(r);const l=document.createElementNS(Nt,"line"),c=document.createElementNS(Nt,"line");r.appendChild(l),r.appendChild(c),s.parentElement.appendChild(t);const p=v=>{const{offsetX:y,offsetY:b}=v,w=s.parentElement.offsetWidth,S=s.parentElement.offsetHeight;l.setAttribute("x1",0),l.setAttribute("y1",b),l.setAttribute("x2",w),l.setAttribute("y2",b),c.setAttribute("x1",y),c.setAttribute("y1",0),c.setAttribute("x2",y),c.setAttribute("y2",S)};s.addEventListener("pointermove",p),s.parentElement.addEventListener("pointermove",p)}}function gR(i,s,t,r,l){U0(i,s,t||0,r||i.length-1,l||mR)}function U0(i,s,t,r,l){for(;r>t;){if(r-t>600){var c=r-t+1,p=s-t+1,v=Math.log(c),y=.5*Math.exp(2*v/3),b=.5*Math.sqrt(v*y*(c-y)/c)*(p-c/2<0?-1:1),w=Math.max(t,Math.floor(s-p*y/c+b)),S=Math.min(r,Math.floor(s+(c-p)*y/c+b));U0(i,s,w,S,l)}var C=i[s],D=t,H=r;for(Ms(i,t,s),l(i[r],C)>0&&Ms(i,t,r);D<H;){for(Ms(i,D,H),D++,H--;l(i[D],C)<0;)D++;for(;l(i[H],C)>0;)H--}l(i[t],C)===0?Ms(i,t,H):(H++,Ms(i,H,r)),H<=s&&(t=H+1),s<=H&&(r=H-1)}}function Ms(i,s,t){var r=i[s];i[s]=i[t],i[t]=r}function mR(i,s){return i<s?-1:i>s?1:0}class vR{constructor(s=9){this._maxEntries=Math.max(4,s),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(s){let t=this.data;const r=[];if(!Ll(s,t))return r;const l=this.toBBox,c=[];for(;t;){for(let p=0;p<t.children.length;p++){const v=t.children[p],y=t.leaf?l(v):v;Ll(s,y)&&(t.leaf?r.push(v):Qh(s,y)?this._all(v,r):c.push(v))}t=c.pop()}return r}collides(s){let t=this.data;if(!Ll(s,t))return!1;const r=[];for(;t;){for(let l=0;l<t.children.length;l++){const c=t.children[l],p=t.leaf?this.toBBox(c):c;if(Ll(s,p)){if(t.leaf||Qh(s,p))return!0;r.push(c)}}t=r.pop()}return!1}load(s){if(!(s&&s.length))return this;if(s.length<this._minEntries){for(let r=0;r<s.length;r++)this.insert(s[r]);return this}let t=this._build(s.slice(),0,s.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(s){return s&&this._insert(s,this.data.height-1),this}clear(){return this.data=zo([]),this}remove(s,t){if(!s)return this;let r=this.data;const l=this.toBBox(s),c=[],p=[];let v,y,b;for(;r||c.length;){if(r||(r=c.pop(),y=c[c.length-1],v=p.pop(),b=!0),r.leaf){const w=yR(s,r.children,t);if(w!==-1)return r.children.splice(w,1),c.push(r),this._condense(c),this}!b&&!r.leaf&&Qh(r,l)?(c.push(r),p.push(v),v=0,y=r,r=r.children[0]):y?(v++,r=y.children[v],b=!1):r=null}return this}toBBox(s){return s}compareMinX(s,t){return s.minX-t.minX}compareMinY(s,t){return s.minY-t.minY}toJSON(){return this.data}fromJSON(s){return this.data=s,this}_all(s,t){const r=[];for(;s;)s.leaf?t.push(...s.children):r.push(...s.children),s=r.pop();return t}_build(s,t,r,l){const c=r-t+1;let p=this._maxEntries,v;if(c<=p)return v=zo(s.slice(t,r+1)),Ho(v,this.toBBox),v;l||(l=Math.ceil(Math.log(c)/Math.log(p)),p=Math.ceil(c/Math.pow(p,l-1))),v=zo([]),v.leaf=!1,v.height=l;const y=Math.ceil(c/p),b=y*Math.ceil(Math.sqrt(p));V0(s,t,r,b,this.compareMinX);for(let w=t;w<=r;w+=b){const S=Math.min(w+b-1,r);V0(s,w,S,y,this.compareMinY);for(let C=w;C<=S;C+=y){const D=Math.min(C+y-1,S);v.children.push(this._build(s,C,D,l-1))}}return Ho(v,this.toBBox),v}_chooseSubtree(s,t,r,l){for(;l.push(t),!(t.leaf||l.length-1===r);){let c=1/0,p=1/0,v;for(let y=0;y<t.children.length;y++){const b=t.children[y],w=Jh(b),S=xR(s,b)-w;S<p?(p=S,c=w<c?w:c,v=b):S===p&&w<c&&(c=w,v=b)}t=v||t.children[0]}return t}_insert(s,t,r){const l=r?s:this.toBBox(s),c=[],p=this._chooseSubtree(l,this.data,t,c);for(p.children.push(s),Is(p,l);t>=0&&c[t].children.length>this._maxEntries;)this._split(c,t),t--;this._adjustParentBBoxes(l,c,t)}_split(s,t){const r=s[t],l=r.children.length,c=this._minEntries;this._chooseSplitAxis(r,c,l);const p=this._chooseSplitIndex(r,c,l),v=zo(r.children.splice(p,r.children.length-p));v.height=r.height,v.leaf=r.leaf,Ho(r,this.toBBox),Ho(v,this.toBBox),t?s[t-1].children.push(v):this._splitRoot(r,v)}_splitRoot(s,t){this.data=zo([s,t]),this.data.height=s.height+1,this.data.leaf=!1,Ho(this.data,this.toBBox)}_chooseSplitIndex(s,t,r){let l,c=1/0,p=1/0;for(let v=t;v<=r-t;v++){const y=Bs(s,0,v,this.toBBox),b=Bs(s,v,r,this.toBBox),w=_R(y,b),S=Jh(y)+Jh(b);w<c?(c=w,l=v,p=S<p?S:p):w===c&&S<p&&(p=S,l=v)}return l||r-t}_chooseSplitAxis(s,t,r){const l=s.leaf?this.compareMinX:bR,c=s.leaf?this.compareMinY:wR,p=this._allDistMargin(s,t,r,l),v=this._allDistMargin(s,t,r,c);p<v&&s.children.sort(l)}_allDistMargin(s,t,r,l){s.children.sort(l);const c=this.toBBox,p=Bs(s,0,t,c),v=Bs(s,r-t,r,c);let y=Fl(p)+Fl(v);for(let b=t;b<r-t;b++){const w=s.children[b];Is(p,s.leaf?c(w):w),y+=Fl(p)}for(let b=r-t-1;b>=t;b--){const w=s.children[b];Is(v,s.leaf?c(w):w),y+=Fl(v)}return y}_adjustParentBBoxes(s,t,r){for(let l=r;l>=0;l--)Is(t[l],s)}_condense(s){for(let t=s.length-1,r;t>=0;t--)s[t].children.length===0?t>0?(r=s[t-1].children,r.splice(r.indexOf(s[t]),1)):this.clear():Ho(s[t],this.toBBox)}}function yR(i,s,t){if(!t)return s.indexOf(i);for(let r=0;r<s.length;r++)if(t(i,s[r]))return r;return-1}function Ho(i,s){Bs(i,0,i.children.length,s,i)}function Bs(i,s,t,r,l){l||(l=zo(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let c=s;c<t;c++){const p=i.children[c];Is(l,i.leaf?r(p):p)}return l}function Is(i,s){return i.minX=Math.min(i.minX,s.minX),i.minY=Math.min(i.minY,s.minY),i.maxX=Math.max(i.maxX,s.maxX),i.maxY=Math.max(i.maxY,s.maxY),i}function bR(i,s){return i.minX-s.minX}function wR(i,s){return i.minY-s.minY}function Jh(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Fl(i){return i.maxX-i.minX+(i.maxY-i.minY)}function xR(i,s){return(Math.max(s.maxX,i.maxX)-Math.min(s.minX,i.minX))*(Math.max(s.maxY,i.maxY)-Math.min(s.minY,i.minY))}function _R(i,s){const t=Math.max(i.minX,s.minX),r=Math.max(i.minY,s.minY),l=Math.min(i.maxX,s.maxX),c=Math.min(i.maxY,s.maxY);return Math.max(0,l-t)*Math.max(0,c-r)}function Qh(i,s){return i.minX<=s.minX&&i.minY<=s.minY&&s.maxX<=i.maxX&&s.maxY<=i.maxY}function Ll(i,s){return s.minX<=i.maxX&&s.minY<=i.maxY&&s.maxX>=i.minX&&s.maxY>=i.minY}function zo(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V0(i,s,t,r,l){const c=[s,t];for(;c.length;){if(t=c.pop(),s=c.pop(),t-s<=r)continue;const p=s+Math.ceil((t-s)/r/2)*r;gR(i,p,s,t,l),c.push(s,p,p,t)}}const $h=(i,s)=>{if(i.targets[0].selector.type==="FragmentSelector"){const{x:t,y:r,w:l,h:c}=fr(i);return{minX:t,minY:r,maxX:t+l,maxY:r+c}}else{const t=Kh(i,s),r=document.createElementNS(Nt,"svg");r.style.position="absolute",r.style.opacity=0,r.style.top=0,r.style.left=0,r.appendChild(t),document.body.appendChild(r);const{x:l,y:c,width:p,height:v}=t.getBBox();return document.body.removeChild(r),{minX:l,minY:c,maxX:l+p,maxY:c+v}}},ER=i=>{var s;const t=i.targets[0];return Array.isArray(t.selector)?t.selector[0].type:(s=t.selector)==null?void 0:s.type},SR=(i,s,t,r)=>{const l=Gr(t),c=l.nodeName.toLowerCase(),p=[i,s];if(c==="polygon"){const v=Array.from(l.points).map(y=>[y.x,y.y]);return qh(p,v)}else if(c==="circle"){const v=l.getAttribute("cx"),y=l.getAttribute("cy"),b=l.getAttribute("r");return QA(p,v,y,b)}else if(c==="ellipse"){const v=l.getAttribute("cx"),y=l.getAttribute("cy"),b=l.getAttribute("rx"),w=l.getAttribute("ry");return $A(p,v,y,b,w)}else{if(c==="path")return N0(l).find(v=>qh(p,v));if(c==="line"){const v=parseInt(l.getAttribute("x1")),y=parseInt(l.getAttribute("y1")),b=parseInt(l.getAttribute("x2")),w=parseInt(l.getAttribute("y2"));return tR(p,v,y,b,w,r)}else throw`Unsupported SVG shape type: ${c}`}};class TR{constructor(s){u(this,"clear",()=>this.spatial_index.clear()),u(this,"getAnnotationAt",(t,r,l)=>{const c=l?5/l:5,p=this.spatial_index.search({minX:t-c,minY:r-c,maxX:t+c,maxY:r+c}).map(v=>v.annotation).filter(v=>{const y=ER(v);if(y==="FragmentSelector")return!0;if(y==="SvgSelector")return SR(t,r,v,c);throw`Unsupported selector type: ${y}`});if(p.length>0)return p.sort((v,y)=>j0(v,this.env.image)-j0(y,this.env.image)),p[0]}),u(this,"getAnnotationsIntersecting",t=>{const r=t.minX,l=r?t:$h(t,this.env.image),c=this.spatial_index.search(l).map(p=>p.annotation);return r?c:c.filter(p=>!p.isEqual(t))}),u(this,"insert",t=>{(Array.isArray(t)?t:[t]).forEach(r=>{this.spatial_index.insert({...$h(r,this.env.image),annotation:r})})}),u(this,"getBounds",t=>this.getBounds(t,this.env.image)),u(this,"remove",t=>{const r={...$h(t,this.env.image),annotation:t};this.spatial_index.remove(r,(l,c)=>l.annotation.id===c.annotation.id)}),this.env=s,s.store=this,this.spatial_index=new vR}}const W0=(i,s)=>{const t=(Hh(s,".a9s-annotation")?s:s.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:r}=i.drawer,l=r.getBoundingClientRect(),c=r.width/l.width,p=r.height/l.height,v=t.x-l.x,y=t.y-l.y,{width:b,height:w}=t,S=document.createElement("CANVAS"),C=S.getContext("2d");S.width=b,S.height=w,C.drawImage(r,v*c,y*p,b*c,w*p,0,0,b,w);const D=i.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(v,y)),H=i.viewport.viewportToImageZoom(i.viewport.getZoom());return{snippet:S,transform:Q=>{const G=D.x+Q[0]/c/H,te=D.y+Q[1]/p/H;return[G,te]}}},CR=Vh();class G0 extends Aa{constructor(s){super(),u(this,"_getShapeAt",r=>{const l=y=>{const b=this.svg.createSVGPoint();if(window.TouchEvent&&y instanceof TouchEvent){const w=this.svg.getBoundingClientRect(),S=y.touches[0],C=S.clientX-w.x,D=S.clientY-w.y,{left:H,top:Q}=this.svg.getBoundingClientRect();return b.x=C+H,b.y=D+Q,b.matrixTransform(this.g.getScreenCTM().inverse())}else return b.x=y.offsetX,b.y=y.offsetY,b.matrixTransform(this.g.getCTM().inverse())},{x:c,y:p}=l(r),v=this.store.getAnnotationAt(c,p,this.currentScale());if(v)return this.findShape(v)}),u(this,"_initDrawingTools",r=>{var l;let c=!1,p=!1,v=!1;this.tools=new hR(this.g,this.config,this.env),this.tools.on("complete",w=>{p=!1,this.onDrawingComplete(w)}),this.mouseTracker=new dr.MouseTracker({element:this.svg,preProcessEventHandler:w=>{this.mouseTracker.enabled||(w.preventDefault=!1,w.preventGesture=!0),this.selectedShape&&w.eventType==="wheel"&&(w.preventDefault=!1,this.viewer.canvas.dispatchEvent(new w.originalEvent.constructor(w.eventType,w.originalEvent)))},pressHandler:w=>{this.tools.current.isDrawing||(this.tools.current.start(w.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),r||this.scaleTool(this.tools.current))},moveHandler:w=>{if(this.tools.current.isDrawing){const{x:S,y:C}=this.tools.current.getSVGPoint(w.originalEvent);!w.buttons||!p?(w.originalEvent.stopPropagation(),this.tools.current.onMouseMove(S,C,w.originalEvent),c||(this.emit("startSelection",{x:S,y:C}),c=!0)):(!v&&this.tools.current.onDragStart&&this.tools.current.onDragStart(S,C,w.originalEvent),v=!0)}},releaseHandler:w=>{if(this.tools.current.isDrawing){p=!0;const{x:S,y:C}=this.tools.current.getSVGPoint(w.originalEvent);this.tools.current.onMouseUp(S,C,w.originalEvent),v&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}c=!1,v=!1}});const y=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",b=(l=this.config.hotkey)==null?void 0:l.inverted;this.mouseTracker.enabled=b,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=w=>{if(w.key.toLowerCase()===y&&!this.selectedShape){const S=!this.readOnly&&!b;this.mouseTracker.enabled=S,this.tools.current.enabled=S}},this.onKeyUp=w=>{w.key.toLowerCase()===y&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=b,this.tools.current.enabled=b)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),u(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",l=>{var c,p;if(!((c=this.tools)!=null&&c.current.isDrawing)&&!l.target.closest(".a9s-annotation.editable.selected")){const v=this._getShapeAt(l);if((v==null?void 0:v.annotation)!==((p=this.hoveredShape)==null?void 0:p.annotation)){if(this.hoveredShape){const y=this.hoveredShape.element||this.hoveredShape;Rl(y,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}v&&(ji(v,"hover"),this.emit("mouseEnterAnnotation",v.annotation,v))}this.hoveredShape=v}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(Rl(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let r=null;this.viewer.addHandler("canvas-press",()=>r=new Date().getTime()),this.viewer.addHandler("canvas-click",l=>{var c;const{originalEvent:p}=l;if(!(((c=this.tools.current)==null?void 0:c.isDrawing)||this.disableSelect)&&new Date().getTime()-r<250){const v=p.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(p);v?(l.preventDefaultAction=!0,this.selectShape(v)):v||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),u(this,"_lazy",r=>{if(this.viewer.world.getItemAt(0))r();else{const l=()=>{r(),this.viewer.removeHandler("open",l),this.viewer.world.removeHandler("add-item",l)};this.viewer.addHandler("open",l),this.viewer.world.addHandler("add-item",l)}}),u(this,"_refreshNonScalingAnnotations",()=>{const r=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(l=>l.setAttribute("transform",`scale(${1/r})`))}),u(this,"addAnnotation",(r,l)=>{const c=l||this.g,p=Kh(r,this.env.image);return ji(p,"a9s-annotation"),p.setAttribute("data-id",r.id),p.annotation=r,c.appendChild(p),Bl(p,r,this.formatters),this.scaleFormatterElements(p),p}),u(this,"addDrawingTool",r=>this.tools.registerTool(r)),u(this,"addOrUpdateAnnotation",(r,l)=>{var c;const p=(c=this.selectedShape)==null?void 0:c.annotation;(p===r||(p==null?void 0:p.isSelection)||p==l)&&this.deselect(),l&&this.removeAnnotation(r),this.removeAnnotation(r);const v=this.addAnnotation(r);Hh(v,"a9s-non-scaling")&&v.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(r)}),u(this,"currentScale",()=>{const r=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*r/this.viewer.world.getContentFactor()}),u(this,"deselect",()=>{var r;if((r=this.tools)==null||r.current.stop(),this.selectedShape){const{annotation:l}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!l.isSelection){const c=this.addAnnotation(l);Hh(c,"a9s-non-scaling")&&c.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else Rl(this.selectedShape,"selected");this.selectedShape=null}}),u(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),u(this,"findShape",r=>{const l=r!=null&&r.id?r.id:r;return this.g.querySelector(`.a9s-annotation[data-id="${l}"]`)}),u(this,"_fit",(r,l,c)=>{const p=this.findShape(r);if(p){const v=l?typeof l=="boolean"?l:l.immediately:!1,y=(l==null?void 0:l.padding)||0,b=this.viewer.container.getBoundingClientRect(),w=Math.min(2*y/b.width,2*y/b.height),{x:S,y:C,width:D,height:H}=p.getBBox(),Q=S-w*D,G=C-w*H,te=D+2*w*D,P=H+2*w*H,Z=this.viewer.viewport.imageToViewportRectangle(Q,G,te,P);this.viewer.viewport[c](Z,v)}}),u(this,"fitBounds",(r,l)=>this._fit(r,l,"fitBounds")),u(this,"fitBoundsWithConstraints",(r,l)=>this._fit(r,l,"fitBoundsWithConstraints")),u(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(r=>r.annotation)),u(this,"getAnnotationsIntersecting",r=>{const l=r.id?r:this.findShape(r).annotation;return this.store.getAnnotationsIntersecting(l)}),u(this,"getImageSnippetById",r=>{const l=this.findShape(r);if(l)return W0(this.viewer,l)}),u(this,"getSelectedImageSnippet",()=>{var r;if(this.selectedShape){const l=(r=this.selectedShape.element)!=null?r:this.selectedShape;return W0(this.viewer,l)}}),u(this,"init",r=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(l=>this.g.removeChild(l)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),r.forEach(l=>this.addAnnotation(l)),console.log("Indexing..."),this.store.insert(r),console.timeEnd("Took"),this.resize()})}),u(this,"listDrawingTools",()=>this.tools.listTools()),u(this,"overrideId",(r,l)=>{const c=this.findShape(r);c.setAttribute("data-id",l);const{annotation:p}=c,v=p.clone({id:l});return c.annotation=v,this.store.remove(p),this.store.insert(v),v}),u(this,"panTo",(r,l)=>{const c=this.findShape(r);if(c){const{top:p,left:v,width:y,height:b}=c.getBoundingClientRect(),w=v+y/2+window.scrollX,S=p+b/2+window.scrollY,C=this.viewer.viewport.windowToViewportCoordinates(new dr.Point(w,S));this.viewer.viewport.panTo(C,l)}}),u(this,"removeAnnotation",r=>{var l,c;const p=r.type?r.id:r;((l=this.selectedShape)==null?void 0:l.annotation.id)===p&&this.deselect();const v=this.findShape(r);if(v){const{annotation:y}=v;((c=this.selectedShape)==null?void 0:c.annotation)===y&&this.deselect(),v.parentNode.removeChild(v),this.store.remove(y)}}),u(this,"removeDrawingTool",r=>{var l;return(l=this.tools)==null?void 0:l.unregisterTool(r)}),u(this,"scaleFormatterElements",r=>{const l=1/this.currentScale();if(r){const c=r.querySelector(".a9s-formatter-el");c&&c.firstChild.setAttribute("transform",`scale(${l})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(c=>c.firstChild.setAttribute("transform",`scale(${l})`))}),u(this,"scaleTool",r=>{if(r){const l=1/this.currentScale();r.scale=l,r.onScaleChanged&&r.onScaleChanged(l)}}),u(this,"selectAnnotation",(r,l)=>{this.selectedShape&&this.deselect();const c=this.findShape(r);if(c){this.selectShape(c,l);const p=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:c.annotation,element:p}}else this.deselect()}),u(this,"selectShape",(r,l)=>{var c;if(!l&&!r.annotation.isSelection&&this.emit("clickAnnotation",r.annotation,r),((c=this.selectedShape)==null?void 0:c.annotation)===r.annotation)return;this.selectedShape&&this.selectedShape.annotation!==r.annotation&&this.deselect();const{annotation:p}=r;if(this.readOnly||p.readOnly||this.headless)this.selectedShape=r,ji(r,"selected"),l||this.emit("select",{annotation:p,element:r,skipEvent:l});else{const v=this.tools.forAnnotation(p);if(v){setTimeout(()=>{r.parentNode.removeChild(r),l||this.emit("select",{annotation:p,element:this.selectedShape.element})},1),this.selectedShape=v.createEditableShape(p,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=p;const y=new dr.MouseTracker({element:this.svg,preProcessEventHandler:b=>{b.stopPropagation=!0,b.preventDefault=!1,b.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,y.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,y.setTracking(!1)}),this.selectedShape.mouseTracker=y,this.selectedShape.on("update",b=>this.emit("updateTarget",this.selectedShape.element,b))}else this.selectedShape=r,l||this.emit("select",{annotation:p,element:this.selectedShape})}}),u(this,"setDrawingEnabled",r=>{if(this.mouseTracker){const l=r&&!this.readOnly;this.mouseTracker.enabled=l,this.mouseTracker.setTracking(l),this.tools.current&&(this.tools.current.enabled=l)}}),u(this,"setDrawingTool",r=>{var l;this.tools&&((l=this.tools.current)==null||l.stop(),this.tools.setCurrent(r))}),u(this,"setVisible",r=>{r?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),u(this,"stopDrawing",()=>{var r,l;return(l=(r=this.tools)==null?void 0:r.current)==null?void 0:l.stop()}),this.viewer=s.viewer,this.config=s.config,this.env=s.env,this.readOnly=s.config.readOnly,this.headless=s.config.headless,s.config.formatter?this.formatters=[s.config.formatter]:s.config.formatters&&(this.formatters=Array.isArray(s.config.formatters)?s.config.formatters:[s.config.formatters]),this.disableSelect=s.config.disableSelect,this.drawOnSingleClick=s.config.drawOnSingleClick,this.svg=document.createElementNS(Nt,"svg"),CR?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),XA(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Nt,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const t=()=>{const{x:r,y:l}=this.viewer.world.getItemAt(0).source.dimensions,c=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:c,naturalWidth:r,naturalHeight:l},s.config.crosshair&&(this.crosshair||(this.crosshair=new pR(this.svg),ji(this.svg,"no-cursor"))),this.loaded||this.emit("load",c),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",t),this.viewer.world.addHandler("add-item",t),this.viewer.world.getItemAt(0)&&t(),this.store=new TR(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var s;const t=this.viewer.viewport.getFlip(),r=this.viewer.viewport.pixelFromPoint(new dr.Point(0,0),!0);t&&(r.x=this.viewer.viewport._containerInnerSize.x-r.x);const l=this.currentScale(),c=t?-l:l,p=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${r.x}, ${r.y}) scale(${c}, ${l}) rotate(${p})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(s=this.tools)!=null&&s.current&&this.scaleTool(this.tools.current)}}class PR extends G0{constructor(s){super(s),u(this,"onDrawingComplete",t=>{var r;this.mouseTracker.enabled=(r=this.config.hotkey)==null?void 0:r.inverted,this.selectShape(t),this.emit("createSelection",t.annotation)}),this._initDrawingTools()}}const ed=i=>{const s=i.viewport.viewportToImageRectangle(i.viewport.getBounds(!0)),t=i.viewport.getContainerSize().x,r=i.viewport.getZoom(!0)*t/i.world.getContentFactor();return{extent:s,scale:r}},kR=i=>{var s;const t=i.targets[0];return t?Array.isArray(t.selector)?t.selector[0].type:(s=t.selector)==null?void 0:s.type:null},q0=(i,s)=>{const{extent:t,scale:r}=ed(i),{selector:l}=s,c=Wr.create({target:s});if(l.type==="SvgSelector"){const p=Gr(c),v=p.nodeName.toLowerCase();let y=null;if(v==="polygon")y=AR(p,t,r);else if(v==="circle")y=RR(p,t,r);else if(v==="ellipse")y=OR(p,t,r);else if(v==="path")y=DR(p,t,r);else throw`Unsupported SVG shape type: ${v}`;let b=y.outerHTML||new XMLSerializer().serializeToString(y);return b=b.replace(` xmlns="${Nt}"`,""),{...s,selector:{type:"SvgSelector",value:`<svg>${b}</svg>`}}}else if(l.type==="FragmentSelector"){const{x:p,y:v,w:y,h:b}=fr(c),w=t.x+p/r,S=t.y+v/r,C=y/r,D=b/r;return y===0&&b===0?{...Lo(w,S,C,D),renderedVia:{name:"point"}}:Lo(w,S,C,D)}else throw`Unsupported selector type: ${l.type}`},AR=(i,s,t)=>{const r=Array.from(i.points).map(l=>{const c=s.x+l.x/t,p=s.y+l.y/t;return c+","+p}).join(" ");return i.setAttribute("points",r),i},RR=(i,s,t)=>{const r=parseFloat(i.getAttribute("cx")),l=parseFloat(i.getAttribute("cy")),c=parseFloat(i.getAttribute("r"));return i.setAttribute("cx",s.x+r/t),i.setAttribute("cy",s.y+l/t),i.setAttribute("r",c/t),i},OR=(i,s,t)=>{const r=parseFloat(i.getAttribute("cx")),l=parseFloat(i.getAttribute("cy")),c=parseFloat(i.getAttribute("rx")),p=parseFloat(i.getAttribute("ry"));return i.setAttribute("cx",s.x+r/t),i.setAttribute("cy",s.y+l/t),i.setAttribute("rx",c/t),i.setAttribute("ry",p/t),i},DR=(i,s,t)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()).map(l=>{const c=l.substring(0,1);if(c.toLowerCase()==="z")return c;{const p=l.substring(1).split(" ").map(w=>parseFloat(w.trim())),v=c===c.toUpperCase(),y=v?s.x+p[0]/t:p[0]/t,b=v?s.y+p[1]/t:p[1]/t;return c+" "+y+" "+b}}).join(" ");return i.setAttribute("d",r),i},X0=(i,s)=>{const{extent:t,scale:r}=ed(i),l=s.selector("FragmentSelector");if(s.selector("SvgSelector")){const c=Gr(s),p=c.nodeName.toLowerCase();let v=null;if(p==="polygon")v=MR(c,t,r);else if(p==="circle")v=BR(c,t,r);else if(p==="ellipse")v=IR(c,t,r);else if(p==="path")v=NR(c,t,r);else throw`Unsupported SVG shape type: ${p}`;let y=v.outerHTML||new XMLSerializer().serializeToString(v);y=y.replace(` xmlns="${Nt}"`,"");const b={selector:{type:"SvgSelector",value:`<svg>${y}</svg>`}};return s.clone({target:b})}else if(l){const{x:c,y:p,w:v,h:y}=fr(s),b=(c-t.x)*r,w=(p-t.y)*r,S=Lo(b,w,v*r,y*r);return s.clone({target:S})}},MR=(i,s,t)=>{const r=Array.from(i.points).map(l=>{const c=t*(l.x-s.x),p=t*(l.y-s.y);return c+","+p}).join(" ");return i.setAttribute("points",r),i},BR=(i,s,t)=>{const r=i.getAttribute("cx"),l=i.getAttribute("cy"),c=i.getAttribute("r");return i.setAttribute("cx",t*(r-s.x)),i.setAttribute("cy",t*(l-s.y)),i.setAttribute("r",c*t),i},IR=(i,s,t)=>{const r=i.getAttribute("cx"),l=i.getAttribute("cy"),c=i.getAttribute("rx"),p=i.getAttribute("ry");return i.setAttribute("cx",t*(r-s.x)),i.setAttribute("cy",t*(l-s.y)),i.setAttribute("rx",c*t),i.setAttribute("ry",p*t),i},NR=(i,s,t)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(l=>l.trim()).map(l=>{const c=l.substring(0,1);if(c.toLowerCase()==="z")return c;{const p=l.substring(1).split(" ").filter(w=>w).map(w=>parseFloat(w.trim())),v=c===c.toUpperCase(),y=v?t*(p[0]-s.x):t*p[0],b=v?t*(p[1]-s.y):t*p[1];return c+" "+y+" "+b}}).join(" ");return i.setAttribute("d",r),i},Z0=(i,s)=>{const{extent:t,scale:r}=ed(i),l=kR(s.annotation);if(l==="FragmentSelector")FR(s,t,r);else if(l==="SvgSelector")LR(s,t,r);else throw`Unsupported selector type type: ${l}`;const c=s.querySelector(".a9s-formatter-el");if(c){const{x:p,y:v}=s.querySelector(".a9s-inner").getBBox();c.setAttribute("x",p),c.setAttribute("y",v)}},FR=(i,s,t)=>{const{x:r,y:l,w:c,h:p}=fr(i.annotation),v=i.querySelector(".a9s-outer"),y=i.querySelector(".a9s-inner"),b=t*(r-s.x),w=t*(l-s.y);c===0&&p===0?[v,y].forEach(S=>{S.setAttribute("cx",b),S.setAttribute("cy",w)}):[v,y].forEach(S=>{S.setAttribute("x",b),S.setAttribute("y",w),S.setAttribute("width",c*t),S.setAttribute("height",p*t)})},LR=(i,s,t)=>{const r=Gr(i.annotation),l=r.nodeName.toLowerCase();if(l==="polygon")HR(i,r,s,t);else if(l==="circle")zR(i,r,s,t);else if(l==="ellipse")jR(i,r,s,t);else if(l==="path")UR(i,r,s,t);else throw`Unsupported SVG shape type: ${l}`},HR=(i,s,t,r)=>{const l=Array.from(s.points).map(c=>{const p=r*(c.x-t.x),v=r*(c.y-t.y);return p+","+v}).join(" ");i.querySelector(".a9s-outer").setAttribute("points",l),i.querySelector(".a9s-inner").setAttribute("points",l)},zR=(i,s,t,r)=>{const l=r*(s.getAttribute("cx")-t.x),c=r*(s.getAttribute("cy")-t.y),p=r*s.getAttribute("r"),v=i.querySelector(".a9s-outer");v.setAttribute("cx",l),v.setAttribute("cy",c),v.setAttribute("r",p);const y=i.querySelector(".a9s-inner");y.setAttribute("cx",l),y.setAttribute("cy",c),y.setAttribute("r",p)},jR=(i,s,t,r)=>{const l=r*(s.getAttribute("cx")-t.x),c=r*(s.getAttribute("cy")-t.y),p=r*s.getAttribute("rx"),v=r*s.getAttribute("ry"),y=i.querySelector(".a9s-outer");y.setAttribute("cx",l),y.setAttribute("cy",c),y.setAttribute("rx",p),y.setAttribute("ry",v);const b=i.querySelector(".a9s-inner");b.setAttribute("cx",l),b.setAttribute("cy",c),b.setAttribute("rx",p),b.setAttribute("ry",v)},UR=(i,s,t,r)=>{const l=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(c=>c.trim()).map(c=>{const p=c.substring(0,1);if(p.toLowerCase()==="z")return p;{const v=c.substring(1).split(" ").filter(S=>S).map(S=>parseFloat(S.trim())),y=p===p.toUpperCase(),b=y?r*(v[0]-t.x):r*v[0],w=y?r*(v[1]-t.y):r*v[1];return p+" "+b+" "+w}}).join(" ");i.querySelector(".a9s-inner").setAttribute("d",l),i.querySelector(".a9s-outer").setAttribute("d",l)},VR=Vh();class WR extends G0{constructor(s){super(s),u(this,"_fit",(t,r,l)=>{const c=r?typeof r=="boolean"?r:r.immediately:!1,p=(r==null?void 0:r.padding)||0,v=this.findShape(t);if(v){const y=this.viewer.container.getBoundingClientRect(),b=v.getBoundingClientRect(),w=b.x-y.x,S=b.y-y.y,{width:C,height:D}=b,H=w-p,Q=S-p,G=C+2*p,te=D+2*p,P=this.viewer.viewport.viewerElementToViewportRectangle(new dr.Rect(H,Q,G,te));this.viewer.viewport[l](P,c)}}),u(this,"_getShapeAt",t=>{const r=y=>{if(VR){const b=this.svg.getBoundingClientRect(),w=y.clientX-b.x,S=y.clientY-b.y;return new dr.Point(w,S)}else return new dr.Point(y.offsetX,y.offsetY)},l=this.viewer.viewport.viewerElementToViewportCoordinates(r(t)),{x:c,y:p}=this.viewer.viewport.viewportToImageCoordinates(l.x,l.y),v=this.store.getAnnotationAt(c,p,this.currentScale());if(v)return this.findShape(v)}),u(this,"_refreshNonScalingAnnotations",()=>{}),u(this,"addAnnotation",(t,r)=>{const l=r||this.g,c=Kh(t,this.env.image);return ji(c,"a9s-annotation"),c.setAttribute("data-id",t.id),c.annotation=t,Z0(this.viewer,c),l.appendChild(c),Bl(c,t,this.formatters),c}),u(this,"addOrUpdateAnnotation",(t,r)=>{var l;const c=(l=this.selectedShape)==null?void 0:l.annotation;(c===t||(c==null?void 0:c.isSelection)||c==r)&&this.deselect(),r&&this.removeAnnotation(t),this.removeAnnotation(t),this.addAnnotation(t),this.store.insert(t)}),u(this,"deselect",()=>{var t;if((t=this.tools)==null||t.current.stop(),this.selectedShape){const{annotation:r}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),r.isSelection||this.addAnnotation(r)):Rl(this.selectedShape,"selected"),this.selectedShape=null}}),u(this,"onDrawingComplete",t=>{const r=t.annotation.clone({target:q0(this.viewer,t.annotation.target)});t.annotation=r,this.selectShape(t),this.emit("createSelection",t.annotation),this.mouseTracker.enabled=!1}),u(this,"selectShape",(t,r)=>{var l;if(!r&&!t.annotation.isSelection&&this.emit("clickAnnotation",t.annotation,t),((l=this.selectedShape)==null?void 0:l.annotation)===t.annotation)return;this.selectedShape&&this.selectedShape.annotation!==t.annotation&&this.deselect(!0);const{annotation:c}=t;if(this.readOnly||c.readOnly||this.headless)this.selectedShape=t,ji(t,"selected"),r||this.emit("select",{annotation:c,element:t,skipEvent:r});else{setTimeout(()=>{t.parentNode.removeChild(t),r||this.emit("select",{annotation:c,element:this.selectedShape.element})},1);const p=this.tools.forAnnotation(c);this.selectedShape=p.createEditableShape(c),this.selectedShape.element.annotation=c;const v=X0(this.viewer,c);this.selectedShape.updateState(v);const y=new dr.MouseTracker({element:this.svg,preProcessEventHandler:b=>{b.stopPropagation=!0,b.preventDefault=!1,b.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,y.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,y.setTracking(!1)}),this.selectedShape.mouseTracker=y,this.selectedShape.on("update",b=>{const w=q0(this.viewer,b);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:w}),this.emit("updateTarget",this.selectedShape.element,w)})}}),this._initDrawingTools(!0)}resize(){if(!!this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(s=>Z0(this.viewer,s)),this.selectedShape))if(this.selectedShape.element){const s=X0(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(s),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var GR=ka(Xe),Y0,K0=GR,qR=0;function XR(i,s,t,r,l){var c,p,v={};for(p in s)p=="ref"?c=s[p]:v[p]=s[p];var y={type:i,props:v,key:t,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--qR,__source:r,__self:l};if(typeof i=="function"&&(c=i.defaultProps))for(p in c)v[p]===void 0&&(v[p]=c[p]);return K0.options.vnode&&K0.options.vnode(y),y}Y0=XR;const J0=Y0;class ZR extends me{constructor(s){super(s),u(this,"clearState",t=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},t)),u(this,"forwardEvent",(t,r)=>{this.annotationLayer.on(t,(l,c)=>{this.props[r](l.clone(),c)})}),u(this,"onKeyUp",t=>{if(t.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:r}=this.state;r&&(this.cancelSelected(),this.props.onCancelSelected(r))}else if(t.which===46){const{selectedAnnotation:r}=this.state;r&&(r.isSelection?this.onCancelAnnotation(r):this.onDeleteAnnotation(r))}}),u(this,"handleStartSelect",t=>this.props.onSelectionStarted(t)),u(this,"handleSelect",(t,r)=>{this.state.editorDisabled?this.onHeadlessSelect(t,r):this.onNormalSelect(t,r)}),u(this,"onNormalSelect",(t,r)=>{const{annotation:l,element:c}=t;if(l){const p=()=>{this.setState({selectedAnnotation:l,selectedDOMElement:c,modifiedTarget:null},()=>{r||(l.isSelection?this.props.onSelectionCreated(l.clone()):this.props.onAnnotationSelected(l.clone(),c))})},{selectedAnnotation:v}=this.state;v&&!v.isEqual(l)?this.clearState(()=>{this.props.onCancelSelected(v),p()}):p()}else{const{selectedAnnotation:p}=this.state;p?this.clearState(()=>this.props.onCancelSelected(p)):this.clearState()}}),u(this,"onHeadlessSelect",(t,r)=>{this.saveSelected().then(()=>{this.onNormalSelect(t,r)})}),u(this,"handleUpdateTarget",(t,r)=>{this.setState({selectedDOMElement:t,modifiedTarget:r});const l=JSON.parse(JSON.stringify(r));this.props.onSelectionTargetChanged(l)}),u(this,"handleViewportChange",t=>this.setState({selectedDOMElement:t})),u(this,"overrideAnnotationId",t=>r=>{const{id:l}=t;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(l,r)}):this.annotationLayer.overrideId(l,r)}),u(this,"onCreateOrUpdateAnnotation",(t,r)=>(l,c)=>{let p=l.isSelection?l.toAnnotation():l;p=this.state.modifiedTarget?p.clone({target:this.state.modifiedTarget}):p.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(p,c),c?this.props[t](p,c.clone()):this.props[t](p,this.overrideAnnotationId(p)),r&&r()})}),u(this,"onDeleteAnnotation",t=>{this.clearState(),this.annotationLayer.removeAnnotation(t),this.props.onAnnotationDeleted(t)}),u(this,"onCancelAnnotation",(t,r)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(t),this.clearState(r)}),u(this,"addAnnotation",t=>{var r;t.id===((r=this.state.selectedAnnotation)==null?void 0:r.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(t.clone())}),u(this,"addDrawingTool",t=>this.annotationLayer.addDrawingTool(t)),u(this,"cancelSelected",()=>new Promise(t=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(t):t()})),u(this,"fitBounds",(t,r)=>this.annotationLayer.fitBounds(t,r)),u(this,"fitBoundsWithConstraints",(t,r)=>this.annotationLayer.fitBoundsWithConstraints(t,r)),u(this,"getAnnotationById",t=>{var r;return(r=this.annotationLayer.findShape(t))==null?void 0:r.annotation}),u(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(t=>t.clone())),u(this,"getAnnotationsIntersecting",t=>this.annotationLayer.getAnnotationsIntersecting(t)),u(this,"getImageSnippetById",t=>this.annotationLayer.getImageSnippetById(t)),u(this,"getSelected",()=>{var t;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(t=this._editor.current)==null?void 0:t.getCurrentAnnotation()}),u(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),u(this,"panTo",(t,r)=>this.annotationLayer.panTo(t,r)),u(this,"removeAnnotation",t=>this.annotationLayer.removeAnnotation(t)),u(this,"removeDrawingTool",t=>this.annotationLayer.removeDrawingTool(t)),u(this,"saveSelected",()=>new Promise(t=>{const r=this.state.selectedAnnotation;if(r)if(this._editor.current)this._editor.current.onOk(),t();else if(r.isSelection)r.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",t)(r):(this.annotationLayer.deselect(),t());else{const{beforeHeadlessModify:l,modifiedTarget:c}=this.state;l?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(r,l):c?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(r,r):this.onCancelAnnotation(r,t)}else t()})),u(this,"selectAnnotation",t=>{const r=this.annotationLayer.selectAnnotation(t,!0);if(r)return this.handleSelect(r,!0),r.annotation.clone();this.clearState()}),u(this,"setAnnotations",t=>this.annotationLayer.init(t.map(r=>r.clone()))),u(this,"setDrawingEnabled",t=>this.annotationLayer.setDrawingEnabled(t)),u(this,"setDrawingTool",t=>this.annotationLayer.setDrawingTool(t)),u(this,"setVisible",t=>{this.annotationLayer.setVisible(t),t||this.clearState()}),u(this,"updateSelected",(t,r)=>new Promise(l=>{this.state.selectedAnnotation&&(r?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",l)(t):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",l)(t,this.state.selectedAnnotation):this.setState({selectedAnnotation:t,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},l))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:s.config.readOnly,editorDisabled:s.config.disableEditor,widgets:s.config.widgets,beforeHeadlessModify:null},this._editor=Ae.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new WR(this.props):new PR(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(s){this.setState({editorDisabled:s})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(s){this.annotationLayer.disableSelect=s}get formatters(){return this.annotationLayer.formatters}set formatters(s){this.annotationLayer.formatters=s}get readOnly(){return this.state.readOnly}set readOnly(s){this.annotationLayer.readOnly=s,this.setState({readOnly:s})}get widgets(){return this.state.widgets}set widgets(s){this.setState({widgets:s})}render(){var s;const t=this.state.selectedAnnotation&&!this.state.editorDisabled,r=this.state.readOnly||((s=this.state.selectedAnnotation)==null?void 0:s.readOnly);return t&&J0(MA,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:r,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class YR{constructor(s,t){u(this,"handleAnnotationCreated",(l,c)=>this._emitter.emit("createAnnotation",l.underlying,c)),u(this,"handleAnnotationDeleted",l=>this._emitter.emit("deleteAnnotation",l.underlying)),u(this,"handleAnnotationSelected",(l,c)=>this._emitter.emit("selectAnnotation",l.underlying,c)),u(this,"handleAnnotationUpdated",(l,c)=>this._emitter.emit("updateAnnotation",l.underlying,c.underlying)),u(this,"handleCancelSelected",l=>this._emitter.emit("cancelSelected",l.underlying)),u(this,"handleClickAnnotation",(l,c)=>this._emitter.emit("clickAnnotation",l.underlying,c)),u(this,"handleLoad",l=>this._emitter.emit("load",l)),u(this,"handleSelectionCreated",l=>this._emitter.emit("createSelection",l.underlying)),u(this,"handleSelectionStarted",l=>this._emitter.emit("startSelection",l)),u(this,"handleSelectionTargetChanged",l=>this._emitter.emit("changeSelectionTarget",l)),u(this,"handleMouseEnterAnnotation",(l,c)=>this._emitter.emit("mouseEnterAnnotation",l.underlying,c)),u(this,"handleMouseLeaveAnnotation",(l,c)=>this._emitter.emit("mouseLeaveAnnotation",l.underlying,c)),u(this,"_wrap",l=>(l==null?void 0:l.type)==="Annotation"?new Wr(l):l),u(this,"addAnnotation",l=>this._app.current.addAnnotation(new Wr(l))),u(this,"addDrawingTool",l=>this._app.current.addDrawingTool(l)),u(this,"cancelSelected",()=>this._app.current.cancelSelected()),u(this,"clearAnnotations",()=>this.setAnnotations([])),u(this,"clearAuthInfo",()=>this._env.user=null),u(this,"destroy",()=>Ae.unmountComponentAtNode(this.appContainerEl)),u(this,"fitBounds",(l,c)=>this._app.current.fitBounds(this._wrap(l),c)),u(this,"fitBoundsWithConstraints",(l,c)=>this._app.current.fitBoundsWithConstraints(this._wrap(l),c)),u(this,"getAnnotationById",l=>{const c=this._app.current.getAnnotationById(l);return c==null?void 0:c.underlying}),u(this,"getAnnotations",()=>this._app.current.getAnnotations().map(l=>l.underlying)),u(this,"getAnnotationsIntersecting",l=>this._app.current.getAnnotationsIntersecting(this._wrap(l))),u(this,"getImageSnippetById",l=>this._app.current.getImageSnippetById(l)),u(this,"getSelected",()=>{const l=this._app.current.getSelected();return l==null?void 0:l.underlying}),u(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),u(this,"loadAnnotations",l=>fetch(l).then(c=>c.json()).then(c=>(this.setAnnotations(c),c))),u(this,"off",(l,c)=>this._emitter.off(l,c)),u(this,"on",(l,c)=>this._emitter.on(l,c)),u(this,"once",(l,c)=>this._emitter.once(l,c)),u(this,"panTo",(l,c)=>this._app.current.panTo(this._wrap(l),c)),u(this,"removeAnnotation",l=>this._app.current.removeAnnotation(this._wrap(l))),u(this,"removeDrawingTool",l=>this._app.current.removeDrawingTool(l)),u(this,"saveSelected",()=>this._app.current.saveSelected()),u(this,"selectAnnotation",l=>{const c=this._app.current.selectAnnotation(this._wrap(l));return c==null?void 0:c.underlying}),u(this,"setAnnotations",l=>{const c=(l||[]).map(p=>new Wr(p));this._app.current.setAnnotations(c)}),u(this,"setAuthInfo",l=>this._env.user=l),u(this,"setDrawingEnabled",l=>this._app.current.setDrawingEnabled(l)),u(this,"setDrawingTool",l=>this._app.current.setDrawingTool(l)),u(this,"setServerTime",l=>this._env.setServerTime(l)),u(this,"setVisible",l=>this._app.current.setVisible(l)),u(this,"updateSelected",(l,c)=>{let p=null;l.type==="Annotation"?p=new Wr(l):l.type==="Selection"&&(p=new Ds(l.target,l.body)),p&&this._app.current.updateSelected(p,c)});const r=t||{};this._app=Ae.createRef(),this._emitter=new Aa,this._env=zA(),this._element=s.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),jA(r.locale,r.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Ae.render(J0(ZR,{ref:this._app,viewer:s,wrapperEl:this._element,config:r,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(s){this._app.current.disableEditor=s}get disableSelect(){return this._app.current.disableSelect}set disableSelect(s){this._app.current.disableSelect=s}get formatters(){return this._app.current.formatters||[]}set formatters(s){if(s){const t=Array.isArray(s)?s:[s];this._app.current.formatters=t}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(s){this._app.current.readOnly=s}get widgets(){return this._app.current.widgets}set widgets(s){this._app.current.widgets=s}}var KR=(i,s)=>new YR(i,s);return KR})})(ux);const sL=Gw(ux.exports);class aL{static getAnnotoriousAnnoations(o){const n=[];for(let a=0;a<o.length;a++)if(o[a].type=="char"||o[a].type=="word"||o[a].type=="tray"||o[a].type=="mirrored"||o[a].type=="barcode"||o[a].type=="label"){let u=null;const h="box"in o[a];h&&(u=o[a].box.reduce((g,[m,x])=>`${g} ${m},${x}`,""));const f="polygon_list"in o[a];if(f&&(u=o[a].polygon_list[0].reduce((g,[m,x])=>`${g} ${m},${x}`,"")),!f&&!h)continue;const d=`<svg><polygon points="${u}" /></svg>`;n.push({id:"1",type:"Annotation",body:[{type:"TextualBody",purpose:"tagging",value:o[a].type},{type:"TextualBody",purpose:"commenting",value:o[a].type}],target:{selector:[{type:"SvgSelector",value:d}]}})}return n}}const lL={props:{img_url:{type:String,default:"../../src/assets/banana.jpg"},default:{type:String,default:"../../src/assets/banana.jpg"},menu_items:{type:Array},objects:{type:Object},annotations:{type:Object}},methods:{createVueComponent:function(e){var o=Vue.extend(e),n=new o;return n.$mount(),n},createEditor:function(){var e=this.createVueComponent(rL);return e.$el},createSelection:async function(e){this.addObjectToMenu(),this.openObjectsMenu(),e.body=[{type:"TextualBody",purpose:"tagging",value:"MyTag"}],await window.anno.updateSelected(e),window.anno.saveSelected()},openObjectsMenu:function(){for(let e=0;e<this.menu_items.length;e++)this.menu_items[e].active&&this.menu_items[e].name!=="objects"?this.menu_items[e].active="":this.menu_items[e].name==="objects"&&(this.menu_items[e].active=this.cl_menu_item_active)},addObjectToMenu:function(){this.objects.items.push({name:"Object "+String(this.objects.items.length+1),content:{title:"Object "+String(this.objects.items.length+1),items:[{name:"Class",content:"Please select the class"}]}})},selectAnnotation:function(){}},mounted:function(){this.createViewer(),this.createAnnotorious(),this.loadImage()},data(){return{cl_menu_item_active:"border-l-8 border_l_blue",viewer:null,anno:null}},methods:{createViewer(){this.viewer=oL({id:"annotorious_container",minZoomImageRatio:0,maxZoomPixelRatio:1/0,animationTime:.5,showFullPageControl:!1,fitHorizontally:!0,autoResize:!0,rotationIncrement:90,zoomInButton:"ann_nav_btn_zoom_in",zoomOutButton:"ann_nav_btn_zoom_out",homeButton:"ann_nav_btn_home",nextButton:"ann_nav_btn_next",previousButton:"ann_nav_btn_prev",rotateLeftButton:"ann_nav_btn_rotate_left",rotateRightButton:"ann_nav_btn_rotate_right",showRotationControl:!0,tileSources:{type:"image",url:this.img_url,ajaxWithCredentials:!1,fitBounds:!0}})},createAnnotorious(){var e={disableEditor:!0};this.anno=sL(this.viewer,e),this.anno.setDrawingTool("polygon"),this.anno.on("createSelection",this.createSelection),this.anno.on("selectAnnotation",this.selectAnnotation)},loadImage(){if(this.annotations){const e=aL.getAnnotoriousAnnoations(this.annotations);this.anno.setAnnotations(e)}window.viewer=this.viewer,window.anno=this.anno}},watch:{img_url:function(e,o){}}},uL={class:"flex-grow text-xs laptop:text-lg desktop:text-xl 4k:text-2xl"},cL={class:"flex p-0.5 gap-x-1 justify-center"},hL={class:"bg-primary text-white rounded px-1 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_home"},dL={class:"bg-primary text-white rounded px-1 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_zoom_out"},fL={class:"bg-primary text-white rounded px-1 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_zoom_in"},pL={class:"bg-primary text-white rounded px-1 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_rotate_left"},gL={class:"bg-primary text-white rounded px-1 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_rotate_right"},mL=K("div",{class:"w-full h-full p-0",id:"annotorious_container"},null,-1),vL=K("div",null,"use shift+click to draw. Use shift+double click to end polygon.",-1);function yL(e,o,n,a,u,h){const f=Mt("font-awesome-icon");return Le(),Ge("div",uL,[K("div",cL,[K("div",hL,[Ke(f,{icon:"fa-home"}),$t(" zoom fit ")]),K("div",dL,[Ke(f,{icon:"fa-minus-circle"}),$t(" zoom out ")]),K("div",fL,[Ke(f,{icon:"fa-plus-circle"}),$t(" zoom in ")]),K("div",pL,[Ke(f,{icon:"fa-chevron-circle-left"}),$t(" rotate left ")]),K("div",gL,[Ke(f,{icon:"fa-chevron-circle-right"}),$t(" rotate right ")])]),mL,vL])}const bL=rn(lL,[["render",yL]]);const wL={props:{dataset_description:null},data(){return{filter:"",gstore:_n(),datasetstore:ir()}},mounted(){this.datasetstore.reset(),this.datasetstore.low_resolution=!1,this.datasetstore.load(),dn(()=>this.gstore.selected_col,(e,o)=>{this.reset(!0),this.datasetstore.load()})},methods:{reset(e){this.datasetstore.low_resolution=!1,this.datasetstore.reset(),e&&(this.datasetstore.reset_dataset_description(),this.datasetstore.set_filter(""))},keyClick(e){alert(e)},resetFilter(){this.reset(!1),this.filter="",this.datasetstore.set_filter(""),this.datasetstore.get_data(!0)},find(){this.reset(!1),this.datasetstore.set_filter(this.filter),this.datasetstore.get_data(!0)}},components:{LoadingOverlay:ic,AnnotoriousImage:bL,VueJsonPretty:eL}},xL={class:"grid grid-cols-6 gap-2 grid-rows-auto border-2 shadow rounded p-2 mt-0"},_L={class:"max-[1800px]:flex flex-wrap max-[1800px]:col-span-6 min-[1800px]:col-span-2 mt-4 text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},EL={class:"min-[1800px]:flex font-bold tracking-tight justify-center mr-8"},SL={class:"min-[1800px]:flex mt-1 p-0.5 gap-x-1 justify-center text-xs laptop:text-sm desktop:text-lg 4k:text-lg"},TL=["disabled"],CL=["disabled"],PL={class:"max-[1800px]:col-span-6 min-[1800px]:col-span-4 mt-4 border-2 shadow rounded p-1 text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},kL={class:"grid grid-cols-6 gap-0"},AL=K("div",{class:"col-span-6 flex mx-4 justify-left"},[K("p",{class:"font-bold"},"DATASET FILTER (MongoDB like)")],-1),RL={class:"col-span-6 tablet:col-span-6 laptop:col-span-4 desktop:col-span-5 k4:col-span-5 flex border-2 rounded mx-2 relative"},OL={class:"col-span-6 tablet:col-span-6 laptop:col-span-2 desktop:col-span-1 k4:col-span-1 flex p-0.5 gap-x-1 justify-center"},DL={class:"max-[1800px]:col-span-6 min-[1800px]:col-span-2 flex flex-col max-[1800px]:max-h-[330px] min-[1800px]:h-full text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},ML={class:"flex-1 border-2 shadow rounded p-4 max-[1800px]:max-h-[330px]"},BL={class:"max-[1800px]:max-h-[330px]"},IL=K("p",{class:"font-bold max-[1800px]:max-h-[35px]"},"JSON",-1),NL={class:"max-[1800px]:col-span-6 min-[1800px]:col-span-4 border-2 shadow rounded text-sm laptop:text-lg desktop:text-xl 4k:text-2xl"},FL=K("p",{class:"font-bold p-2"},"IMAGE",-1),LL={class:"flex",style:{"min-height":"490px"}};function HL(e,o,n,a,u,h){const f=Mt("font-awesome-icon"),d=Mt("vue-json-pretty"),g=Mt("AnnotoriousImage");return Le(),Ge("div",xL,[K("div",_L,[K("div",EL,"Explorer\xA0("+Ot(u.gstore.selected_db)+" / "+Ot(u.gstore.selected_col)+")",1),K("div",SL,[K("button",{onClick:o[0]||(o[0]=m=>u.datasetstore.data_prev()),disabled:!u.datasetstore.data_has_prev(),class:"w-32 bg-primary font-bold text-gray-300 rounded m-0.5 py-2 mr-1 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},[Ke(f,{icon:"fa-chevron-left"}),$t(" previous ")],8,TL),K("button",{onClick:o[1]||(o[1]=m=>u.datasetstore.data_next()),disabled:!u.datasetstore.data_has_next(),class:"w-32 bg-primary font-bold text-gray-300 rounded m-0.5 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_next"},[$t(" next "),Ke(f,{icon:"fa-chevron-right"})],8,CL)])]),K("div",PL,[K("div",kL,[AL,K("div",RL,[Vn(K("input",{type:"filter",name:"filter",id:"filter","onUpdate:modelValue":o[2]||(o[2]=m=>u.filter=m),class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Type a query: { field: 'value'}"},null,512),[[Xn,u.filter]])]),K("div",OL,[K("button",{onClick:o[3]||(o[3]=m=>h.resetFilter()),class:"w-32 bg-gray-300 font-bold text-gray-700 rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Reset"),K("button",{onClick:o[4]||(o[4]=m=>h.find()),class:"w-32 bg-green-900 font-bold text-white rounded px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_next"},"Find")])])]),K("div",DL,[K("div",ML,[K("div",BL,[IL,Ke(d,{data:u.datasetstore.data_get_current_documents(),expand:"true",deep:"3",virtual:"true",editable:"true",height:"540",showLength:"true",onOnKeyClick:h.keyClick,class:"max-[1800px]:max-h-[265px]"},null,8,["data","onOnKeyClick"])])])]),K("div",NL,[FL,K("div",LL,[u.datasetstore.data_has_data()?(Le(),Si(g,{key:u.datasetstore.data_get_current_image(),img_url:u.datasetstore.data_get_current_image(),annotations:u.datasetstore.data_get_current_documents().annotations,class:""},null,8,["img_url","annotations"])):qt("",!0)])])])}const zL=rn(wL,[["render",HL]]);const jL={props:{dataset_description:null},data(){return{filter:"",selection:[],visible:!0,records_max:24,records_queried:0,gstore:_n(),datasetstore:ir(),isMenuVisible:!1,menuPosition:{top:0,left:0},menuItems:[{id:1,label:"Delete"},{id:2,label:"Move"},{id:3,label:"Download selected"},{id:4,label:"Download all"},{id:5,label:"Export selected"},{id:6,label:"Export all"},{id:7,label:"Exit"}]}},mounted(){this.visible=!0,this.reload(),dn(()=>this.gstore.selected_col,(o,n)=>{this.reload()});const e=window.innerWidth;e<640?this.records_max=12:e<1024?this.records_max=18:e<1600?this.records_max=24:e<2500?this.records_max=36:this.records_max=48},unmounted(){this.visible=!1},methods:{showMenu(e){this.selection.length>0&&(this.isMenuVisible=!0,this.menuPosition={top:e.clientY,left:e.clientX},document.addEventListener("click",this.handleOutsideClick))},handleOutsideClick(e){this.$refs.menu.contains(e.target)||(this.isMenuVisible=!1,document.removeEventListener("click",this.handleOutsideClick))},handleMenuItemClick(e){this.isMenuVisible=!1,this.selection=[]},is_selected(e){return this.selection.includes(e)},click_select(e){if(this.is_selected(e)){const n=this.selection.indexOf(e);n>-1&&this.selection.splice(n,1)}else this.selection.push(e)},reload(){this.reset(),this.load()},reset(){this.records_queried=0,this.selection=[],this.datasetstore.reset(),this.datasetstore.load_dataset_description()},async load(){this.datasetstore.low_resolution=!0;let e=this.gstore.selected_col;for(;this.records_queried<this.records_max&&e==this.gstore.selected_col&&this.visible;)await this.datasetstore.get_data(!1),this.records_queried=this.records_queried+1;this.datasetstore.low_resolution=!1},resetFilter(){this.reset(),this.filter="",this.datasetstore.set_filter(""),this.load()},find(){this.reset(),this.datasetstore.set_filter(this.filter),this.load()}},components:{}},UL={class:"border-2 shadow rounded pb-2 px-2"},VL={class:"flex p-0.5 gap-x-1 justify-center pb-2"},WL={class:"grid grid-cols-12 gap-0 text-sm laptop:text-xl desktop:text-2xl 4k:text-3xl"},GL=K("div",{class:"justify-center col-span-12 flex mx-1 justify-left"},[K("p",{class:"font-bold"},"DATASET FILTER (MongoDB like)")],-1),qL={class:"col-span-12 flex flex-col laptop:flex-row desktop:flex-row 4k:flex-row justify-center max-[1024px]:justify-items-stretch"},XL={class:"border-2 rounded m-1 relative min-w-[300px] laptop:min-w-[300px] desktop:min-w-[750px] 4k:min-w-[1000px]"},ZL={class:"grid grid-cols-2 tablet:grid-cols-3 laptop:grid-cols-4 desktop:grid-cols-6 4k:grid-cols-12 max-[800px]:gap-1 min-[800px]:gap-4"},YL=["src","onClick"],KL=["onClick"];function JL(e,o,n,a,u,h){return Le(),Ge("div",UL,[K("div",VL,[K("div",WL,[GL,K("div",qL,[K("div",XL,[Vn(K("input",{type:"filter",name:"filter",id:"filter","onUpdate:modelValue":o[0]||(o[0]=f=>u.filter=f),class:"min-w-[300px] laptop:min-w-[300px] desktop:min-w-[850px] 4k:min-w-[1000px] border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Type a query: { field: 'value'}"},null,512),[[Xn,u.filter]])]),K("button",{onClick:o[1]||(o[1]=f=>h.resetFilter()),class:"min-[1024px]:w-44 bg-gray-300 font-bold text-gray-700 rounded m-1 px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Reset"),K("button",{onClick:o[2]||(o[2]=f=>h.find()),class:"min-[1024px]:w-44 bg-green-900 font-bold text-white rounded m-1 px-4 py-2 hover:bg-secondary focus:outline-none focus:shadow-outline",id:"ann_nav_btn_prev"},"Find next")])])]),K("div",ZL,[(Le(!0),Ge(It,null,Nn(u.datasetstore.data_get_all_image(),(f,d)=>(Le(),Ge("img",{onContextmenu:o[3]||(o[3]=Ku(g=>h.showMenu(g),["prevent"])),class:Tn(["",h.is_selected(d)?"opacity-75 border-8 border-red-600":"opacity-100"]),src:f,onClick:g=>h.click_select(d)},null,42,YL))),256))]),Vn(K("div",{ref:"menu",class:"absolute bg-primary border-2 p-1 border-black w-48",style:po({top:u.menuPosition.top+"px",left:u.menuPosition.left+"px"})},[K("ul",null,[(Le(!0),Ge(It,null,Nn(u.menuItems,(f,d)=>(Le(),Ge("li",{key:f.id,onClick:g=>h.handleMenuItemClick(f),class:Tn(["p-1 text-gray-300 font-bold",d==u.menuItems.length-1||d==2||d==4?"border-t-2 border-black":""])},Ot(f.label),11,KL))),128))])],4),[[Ju,u.isMenuVisible]])])}const QL=rn(jL,[["render",JL]]);const $L={data(){return{activeTab:1,tabs:[{active:!0,title:"Explorer",id:1,comp:"DatasetExplorer"},{active:!1,title:"Details",id:2,comp:"DatasetDetails"},{active:!1,title:"Analytics",id:3,comp:"DatasetAnalytics"}],gstore:_n(),datasetstore:ir()}},mounted(){},computed:{},methods:{activate(e){this.activeTab=e;for(let o=0;o<this.tabs.length;o++)this.tabs[o].id==e?this.tabs[o].active=!0:this.tabs[o].active=!1}},components:{DatasetDescription:QF,DatasetDetails:zL,DatasetExplorer:QL,DatasetAnalytics:AI}},eH={class:"bg-white w-full h-full"},tH={class:"flex flex-col h-full"},nH={class:"bg-white py-2 h-full"},iH={class:"flex flex-wrap text-sm font-medium text-center text-gray-300 border-b border-gray-300"},rH={class:"mr-2"},oH=["onClick"],sH={class:"mt-0"},aH={key:0},lH={key:1},uH={key:2};function cH(e,o,n,a,u,h){const f=Mt("DatasetDescription"),d=Mt("DatasetExplorer"),g=Mt("DatasetDetails"),m=Mt("DatasetAnalytics");return Le(),Ge("div",eH,[K("div",tH,[Ke(f),K("div",nH,[K("ul",iH,[(Le(!0),Ge(It,null,Nn(u.tabs,x=>(Le(),Ge("li",rH,[K("div",{onClick:_=>h.activate(x.id),class:Tn([x.active?" bg-gray-500 text-gray-900 border-primary border-b-2 font-bold":"text-gray-600 hover:text-gray-900","inline-block bg-gray-300 rounded-t-lg active cursor-pointer text-xs laptop:text-sm desktop:text-lg 4k:text-xl py-1 px-1 laptop:px-2 desktop:px-3 4k:px-3"])},Ot(x.title),11,oH)]))),256))]),K("div",sH,[u.activeTab===1?(Le(),Ge("div",aH,[Ke(d)])):qt("",!0),u.activeTab===2?(Le(),Ge("div",lH,[Ke(g)])):qt("",!0),u.activeTab===3?(Le(),Ge("div",uH,[Ke(m)])):qt("",!0)])])])])}const hH=rn($L,[["render",cH]]),dH=Qu("comments",{state:()=>({comments:[{id:1,person:"...",text:"Post the first comment"}],gstore:_n()}),actions:{load(e,o){var n=this,a=function(u){n.comments=u.data.comments};Gi.get_dataset_comments(a,e,o)},add_comment(e,o){const a={id:this.comments.length+1,person:e,text:o};this.comments.push(a)}}}),fH={data(){return{newComment:{person:"",text:""},showForm:!1,gstore:_n(),commentsStore:dH()}},mounted(){this.commentsStore.load(this.gstore.selected_db,this.gstore.selected_col),dn(()=>this.gstore.selected_col,(e,o)=>{this.commentsStore.load(this.gstore.selected_db,this.gstore.selected_col)})},computed:{},methods:{addComment(){this.commentsStore.add_comment(this.newComment.person,this.newComment.text),this.newComment.person="",this.newComment.text="",this.showForm=!1}}},pH={class:"flex flex-col justify-center items-stretch"},gH=K("h2",{class:"text-lg laptop:text-xl desktop:text-2xl 4k:text-3xl font-semibold mb-4 mx-auto font-semibold mb-4 mx-auto"},"Comments",-1),mH={class:"w-full text-sm laptop:text-lg desktop:text-xl 4k:text-xl"},vH={class:"text-gray-700 font-bold"},yH={class:"text-gray-600"},bH={key:0,class:"mt-4"},wH={class:"mb-4"},xH=K("label",{class:"block text-gray-700 font-bold mb-2",for:"person"}," Name ",-1),_H={class:"mb-4"},EH=K("label",{class:"block text-gray-700 font-bold mb-2",for:"text"}," Comment ",-1),SH=K("div",{class:"flex justify-end"},[K("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"submit"}," Submit ")],-1);function TH(e,o,n,a,u,h){return Le(),Ge("div",pH,[gH,K("div",mH,[(Le(!0),Ge(It,null,Nn(u.commentsStore.comments,f=>(Le(),Ge("div",{key:f.id,class:"border rounded-md p-4 mb-4 w-full text-sm laptop:text-lg desktop:text-xl 4k:text-xl"},[K("div",vH,Ot(f.person),1),K("div",yH,Ot(f.text),1)]))),128)),K("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:o[0]||(o[0]=f=>u.showForm=!u.showForm)}," Add Comment "),u.showForm?(Le(),Ge("div",bH,[K("form",{onSubmit:o[3]||(o[3]=Ku((...f)=>h.addComment&&h.addComment(...f),["prevent"]))},[K("div",wH,[xH,Vn(K("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"person",type:"text",placeholder:"Name","onUpdate:modelValue":o[1]||(o[1]=f=>u.newComment.person=f)},null,512),[[Xn,u.newComment.person]])]),K("div",_H,[EH,Vn(K("textarea",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"text",placeholder:"Write your comment here",rows:"5","onUpdate:modelValue":o[2]||(o[2]=f=>u.newComment.text=f)},null,512),[[Xn,u.newComment.text]])]),SH],32)])):qt("",!0)])])}const CH=rn(fH,[["render",TH]]),PH={data(){return{projects:[{id:1,name:"Fruit Recognition V3",desc:"Fruit Recognition for CustomerX based in CityY Data",link:"https://www.google.de/"},{id:2,name:"DIY Hornbach",desc:"CustomerM Sanitary Article Detection",link:"https://www.google.de/"},{id:3,name:"DIY Hornbach - V2",desc:"CustomerM Sanitary Article Detection - new Model",link:"https://www.google.de/"}]}},mounted(){},computed:{},methods:{},watch:{}},kH={class:"flex flex-col justify-center items-stretch"},AH=K("h2",{class:"text-lg laptop:text-xl desktop:text-2xl 4k:text-3xl font-semibold mb-4 mx-auto"},"Projects of Dataset",-1),RH={class:"text-gray-700 font-bold"},OH={class:"text-gray-600"},DH={class:"text-gray-600"},MH=["href"];function BH(e,o,n,a,u,h){return Le(),Ge("div",kH,[AH,(Le(!0),Ge(It,null,Nn(u.projects,f=>(Le(),Ge("div",{key:f.id,class:"border rounded-md p-4 mb-4 w-full text-sm laptop:text-lg desktop:text-xl 4k:text-xl"},[K("div",RH,Ot(f.name),1),K("div",OH,Ot(f.desc),1),K("div",DH,[$t("Projekt reference: "),K("a",{href:f.link},"LINK",8,MH)])]))),128))])}const IH=rn(PH,[["render",BH]]),NH={name:"DatasetContainer",data(){return{gstore:_n(),activeTab:1,tabs:[{icon:"fa-database",active:!0,title:"Datacard",id:1},{icon:"fa-bookmark",active:!1,title:"Projects",id:2},{icon:"fa-comments",active:!1,title:"Comments",id:3},{icon:"fa-code",active:!1,title:"Set-Me-Up",id:4}]}},mounted(){dn(()=>this.gstore.cmd,(e,o)=>{e=="comments"&&(this.gstore.cmd="",this.activate(3))})},methods:{activate(e){this.activeTab=e;for(let o=0;o<this.tabs.length;o++)this.tabs[o].id==e?this.tabs[o].active=!0:this.tabs[o].active=!1}},components:{DatasetMain:hH,DatasetComments:CH,DatasetProjects:IH,SetMeUp:TI}},FH={class:"bg-white py-2 px-4 h-full"},LH={class:"flex flex-wrap text-sm font-medium text-center text-gray-300 border-b border-gray-300"},HH={class:"mx-1"},zH=["onClick"],jH={class:"mt-0"},UH={key:0},VH={key:1},WH={key:2},GH={key:3};function qH(e,o,n,a,u,h){const f=Mt("font-awesome-icon"),d=Mt("DatasetMain"),g=Mt("DatasetProjects"),m=Mt("DatasetComments"),x=Mt("SetMeUp");return Le(),Ge("div",FH,[K("ul",LH,[(Le(!0),Ge(It,null,Nn(u.tabs,_=>(Le(),Ge("li",HH,[K("div",{onClick:T=>h.activate(_.id),class:Tn([_.active?"bg-gray-500 text-gray-900 border-primary border-b-2 font-bold":"text-gray-600 hover:text-gray-900","inline-block bg-gray-300 rounded-t-lg active cursor-pointer text-xs laptop:text-sm desktop:text-lg 4k:text-xl py-1 px-1 laptop:px-2 desktop:px-3 4k:px-3"])},[_.id==4?(Le(),Si(f,{key:0,icon:_.icon},null,8,["icon"])):qt("",!0),$t(" "+Ot(_.title),1)],10,zH)]))),256))]),K("div",jH,[u.activeTab===1?(Le(),Ge("div",UH,[Ke(d)])):qt("",!0),u.activeTab===2?(Le(),Ge("div",VH,[Ke(g)])):qt("",!0),u.activeTab===3?(Le(),Ge("div",WH,[Ke(m)])):qt("",!0),u.activeTab===4?(Le(),Ge("div",GH,[Ke(x)])):qt("",!0)])])}const XH=rn(NH,[["render",qH]]);const ZH={props:{dataset:{type:Object,required:!0}},data(){return{showDescription:!1,gstore:_n()}},computed:{fixed_titel(){return this.dataset.dataset_display_title.includes("<<Titel>>")?this.dataset.database:this.dataset.dataset_display_title}},methods:{selectDataset(e){this.gstore.selected_db=e.database,this.gstore.selected_col=e.collection}}},YH={key:0,class:"absolute inset-0 bg-black opacity-80 mx-2 mt-20 mb-2"},KH={class:"text-white text-xl font-bold m-2"},JH=["src"],QH={key:1,class:"absolute top-5 right-5 h-5 w-5 bg-green-500 rounded-full"},$H={key:2,class:"absolute top-5 right-5 h-5 w-5 bg-red-500 rounded-full"},e8={class:"bg-white p-1 min-[1000px]:p-2"},t8={class:"font-semibold text-xs tablet:text-xs laptop:text-sm desktop:text-sm 4k:text-sm"},n8={class:"text-gray-500 text-xs tablet:text-xs laptop:text-sm desktop:text-sm 4k:text-sm"};function i8(e,o,n,a,u,h){return Le(),Ge("div",{class:"relative",onMouseover:o[0]||(o[0]=f=>u.showDescription=!0),onMouseleave:o[1]||(o[1]=f=>u.showDescription=!1),onClick:o[2]||(o[2]=f=>h.selectDataset(n.dataset))},[u.showDescription?(Le(),Ge("div",YH,[K("p",KH,Ot(n.dataset.dataset_description.slice(0,300)),1)])):qt("",!0),K("img",{src:n.dataset.image,class:"object-cover m-0.5 rounded"},null,8,JH),n.dataset.generated==!1?(Le(),Ge("span",QH)):(Le(),Ge("span",$H)),K("div",e8,[K("h3",t8,Ot(h.fixed_titel),1),K("p",n8,Ot(n.dataset.collection),1)])],32)}const r8=rn(ZH,[["render",i8]]),o8={data(){return{headline:"",datasets_complete:[],datasets_queried:0,query_id:0,showDescription:!1,gstore:_n(),datasetstore:ir(),databasestore:Ww()}},mounted(){this.databasestore.load(),this.loadDatasets(""),dn(()=>this.gstore.filter,(e,o)=>{this.loadDatasets(e)})},computed:{},methods:{async loadDatasets(e){e==""?this.headline="Latest changed datasets:":this.headline="Filtered datasets for: "+e,this.query_id=this.query_id+1;let o=this.query_id;this.datasets_complete={},this.datasets_queried=0;let n=await this.datasetstore.filter_datasets(e);if(o==this.query_id)for(let a=0;a<n.length;a++){let u=n[a].database,h=n[a].collection;this.dataset_description(u,h,this.query_id)}return this.datasets_complete},async dataset_description(e,o,n){if(this.datasets_queried>=200)return;this.datasets_queried=this.datasets_queried+1;let a=await this.datasetstore.read_dataset_description(e,o);n==this.query_id&&(this.datasets_complete[e]||(this.datasets_complete[e]=[]),this.datasets_complete[e].push(a))}},components:{DatasetOverviewCard:r8}},s8={class:"max-[800px]:pl-1 min-[800px]:pl-8 max-[800px]:pr-1 min-[800px]:pr-8"},a8={class:"grid grid-cols-1 gap-0"},l8={key:0,class:"font-semibold mx-2 text-lg tablet:text-xl laptop:text-2xl desktop:text-3xl 4k:text-3xl underline mt-4"},u8={class:"grid grid-cols-2 tablet:grid-cols-3 laptop:grid-cols-4 desktop:grid-cols-6 4k:grid-cols-10 gap-2"};function c8(e,o,n,a,u,h){const f=Mt("DatasetOverviewCard");return Le(),Ge("div",s8,[K("div",a8,[(Le(!0),Ge(It,null,Nn(u.databasestore.get_databases(),d=>(Le(),Ge("div",null,[u.datasets_complete[d.database_name]?(Le(),Ge("div",l8,Ot(d.database_name),1)):qt("",!0),K("div",u8,[(Le(!0),Ge(It,null,Nn(u.datasets_complete[d.database_name],g=>(Le(),Si(f,{key:g.collection,dataset:g,class:"flex flex-col max-[800px]:m-0 min-[800px]:m-2 border-2 shadow rounded"},null,8,["dataset"]))),128))])]))),256))])])}const h8=rn(o8,[["render",c8]]);const d8={name:"App",setup(){},data(){return{gstore:_n()}},mounted(){},components:{Header:CM,Footer:DM,VSCodeMenu:lB,DatasetContainer:XH,DatasetsSummary:h8},methods:{is_db_col_selected(){let e=this.gstore.selected_db,o=this.gstore.selected_col;return e!=""&&o!=""}}},f8={class:"flex flex-col min-h-screen mainer"},p8={class:"h-22 w-full"},g8={class:"wrapper overflow-y-hidden overflow-x-hidden h-full"},m8={class:"sidebar overflow-y-auto"},v8={class:"flex flex-col h-full"},y8={class:"content overflow-y-auto overflow-x-hidden"},b8={class:"h-8 w-full"};function w8(e,o,n,a,u,h){const f=Mt("Header"),d=Mt("VSCodeMenu"),g=Mt("DatasetContainer"),m=Mt("DatasetsSummary"),x=Mt("Footer");return Le(),Ge("div",f8,[K("div",p8,[Ke(f)]),K("main",g8,[K("div",m8,[K("div",v8,[Ke(d,{class:"flex-1"})])]),K("div",y8,[h.is_db_col_selected()==!0?(Le(),Si(g,{key:0,class:"w-full"})):qt("",!0),h.is_db_col_selected()==!1?(Le(),Si(m,{key:1,class:"w-full"})):qt("",!0)])]),K("div",b8,[Ke(x)])])}const x8=rn(d8,[["render",w8]]);function a1(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?a1(Object(n),!0).forEach(function(a){Pn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Su(e){return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Su(e)}function _8(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function l1(e,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E8(e,o,n){return o&&l1(e.prototype,o),n&&l1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pn(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function Uf(e,o){return T8(e)||P8(e,o)||cx(e,o)||A8()}function Ta(e){return S8(e)||C8(e)||cx(e)||k8()}function S8(e){if(Array.isArray(e))return Ud(e)}function T8(e){if(Array.isArray(e))return e}function C8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P8(e,o){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],u=!0,h=!1,f,d;try{for(n=n.call(e);!(u=(f=n.next()).done)&&(a.push(f.value),!(o&&a.length===o));u=!0);}catch(g){h=!0,d=g}finally{try{!u&&n.return!=null&&n.return()}finally{if(h)throw d}}return a}}function cx(e,o){if(!!e){if(typeof e=="string")return Ud(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ud(e,o)}}function Ud(e,o){(o==null||o>e.length)&&(o=e.length);for(var n=0,a=new Array(o);n<o;n++)a[n]=e[n];return a}function k8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u1=function(){},Vf={},hx={},dx=null,fx={mark:u1,measure:u1};try{typeof window<"u"&&(Vf=window),typeof document<"u"&&(hx=document),typeof MutationObserver<"u"&&(dx=MutationObserver),typeof performance<"u"&&(fx=performance)}catch{}var R8=Vf.navigator||{},c1=R8.userAgent,h1=c1===void 0?"":c1,Dr=Vf,ln=hx,d1=dx,Jl=fx;Dr.document;var rr=!!ln.documentElement&&!!ln.head&&typeof ln.addEventListener=="function"&&typeof ln.createElement=="function",px=~h1.indexOf("MSIE")||~h1.indexOf("Trident/"),Ql,$l,eu,tu,nu,Ji="___FONT_AWESOME___",Vd=16,gx="fa",mx="svg-inline--fa",ho="data-fa-i2svg",Wd="data-fa-pseudo-element",O8="data-fa-pseudo-element-pending",Wf="data-prefix",Gf="data-icon",f1="fontawesome-i2svg",D8="async",M8=["HTML","HEAD","STYLE","SCRIPT"],vx=function(){try{return!0}catch{return!1}}(),an="classic",vn="sharp",qf=[an,vn];function Ca(e){return new Proxy(e,{get:function(n,a){return a in n?n[a]:n[an]}})}var ua=Ca((Ql={},Pn(Ql,an,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(Ql,vn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),Ql)),ca=Ca(($l={},Pn($l,an,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn($l,vn,{solid:"fass",regular:"fasr"}),$l)),ha=Ca((eu={},Pn(eu,an,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(eu,vn,{fass:"fa-solid",fasr:"fa-regular"}),eu)),B8=Ca((tu={},Pn(tu,an,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(tu,vn,{"fa-solid":"fass","fa-regular":"fasr"}),tu)),I8=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,yx="fa-layers-text",N8=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,F8=Ca((nu={},Pn(nu,an,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(nu,vn,{900:"fass",400:"fasr"}),nu)),bx=[1,2,3,4,5,6,7,8,9,10],L8=bx.concat([11,12,13,14,15,16,17,18,19,20]),H8=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Qr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},da=new Set;Object.keys(ca[an]).map(da.add.bind(da));Object.keys(ca[vn]).map(da.add.bind(da));var z8=[].concat(qf,Ta(da),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Qr.GROUP,Qr.SWAP_OPACITY,Qr.PRIMARY,Qr.SECONDARY]).concat(bx.map(function(e){return"".concat(e,"x")})).concat(L8.map(function(e){return"w-".concat(e)})),Ks=Dr.FontAwesomeConfig||{};function j8(e){var o=ln.querySelector("script["+e+"]");if(o)return o.getAttribute(e)}function U8(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(ln&&typeof ln.querySelector=="function"){var V8=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];V8.forEach(function(e){var o=Uf(e,2),n=o[0],a=o[1],u=U8(j8(n));u!=null&&(Ks[a]=u)})}var wx={styleDefault:"solid",familyDefault:"classic",cssPrefix:gx,replacementClass:mx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ks.familyPrefix&&(Ks.cssPrefix=Ks.familyPrefix);var as=st(st({},wx),Ks);as.autoReplaceSvg||(as.observeMutations=!1);var ct={};Object.keys(wx).forEach(function(e){Object.defineProperty(ct,e,{enumerable:!0,set:function(n){as[e]=n,Js.forEach(function(a){return a(ct)})},get:function(){return as[e]}})});Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(o){as.cssPrefix=o,Js.forEach(function(n){return n(ct)})},get:function(){return as.cssPrefix}});Dr.FontAwesomeConfig=ct;var Js=[];function W8(e){return Js.push(e),function(){Js.splice(Js.indexOf(e),1)}}var br=Vd,Ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function G8(e){if(!(!e||!rr)){var o=ln.createElement("style");o.setAttribute("type","text/css"),o.innerHTML=e;for(var n=ln.head.childNodes,a=null,u=n.length-1;u>-1;u--){var h=n[u],f=(h.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(a=h)}return ln.head.insertBefore(o,a),e}}var q8="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function fa(){for(var e=12,o="";e-- >0;)o+=q8[Math.random()*62|0];return o}function ds(e){for(var o=[],n=(e||[]).length>>>0;n--;)o[n]=e[n];return o}function Xf(e){return e.classList?ds(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(o){return o})}function xx(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X8(e){return Object.keys(e||{}).reduce(function(o,n){return o+"".concat(n,'="').concat(xx(e[n]),'" ')},"").trim()}function oc(e){return Object.keys(e||{}).reduce(function(o,n){return o+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Zf(e){return e.size!==Ni.size||e.x!==Ni.x||e.y!==Ni.y||e.rotate!==Ni.rotate||e.flipX||e.flipY}function Z8(e){var o=e.transform,n=e.containerWidth,a=e.iconWidth,u={transform:"translate(".concat(n/2," 256)")},h="translate(".concat(o.x*32,", ").concat(o.y*32,") "),f="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),d="rotate(".concat(o.rotate," 0 0)"),g={transform:"".concat(h," ").concat(f," ").concat(d)},m={transform:"translate(".concat(a/2*-1," -256)")};return{outer:u,inner:g,path:m}}function Y8(e){var o=e.transform,n=e.width,a=n===void 0?Vd:n,u=e.height,h=u===void 0?Vd:u,f=e.startCentered,d=f===void 0?!1:f,g="";return d&&px?g+="translate(".concat(o.x/br-a/2,"em, ").concat(o.y/br-h/2,"em) "):d?g+="translate(calc(-50% + ".concat(o.x/br,"em), calc(-50% + ").concat(o.y/br,"em)) "):g+="translate(".concat(o.x/br,"em, ").concat(o.y/br,"em) "),g+="scale(".concat(o.size/br*(o.flipX?-1:1),", ").concat(o.size/br*(o.flipY?-1:1),") "),g+="rotate(".concat(o.rotate,"deg) "),g}var K8=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function _x(){var e=gx,o=mx,n=ct.cssPrefix,a=ct.replacementClass,u=K8;if(n!==e||a!==o){var h=new RegExp("\\.".concat(e,"\\-"),"g"),f=new RegExp("\\--".concat(e,"\\-"),"g"),d=new RegExp("\\.".concat(o),"g");u=u.replace(h,".".concat(n,"-")).replace(f,"--".concat(n,"-")).replace(d,".".concat(a))}return u}var p1=!1;function pd(){ct.autoAddCss&&!p1&&(G8(_x()),p1=!0)}var J8={mixout:function(){return{dom:{css:_x,insertCss:pd}}},hooks:function(){return{beforeDOMElementCreation:function(){pd()},beforeI2svg:function(){pd()}}}},Qi=Dr||{};Qi[Ji]||(Qi[Ji]={});Qi[Ji].styles||(Qi[Ji].styles={});Qi[Ji].hooks||(Qi[Ji].hooks={});Qi[Ji].shims||(Qi[Ji].shims=[]);var _i=Qi[Ji],Ex=[],Q8=function e(){ln.removeEventListener("DOMContentLoaded",e),Tu=1,Ex.map(function(o){return o()})},Tu=!1;rr&&(Tu=(ln.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ln.readyState),Tu||ln.addEventListener("DOMContentLoaded",Q8));function $8(e){!rr||(Tu?setTimeout(e,0):Ex.push(e))}function Pa(e){var o=e.tag,n=e.attributes,a=n===void 0?{}:n,u=e.children,h=u===void 0?[]:u;return typeof e=="string"?xx(e):"<".concat(o," ").concat(X8(a),">").concat(h.map(Pa).join(""),"</").concat(o,">")}function g1(e,o,n){if(e&&e[o]&&e[o][n])return{prefix:o,iconName:n,icon:e[o][n]}}var ez=function(o,n){return function(a,u,h,f){return o.call(n,a,u,h,f)}},gd=function(o,n,a,u){var h=Object.keys(o),f=h.length,d=u!==void 0?ez(n,u):n,g,m,x;for(a===void 0?(g=1,x=o[h[0]]):(g=0,x=a);g<f;g++)m=h[g],x=d(x,o[m],m,o);return x};function tz(e){for(var o=[],n=0,a=e.length;n<a;){var u=e.charCodeAt(n++);if(u>=55296&&u<=56319&&n<a){var h=e.charCodeAt(n++);(h&64512)==56320?o.push(((u&1023)<<10)+(h&1023)+65536):(o.push(u),n--)}else o.push(u)}return o}function Gd(e){var o=tz(e);return o.length===1?o[0].toString(16):null}function nz(e,o){var n=e.length,a=e.charCodeAt(o),u;return a>=55296&&a<=56319&&n>o+1&&(u=e.charCodeAt(o+1),u>=56320&&u<=57343)?(a-55296)*1024+u-56320+65536:a}function m1(e){return Object.keys(e).reduce(function(o,n){var a=e[n],u=!!a.icon;return u?o[a.iconName]=a.icon:o[n]=a,o},{})}function qd(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.skipHooks,u=a===void 0?!1:a,h=m1(o);typeof _i.hooks.addPack=="function"&&!u?_i.hooks.addPack(e,m1(o)):_i.styles[e]=st(st({},_i.styles[e]||{}),h),e==="fas"&&qd("fa",o)}var iu,ru,ou,Go=_i.styles,iz=_i.shims,rz=(iu={},Pn(iu,an,Object.values(ha[an])),Pn(iu,vn,Object.values(ha[vn])),iu),Yf=null,Sx={},Tx={},Cx={},Px={},kx={},oz=(ru={},Pn(ru,an,Object.keys(ua[an])),Pn(ru,vn,Object.keys(ua[vn])),ru);function sz(e){return~z8.indexOf(e)}function az(e,o){var n=o.split("-"),a=n[0],u=n.slice(1).join("-");return a===e&&u!==""&&!sz(u)?u:null}var Ax=function(){var o=function(h){return gd(Go,function(f,d,g){return f[g]=gd(d,h,{}),f},{})};Sx=o(function(u,h,f){if(h[3]&&(u[h[3]]=f),h[2]){var d=h[2].filter(function(g){return typeof g=="number"});d.forEach(function(g){u[g.toString(16)]=f})}return u}),Tx=o(function(u,h,f){if(u[f]=f,h[2]){var d=h[2].filter(function(g){return typeof g=="string"});d.forEach(function(g){u[g]=f})}return u}),kx=o(function(u,h,f){var d=h[2];return u[f]=f,d.forEach(function(g){u[g]=f}),u});var n="far"in Go||ct.autoFetchSvg,a=gd(iz,function(u,h){var f=h[0],d=h[1],g=h[2];return d==="far"&&!n&&(d="fas"),typeof f=="string"&&(u.names[f]={prefix:d,iconName:g}),typeof f=="number"&&(u.unicodes[f.toString(16)]={prefix:d,iconName:g}),u},{names:{},unicodes:{}});Cx=a.names,Px=a.unicodes,Yf=sc(ct.styleDefault,{family:ct.familyDefault})};W8(function(e){Yf=sc(e.styleDefault,{family:ct.familyDefault})});Ax();function Kf(e,o){return(Sx[e]||{})[o]}function lz(e,o){return(Tx[e]||{})[o]}function $r(e,o){return(kx[e]||{})[o]}function Rx(e){return Cx[e]||{prefix:null,iconName:null}}function uz(e){var o=Px[e],n=Kf("fas",e);return o||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Mr(){return Yf}var Jf=function(){return{prefix:null,iconName:null,rest:[]}};function sc(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.family,a=n===void 0?an:n,u=ua[a][e],h=ca[a][e]||ca[a][u],f=e in _i.styles?e:null;return h||f||null}var v1=(ou={},Pn(ou,an,Object.keys(ha[an])),Pn(ou,vn,Object.keys(ha[vn])),ou);function ac(e){var o,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.skipLookups,u=a===void 0?!1:a,h=(o={},Pn(o,an,"".concat(ct.cssPrefix,"-").concat(an)),Pn(o,vn,"".concat(ct.cssPrefix,"-").concat(vn)),o),f=null,d=an;(e.includes(h[an])||e.some(function(m){return v1[an].includes(m)}))&&(d=an),(e.includes(h[vn])||e.some(function(m){return v1[vn].includes(m)}))&&(d=vn);var g=e.reduce(function(m,x){var _=az(ct.cssPrefix,x);if(Go[x]?(x=rz[d].includes(x)?B8[d][x]:x,f=x,m.prefix=x):oz[d].indexOf(x)>-1?(f=x,m.prefix=sc(x,{family:d})):_?m.iconName=_:x!==ct.replacementClass&&x!==h[an]&&x!==h[vn]&&m.rest.push(x),!u&&m.prefix&&m.iconName){var T=f==="fa"?Rx(m.iconName):{},B=$r(m.prefix,m.iconName);T.prefix&&(f=null),m.iconName=T.iconName||B||m.iconName,m.prefix=T.prefix||m.prefix,m.prefix==="far"&&!Go.far&&Go.fas&&!ct.autoFetchSvg&&(m.prefix="fas")}return m},Jf());return(e.includes("fa-brands")||e.includes("fab"))&&(g.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(g.prefix="fad"),!g.prefix&&d===vn&&(Go.fass||ct.autoFetchSvg)&&(g.prefix="fass",g.iconName=$r(g.prefix,g.iconName)||g.iconName),(g.prefix==="fa"||f==="fa")&&(g.prefix=Mr()||"fas"),g}var cz=function(){function e(){_8(this,e),this.definitions={}}return E8(e,[{key:"add",value:function(){for(var n=this,a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];var f=u.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(d){n.definitions[d]=st(st({},n.definitions[d]||{}),f[d]),qd(d,f[d]);var g=ha[an][d];g&&qd(g,f[d]),Ax()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,a){var u=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(u).map(function(h){var f=u[h],d=f.prefix,g=f.iconName,m=f.icon,x=m[2];n[d]||(n[d]={}),x.length>0&&x.forEach(function(_){typeof _=="string"&&(n[d][_]=m)}),n[d][g]=m}),n}}]),e}(),y1=[],qo={},$o={},hz=Object.keys($o);function dz(e,o){var n=o.mixoutsTo;return y1=e,qo={},Object.keys($o).forEach(function(a){hz.indexOf(a)===-1&&delete $o[a]}),y1.forEach(function(a){var u=a.mixout?a.mixout():{};if(Object.keys(u).forEach(function(f){typeof u[f]=="function"&&(n[f]=u[f]),Su(u[f])==="object"&&Object.keys(u[f]).forEach(function(d){n[f]||(n[f]={}),n[f][d]=u[f][d]})}),a.hooks){var h=a.hooks();Object.keys(h).forEach(function(f){qo[f]||(qo[f]=[]),qo[f].push(h[f])})}a.provides&&a.provides($o)}),n}function Xd(e,o){for(var n=arguments.length,a=new Array(n>2?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];var h=qo[e]||[];return h.forEach(function(f){o=f.apply(null,[o].concat(a))}),o}function fo(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var u=qo[e]||[];u.forEach(function(h){h.apply(null,n)})}function $i(){var e=arguments[0],o=Array.prototype.slice.call(arguments,1);return $o[e]?$o[e].apply(null,o):void 0}function Zd(e){e.prefix==="fa"&&(e.prefix="fas");var o=e.iconName,n=e.prefix||Mr();if(!!o)return o=$r(n,o)||o,g1(Ox.definitions,n,o)||g1(_i.styles,n,o)}var Ox=new cz,fz=function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,fo("noAuto")},pz={i2svg:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return rr?(fo("beforeI2svg",o),$i("pseudoElements2svg",o),$i("i2svg",o)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.autoReplaceSvgRoot;ct.autoReplaceSvg===!1&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,$8(function(){mz({autoReplaceSvgRoot:n}),fo("watch",o)})}},gz={icon:function(o){if(o===null)return null;if(Su(o)==="object"&&o.prefix&&o.iconName)return{prefix:o.prefix,iconName:$r(o.prefix,o.iconName)||o.iconName};if(Array.isArray(o)&&o.length===2){var n=o[1].indexOf("fa-")===0?o[1].slice(3):o[1],a=sc(o[0]);return{prefix:a,iconName:$r(a,n)||n}}if(typeof o=="string"&&(o.indexOf("".concat(ct.cssPrefix,"-"))>-1||o.match(I8))){var u=ac(o.split(" "),{skipLookups:!0});return{prefix:u.prefix||Mr(),iconName:$r(u.prefix,u.iconName)||u.iconName}}if(typeof o=="string"){var h=Mr();return{prefix:h,iconName:$r(h,o)||o}}}},fi={noAuto:fz,config:ct,dom:pz,parse:gz,library:Ox,findIconDefinition:Zd,toHtml:Pa},mz=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.autoReplaceSvgRoot,a=n===void 0?ln:n;(Object.keys(_i.styles).length>0||ct.autoFetchSvg)&&rr&&ct.autoReplaceSvg&&fi.dom.i2svg({node:a})};function lc(e,o){return Object.defineProperty(e,"abstract",{get:o}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(a){return Pa(a)})}}),Object.defineProperty(e,"node",{get:function(){if(!!rr){var a=ln.createElement("div");return a.innerHTML=e.html,a.children}}}),e}function vz(e){var o=e.children,n=e.main,a=e.mask,u=e.attributes,h=e.styles,f=e.transform;if(Zf(f)&&n.found&&!a.found){var d=n.width,g=n.height,m={x:d/g/2,y:.5};u.style=oc(st(st({},h),{},{"transform-origin":"".concat(m.x+f.x/16,"em ").concat(m.y+f.y/16,"em")}))}return[{tag:"svg",attributes:u,children:o}]}function yz(e){var o=e.prefix,n=e.iconName,a=e.children,u=e.attributes,h=e.symbol,f=h===!0?"".concat(o,"-").concat(ct.cssPrefix,"-").concat(n):h;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:st(st({},u),{},{id:f}),children:a}]}]}function Qf(e){var o=e.icons,n=o.main,a=o.mask,u=e.prefix,h=e.iconName,f=e.transform,d=e.symbol,g=e.title,m=e.maskId,x=e.titleId,_=e.extra,T=e.watchable,B=T===void 0?!1:T,M=a.found?a:n,j=M.width,V=M.height,F=u==="fak",L=[ct.replacementClass,h?"".concat(ct.cssPrefix,"-").concat(h):""].filter(function(xe){return _.classes.indexOf(xe)===-1}).filter(function(xe){return xe!==""||!!xe}).concat(_.classes).join(" "),Y={children:[],attributes:st(st({},_.attributes),{},{"data-prefix":u,"data-icon":h,class:L,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(V)})},ce=F&&!~_.classes.indexOf("fa-fw")?{width:"".concat(j/V*16*.0625,"em")}:{};B&&(Y.attributes[ho]=""),g&&(Y.children.push({tag:"title",attributes:{id:Y.attributes["aria-labelledby"]||"title-".concat(x||fa())},children:[g]}),delete Y.attributes.title);var pe=st(st({},Y),{},{prefix:u,iconName:h,main:n,mask:a,maskId:m,transform:f,symbol:d,styles:st(st({},ce),_.styles)}),me=a.found&&n.found?$i("generateAbstractMask",pe)||{children:[],attributes:{}}:$i("generateAbstractIcon",pe)||{children:[],attributes:{}},ve=me.children,le=me.attributes;return pe.children=ve,pe.attributes=le,d?yz(pe):vz(pe)}function b1(e){var o=e.content,n=e.width,a=e.height,u=e.transform,h=e.title,f=e.extra,d=e.watchable,g=d===void 0?!1:d,m=st(st(st({},f.attributes),h?{title:h}:{}),{},{class:f.classes.join(" ")});g&&(m[ho]="");var x=st({},f.styles);Zf(u)&&(x.transform=Y8({transform:u,startCentered:!0,width:n,height:a}),x["-webkit-transform"]=x.transform);var _=oc(x);_.length>0&&(m.style=_);var T=[];return T.push({tag:"span",attributes:m,children:[o]}),h&&T.push({tag:"span",attributes:{class:"sr-only"},children:[h]}),T}function bz(e){var o=e.content,n=e.title,a=e.extra,u=st(st(st({},a.attributes),n?{title:n}:{}),{},{class:a.classes.join(" ")}),h=oc(a.styles);h.length>0&&(u.style=h);var f=[];return f.push({tag:"span",attributes:u,children:[o]}),n&&f.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),f}var md=_i.styles;function Yd(e){var o=e[0],n=e[1],a=e.slice(4),u=Uf(a,1),h=u[0],f=null;return Array.isArray(h)?f={tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Qr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Qr.SECONDARY),fill:"currentColor",d:h[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(Qr.PRIMARY),fill:"currentColor",d:h[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:h}},{found:!0,width:o,height:n,icon:f}}var wz={found:!1,width:512,height:512};function xz(e,o){!vx&&!ct.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(o,'" is missing.'))}function Kd(e,o){var n=o;return o==="fa"&&ct.styleDefault!==null&&(o=Mr()),new Promise(function(a,u){if($i("missingIconAbstract"),n==="fa"){var h=Rx(e)||{};e=h.iconName||e,o=h.prefix||o}if(e&&o&&md[o]&&md[o][e]){var f=md[o][e];return a(Yd(f))}xz(e,o),a(st(st({},wz),{},{icon:ct.showMissingIcons&&e?$i("missingIconAbstract")||{}:{}}))})}var w1=function(){},Jd=ct.measurePerformance&&Jl&&Jl.mark&&Jl.measure?Jl:{mark:w1,measure:w1},js='FA "6.3.0"',_z=function(o){return Jd.mark("".concat(js," ").concat(o," begins")),function(){return Dx(o)}},Dx=function(o){Jd.mark("".concat(js," ").concat(o," ends")),Jd.measure("".concat(js," ").concat(o),"".concat(js," ").concat(o," begins"),"".concat(js," ").concat(o," ends"))},$f={begin:_z,end:Dx},du=function(){};function x1(e){var o=e.getAttribute?e.getAttribute(ho):null;return typeof o=="string"}function Ez(e){var o=e.getAttribute?e.getAttribute(Wf):null,n=e.getAttribute?e.getAttribute(Gf):null;return o&&n}function Sz(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(ct.replacementClass)}function Tz(){if(ct.autoReplaceSvg===!0)return fu.replace;var e=fu[ct.autoReplaceSvg];return e||fu.replace}function Cz(e){return ln.createElementNS("http://www.w3.org/2000/svg",e)}function Pz(e){return ln.createElement(e)}function Mx(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.ceFn,a=n===void 0?e.tag==="svg"?Cz:Pz:n;if(typeof e=="string")return ln.createTextNode(e);var u=a(e.tag);Object.keys(e.attributes||[]).forEach(function(f){u.setAttribute(f,e.attributes[f])});var h=e.children||[];return h.forEach(function(f){u.appendChild(Mx(f,{ceFn:a}))}),u}function kz(e){var o=" ".concat(e.outerHTML," ");return o="".concat(o,"Font Awesome fontawesome.com "),o}var fu={replace:function(o){var n=o[0];if(n.parentNode)if(o[1].forEach(function(u){n.parentNode.insertBefore(Mx(u),n)}),n.getAttribute(ho)===null&&ct.keepOriginalSource){var a=ln.createComment(kz(n));n.parentNode.replaceChild(a,n)}else n.remove()},nest:function(o){var n=o[0],a=o[1];if(~Xf(n).indexOf(ct.replacementClass))return fu.replace(o);var u=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var h=a[0].attributes.class.split(" ").reduce(function(d,g){return g===ct.replacementClass||g.match(u)?d.toSvg.push(g):d.toNode.push(g),d},{toNode:[],toSvg:[]});a[0].attributes.class=h.toSvg.join(" "),h.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",h.toNode.join(" "))}var f=a.map(function(d){return Pa(d)}).join(`
`);n.setAttribute(ho,""),n.innerHTML=f}};function _1(e){e()}function Bx(e,o){var n=typeof o=="function"?o:du;if(e.length===0)n();else{var a=_1;ct.mutateApproach===D8&&(a=Dr.requestAnimationFrame||_1),a(function(){var u=Tz(),h=$f.begin("mutate");e.map(u),h(),n()})}}var ep=!1;function Ix(){ep=!0}function Qd(){ep=!1}var Cu=null;function E1(e){if(!!d1&&!!ct.observeMutations){var o=e.treeCallback,n=o===void 0?du:o,a=e.nodeCallback,u=a===void 0?du:a,h=e.pseudoElementsCallback,f=h===void 0?du:h,d=e.observeMutationsRoot,g=d===void 0?ln:d;Cu=new d1(function(m){if(!ep){var x=Mr();ds(m).forEach(function(_){if(_.type==="childList"&&_.addedNodes.length>0&&!x1(_.addedNodes[0])&&(ct.searchPseudoElements&&f(_.target),n(_.target)),_.type==="attributes"&&_.target.parentNode&&ct.searchPseudoElements&&f(_.target.parentNode),_.type==="attributes"&&x1(_.target)&&~H8.indexOf(_.attributeName))if(_.attributeName==="class"&&Ez(_.target)){var T=ac(Xf(_.target)),B=T.prefix,M=T.iconName;_.target.setAttribute(Wf,B||x),M&&_.target.setAttribute(Gf,M)}else Sz(_.target)&&u(_.target)})}}),rr&&Cu.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Az(){!Cu||Cu.disconnect()}function Rz(e){var o=e.getAttribute("style"),n=[];return o&&(n=o.split(";").reduce(function(a,u){var h=u.split(":"),f=h[0],d=h.slice(1);return f&&d.length>0&&(a[f]=d.join(":").trim()),a},{})),n}function Oz(e){var o=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),a=e.innerText!==void 0?e.innerText.trim():"",u=ac(Xf(e));return u.prefix||(u.prefix=Mr()),o&&n&&(u.prefix=o,u.iconName=n),u.iconName&&u.prefix||(u.prefix&&a.length>0&&(u.iconName=lz(u.prefix,e.innerText)||Kf(u.prefix,Gd(e.innerText))),!u.iconName&&ct.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(u.iconName=e.firstChild.data)),u}function Dz(e){var o=ds(e.attributes).reduce(function(u,h){return u.name!=="class"&&u.name!=="style"&&(u[h.name]=h.value),u},{}),n=e.getAttribute("title"),a=e.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?o["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(a||fa()):(o["aria-hidden"]="true",o.focusable="false")),o}function Mz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function S1(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Oz(e),a=n.iconName,u=n.prefix,h=n.rest,f=Dz(e),d=Xd("parseNodeAttributes",{},e),g=o.styleParser?Rz(e):[];return st({iconName:a,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:u,transform:Ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:h,styles:g,attributes:f}},d)}var Bz=_i.styles;function Nx(e){var o=ct.autoReplaceSvg==="nest"?S1(e,{styleParser:!1}):S1(e);return~o.extra.classes.indexOf(yx)?$i("generateLayersText",e,o):$i("generateSvgReplacementMutation",e,o)}var Br=new Set;qf.map(function(e){Br.add("fa-".concat(e))});Object.keys(ua[an]).map(Br.add.bind(Br));Object.keys(ua[vn]).map(Br.add.bind(Br));Br=Ta(Br);function T1(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!rr)return Promise.resolve();var n=ln.documentElement.classList,a=function(_){return n.add("".concat(f1,"-").concat(_))},u=function(_){return n.remove("".concat(f1,"-").concat(_))},h=ct.autoFetchSvg?Br:qf.map(function(x){return"fa-".concat(x)}).concat(Object.keys(Bz));h.includes("fa")||h.push("fa");var f=[".".concat(yx,":not([").concat(ho,"])")].concat(h.map(function(x){return".".concat(x,":not([").concat(ho,"])")})).join(", ");if(f.length===0)return Promise.resolve();var d=[];try{d=ds(e.querySelectorAll(f))}catch{}if(d.length>0)a("pending"),u("complete");else return Promise.resolve();var g=$f.begin("onTree"),m=d.reduce(function(x,_){try{var T=Nx(_);T&&x.push(T)}catch(B){vx||B.name==="MissingIcon"&&console.error(B)}return x},[]);return new Promise(function(x,_){Promise.all(m).then(function(T){Bx(T,function(){a("active"),a("complete"),u("pending"),typeof o=="function"&&o(),g(),x()})}).catch(function(T){g(),_(T)})})}function Iz(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Nx(e).then(function(n){n&&Bx([n],o)})}function Nz(e){return function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(o||{}).icon?o:Zd(o||{}),u=n.mask;return u&&(u=(u||{}).icon?u:Zd(u||{})),e(a,st(st({},n),{},{mask:u}))}}var Fz=function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.transform,u=a===void 0?Ni:a,h=n.symbol,f=h===void 0?!1:h,d=n.mask,g=d===void 0?null:d,m=n.maskId,x=m===void 0?null:m,_=n.title,T=_===void 0?null:_,B=n.titleId,M=B===void 0?null:B,j=n.classes,V=j===void 0?[]:j,F=n.attributes,L=F===void 0?{}:F,Y=n.styles,ce=Y===void 0?{}:Y;if(!!o){var pe=o.prefix,me=o.iconName,ve=o.icon;return lc(st({type:"icon"},o),function(){return fo("beforeDOMElementCreation",{iconDefinition:o,params:n}),ct.autoA11y&&(T?L["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(M||fa()):(L["aria-hidden"]="true",L.focusable="false")),Qf({icons:{main:Yd(ve),mask:g?Yd(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:me,transform:st(st({},Ni),u),symbol:f,title:T,maskId:x,titleId:M,extra:{attributes:L,styles:ce,classes:V}})})}},Lz={mixout:function(){return{icon:Nz(Fz)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=T1,n.nodeCallback=Iz,n}}},provides:function(o){o.i2svg=function(n){var a=n.node,u=a===void 0?ln:a,h=n.callback,f=h===void 0?function(){}:h;return T1(u,f)},o.generateSvgReplacementMutation=function(n,a){var u=a.iconName,h=a.title,f=a.titleId,d=a.prefix,g=a.transform,m=a.symbol,x=a.mask,_=a.maskId,T=a.extra;return new Promise(function(B,M){Promise.all([Kd(u,d),x.iconName?Kd(x.iconName,x.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(j){var V=Uf(j,2),F=V[0],L=V[1];B([n,Qf({icons:{main:F,mask:L},prefix:d,iconName:u,transform:g,symbol:m,maskId:_,title:h,titleId:f,extra:T,watchable:!0})])}).catch(M)})},o.generateAbstractIcon=function(n){var a=n.children,u=n.attributes,h=n.main,f=n.transform,d=n.styles,g=oc(d);g.length>0&&(u.style=g);var m;return Zf(f)&&(m=$i("generateAbstractTransformGrouping",{main:h,transform:f,containerWidth:h.width,iconWidth:h.width})),a.push(m||h.icon),{children:a,attributes:u}}}},Hz={mixout:function(){return{layer:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.classes,h=u===void 0?[]:u;return lc({type:"layer"},function(){fo("beforeDOMElementCreation",{assembler:n,params:a});var f=[];return n(function(d){Array.isArray(d)?d.map(function(g){f=f.concat(g.abstract)}):f=f.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers")].concat(Ta(h)).join(" ")},children:f}]})}}}},zz={mixout:function(){return{counter:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.title,h=u===void 0?null:u,f=a.classes,d=f===void 0?[]:f,g=a.attributes,m=g===void 0?{}:g,x=a.styles,_=x===void 0?{}:x;return lc({type:"counter",content:n},function(){return fo("beforeDOMElementCreation",{content:n,params:a}),bz({content:n.toString(),title:h,extra:{attributes:m,styles:_,classes:["".concat(ct.cssPrefix,"-layers-counter")].concat(Ta(d))}})})}}}},jz={mixout:function(){return{text:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.transform,h=u===void 0?Ni:u,f=a.title,d=f===void 0?null:f,g=a.classes,m=g===void 0?[]:g,x=a.attributes,_=x===void 0?{}:x,T=a.styles,B=T===void 0?{}:T;return lc({type:"text",content:n},function(){return fo("beforeDOMElementCreation",{content:n,params:a}),b1({content:n,transform:st(st({},Ni),h),title:d,extra:{attributes:_,styles:B,classes:["".concat(ct.cssPrefix,"-layers-text")].concat(Ta(m))}})})}}},provides:function(o){o.generateLayersText=function(n,a){var u=a.title,h=a.transform,f=a.extra,d=null,g=null;if(px){var m=parseInt(getComputedStyle(n).fontSize,10),x=n.getBoundingClientRect();d=x.width/m,g=x.height/m}return ct.autoA11y&&!u&&(f.attributes["aria-hidden"]="true"),Promise.resolve([n,b1({content:n.innerHTML,width:d,height:g,transform:h,title:u,extra:f,watchable:!0})])}}},Uz=new RegExp('"',"ug"),C1=[1105920,1112319];function Vz(e){var o=e.replace(Uz,""),n=nz(o,0),a=n>=C1[0]&&n<=C1[1],u=o.length===2?o[0]===o[1]:!1;return{value:Gd(u?o[0]:o),isSecondary:a||u}}function P1(e,o){var n="".concat(O8).concat(o.replace(":","-"));return new Promise(function(a,u){if(e.getAttribute(n)!==null)return a();var h=ds(e.children),f=h.filter(function(ve){return ve.getAttribute(Wd)===o})[0],d=Dr.getComputedStyle(e,o),g=d.getPropertyValue("font-family").match(N8),m=d.getPropertyValue("font-weight"),x=d.getPropertyValue("content");if(f&&!g)return e.removeChild(f),a();if(g&&x!=="none"&&x!==""){var _=d.getPropertyValue("content"),T=~["Sharp"].indexOf(g[2])?vn:an,B=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(g[2])?ca[T][g[2].toLowerCase()]:F8[T][m],M=Vz(_),j=M.value,V=M.isSecondary,F=g[0].startsWith("FontAwesome"),L=Kf(B,j),Y=L;if(F){var ce=uz(j);ce.iconName&&ce.prefix&&(L=ce.iconName,B=ce.prefix)}if(L&&!V&&(!f||f.getAttribute(Wf)!==B||f.getAttribute(Gf)!==Y)){e.setAttribute(n,Y),f&&e.removeChild(f);var pe=Mz(),me=pe.extra;me.attributes[Wd]=o,Kd(L,B).then(function(ve){var le=Qf(st(st({},pe),{},{icons:{main:ve,mask:Jf()},prefix:B,iconName:Y,extra:me,watchable:!0})),xe=ln.createElement("svg");o==="::before"?e.insertBefore(xe,e.firstChild):e.appendChild(xe),xe.outerHTML=le.map(function(ze){return Pa(ze)}).join(`
`),e.removeAttribute(n),a()}).catch(u)}else a()}else a()})}function Wz(e){return Promise.all([P1(e,"::before"),P1(e,"::after")])}function Gz(e){return e.parentNode!==document.head&&!~M8.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Wd)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function k1(e){if(!!rr)return new Promise(function(o,n){var a=ds(e.querySelectorAll("*")).filter(Gz).map(Wz),u=$f.begin("searchPseudoElements");Ix(),Promise.all(a).then(function(){u(),Qd(),o()}).catch(function(){u(),Qd(),n()})})}var qz={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=k1,n}}},provides:function(o){o.pseudoElements2svg=function(n){var a=n.node,u=a===void 0?ln:a;ct.searchPseudoElements&&k1(u)}}},A1=!1,Xz={mixout:function(){return{dom:{unwatch:function(){Ix(),A1=!0}}}},hooks:function(){return{bootstrap:function(){E1(Xd("mutationObserverCallbacks",{}))},noAuto:function(){Az()},watch:function(n){var a=n.observeMutationsRoot;A1?Qd():E1(Xd("mutationObserverCallbacks",{observeMutationsRoot:a}))}}}},R1=function(o){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return o.toLowerCase().split(" ").reduce(function(a,u){var h=u.toLowerCase().split("-"),f=h[0],d=h.slice(1).join("-");if(f&&d==="h")return a.flipX=!0,a;if(f&&d==="v")return a.flipY=!0,a;if(d=parseFloat(d),isNaN(d))return a;switch(f){case"grow":a.size=a.size+d;break;case"shrink":a.size=a.size-d;break;case"left":a.x=a.x-d;break;case"right":a.x=a.x+d;break;case"up":a.y=a.y-d;break;case"down":a.y=a.y+d;break;case"rotate":a.rotate=a.rotate+d;break}return a},n)},Zz={mixout:function(){return{parse:{transform:function(n){return R1(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-transform");return u&&(n.transform=R1(u)),n}}},provides:function(o){o.generateAbstractTransformGrouping=function(n){var a=n.main,u=n.transform,h=n.containerWidth,f=n.iconWidth,d={transform:"translate(".concat(h/2," 256)")},g="translate(".concat(u.x*32,", ").concat(u.y*32,") "),m="scale(".concat(u.size/16*(u.flipX?-1:1),", ").concat(u.size/16*(u.flipY?-1:1),") "),x="rotate(".concat(u.rotate," 0 0)"),_={transform:"".concat(g," ").concat(m," ").concat(x)},T={transform:"translate(".concat(f/2*-1," -256)")},B={outer:d,inner:_,path:T};return{tag:"g",attributes:st({},B.outer),children:[{tag:"g",attributes:st({},B.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:st(st({},a.icon.attributes),B.path)}]}]}}}},vd={x:0,y:0,width:"100%",height:"100%"};function O1(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||o)&&(e.attributes.fill="black"),e}function Yz(e){return e.tag==="g"?e.children:[e]}var Kz={hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-mask"),h=u?ac(u.split(" ").map(function(f){return f.trim()})):Jf();return h.prefix||(h.prefix=Mr()),n.mask=h,n.maskId=a.getAttribute("data-fa-mask-id"),n}}},provides:function(o){o.generateAbstractMask=function(n){var a=n.children,u=n.attributes,h=n.main,f=n.mask,d=n.maskId,g=n.transform,m=h.width,x=h.icon,_=f.width,T=f.icon,B=Z8({transform:g,containerWidth:_,iconWidth:m}),M={tag:"rect",attributes:st(st({},vd),{},{fill:"white"})},j=x.children?{children:x.children.map(O1)}:{},V={tag:"g",attributes:st({},B.inner),children:[O1(st({tag:x.tag,attributes:st(st({},x.attributes),B.path)},j))]},F={tag:"g",attributes:st({},B.outer),children:[V]},L="mask-".concat(d||fa()),Y="clip-".concat(d||fa()),ce={tag:"mask",attributes:st(st({},vd),{},{id:L,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[M,F]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:Y},children:Yz(T)},ce]};return a.push(pe,{tag:"rect",attributes:st({fill:"currentColor","clip-path":"url(#".concat(Y,")"),mask:"url(#".concat(L,")")},vd)}),{children:a,attributes:u}}}},Jz={provides:function(o){var n=!1;Dr.matchMedia&&(n=Dr.matchMedia("(prefers-reduced-motion: reduce)").matches),o.missingIconAbstract=function(){var a=[],u={fill:"currentColor"},h={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:st(st({},u),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=st(st({},h),{},{attributeName:"opacity"}),d={tag:"circle",attributes:st(st({},u),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||d.children.push({tag:"animate",attributes:st(st({},h),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:st(st({},f),{},{values:"1;0;1;1;0;1;"})}),a.push(d),a.push({tag:"path",attributes:st(st({},u),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:st(st({},f),{},{values:"1;0;0;0;0;1;"})}]}),n||a.push({tag:"path",attributes:st(st({},u),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:st(st({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},Qz={hooks:function(){return{parseNodeAttributes:function(n,a){var u=a.getAttribute("data-fa-symbol"),h=u===null?!1:u===""?!0:u;return n.symbol=h,n}}}},$z=[J8,Lz,Hz,zz,jz,qz,Xz,Zz,Kz,Jz,Qz];dz($z,{mixoutsTo:fi});fi.noAuto;var Fx=fi.config,Pt=fi.library;fi.dom;var Pu=fi.parse;fi.findIconDefinition;fi.toHtml;var e7=fi.icon;fi.layer;var t7=fi.text;fi.counter;function D1(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,a)}return n}function xi(e){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?D1(Object(n),!0).forEach(function(a){Jn(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ku(e){return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ku(e)}function Jn(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function n7(e,o){if(e==null)return{};var n={},a=Object.keys(e),u,h;for(h=0;h<a.length;h++)u=a[h],!(o.indexOf(u)>=0)&&(n[u]=e[u]);return n}function i7(e,o){if(e==null)return{};var n=n7(e,o),a,u;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(u=0;u<h.length;u++)a=h[u],!(o.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}function $d(e){return r7(e)||o7(e)||s7(e)||a7()}function r7(e){if(Array.isArray(e))return ef(e)}function o7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s7(e,o){if(!!e){if(typeof e=="string")return ef(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,o)}}function ef(e,o){(o==null||o>e.length)&&(o=e.length);for(var n=0,a=new Array(o);n<o;n++)a[n]=e[n];return a}function a7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lx={exports:{}};(function(e){(function(o){var n=function(F,L,Y){if(!m(L)||_(L)||T(L)||B(L)||g(L))return L;var ce,pe=0,me=0;if(x(L))for(ce=[],me=L.length;pe<me;pe++)ce.push(n(F,L[pe],Y));else{ce={};for(var ve in L)Object.prototype.hasOwnProperty.call(L,ve)&&(ce[F(ve,Y)]=n(F,L[ve],Y))}return ce},a=function(F,L){L=L||{};var Y=L.separator||"_",ce=L.split||/(?=[A-Z])/;return F.split(ce).join(Y)},u=function(F){return M(F)?F:(F=F.replace(/[\-_\s]+(.)?/g,function(L,Y){return Y?Y.toUpperCase():""}),F.substr(0,1).toLowerCase()+F.substr(1))},h=function(F){var L=u(F);return L.substr(0,1).toUpperCase()+L.substr(1)},f=function(F,L){return a(F,L).toLowerCase()},d=Object.prototype.toString,g=function(F){return typeof F=="function"},m=function(F){return F===Object(F)},x=function(F){return d.call(F)=="[object Array]"},_=function(F){return d.call(F)=="[object Date]"},T=function(F){return d.call(F)=="[object RegExp]"},B=function(F){return d.call(F)=="[object Boolean]"},M=function(F){return F=F-0,F===F},j=function(F,L){var Y=L&&"process"in L?L.process:L;return typeof Y!="function"?F:function(ce,pe){return Y(ce,F,pe)}},V={camelize:u,decamelize:f,pascalize:h,depascalize:f,camelizeKeys:function(F,L){return n(j(u,L),F)},decamelizeKeys:function(F,L){return n(j(f,L),F,L)},pascalizeKeys:function(F,L){return n(j(h,L),F)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=V:o.humps=V})(l7)})(Lx);var u7=Lx.exports,c7=["class","style"];function h7(e){return e.split(";").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,n){var a=n.indexOf(":"),u=u7.camelize(n.slice(0,a)),h=n.slice(a+1).trim();return o[u]=h,o},{})}function d7(e){return e.split(/\s+/).reduce(function(o,n){return o[n]=!0,o},{})}function tp(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var a=(e.children||[]).map(function(g){return tp(g)}),u=Object.keys(e.attributes||{}).reduce(function(g,m){var x=e.attributes[m];switch(m){case"class":g.class=d7(x);break;case"style":g.style=h7(x);break;default:g.attrs[m]=x}return g},{attrs:{},class:{},style:{}});n.class;var h=n.style,f=h===void 0?{}:h,d=i7(n,c7);return is(e.tag,xi(xi(xi({},o),{},{class:u.class,style:xi(xi({},u.style),f)},u.attrs),d),a)}var Hx=!1;try{Hx=!0}catch{}function f7(){if(!Hx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Qs(e,o){return Array.isArray(o)&&o.length>0||!Array.isArray(o)&&o?Jn({},e,o):{}}function p7(e){var o,n=(o={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Jn(o,"fa-".concat(e.size),e.size!==null),Jn(o,"fa-rotate-".concat(e.rotation),e.rotation!==null),Jn(o,"fa-pull-".concat(e.pull),e.pull!==null),Jn(o,"fa-swap-opacity",e.swapOpacity),Jn(o,"fa-bounce",e.bounce),Jn(o,"fa-shake",e.shake),Jn(o,"fa-beat",e.beat),Jn(o,"fa-fade",e.fade),Jn(o,"fa-beat-fade",e.beatFade),Jn(o,"fa-flash",e.flash),Jn(o,"fa-spin-pulse",e.spinPulse),Jn(o,"fa-spin-reverse",e.spinReverse),o);return Object.keys(n).map(function(a){return n[a]?a:null}).filter(function(a){return a})}function M1(e){if(e&&ku(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Pu.icon)return Pu.icon(e);if(e===null)return null;if(ku(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var g7=vo({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(o){return[!0,!1,"horizontal","vertical","both"].indexOf(o)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(o){return["right","left"].indexOf(o)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(o){return[90,180,270].indexOf(Number.parseInt(o,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(o){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(o)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(o,n){var a=n.attrs,u=Rn(function(){return M1(o.icon)}),h=Rn(function(){return Qs("classes",p7(o))}),f=Rn(function(){return Qs("transform",typeof o.transform=="string"?Pu.transform(o.transform):o.transform)}),d=Rn(function(){return Qs("mask",M1(o.mask))}),g=Rn(function(){return e7(u.value,xi(xi(xi(xi({},h.value),f.value),d.value),{},{symbol:o.symbol,title:o.title}))});dn(g,function(x){if(!x)return f7("Could not find one or more icon(s)",u.value,d.value)},{immediate:!0});var m=Rn(function(){return g.value?tp(g.value.abstract[0],{},a):null});return function(){return m.value}}});vo({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(o,n){var a=n.slots,u=Fx.familyPrefix,h=Rn(function(){return["".concat(u,"-layers")].concat($d(o.fixedWidth?["".concat(u,"-fw")]:[]))});return function(){return is("div",{class:h.value},a.default?a.default():[])}}});vo({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(o){return["bottom-left","bottom-right","top-left","top-right"].indexOf(o)>-1}}},setup:function(o,n){var a=n.attrs,u=Fx.familyPrefix,h=Rn(function(){return Qs("classes",[].concat($d(o.counter?["".concat(u,"-layers-counter")]:[]),$d(o.position?["".concat(u,"-layers-").concat(o.position)]:[])))}),f=Rn(function(){return Qs("transform",typeof o.transform=="string"?Pu.transform(o.transform):o.transform)}),d=Rn(function(){var m=t7(o.value.toString(),xi(xi({},f.value),h.value)),x=m.abstract;return o.counter&&(x[0].attributes.class=x[0].attributes.class.replace("fa-layers-text","")),x[0]}),g=Rn(function(){return tp(d.value,{},a)});return function(){return g.value}}});var m7={prefix:"fas",iconName:"circle-chevron-right",icon:[512,512,["chevron-circle-right"],"f138","M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"]},v7=m7,y7={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM184 232H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},b7=y7,w7={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},x7={prefix:"fas",iconName:"code-pull-request",icon:[512,512,[],"e13c","M305.8 2.1C314.4 5.9 320 14.5 320 24V64h16c70.7 0 128 57.3 128 128V358.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V192c0-35.3-28.7-64-64-64H320v40c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1zM104 80c0-13.3-10.7-24-24-24S56 66.7 56 80s10.7 24 24 24s24-10.7 24-24zm8 73.3V358.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80c0 32.8-19.7 61-48 73.3zM104 432c0-13.3-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24s24-10.7 24-24zm328 24c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},_7={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},E7={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},S7={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M201.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 173.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},T7={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},C7={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},P7={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},k7={prefix:"fas",iconName:"maximize",icon:[448,512,["expand-arrows-alt"],"f31e","M168 32H24C10.7 32 0 42.7 0 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79L81 335 41 295c-6.9-6.9-17.2-8.9-26.2-5.2S0 302.3 0 312V456c0 13.3 10.7 24 24 24H168c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H424c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H280c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S177.7 32 168 32z"]},A7={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},R7={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},O7={prefix:"fas",iconName:"minimize",icon:[512,512,["compress-arrows-alt"],"f78c","M456 224H312c-13.3 0-24-10.7-24-24V56c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l40 40L442.3 5.7C446 2 450.9 0 456 0s10 2 13.7 5.7l36.7 36.7C510 46 512 50.9 512 56s-2 10-5.7 13.7L433 143l40 40c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8zm0 64c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-40 40 73.4 73.4c3.6 3.6 5.7 8.5 5.7 13.7s-2 10-5.7 13.7l-36.7 36.7C466 510 461.1 512 456 512s-10-2-13.7-5.7L369 433l-40 40c-6.9 6.9-17.2 8.9-26.2 5.2s-14.8-12.5-14.8-22.2V312c0-13.3 10.7-24 24-24H456zm-256 0c13.3 0 24 10.7 24 24V456c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-40-40L69.7 506.3C66 510 61.1 512 56 512s-10-2-13.7-5.7L5.7 469.7C2 466 0 461.1 0 456s2-10 5.7-13.7L79 369 39 329c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8H200zM56 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l40-40L5.7 69.7C2 66 0 61.1 0 56s2-10 5.7-13.7L42.3 5.7C46 2 50.9 0 56 0s10 2 13.7 5.7L143 79l40-40c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2V200c0 13.3-10.7 24-24 24H56z"]},D7={prefix:"fas",iconName:"file-import",icon:[512,512,["arrow-right-to-file"],"f56f","M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z"]},M7={prefix:"fas",iconName:"vector-square",icon:[448,512,[],"f5cb","M368 80h32v32H368V80zM352 32c-17.7 0-32 14.3-32 32H128c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64v64c0 17.7 14.3 32 32 32V352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32H320c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32V160c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H352zM96 160c17.7 0 32-14.3 32-32H320c0 17.7 14.3 32 32 32V352c-17.7 0-32 14.3-32 32H128c0-17.7-14.3-32-32-32V160zM48 400H80v32H48V400zm320 32V400h32v32H368zM48 112V80H80v32H48z"]},B7={prefix:"fas",iconName:"language",icon:[640,512,[],"f1ab","M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3 0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1 .1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2L179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4c.9 .6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9l-18.9-11.3c-4.5-2.7-8.8-5.5-13.1-8.5c-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8l-12.2-12.2c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6 .5 .5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"]},I7={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},N7={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},F7={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16H288 216s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24V440c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"]},L7={prefix:"fas",iconName:"object-ungroup",icon:[640,512,[],"f248","M32 119.4C12.9 108.4 0 87.7 0 64C0 28.7 28.7 0 64 0c23.7 0 44.4 12.9 55.4 32H328.6C339.6 12.9 360.3 0 384 0c35.3 0 64 28.7 64 64c0 23.7-12.9 44.4-32 55.4V232.6c19.1 11.1 32 31.7 32 55.4c0 35.3-28.7 64-64 64c-23.7 0-44.4-12.9-55.4-32H119.4c-11.1 19.1-31.7 32-55.4 32c-35.3 0-64-28.7-64-64c0-23.7 12.9-44.4 32-55.4V119.4zM119.4 96c-5.6 9.7-13.7 17.8-23.4 23.4V232.6c9.7 5.6 17.8 13.7 23.4 23.4H328.6c5.6-9.7 13.7-17.8 23.4-23.4V119.4c-9.7-5.6-17.8-13.7-23.4-23.4H119.4zm192 384c-11.1 19.1-31.7 32-55.4 32c-35.3 0-64-28.7-64-64c0-23.7 12.9-44.4 32-55.4V352h64v40.6c9.7 5.6 17.8 13.7 23.4 23.4H520.6c5.6-9.7 13.7-17.8 23.4-23.4V279.4c-9.7-5.6-17.8-13.7-23.4-23.4h-46c-5.4-15.4-14.6-28.9-26.5-39.6V192h72.6c11.1-19.1 31.7-32 55.4-32c35.3 0 64 28.7 64 64c0 23.7-12.9 44.4-32 55.4V392.6c19.1 11.1 32 31.7 32 55.4c0 35.3-28.7 64-64 64c-23.7 0-44.4-12.9-55.4-32H311.4z"]},H7={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},z7={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},j7={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"]},U7={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V280.4c-17-15.2-39.4-24.4-64-24.4H64c-24.6 0-47 9.2-64 24.4V96zM64 288H448c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64zM320 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm128-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},V7={prefix:"fas",iconName:"calendar-plus",icon:[448,512,[],"f271","M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192zM224 248c13.3 0 24 10.7 24 24v56h56c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v56c0 13.3-10.7 24-24 24s-24-10.7-24-24V376H144c-13.3 0-24-10.7-24-24s10.7-24 24-24h56V272c0-13.3 10.7-24 24-24z"]},W7={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0-17.7 14.3-32 32-32l54.7 0c12.3-28.3 40.5-48 73.3-48s61 19.7 73.3 48L480 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-246.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 448c-17.7 0-32-14.3-32-32zm192 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM384 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-32-80c32.8 0 61 19.7 73.3 48l54.7 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-54.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l246.7 0c12.3-28.3 40.5-48 73.3-48zM192 64a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm73.3 0L480 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-214.7 0c-12.3 28.3-40.5 48-73.3 48s-61-19.7-73.3-48L32 128C14.3 128 0 113.7 0 96S14.3 64 32 64l86.7 0C131 35.7 159.2 16 192 16s61 19.7 73.3 48z"]},G7={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},q7=G7,X7={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},Z7={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Y7=Z7,K7={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},zx={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},J7=zx,Q7={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},$7={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},ej={prefix:"fas",iconName:"circle-chevron-left",icon:[512,512,["chevron-circle-left"],"f137","M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"]},tj=ej,jx={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},nj=jx,ij={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},rj={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V83.8c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"]},oj={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},sj={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]},aj={prefix:"far",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z"]};Pt.add(z7);Pt.add(H7);Pt.add(L7);Pt.add(C7);Pt.add(oj);Pt.add(Y7);Pt.add(_7);Pt.add(K7);Pt.add(S7);Pt.add(J7);Pt.add(T7);Pt.add(aj);Pt.add(F7);Pt.add(q7);Pt.add(Q7);Pt.add($7);Pt.add(v7);Pt.add(tj);Pt.add(nj);Pt.add(b7);Pt.add(P7);Pt.add(U7);Pt.add(X7);Pt.add(M7);Pt.add(j7);Pt.add(V7);Pt.add(jx);Pt.add(R7);Pt.add(ij);Pt.add(w7);Pt.add(E7);Pt.add(zx);Pt.add(sj);Pt.add(I7);Pt.add(k7);Pt.add(O7);Pt.add(A7);Pt.add(W7);Pt.add(x7);Pt.add(N7);Pt.add(B7);Pt.add(rj);Pt.add(D7);const Ux=uM();_a(Ux);const lj=yw(x8).component("font-awesome-icon",g7).use(Ux);lj.mount("#app");
